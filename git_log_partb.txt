commit cf0fe394e610bc230180f4447f5ef0895b6dbafe
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Sep 22 11:50:34 2015 -0700

    Clear form on verify email

commit 5d45416e2eb5282aada53ca092812ad54ddd4dbd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 28 20:40:53 2015 -0400

    update_last_visit timer: Use stop/intermediate correctly.
    
    timer.stop(subname) adds a time for the entire timer duration for the
    key "subname". What I actually want is to do timer.intermediate(subname)
    plus timer.stop() so that the "subname" key only tracks the incremental
    time.

commit d33106e7ad7e0e885517a60dcd5d9825f3880622
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 28 16:45:01 2015 -0400

    Use separate key for set_last_modified no-op timer.

commit a7c74d7c3d523f8a79e82070ac6dddbd08f17177
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Sep 26 10:50:50 2015 -0400

    Account.update_last_visit: Add timer.

commit c902b602933b0e02a6aa7f5364f517260617650c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Sep 18 07:52:54 2015 -0400

    js: Don't use paster to build.
    
    It's unnecessary to setup the Pylons app context for building.

commit df7cf0b27fb0489c6ddd66127155c206c94ea615
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Sep 18 07:45:00 2015 -0400

    js: Cleanup separation between build and use.
    
    Build always uses the static build directory and doesn't need
    to worry about g.uncompressedJS or any of the app config.

commit 40067773b1dfab5c7643208eb91656b070e4cd17
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 16 15:02:28 2015 -0700

    generated_strings: Don't require the app and cleanup rand_strings.
    
    All that happens in `make i18n` is creating a .py file with
    a bunch of automated messages that are marked for translation. Also
    simplify rand_strings (now get_funny_translated_string).

commit 2fa0b48a9709e038eb84589e66d7149165c222bf
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Aug 31 18:54:54 2015 -0700

    Lock down Employee OAuth2 authorization
    
    We don't want random apps to be able to access content and
    subreddits that only employees have access to.

commit 4fa0260eea724c661889cbcf1bed80ea658881e8
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Sep 2 13:44:43 2015 -0700

    Set the `Secure` flag on cookies properly when `secure` is unspecified
    
    Whoops, got tripped up by the `getattr()`!

commit a867427c6b4fb7322af9bbc6454e5006ad0c0604
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Aug 25 05:17:59 2015 -0700

    Make force HTTPS a global feature flag rather than a user pref
    
    Unfortunately, this involved moving large swaths of code to
    `r2.lib.cookies` because `r2.controllers.reddit_base` is
    an enormous pain to import in tests at the moment.

commit 5431f0a997a9ff84a1865922c96c8bb3cfd8f4f2
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Aug 25 04:03:26 2015 -0700

    Remove HSTS code from the app
    
    The per-user logic is much more twisty than it needs to be, and a 3
    line nginx rule will do much the same thing.

commit 42f96dc18d533165d41a55f42cc2e6fdab0509fe
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sun Sep 20 09:47:38 2015 -0700

    Filter out links with double-encoded nulls that crash Chrome

commit 9372deb62f057a1d504b7722fb54adfad9c2cd53
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Sep 21 05:11:40 2015 -0700

    HTTPSify all the links
    
    Optionally, of course. If your instance doesn't support HTTPS you
    can leave `default_scheme` set to `http`

commit e7bbf26ce589a5cf75969f371815bf271661e9ce
Author: Matt Lee <matt@reddit.com>
Date:   Tue Sep 22 15:07:53 2015 -0700

    Remove unnecessary selector from infobar css.

commit 64ec49bc68565d1cde30adc5110a97275741db0d
Author: Matt Lee <matt@reddit.com>
Date:   Wed Sep 9 11:15:38 2015 -0700

    Always show the 'my subreddits' dropdown.

commit 8f418e546fe3ccbeab6ef8fa75fbdb89b1a07479
Author: Matt Lee <matt@reddit.com>
Date:   Thu Sep 10 17:35:06 2015 -0700

    Move error handler to top-level reddit-init modules.
    
    The wrap behavior appears to be ignore on modules bundled into other modules. Since
    the wrap is applied to 'reddit-init-base' instead of the top-level modules
    'reddit-init' and 'reddit-init-legacy', the error-handling wrapper is not
    actually getting applied.

commit 77c50f5c955f02ce05a7a820d452d7bc1be4ca52
Author: Matt Lee <matt@reddit.com>
Date:   Thu Sep 10 17:28:37 2015 -0700

    Send js module errors as strings.

commit dd95c8880920321e80e2554060f617b83cab4a1a
Author: Matt Lee <matt@reddit.com>
Date:   Thu Sep 10 12:18:41 2015 -0700

    Store: Always use safeGet and safeSet.
    
    This catches frontend errors when localStorage is disabled, such as when
    browsing in private mode in Safari.
    
    Conflicts:
    	r2/r2/public/static/js/ui.js

commit 7d21f06f3035cc78fdf269b34c759f2008132bcb
Author: Matt Lee <matt@reddit.com>
Date:   Tue Sep 8 16:42:44 2015 -0700

    Send error during base.js init as string.
    
    Currently, the error object gets interpreted as an options config object, and the
    actual error message gets discarded. Casting it to a string preserves the error name
    and message.

commit c71376e56e5f40bc8686e49e43fbe49fa2fd50b0
Author: Matt Lee <matt@reddit.com>
Date:   Wed Sep 9 17:07:09 2015 -0700

    Remove unused compact_suggest string.

commit fc2b0f3964938354e609b969d6abefb0aca5ec37
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 31 12:27:46 2015 -0700

    Sharing: Prevent duplicate sharing forms.

commit 5a846ffc957d87f700ab4ae2bfbcc9b616a98694
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 31 11:47:53 2015 -0700

    Sharing: Add explicit posttype param for Tumblr.

commit 4d7800e240e0a5cb49e23bf642ce0fcb749dfa6f
Author: Matt Lee <matt@reddit.com>
Date:   Thu Aug 13 11:29:15 2015 -0400

    Sharing: Add feature flag to tumblr sharing.

commit 8ae616a81c91aa1762f6d030cd0e3eadfad75ebb
Author: Matt Lee <matt@reddit.com>
Date:   Mon Jul 27 12:00:56 2015 -0700

    Fire page tracking pixel before ref tags are stripped.

commit 34cc9705a7ffe90dda1b399d5125776224a6f93f
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jul 14 15:22:58 2015 -0700

    Bugfix: Fix expandos in promoted links and on advertising page.

commit a8d896e1411412e92e3f700321d52c2edceb3170
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Sep 17 16:53:17 2015 -0700

    Remove reply link for unrepliable inbox replies
    
    Remove the reply link for comment and post replies in the inbox for
    archived and locked posts, since they cannot receive new comments.

commit 71de14d57b3532c949f79c78d4a81be4e2a6bac1
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Sep 16 16:58:58 2015 -0700

    Locking: Remove for archived posts
    
    Do not allow archived posts to be locked or unlocked, since they
    cannot receive new comments or votes.

commit 66d8a68fe70a5c698545112ebf28f9a51d1c7e7c
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Sep 1 16:52:33 2015 -0700

    Locking: Add feature flag
    
    Add per subreddit feature flag for the ability to lock a post.

commit dda890e8ede8a7a73bfa3b63cfc9d1bb9b0547b2
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Sep 2 15:34:15 2015 -0700

    Locking: Add to render cache key

commit 7b8decc1f88ed27a2b85020f2222e70ed26bcffa
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Aug 31 17:13:45 2015 -0700

    Locking: Add infobar message

commit 3c08e3ba2d51e38fe100bc41a381e441b755740f
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Aug 31 12:38:32 2015 -0700

    Locking: Lock/unlock
    
    Add "lock"/"unlock" link to main post menu.
    
    Include lock/unlock actions in moderation log, and log a simple event.

commit ac5bec35b3339932a54a5fb1a4fd2ec93de88651
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Aug 28 15:58:30 2015 -0700

    Lockable comment threads
    
    Disable new comments and comment replies when a post is locked.

commit 4a38e25a20c1804e2b21564e6a0f31a5af075799
Author: Matt Lee <matt@reddit.com>
Date:   Tue Sep 1 15:05:21 2015 -0700

    Fix data error from setting subreddit on unwrapped link.

commit ebb91f16694e16e619f88bd27fbfd15385219e50
Author: Matt Lee <matt@reddit.com>
Date:   Tue Sep 1 11:36:22 2015 -0700

    Infobar: Feature flag new infobar.

commit 8922269603fed74eeb8cca9c0f8ddf1235ffe2c6
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 26 12:47:26 2015 -0700

    InfoBar: Add RedditInfoBar template.
    
    For infobars that are rendered at the top of the page using the Reddit.infobar
    attribute. This infobar uses a prefixed css class (reddit-infobar) and adds the option
    to display an icon along with the message.

commit 721dfc3d0467ac2dc134c5acb04871e3d8b467ef
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 26 16:22:58 2015 -0700

    Infobar: Add message to archived threads.

commit 292454cf6629a65fabf132120332f7cb4155ab6a
Author: Matt Lee <matt@reddit.com>
Date:   Tue Aug 25 12:13:09 2015 -0700

    Markdown: Replace md-small css class with md-container-small.
    
    It's easier to change the class on the parent element than the md element, and its
    annoying to have to use both md-container and md-small.

commit 314b02cacf4ab507e66b9b407e9e2577fdc37ff6
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 26 14:12:49 2015 -0700

    Comment: Add archived property.

commit 54f6c3fc8d056f9159c014a2bc465f566a5321d9
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 26 16:19:24 2015 -0700

    Link: Add archived property.

commit 42d14bcc81ae9c637102841fab6447ff492fb526
Author: weffey <weffey@gmail.com>
Date:   Mon Apr 6 11:48:06 2015 -0700

    adding full context button for admins
    
    Conflicts:
    	r2/r2/public/static/css/reddit.less

commit 50ae5b3b4f095f5cea55341c32e9d539c5dfd3a9
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Sep 21 17:23:09 2015 -0700

    Don't rely on verdict for expunging self-post text
    
    Currently, we will only expunge a self-post's text (replace it with
    "[removed]") if the post has a "admin-removed" or "mod-removed" verdict.
    This means that someone has to have *manually* removed it, so the text
    of posts that were automatically removed by anti-spam measures is still
    visible. This is not desirable when we have spam being correctly removed
    via our automatic systems, so this changes it so that all removed posts
    will have their self-text hidden, regardless of what removed them.

commit e199eb136cac9b83531c205b48149f347b531b4f
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Sep 18 12:32:44 2015 -0700

    Remove text on user-deleted self-posts
    
    When a user deletes their comment, the text is removed.  Now self-posts work
    similarly, so we're consistent and less surprising (especially since after
    deletion the user can no longer edit the text out).

commit 5f05a293ed8b379c4a86668a0f3871d3211ae350
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Sep 17 17:04:59 2015 -0700

    Visually distinguish removed/deleted comments
    
    If you're not an admin, mod, or the user whose content is being removed, a
    comment that's been administratively removed has had the same appearance as a
    comment the authoring user deleted, which is confusing.
    
    Now, as a first step, comments removed by admins and mods will say "[removed]",
    similar to self posts.

commit c20a0c7441c63223551d342290dae962bad394ad
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Sep 18 14:47:39 2015 -0700

    robots.txt: Remove disallow for /quarantine and /over18
    
    The `disallow` in robots.txt is interfering with the `noindex` meta tag.
    
    https://support.google.com/webmasters/answer/93710?vid=0-635774414688470916-3274283933

commit 352472d470e265d5a12299cabec9506c6cb422cb
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Sep 16 11:37:41 2015 -0700

    Embeds: Remove embed link for banned subreddits

commit 1e632463261627e4f2a935553d06eefaa9d34a9d
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Aug 10 17:54:42 2015 -0700

    Embeds: Remove embed link for NSFW content
    
    Do not show the embed link on the comment permalink page for comments
    on NSFW links or in NSFW subreddits. NSFW content cannot be reliably
    be embedded due to the over 18 content gate.

commit 1f80f8de713eb239234826045e6a4bcb33b0247c
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Jul 28 16:29:26 2015 -0700

    Embeds: Consolidate embeddableness
    
    A comment is embeddable if the subreddit is embeddable, and a subreddit
    is embeddable if it is publicly viewable.
    
    - Remove extraneous `embeddable_sr()` check
    - Replace `embeddable_sr()` with `Subreddit.is_embeddable`
    - Rename `set_up_embed()` to `set_up_comment_embed()`

commit e75a51cb6371bb07991b17c1087ce28bfd1a38ca
Author: umbrae <umbrae@reddit.com>
Date:   Fri Apr 24 15:51:21 2015 -0700

    Remove no-longer-necessary flag comment_embeds

commit 854c00d96d6cf46c3997203a0e50b496287794cd
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Feb 24 13:54:14 2015 -0800

    Fix css for add subreddit callout
    
    For a new multireddit, the arrow for the callout to add a subreddit
    was missing its background color.

commit fe3e2f5e9ccd6b7e92ee507f06dcc569789f12a1
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Sep 18 10:35:00 2015 -0600

    Subreddit: add author_slow property
    
    Other things with an author_id also have an author_slow property that
    uses it to get the actual Account object. This adds it to Subreddit as
    well for consistency.

commit 094da06e0b3e53921a7b69671e5a8886de7d39e9
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Sep 16 11:47:44 2015 -0700

    Gold-restricted communities: capitalize "Reddit Gold"
    
    That's also a style transition we're making, and if we're going to invalidate
    translations from changing the rest of this string, we should change this as
    well.

commit dd34046cc1d235af66e593eb9b7f5e45c9545306
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Sep 16 17:11:20 2015 -0600

    Fix bugs with subscribing to automatic_reddits
    
    This fixes two bugs related to being subscribed to an automatic_reddit
    (ones that are forced to always be chosen to make up your front page):
    
    1. They were being excluded from the top bar completely
    2. Because of calling .remove() inside Subreddit.random_reddits(), they
       were actually being removed from the list of the user's subscriptions
       stored in LocalCache, which caused strange effects like the subscribe
       button staying in the "not subscribed" state even if the user was
       subscribed.

commit e1b8fad9b70de56236c559c7a3d2a4091012bebd
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Sep 16 15:03:06 2015 -0600

    Remove remaining thing_utils import

commit c155eeee84e41d5a0002c24ba3ffc47855230a21
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Sep 14 17:05:21 2015 -0600

    Stop handling 304s for comments pages/userpages
    
    We maintain a system that (poorly) tries to decide if it should send a
    304 for logged-out users on comments pages and userpages. There are a
    lot of errors in the logic for this system that's causing us to not send
    304s in cases that we should, and send them in cases where we shouldn't.
    
    Instead of trying to fix all the errors in this system, we're just going
    to remove it and leave that up to the CDN. I performed a test on
    2015-09-14 by completely disabling the system that confirmed that it
    could be removed without significant negative impact to the site.
    
    There will be behavior changes to /r/friends as a result of this.
    Previously, we were taking advantage of the timestamps stored by this
    system to try to figure out which 100 friends (out of the 500 most
    recently added to friends list) had most recently interacted with the
    site, and pull posts from those users for /r/friends. Since we no
    longer have these timestamps, this has been switched to just pick 100
    friends at random every half hour, similar to how subreddits are
    selected for a user's front page.

commit 7eb350591da7271b0b27a8d1d8cf03553bcb4cae
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Sep 14 10:32:09 2015 -0700

    Modmail muting - set timeout of 72 hours

commit d99e7e2d6edc47fb2f5fc478f744884c88ce2264
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Fri Sep 11 15:39:09 2015 -0700

    Move muted message to modmail thread
    
    If a user is muted in a modmail thread, append the 'You've
    been muted' message to that thread. Otherwise, start a new
    thread.

commit 700d2b8a141602c275a1544e470f11e171b1b966
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Fri Sep 11 15:38:28 2015 -0700

    Add reasons field to mutes on /about/muted
    
    It can be a custom note if muting from /about/muted. The
    note autofills to the permalink of the message the user is
    muted from.

commit 206d523b51c1eb709c706f3b476a4b615259574a
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Fri Sep 11 15:29:48 2015 -0700

    Clear inputs on muted user message attempt

commit 9108eab6560e1fc53e95549433d28f5a22190af5
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Sep 15 15:14:41 2015 -0700

    More strongly separate defaults in top bar
    
    If you are not subscribed to enough subreddits, the default/popular subs are
    added to the top nav without any explanation, which strongly implies that you
    are subscribed to those subs.  The separator between those and your
    subscriptions was *almost* the same as the separator between subreddits, which
    made it even less clear what was going on here.
    
    Now we'll separate those sections with a pipe (|), like we do the other
    sections.  The inclusion or not of the defaults is still a bit weird, but we
    can deal with that another time.

commit 1ab0a61fd360d967cd5fc91b3b3e228f598a1832
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Sep 15 13:40:44 2015 -0700

    Update text for restricted communities
    
    Just a little tweak per design, and putting that section into the new style
    guide while we're invalidating the translations.

commit d990533d0b57a499cefcec70f4c51d8c5593c497
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 17 18:11:46 2015 -0400

    Upgrade pylons from 0.9.7 to 1.0.
    
    http://pylons-webframework.readthedocs.org/en/latest/upgrading.html
    
    This requires several code changes:
    * pylons `config` option must be explicitly passed during setup
    * the pylons global has been renamed from `g` to `app_globals`
    * the pylons global has been renamed from `c` to `tmpl_context`
    * set pylons.strict_tmpl_context = False (instead of pylons.strict_c)
    * redirect_to() has been swapped for redirect()
    * must implement `ErrorDocuments` middleware ourselves
    
    pylons 1.0 also required an upgrade of routes from 1.11 to 1.12. This
    required the following changes:
    * set Mapper.minimization = True (the default value changed)
    * set Mapper.explicit = False (the default value changed)

commit 5777a33fbffa58dc633c3d789e0cc114b7f6b7c1
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Sep 14 17:12:06 2015 -0700

    Prune qa_show_replies feature flag

commit 6c5fd8cfd5831c543bcec6e279e609a41c6914a5
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Sep 14 17:00:34 2015 -0700

    Prune scrape_self_posts feature flag

commit 65dc955d57b2e8651aa16b29de93b3258df645bf
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 14 19:19:34 2015 -0400

    POST_selectflair: return 404 if neither link or user.

commit a8daf93f26ef6a0213f11354c7d7bfe10e514e84
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Sep 11 16:34:00 2015 -0400

    POST_deleteflairtemplate: return 404 if template is not found.

commit edddd764243ec05b173f320d2fedf8f678a33acd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Sep 11 17:14:00 2015 -0400

    VMultiByPath: validate multipath name before lookup.

commit 8d949068a37350459057b4e3c756ce2ae9055bbc
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Aug 20 09:39:44 2015 -0700

    Update admin password verification page
    
    Refactor to use new interstitial and update image.

commit 03dbe5576d60a3d3802ee36ac9d2c6a08133450b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 10 17:50:11 2015 -0400

    CachedQuery: increase the maximum prune size.
    
    This also makes the prune size more correctly proportional
    to the prune chance.

commit 8f118905e05732ea7eac255bd036e78e2538b10f
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Sep 9 16:09:24 2015 -0700

    Update subreddit accent colors
    
    Now with more material design.

commit 41a8c27fd57446d2497fe9615b5f85fe92cd09dd
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Sep 9 15:24:24 2015 -0700

    Modmail: Do not link to mod inbox if not moderator

commit e62b836c4cc94150d34b5d579d52ffc873fe4244
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Sep 9 14:23:32 2015 -0700

    Modmail: Fix missing color coding
    
    Add color coding to message threads collapsed with the
    "load the full conversation" link.
    
    Also rename `item.bar_color` to `item.accent_color`.

commit 6805c6f3a73ae757d26eceb6ab33b4235d1b001f
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Sep 8 17:08:34 2015 -0700

    Modmail: Cycle through colors
    
    Instead of using the subreddit id to determine the modmail color,
    cycle through colors according to the user's moderation list.
    
    Only apply colors to moderating subreddits.

commit 471f2b97e98a467d13c25c73a9ab9ea4e72d6cb1
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Aug 26 14:46:22 2015 -0700

    Move FakeSubreddit import to top

commit 121fb4ec892932cdd0fcde9c1562aea6d3a7cc98
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Sep 14 12:24:14 2015 -0700

    prune snoovatars feature flag

commit 184783c26bc1e4221532c63723bb72c9912f7158
Author: TheAppleFreak <theapplefreak@gmail.com>
Date:   Sun Sep 13 18:29:13 2015 -0400

    Add several flexbox properties to CSS filter
    
    Added justify-content, flex-basis, flex-grow, and flex-shrink to CSS filter.

commit 658d085b5f484fba3de3aadd46262865cb4928f9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 9 13:08:29 2015 -0400

    Message.make_permalink: Don't add a double slash when force_domain.
    
    This was generating urls like https://domain.com//messages/message/id

commit fc2fba9f1d6e737e161c1547df15c46f9daca5e8
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Wed Mar 4 14:55:04 2015 -0800

    Message: Add make_permalink and make_permalink_slow
    
    This is to allow make_permalink_slow to be called on Message as well as
    on Comment and Link objects.

commit 3693e17d15ed1bb514d315ffeadeeb582598898e
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jun 24 21:36:52 2015 -0700

    Mod tools box: link to editing AutoMod config
    
    Previously the link to the subreddit's automoderator config went to
    viewing it, this updates it to go straight into edit mode instead.

commit e3da1ec406760f3cc1b92b982c25c9ef89d811be
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Sep 10 13:40:46 2015 -0600

    Prevent stickying a post that is already stickied

commit 6735a1aceedb476f1bcf243a531b04dd393952c8
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Sep 9 12:10:47 2015 -0700

    Add tests for `Link#_submit`

commit c619608dbd80e38735b591156c6c8f0f88149512
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 9 06:13:47 2015 -0400

    Link.set_content: unset old url when changing urls.

commit fdd3e9a0b629df90c8d04fb658c4387a94e331fa
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 9 06:15:34 2015 -0400

    Link.set_content: restrict to promoted links.

commit 910056787adc1b0fe7557d3bdbdaaa260101aada
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 9 05:00:55 2015 -0400

    Link._submit: Don't call set_type().
    
    Add to `LinksByUrl` and set selfpost url to permalink ourself. This also
    fixes the bug of removing from `LinksByUrl` on selfpost submission.

commit 2a9ccb25849b7de319eb5b30f02a49d2aa9c29d1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 9 04:56:29 2015 -0400

    LinksByUrl: create add_link and remove_link methods.

commit 7482750c90066cbffe5db1848ff4c57d9eb9b6df
Author: Kevin O'Connor <kjoconnor@gmail.com>
Date:   Tue Sep 8 16:58:58 2015 -0700

    Link._submit: Pass `is_self` to constructor.
    
    This was causing deletes to be issued to the `LinksByUrl` column
    family for all self posts. Self posts that were left in an
    inconsistent state due to dropped double commits ended up reading this
    row which had several hundred thousand tombstones, which lead to
    Cassandra performance issues.

commit b1fe5d949ca43ca272f1382523d4b9b783eea15b
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Sep 9 12:43:34 2015 -0700

    Remove old rules page
    
    /rules has been replaced by /wiki/contentpolicy.

commit b12cb938bb0a4633dfef169cf88c53666f9c3e01
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Tue Sep 8 15:26:35 2015 -0700

    Abstract construction of payment URLs to own function

commit 1743484cff2c5424da031d5d54b17244eb763dc1
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Aug 31 16:22:40 2015 -0700

    Paper over negative comment counts
    
    Sometimes, something somewhere goes wrong and we end up thinking there are a
    negative number of comments in a thread.  This is obviously incorrect to users.
    
    The full solution is to find out what's causing this and fix it, but in the
    meantime, just changing those to 0 (what they probably should be) will fix the
    display of this particular issue with the comment counts.

commit be44d8f99ac8c98a166e4c0e1b77864f0a7492b6
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Aug 31 17:29:20 2015 -0700

    EventV2: allow overriding of user data
    
    Sometimes it's useful to be able to manually set things like the user id and
    name, but previously `EventV2` would just overwrite those with the values from
    the request.  Now we'll check each automatic value and only set it if it's not
    already set in the data that was passed into the constructor.

commit 3db4066f73753546bfb3cdcf8ab06f05443b7636
Author: corylulu <corylulu@gmail.com>
Date:   Wed Sep 2 15:14:19 2015 -0700

    Fix for "retry thumb" bug caused by bad cache data
    
    As seen here: https://redd.it/3jaoe9
    
    Embed.ly would occasionally cache data before the thumbnail was
    available for the page AND reddit's internal cache would also cache the
    meta data without the thumbnail, causing that link to appear without a
    thumbnail site wide. And when attempting to use the "retry thumb"
    function, it would simply look at the internally cached data without the
    thumb and return nothing again.
    
    So 2 problems were fixed here:
    
    1. If the media data does not contain a thumbnail, don't cache it
       internally, fixing the bug that causes the "retry thumb" to fail
       every time.
    2. If thumbnail cannot be found from Embedly data, do a second attempt
       using the _ThumbnailOnlyScraper to bypass Embedly's cached data.
    
    This could have also been accomplished by passing a "forced=true"
    parameter to the EmbedlyScraper, but since it would have involved quite
    a few more changes, I though the simpler course of action would be to
    use the _ThumbnailOnlyScraper instead.

commit 7898a1ecc1798e6ae8b866cc953efa8a5b85a44b
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Sep 8 09:25:03 2015 -0700

    Subreddit settings: Update description text
    
    Fix alignment and clarify usage.

commit 5449ebf40f3e10c7abba8ff17ee5f821bccf0f3a
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Sep 8 09:17:38 2015 -0700

    Subreddit settings: Restore error message for description
    
    Add the `TOO_LONG` error span for the `public_description` field.

commit a5e489d4169fd9842b76fbd50159134d800ee6f6
Author: Enigma <enigma@enigmablade.net>
Date:   Mon Sep 7 17:01:34 2015 -0400

    Fix vanishing data-fullname attribute from modmail messages.

commit 33727ea1a8168efe0c7b5d9f4e7dfa7e24356dde
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Mon Aug 31 12:06:18 2015 -0700

    Use _force_unicode instead of _force_utf8 in PromotionLog

commit 7d8fa8d2aa0b12f2b144f4260313137295cf5a52
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Sep 3 09:50:13 2015 -0700

    Identify banned users in user tables
    
    When admin mode is enabled, highlight banned users in red on
    /about/moderators and in other user table listings.

commit f5de74f8dd96bec688048ecf59e8d2710c543230
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Sep 3 14:24:42 2015 -0600

    Remove Simple Update Protocol support
    
    Nothing is using this, and we're storing a bunch of unnecessary data in
    memcached to support it.

commit f72b11aae8651653bbbe295d86694b198ecc7000
Author: francis.chan <f1ancis621@gmail.com>
Date:   Thu Jul 30 22:20:12 2015 -0400

    Set max username length in html form inputs.

commit a63e3ef43294543f1ffd5c25428d5c2de399ccad
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 2 15:03:19 2015 -0400

    simple_traceback: use '-' as delimiter.
    
    Previously we had used ':', which could be interpreted by sqlalchemy
    as a bind parameter causing an exception.

commit ca2383d606ddf6f8acb52d3f5b34a9790637cf45
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Sep 2 14:31:57 2015 -0600

    Base ability to subscribe on permission to view
    
    Previously we were preventing users from subscribing to a subreddit if
    they were unable to comment in it. This has several strange edge cases,
    like stopping users from being able to subscribe to subreddits that
    they're banned from, stopping non-gold users from being able to
    subscribe to /r/goldbenefits, etc.

commit 7b8764d91ad68e36b253f8583a62a3910bf7e385
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Sep 2 12:46:29 2015 -0600

    Mod events: add name and ID of post author

commit 6889236c8c45629d38ae31a1c288cbe737c5ce46
Author: Alexander Putilin <avp-13@yandex.ru>
Date:   Wed Sep 2 12:23:09 2015 -0700

    Fix inject_test_data.py after changes in Link._submit

commit 524d87126c6fcde6187e90968b3460d7c2d67920
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Aug 24 12:37:58 2015 -0700

    Fix url error not showing up in old browsers
    
    In browsers which don't support `input[required]` blank urls would be
    submitted to the api, but the error message wouldn't show up due to the
    early return of `not url`.

commit d2127935098024216c780c47145eef60ff0d9212
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Aug 4 15:04:11 2015 -0700

    Centralize link type handling
    
    - Make Link#_submit handle self post submission
    - Add Link#set_type(kind, url, self post)
    
    The url field was being handled incorrectly when changing
    the type of a promoted link.  Providing these methods directly
    on the `Link` class should alleviate future inconsistencies.

commit 926e68d5893497caeb1cb413a015157d8bbcf229
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Aug 6 10:36:53 2015 -0600

    Remove the quota system

commit 2ffe6d677dbffa7c3d9c096cc207c61b3923eb7e
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Aug 21 10:50:01 2015 -0700

    Remove HTTPS security preference
    
    Redirect /prefs/security/ to /prefs/ if there are no security
    preferences to show.
    
    No longer needed now that reddit.com is HTTPS only.

commit f49fd1fd1d632e7c0c6fc7f04fe70b6219c704bf
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Aug 28 10:08:24 2015 -0700

    Add subreddit accent colors
    
    Expand the colors used for modmail and separate into accent colors.
    Also use hex color instead of rgb.

commit 31685d5ee78bfb149c9aeec6e264b9f43f737de0
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Aug 26 16:56:17 2015 -0700

    Feature flag for color coded modmail

commit 2cc6cc43b82b77d48eb61bf83734f2d4ec669c41
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Aug 25 17:19:14 2015 -0700

    Modmail: Use subreddit key colors

commit f7ee76cf0deb7a239a1a499a40178bd095924443
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Aug 25 12:08:22 2015 -0700

    Update subreddit key colors

commit ce57d33dae967077408d55cfa4a307d0fa1f88c8
Author: weffey <weffey@gmail.com>
Date:   Fri Jul 10 13:37:06 2015 -0700

    Modmail: Make the subreddit name color coded

commit dc601d1d7a65538233259854efe164165b26b7be
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Aug 26 19:53:30 2015 -0600

    Update messaging labels to try to reduce confusion
    
    There has been a long-standing issue with users sending modmail when
    they're trying to make a new text post to the subreddit. From examining
    a number of examples of this happening, it appears that they tend to do
    this by going to a message page (inbox/unread) by clicking the envelope
    icon, then they click the "compose" tab, and type the name of the
    subreddit into the "to" box.
    
    This commit updates several labels to make it more clear that it's a
    private message that's going to be sent, not "posting a message
    publicly".

commit 0650222322226fb3bb0bb4ff2e3fdc07dacb7607
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Aug 27 19:13:00 2015 -0600

    Remove unused block_field <%def>

commit 1314c99d12ecfbf1b326a30232b4380fbe1d7d07
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Aug 27 18:10:50 2015 -0400

    Increment the modmail counter on messages sent by the subreddit.
    
    72a2cc6 was only counting messages sent to the subreddit.

commit 9977569e647c7427cf4836091801faa96bd6d521
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Aug 26 15:53:21 2015 -0700

    Prune default_sort feature flag

commit 50812fe32e2572c53486c5adc4568d097c4a6c00
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Aug 26 15:48:16 2015 -0700

    Prune qa_sort feature flag

commit 627b68c0474fa07eaca52cda2ebd6ac46cd076b2
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 24 17:55:15 2015 -0600

    Banned subreddits: show how long ago ban happened

commit 88a3dabd666176c1cdb92a41beddbb0ba0870ae6
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 24 16:39:20 2015 -0600

    strings.py: Remove obsolete interstitial strings

commit 85baaf5ecc82e519fcb6628f9d02defd61e3d547
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Aug 25 13:21:25 2015 -0700

    Convert a few more templates to use `_wsf()`

commit e527934bf687988440a8bb6393f68fa049bbed4b
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Aug 25 13:21:04 2015 -0700

    Make `_wsf()` keep the original spacing by default
    
    The space compressor has a habit of changing the semantics of text,
    and we generally work around it by `text.replace(" ", "&#32;")`.
    
    We know that the format string passed to `_wsf()` won't contain HTML,
    so we don't have to worry about mucking with spaces between attributes.
    Just automatically work around the space compressor by default.

commit 2e2625d384aaf9dcadccc16b174f6a7ea9bfbd5c
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Aug 26 04:22:01 2015 -0700

    Correct `num_reports` perm checks for Link JSON templates as well
    
    Thanks to a report by /u/wicro

commit 9e22c22e86ec4f830b437d201c3ccb52990af1eb
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Fri Aug 21 11:32:47 2015 -0700

    Send events on muted user forbidden actions
    
    If a muted user attempts to message a subreddit, the details text is
    "muted". If a subreddit attempts to message a user that has been muted,
    the details text is "muted mod".

commit ea21528b1fba618109d97646cb459de98aeb751e
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Aug 20 13:45:24 2015 -0700

    Feature flag modmail muting

commit a9e8f4bec07a1087e1937733c4f813359f742738
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Aug 11 17:00:22 2015 -0700

    Add muting capability for modmail
    
    Mods are able to mute a user from modmailing in for 24 hours.
    They can click 'mute user' on the modmail of the sender they
    want to mute or go to /about/muted to manage all of the muted
    users.
    
    If the user has interacted with the subreddit, they will be
    messaged about the muting. If a subreddit or user try to
    message each other when the user is muted, they will get an
    error message and it won't go through.

commit 3ddf15d6a7ed58b556ec0f95868919fec6a2ae51
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Aug 19 14:45:42 2015 -0700

    Add an HSTS pixel to pick up policies on the base domain
    
    That way when you're browsing on www.reddit.com, you'll always have
    an up-to-date policy for .reddit.com as well.

commit fd5e1404a78c29eb32b5322ec79338bbc48fab14
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Jun 29 00:11:34 2015 -0700

    Add `https_redirect` feature flag to pagecache key

commit d1188017659e95c1c2579520f1375f579940d616
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Jun 29 00:06:31 2015 -0700

    Add `percent_loggedout` feature flag based on the `loid` cookie

commit fb15a496edd7b0e02bf77af6a218bd18a7fb80a6
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Jul 8 21:42:33 2015 -0700

    Add new loggedin HTTP cache policy
    
    This should fix the issues with Firefox forcing a reload when hitting
    the "back" or "forward" buttons in the browser.

commit 8bbccb9059dacc19b3b5d5ada1e3eab363e51f28
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Apr 16 23:41:00 2015 -0700

    Add loggedin cache poisoning detection using a canary cookie
    
    There've been a few instances in the past where we poisoned downstream
    caches with loggedin responses for several hours before realizing it was
    happening. Each time we only realized it once a user reported that they
    were being logged in as someone else.
    
    This PR attempts to make it easier to detect upticks in cache poisoning
    by adding a cache poisoning canary[0] cookie. The canary cookie is a
    random, non-identifying, persistent cookie that is included in every
    request and sent back with every loggedin HTML response. If the canary
    in the response is different from the one we would have sent, we know
    that cache poisoning occurred.
    
    If the client detects it has been served an improperly cached page,
    it tries to gather extra data about the page (such as some of the
    headers sent with response for the current page.) With those, we can
    often figure out _how_ the cache was poisoned (did CF cache it, did
    an intermediary proxy mess with the `Cache-Control` headers?) We can
    also sometimes find out what was served with the poisoned response,
    and if the victim is now likely able to perform actions as the poisoner.)
    
    We also keep track of what cache policy was used, so we can experiment
    with incremental rollout of new cache policies and see how they affect
    the incidence rate of poisoned caches.
    
    We keep track of the overall cache poisoning report rate in tallier,
    and send a more detailed report to event-collector so we can figure
    out what's causing all the poisonings and who was affected after the fact.
    
    [0]: https://en.wikipedia.org/wiki/Buffer_overflow_protection#Canaries

commit 89df53cfc54a0a927377549df8066ed9e29d6ccf
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Jul 2 03:32:50 2015 -0700

    Add script to test HTTPS cert compatibility on the client side
    
    This gives us a way to test if a cert will likely cause problems
    when used in production, and see who it will cause issues for.

commit 56dfdbf748ef606f192b643516861e1dd5a59064
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Jun 22 03:31:10 2015 -0700

    Add gradual rollout for loggedin HTTPS

commit c037e91d6ebee9d545318fe01669a3e990ca0b36
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Jun 30 21:46:53 2014 -0300

    Patch out problematic endpoints in the pylons error app
    
    This has since (July 2015) been fixed upstream, but it hasn't been
    packaged for many (any?) distros yet.

commit c34cd2458832c0d0a100ee18589e010bfbeeee41
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 24 10:54:27 2015 -0600

    Revert "Traffic page: add notice for June 26-28 data loss"
    
    This reverts commit b48efd8f72f32b6698be2a96c29a5ecc18f1b5a4.

commit 921dd4e0ab016f596475cfca0265b4b5036fffc0
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Aug 20 14:55:33 2015 -0700

    Increase line height for user page moderator box
    
    It was too squashed with the stamps.

commit c8b74870d95c131cd0301a023fde95a5ce9b0e49
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Aug 18 16:36:37 2015 -0700

    Add NSFW/quarantine stamps to recently viewed links

commit 129501c6532ecfc56b93c39cadb02501d19cceab
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Aug 24 14:31:52 2015 -0700

    Fix reject button causing the page to scroll to the top

commit efb9d0b35b08bf160571c686121b97a084f33215
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Aug 6 12:20:01 2015 -0700

    Remove the ability to edit the startdate of a live campaign

commit e3183b22a7ebfde6ed10447bbcc9b8ade10e7439
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Aug 6 14:22:29 2015 -0700

    Fix house ads not showing as completed

commit d59df832f67f29c9100c60b15d7b899e237531b3
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Aug 7 13:14:20 2015 -0700

    Require sponsor emails before paying
    
    Previously emails were required to access the system at all.

commit 42ace5d72a5fab8fc23278ceb423e619492d85ab
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Aug 7 12:47:02 2015 -0700

    validator.js:  Add option for errors not to be cleared when field is emptied

commit 9e91ea0d5f32f277f81f6a35aefaa020ea04cc6b
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Aug 7 12:46:13 2015 -0700

    Require email for sponsors upon registration

commit 92f2cdc7778ae60dbe6919f118183b07f7a54ca8
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Aug 7 10:59:08 2015 -0700

    Allow header to be optionally removed
    
    Used on /advertising

commit 7d32950cbc0132a375cfcf54d277ab871b752c27
Author: Kevin O'Connor <kjoconnor@gmail.com>
Date:   Fri Aug 21 14:38:22 2015 -0700

    token: Fix missing FULL_ACCESS check

commit 03e4a1876f4e844fba63bca1783ed46d8356d440
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 24 11:45:58 2015 -0600

    Password reset emails: attach to relevant account
    
    Emails are only getting associated with a specific account if they're
    queued up due to an action by a logged-in user. This is impossible with
    password-reset requests and the subsequent email for a successful
    change, but those should definitely be associated with the account that
    is being reset.

commit 72a2cc6e390444087b545ba359d5617b59010fc8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Aug 21 16:09:37 2015 -0400

    Add a counter for messages sent to modmail.

commit f0fb827f1519112d7743a429069e3cad88597a46
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Aug 24 09:54:58 2015 -0700

    Revert "RedditBase: Return detailed errors for api errors."
    
    This reverts commit e9927458a891e4b667ab765b1b728a2f660510a5.

commit 945a7df2e78e4440d0b0ca1d7cf563e1b28730ed
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Aug 24 09:54:53 2015 -0700

    Revert "Clear cookies for all error handling"
    
    This reverts commit 48756719bc74ba275b32b4d78cb20e1e7306f961.

commit abbb082a598fc55638d96141e3af6e348ca5601e
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Aug 24 09:54:48 2015 -0700

    Revert "Oauth: OPTIONS OAuth requests should not redirect if over18"
    
    This reverts commit 2d061c04753aad1136642c6346793c88fdb92f2e.

commit df68d45d68ef5dd9227025fef3953e3fba32da55
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Aug 20 17:00:43 2015 -0600

    write_live_config: check similarity when diffing
    
    Turns out that SequenceMatcher is not quite as neat as it appears. When
    diffing a string change like:
    
     old: "this is the old string value"
     new: "on"
    
    It was displayed as:
    
     - "this is the "
     - "ld stri"
     - "g value"
    
    Since the "o" and "n" were kept. This just displays it as a wholesale
    key removal/addition unless the strings are at least 50% similar.

commit e4652c4e87335d04d0d96711905ea183c7c88c9a
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 12 20:57:00 2015 -0400

    Sharing: Add tumblr to share menu.

commit 7f3152efe8b9f6f7be8f205352de3188436d8275
Author: Matt Lee <matt@reddit.com>
Date:   Tue Aug 4 12:12:32 2015 -0700

    Sharing: Adjust tooltip position.

commit ce24728e930bc77fd377e9659858ba98d8664520
Author: Matt Lee <matt@reddit.com>
Date:   Tue Aug 4 12:01:34 2015 -0700

    Sharing: Focus link input when showing form.

commit 92257f663b18f7921f5404e6b9ecc6e1eebc0a19
Author: Matt Lee <matt@reddit.com>
Date:   Tue Aug 4 11:08:48 2015 -0700

    Remove old share form.
    
    The new form has been out for a while, time to kill this.

commit 650b7f72667d52e03c34e3c8c72a02c7c4d94d90
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Aug 18 17:25:41 2015 -0600

    write_live_config: Show only changed settings
    
    The script would previously dump out the entire new parsed live
    configuration, which (now that we have a lot of fields in it) made it
    difficult to find the ones that had actually changed. This fetches the
    existing live config, then compares it to the new one and only outputs
    any data that has changed for confirmation.

commit f3f171ce9b63c7c9f48c239e0163ea6e85437362
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Aug 19 15:44:20 2015 -0600

    Message.subreddit_slow: make sure to fetch data

commit 6443d61c7dd3ef8733e53216713e163c62470c0d
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Aug 18 21:47:53 2015 -0700

    Only send report details in API responses if we have "posts" permissions
    
    Previously we were sending details about reports to _all_ mods, but
    only mods who are allowed to ban posts are supposed to see them.
    
    Thanks to a report by /u/wicro

commit 85701f80414270720f4ce4d3e6c57cd7a0d66e0f
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Aug 13 17:39:22 2015 -0700

    shortlink: Provide an HTTPS link to the shortlink.

commit 4ef8f0b8b8e3fd997be23ad49b1001da500de87b
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Aug 17 10:44:16 2015 -0700

    Move _force_unicode and _force_utf8 to their own module
    
    Having them in filters was causing issues importing them in souptest

commit 2fe99ad867446e77afb6acdbd851a1366541c764
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Aug 17 16:20:46 2015 -0700

    Update account language
    
    Change "create account" to "sign up", "sign in" to "log in",
    and "sign out" to "log out".
    
    Also removed a few unused strings and made updates to match current
    `en-us` translations.

commit 2b6cc0e564ff3e40e7dc4aeee7ce037a795ca51e
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Aug 17 13:06:24 2015 -0700

    Add content policy link to login page

commit e8d3d41811fa0184c67051d120e918dfde23f436
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Aug 13 17:16:21 2015 -0600

    Vote events: convert to new schema and update
    
    This converts the vote events to the new event schema, as well as adding
    several new fields and some overall rearrangement of how the events are
    generated.

commit a79765a5ac14e250adb4cc41f6986de8857e6196
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Aug 13 15:50:19 2015 -0600

    Rename events_collector_sample_rate for clarity
    
    This sample rate is only for votes, the previous name implied that it
    would affect all events

commit 3c60c886a8d0f6e79c844384bb49cc86d3ab705a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 17 16:47:36 2015 -0600

    Event collector: don't send client_ip if missing
    
    Sometimes the request doesn't contain an ip, such as when the actions
    are being performed through an async queue-processor like AutoModerator.
    In that case we should just not send the client_ip field at all.

commit 42977f31aed3b48316535b81011dad8c85eaf821
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Tue Jul 21 21:12:22 2015 -0700

    Add mobile device and platform ad targeting
    
    Add front and backend logic to handle mobile
    targeting. Form Zerkel queries on the Adzerk
    side to serve up properly targeted ads. Made
    in conjunction with reddit-plugin-adzerk #78.

commit 917d393a1a5a18bbaacfe51712be40355a2b5f4f
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Aug 12 14:19:48 2015 -0700

    Remove `better_interstitials` feature flag
    
    Also remove the old interstitial images.

commit bac83e33cbbd860b930fc02381ff76fd07db5417
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Aug 12 13:44:31 2015 -0700

    Remove `quarantine` feature flag

commit 3f52a1767045020454203ebee00744819b5bac37
Author: Matt Lee <matt@reddit.com>
Date:   Thu Aug 6 15:23:20 2015 -0700

    Quarantine: Remove user_is_admin check from is_exposed.
    
    For real this time.

commit 6352316aeb53efecd2405f5ae5cf92f3daa3b0b9
Author: Matt Lee <matt@reddit.com>
Date:   Thu Aug 6 11:57:36 2015 -0700

    Update icons on /subreddits page.
    
    Updates the icons to match the new interstitial designs.  Also adds a
    quarantined icon.

commit 959552b12440377209b78b1df7c3a9707a70a3cd
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 5 16:21:48 2015 -0700

    Quarantine: Fix Subreddit.is_exposed method.

commit 2d061c04753aad1136642c6346793c88fdb92f2e
Author: Chris Stephens <chrisst@gmail.com>
Date:   Thu Aug 13 14:22:44 2015 -0700

    Oauth: OPTIONS OAuth requests should not redirect if over18

commit 48756719bc74ba275b32b4d78cb20e1e7306f961
Author: Chris Stephens <chrisst@gmail.com>
Date:   Wed Aug 12 16:15:42 2015 -0700

    Clear cookies for all error handling
    
    The forked error handling for api calls wasn't correctly clearing cookies resulting
    in an uptick in errors like the following:
    `E: ErrorController.__after__: AttributeError("'str' object has no attribute 'iteritems'",)`
    from this line:
    `dirty_cookies = (k for k, v in c.cookies.iteritems() if v.dirty)`
    This change will clear cookie for all error handling methods.

commit e9927458a891e4b667ab765b1b728a2f660510a5
Author: Chris Stephens <chrisst@gmail.com>
Date:   Mon Aug 10 16:01:12 2015 -0700

    RedditBase: Return detailed errors for api errors.

commit e3163df49ff41177df9e2630fd8c34eb89ecdff2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Aug 13 03:14:27 2015 -0400

    POST_flairselector: cleanup and be explicit about site and user.

commit e9e9b5653c6b4058b50810824081c3d1380584ac
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Aug 13 03:16:15 2015 -0400

    POST_flairselector: abort on FakeSubreddits.

commit 480373511b391334c0bf003deb6bec900a1ae93a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Aug 13 12:54:50 2015 -0600

    Automatically unsticky a link when it is removed
    
    Moderators keep ending up with a removed post as a sticky (which they
    can't see without going to the post directly). This will just
    automatically unsticky any post if it gets removed.

commit 1a55dbc552b36dff8aeaa7676faae16382902ed4
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Aug 12 16:44:15 2015 -0700

    Quarantine: Add quarantine/over_18 to user page json response
    
    Expose the `quarantine` and `over_18` attributes for comments on the
    user page.

commit e8d842f4a0902b1af4dde67676ba4bc3c8df381b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 10 11:07:50 2015 -0600

    /r/myrandom: handle users still on defaults
    
    Currently /r/myrandom will always send users that have never subscribed
    to /r/reddit.com because their subscribed_ids_by_user will return an
    empty list.

commit 02cc34becb946193778d4d70f098bbebab7442b2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 12 02:03:14 2015 -0400

    hardcache.delete_expired: Delete items from the right memcache.
    
    Rather than assuming things about the structure of the cache chain
    and backend just get the objects from g.hardcache.

commit 6aa783ba3e1e54e203f2d6050e1fe58e23c63edb
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Aug 6 10:51:06 2015 -0700

    Quarantine: Exclude from subreddit autocomplete
    
    Do not include quarantined or banned subreddits in the subreddit
    search by name feature.

commit 69b5f93061b2137cec46692e2989bd15d06f8f93
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Jul 30 18:46:59 2015 -0700

    Quarantine: Add quarantine to json response
    
    Expose the `quarantine` attribute for subreddits and links.

commit 21ec9d23707933b1702c760d3838320431fac64f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 31 23:56:27 2015 -0400

    cache: Delete log_invalid_keys decorator.
    
    All cache pools are switched from binary to ascii so this is no
    longer needed.

commit 6262bf54cf97f8b57cf27c671ecb4df2e4749803
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 31 23:23:04 2015 -0400

    Switch main memcache pool from binary to ascii protocol.

commit c1e5e8cc1e1f70ba1ea63c94899721c35e1e7786
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Aug 1 13:55:06 2015 -0400

    Remove TODO about moving locks to zookeeper.

commit 074bed98efbc35b4938df6aaaaaf7627fa15acea
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 31 23:24:21 2015 -0400

    Switch lock memcache pool from binary to ascii protocol.

commit 1d8909b82ca37689f52d613b7060d2d857453931
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 31 23:23:46 2015 -0400

    Switch rel memcache pool from binary to ascii protocol.

commit 09121a3cb87f6443fa7f86957b81ca558ad8dfd0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 31 23:23:34 2015 -0400

    Switch srmember memcache pool from binary to ascii protocol.

commit 35951538f97c219788326998352109896f06cceb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 31 23:23:23 2015 -0400

    Switch memoize memcache pool from binary to ascii protocol.

commit 107d3b58ed6a4686eb6c46d60f312ac051257575
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 31 23:26:09 2015 -0400

    Switch stalecache memcaches from binary to ascii protocol.

commit 167e9c29ffdbb591c7d80a4b080c143bb759dd14
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Aug 7 12:51:49 2015 -0600

    Event collector: send dict events as well as Event
    
    Apparently vote events are neither Event nor EventV2, they're just being
    sent through as a dict. So these aren't being handled at all by
    save_event and haven't been getting sent to the collector.

commit abfa2b59113ac5de195a34ef3027b916304cf47a
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Aug 7 14:47:12 2015 -0700

    Quarantine: Remove page class from interstitials

commit 57972a8718186465dc08fd9d39e59247fc6ccba1
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Aug 7 13:35:01 2015 -0700

    Quarantine: Return 403
    
    For the quarantine interstitial, more consistently return a 403 status
    code.

commit 9ccda2c49fe17321dad97e20bb6b2799e2e006d1
Author: Kevin O'Connor <kjoconnor@gmail.com>
Date:   Thu Aug 6 13:50:32 2015 -0700

    POST_comment: More granular scope checking.
    
    The `submit` scope was required to reply to messages, which instead
    should have been the job of `privatemessages`.

commit c362f1c61137baa71fd042f5c34b439aa174f5d5
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Aug 6 10:11:09 2015 -0700

    Quarantine: Fix no clobbering of checkboxes
    
    Ensure that the `allow_top` and `show_media` checkboxes can still
    be unchecked for non-quarantined subreddits.

commit d360ac33dcb06757b3bd597452b42646808a11ff
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Aug 5 11:44:33 2015 -0700

    Remove click tracking from /ads

commit 7aaca55b2a8d78bad266af451be4b4066803c90f
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Aug 4 17:36:12 2015 -0600

    Redirect /faq to Zendesk

commit f5932fa75b440c0159a500a9381472f78e1e3e2b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Aug 4 17:30:22 2015 -0600

    Add content policy page, redirect /rules to it

commit e3c9e3705094cb548e04a9623c4408ad233ca079
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 5 10:49:23 2015 -0700

    Quarantine: Change language on interstitial page and in sidebar.
    
    Conflicts:
    	r2/r2/templates/quarantineinterstitial.html

commit 572c5b391d58bf40663e1f5f73b0289077616d1e
Author: Matt Lee <matt@reddit.com>
Date:   Tue Aug 4 17:02:16 2015 -0700

    Quarantine: Link to /prefs/update on interstitial.
    
    If the user is logged in but does not have verified email, link the
    ‘verified email’ text to the page where they can do that.

commit 37ee65b087040815b2e106dbf23ad8a62e73e8c0
Author: Matt Lee <matt@reddit.com>
Date:   Tue Aug 4 16:39:47 2015 -0700

    Fix interstitial button alignment in Safari.

commit 37edba78b6b03076946d3db551f3d40def6c9591
Author: Matt Lee <matt@reddit.com>
Date:   Tue Aug 4 13:43:12 2015 -0700

    Cleanup stamp css.
    
    Fixes a regression on the NSFW stamp styling which causes the left &
    right padding to be unbalanced.  Also removes the ‘rounded’ class from
    stamps because it does nothing.

commit d23131f16e31f4b373b4ef87b1506508fd3c8f62
Author: Matt Lee <matt@reddit.com>
Date:   Tue Aug 4 14:16:52 2015 -0700

    Add quarantine stamp to new search page.
    
    Also removes a hack that’s no longer necessary and was causing the
    stamps to render inconsistently with the rest of the site.

commit 91110355d7fdc893a4234ce6d4f7d0d3aa4dff72
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Aug 4 16:00:43 2015 -0700

    Remove gilded, promoted and advertising tabs in disallowed subreddits
    
    Also abort on /gilded and /ads in these subreddits

commit bf8b78b04d66156ff58bbf3cc4b82bffe3570947
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Aug 4 16:39:32 2015 -0700

    Default allow_gilding in FakeSubreddit

commit 8b9df0f242869682c875ad9dc999a3932a80143f
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Aug 4 15:10:01 2015 -0700

    Unsubscribe from quarantined subreddit on opt out

commit c4c0f4ab3454cc13190e9c7fa9edabd4db510265
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Aug 4 16:37:46 2015 -0600

    Quarantine: Feature flag hiding user numbers

commit fae672ea8ef4cdb862e4458dea114775f9775813
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Aug 4 15:34:24 2015 -0600

    Quarantine: hide subscribers / users here now
    
    This hides the display of the subscribers and "users here now" counts
    for quarantined subreddits. 0 will be returned for both values through
    the API.

commit 2d38338eab298d3f77d0e51be6a581865d3e44c9
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Aug 3 15:13:34 2015 -0700

    Add API endpoint for opting into a quarantined subreddit

commit 3da619597ac3c6cc46fd47aad9fa6988c33dbf2f
Author: Matt Lee <matt@reddit.com>
Date:   Tue Aug 4 11:17:38 2015 -0700

    Replace over18 interstitial image.

commit 86ca2267209def965ec49bf9c2a5b0c9191a2105
Author: Matt Lee <matt@reddit.com>
Date:   Tue Aug 4 13:04:39 2015 -0700

    Remove style changes to NSFW stamp.

commit 143a8a7e14eaf321ae2caea83c4c423f7be4e7f7
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 3 16:20:17 2015 -0700

    Feature flag changes to existing interstitials.

commit f022c3d11036475f15be5776804dad2003e6d647
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jul 29 13:38:41 2015 -0700

    Update content interstitials.
    
    Add new templates for interstitial pages, and update the banned, private, gold-only,
    quarantined, and over 18 interstitials to use them.

commit 17eccffd8ceb4d92e786aea1bdd3c496b2401af3
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 3 17:20:21 2015 -0700

    Quarantine: Fix caching issue with sidebar notice.

commit b56db4a6bf1c2f0c3c39468954f3a7ae5802f360
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 3 14:47:10 2015 -0700

    Fix nsfw-stamp style in Firefox.
    
    Remove dotted bottom border.  Fixes for both old and new stamps.

commit bc7d4cf9286cd71ec1ea2ecde6589fe626ddbd04
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 3 14:37:59 2015 -0700

    Quarantine: Move feature flag checks out of templates.

commit e2a7345a0255adc9c6a1928ce95ef0a31d6126f1
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Aug 3 12:34:56 2015 -0700

    Quarantine: Add missing feature flag check
    
    Add the `quarantine` page class only when the feature is enabled.

commit 948b091180cebc3d72d192096fa9343ee26aa290
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Aug 3 10:47:48 2015 -0700

    Quarantine: Update wording

commit 91bc08e8439f4c8338b0288e9ef12e75f8e619b0
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Jul 31 14:33:43 2015 -0700

    Quarantine: 404 for unavailable content in api
    
    For non-html render types, return a 404 error instead of redirecting
    to the content gate.

commit e7c711c9ec39bf16a424da6dad4a9661fbcf26b8
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Jul 31 12:55:36 2015 -0700

    Quarantine: Update header image
    
    Update the header image for quarantined subreddits and remove the
    create subreddit snoos using a new `body` class.

commit 64ad1e8709af836d0ed55f1ff64433ef65670381
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Jul 30 18:29:54 2015 -0700

    Quarantine: Opt out from content gate
    
    Declining to view a quarantined subreddit from the content gate should
    send the user to the home page and opt out the user if applicable.

commit 514ea2722e0408e3d0e691824a67db1445875ee7
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jul 29 14:37:41 2015 -0700

    Update quarantined interstitial icon.

commit 3fd0cfd5d7028ae22bb99bbad83553194be3edfe
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Jul 30 15:27:37 2015 -0700

    Fix uuid import bug

commit cf9a9781cc19a6e485d8dd124ab652128557e188
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed Jul 29 10:31:21 2015 -0700

    Send quarantined subreddit actions to event-collector
    
    The available event_types are:
        quarantine_interstitial_view, quarantine_interstitial_dismiss,
        quarantine_opt_in, quarantine_opt_out

commit a8cab6f1489dd63821a89c1f92c76a9f24ef10e2
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Jul 30 13:21:39 2015 -0700

    Quarantine: Update feature flag

commit 613eead51a6b3012b931d63f212c3e07023eb507
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Jul 30 12:55:00 2015 -0700

    Don't show welcome message for interstitials

commit 8b7509b37b8436e5c5184ed2917f991812cc37b4
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Jul 30 09:50:57 2015 -0700

    Readjust stamp padding
    
    For the new bold stamp style, increase stamp padding to 4px.

commit 7de163ef7f1fad7a86ba3c64aa9e00f7e1115569
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Jul 29 16:55:41 2015 -0700

    Quarantine: Add stamp to .compact
    
    Add the quarantine stamp for compact links throughout. Add the
    quarantine stamp and NSFW stamp for compact comments on the user page.
    
    Also, show both the quarantine stamp and NSFW stamp for comments on
    the user page when applicable, to match the behavior for links.

commit 984815516625b2ee371b60fdfedfb18c3002b0d6
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jul 28 16:37:17 2015 -0700

    Quarantine: Add feature flag.

commit c0de887feaf15b51bebebd4b4658e524dd6df7c4
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jul 29 11:30:51 2015 -0700

    Lower quarantine interstitial priority.
    
    If we would otherwise show a private or gold-only interstitial, show
    that first.

commit a1c689c1fee23b54e1455d08eaf9b6081a678eba
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed Jul 29 15:54:43 2015 -0700

    Redirect /quarantine when dest doesn't include quarantined subreddit

commit 2792b84f683200694c77c1802edebb9f73c5219a
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jul 28 11:22:06 2015 -0700

    Show quarantined subreddits in mod list if otherwise viewable.

commit c626c7ae615d8d0caa442cdc9d389da212c3be5b
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jul 28 15:41:26 2015 -0700

    Newsletter: Don't show on over18 interstitial.

commit 2726158f2c48ade69e9d7671f0cafdad89793089
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jul 28 15:40:53 2015 -0700

    Newsletter: Don't show on quarantine interstitial.

commit d9a19e2b5559e3749746f8672374f0a6c36d95c9
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jul 28 15:34:06 2015 -0700

    Extend interstitial to handle logged out and unverified cases.

commit bd4b6e448a67e0fd0b8e63f0eeacbc6292899696
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jul 28 12:44:22 2015 -0700

    Update quarantine interstitial design.

commit d9ffad5bcfaa703454f8013fdcaaa73f883d66d3
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jul 28 13:53:06 2015 -0700

    Add quarantine notice to sidebar.
    
    Wraps the opt-out button in a box with some messaging.  Also moves the
    opt-out above the subscribe button per the latest design specs.

commit 6714b63d9fea7a2a25a43d46a02865811f1659db
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Fri Jul 24 16:57:30 2015 -0700

    Quarantined optins: Include schema args for cassandra

commit 21c3a1d2a36d99207e22c95c3e7a3e6b75ad85ca
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jul 28 12:05:58 2015 -0700

    Exclude quarantine from api_docs

commit 62914fbe8debf890242b3d584dcb92b13b5d4192
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jul 24 16:54:46 2015 -0700

    ReadNext: Use updated NSFW stamp style.

commit 1cdf540a9410076425168478e1fe4e5538133621
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jul 24 16:52:38 2015 -0700

    Add NSFW and Quarantined stamps to comments on profile pages.

commit 9084cff6f90d8da8135dd47ba4dfc462f986dd36
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jul 24 15:58:53 2015 -0700

    Quarantine: Update stamp display text.

commit 4f9baf57323f877a2b3aef6289fa3a0a6d4532a0
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jul 24 15:56:59 2015 -0700

    Update NSFW and Quarantine stamp styles.

commit 6d5bb543c46a6062678e5f39c1e08a0d08f51b56
Author: Matt Lee <matt@reddit.com>
Date:   Mon Jul 27 17:03:34 2015 -0700

    Add content warning stamps to moderator list.

commit b07d1f4c6b4a8a2f288d5676ef0f20696dc2fe4c
Author: Matt Lee <matt@reddit.com>
Date:   Mon Jul 27 16:43:43 2015 -0700

    Quarantine: Disable share api endpoint.

commit b601c465c935512f2d78053263a58c9df22245d9
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Jul 27 14:18:34 2015 -0700

    Quarantine: Remove disabled subreddit settings
    
    Remove two disabled options from the subreddit settings page for
    quarantined subreddits:
    1. allow this subreddit to be included /r/all
    2. show thumbnail images of content
    
    These settings are stored independently of the quarantine state.

commit 9a643e2a0c2912bcbdc8fb0897c82a177e498434
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jul 24 12:49:15 2015 -0700

    Don't display header image if quarantined.

commit f6f56a079236cf0b79e6789b99f296c3cc643ec0
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jul 24 12:39:35 2015 -0700

    Disable images in quarantined subreddit stylesheets.
    
    When a subreddit is marked as quarantined, reparse their stylesheet with all image references replaced with a blank png.

commit b53ebded0063aa04de136c99ca0679496175a984
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jul 24 11:58:24 2015 -0700

    Disable image upload form on stylesheet editor.

commit 468b0551d045b0bdc50021e70a726afa515ff6a4
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jul 24 11:43:08 2015 -0700

    Quarantine: Remove header image upload.

commit 7cae78b6deda46ff01f5dc070b8ce029e85e6753
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jul 24 11:49:21 2015 -0700

    Disable upload_sr_image api endpoint for quarantined subreddits.

commit 38b3bf57aaa72a234c83f533a5d7a9b097992a62
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Jul 23 17:58:19 2015 -0700

    Add opt out button for quarantined subreddits

commit a4e6172fc5d5ef1f29d7462ce19d6a26930f41c4
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Jul 23 17:57:00 2015 -0700

    Quarantine Subreddits: Require verified email

commit 4868801ada692354447ffedc19bdc068ff5116de
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Jul 24 10:16:02 2015 -0700

    robots.txt: Disallow /quarantine
    
    Restrict crawlers from the quarantined content gate via robots.txt.
    
    Also add robots=noindex,nofollow meta tag to /quarantine page.

commit cd4f3b1f1daef800b0b5a05f99cec5b37d76d684
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Jul 24 10:15:11 2015 -0700

    robots.txt: Disallow /over18
    
    Restrict crawlers from the NSFW content gate via robots.txt.
    
    Also add robots=noindex,nofollow meta tag to /over18 page.

commit 3229d272512515f4df3fef22ceb98b8ab79f6722
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jul 24 11:10:05 2015 -0700

    Quarantine: Disable share feature on quarantined links.

commit 2f6a58ae811aa8de3e2852c12ba9211d6a29ef02
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 23 15:38:40 2015 -0700

    Quarantine: Don't allow in /random.
    
    For consistency

commit bcf4f0d02ad02053e290b5dc9b71260f00403517
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 23 15:27:29 2015 -0700

    Quarantine: Remove from r/all.

commit 06a53b2cf54e34df0c70f67a01ceb674dbb5d426
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 23 15:25:12 2015 -0700

    Quarantine: Add discoverable property.

commit ae1296cf876170dd27bb3a237e9bd6a7bb492c8a
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jul 21 16:21:14 2015 -0700

    Create quarantined subreddits content gate
    
    When a user visits a quarantined subreddit for the first time, they are
    presented with a content gate so that they can choose to optin to view
    the subreddit's content. This preference is remembered per subreddit.
    If a user is logged out, it requires the user to log in before validating
    that the user has chosen to opt in to view the subreddit.

commit 48e6429f7e32dab69cc5091550ccf3f112b2300a
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 23 12:17:20 2015 -0700

    Quarantine: Remove from search results.

commit be15d61f89e8a31a5cb6d194852d868abd12b144
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jul 21 13:04:17 2015 -0700

    Disable ads and gilding in quarantined subreddits

commit 1005737a98e8d13ccc62a12e9f415ed8ec73517a
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jul 21 17:26:34 2015 -0700

    Remove /subreddits/employee from public view
    
    This removes it from api_docs for GET_listing and returns a 404 when not an employee.

commit 68ed9767d85ea7f07ea879a6fa5abe81e8542507
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jul 21 12:42:14 2015 -0700

    Create /subreddits/quarantine
    
    This lists all of the subreddits that have been quarantined.

commit 6c76c86817bda1339de14b63589d9fe7f326097f
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jul 22 17:29:38 2015 -0700

    Quarantine: Don't allow to be targeted by ads.

commit 961de1367ff268e9065f0568def7283c693fde27
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Jul 23 10:03:50 2015 -0700

    Quarantine: Disable thumbnail scraping

commit bca4cec70bd577a0398729ca0b9d30c6d917ec77
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jul 21 14:08:27 2015 -0700

    Quarantine: Hide thumbnails unless viewing within subreddit.

commit c91d3da15eabf84dfeebd8bd1e6f0f4e52e626c1
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jul 21 13:32:45 2015 -0700

    Quarantine: Add stamp to posts from quarantined subreddits.

commit a85ab8c830200633b2adc5aafc9b61b8489725c7
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jul 22 11:42:13 2015 -0700

    Quarantine: Redirect to an error page if user can't view.

commit 1c7fe81b6a5a113b94c4734f001ef8f313283fa0
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jul 22 11:32:18 2015 -0700

    Quarantine: Add check against quarantine flag to Subreddit.can_view.

commit 3395415d7e0dc59981bdebf1d944fc6a51075b5d
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jul 21 16:44:22 2015 -0700

    Quarantine: Don't allow in r/random.
    
    Replaces the check against the allow_random property, which was a quick hack to
    deal with a specific subreddit.  Also removes allow_random from the _defaults dict

commit 111d9f8491ec6f10f5efd9c82f3f745f6d6fc44d
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jul 21 13:37:55 2015 -0700

    Exclude quarantined subreddits from /explore

commit e739f98ba1857aa0369fb089098906f63164d8e0
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jul 21 13:37:42 2015 -0700

    Require authentication for media embeds

commit 930f1cd5fe062a4d57d835272b9a510205bf56b4
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jul 21 13:34:27 2015 -0700

    Exclude quarantined subreddits from embeds

commit 31970a54f44a60f740c69d2668768c5cbc3d599b
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jul 21 11:37:22 2015 -0700

    Create 'quarantine' subreddit attribute
    
    This attribute can only be set by a user in admin mode. If a non-admin user
    creates a subreddit, it defaults to False. If a non-admin user is editing
    the subreddit settings, the quarantine attribute defaults to the previous
    value.

commit 61f5d0e28fb9666c2fd2bf60a37167bdbbe056c3
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jul 2 11:40:38 2015 -0600

    Allow manually excluding subreddits from /r/random

commit 83fde541c220ca3b5ea0519426760a6fb0407599
Author: umbrae <umbrae@reddit.com>
Date:   Fri Apr 24 16:02:28 2015 -0700

    Remove no-longer-necessary flag newsletter

commit ef0ead4bd8ae4fa794ce117ae5c625b55ea91734
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Jul 29 16:55:30 2015 -0700

    Feature flags: allow overriding of subreddit
    
    Just like with user-overriding, sometimes we want to be able to check whether a
    feature flag is on for a specific subreddit while in a non-request context.

commit e76e9e2189b996b9417ce7d4b188054775abc433
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Jul 29 16:49:25 2015 -0700

    Feature flags: remove is_enabled_for()
    
    The function essentially did the same thing as `is_enabled()`, but with
    overriding the user and not also checking the subreddit, subdomain, or oauth
    client.  The former is easily handled with default args, and the latter has
    actually potentially been an issue - if you needed to override the user, you
    lost the effect of any of those on the feature flag.

commit 43e04c3d482e471ab76c50c4110447494eb15402
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Aug 3 16:26:21 2015 -0700

    Fix KeyError for banned subreddit

commit 0bcb4aa3da25ff6130af3327d54c2f9a5c0f9171
Author: weffey <weffey@gmail.com>
Date:   Tue May 26 16:21:22 2015 -0700

    Turn subreddit ban into Y/N
    
    Turn subreddit ban into Y/N, removing the possibility for one click accidental bans.
    
    Once a subreddit is banned, provides an option to override public ban message.
    
    Adds a counter to count how many times a subreddit has been banned.

commit 69a03840541361c3dccd3e0ad94e6e4b5660733a
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Jul 31 13:57:41 2015 -0700

    embed.js: Fix race condition with preview
    
    This was mainly a problem in dev with uncompressed scripts.
    `rembeddit#init` was being invoke on script load without the callback before
    the `'opened.r.popup'` event fired and setup the embed for previewing.

commit d32dae6f5a68ea5f2cfc589bb58b1e8d19113203
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Jul 31 14:57:42 2015 -0700

    sponsored.js: Show error when trying to add files which are too large

commit 2c32a9efba2a9ff080f898f13a4dbd5830260772
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Aug 3 17:17:49 2015 -0700

    Revert "Add `PromotedLink.absolute_url`"
    
    Using instances of `PromotedLink` is not recommended.

commit 411fb49b02008fac5e35dcb8d1c8d677092589fd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 31 23:38:44 2015 -0400

    Use a separate memcache pool for hardcache.
    
    Previously it was part of the main memcache pool, but hardcache uses
    keys that are invalid for ascii protocol so it was blocking switching
    the main pool to ascii.

commit 58daba3184d03ff35966f0650645f9643d2b79a5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Aug 1 13:38:50 2015 -0400

    Main memcache is a CacheChain object.
    
    This got out of sync.

commit e1421c0fb05b516d79ce1fe5ec7c799272cd0bec
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Aug 1 13:30:53 2015 -0400

    app_globals: Rename "memcache" to "memcaches".
    
    This naming got out of sync.

commit 8fe75df01730c13bbc7fc783612887996a4bd297
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Mon Dec 8 11:27:59 2014 -0800

    cache.py: Add a random delay to memcached retries
    
    This should reduce memcached spam during outages

commit 48eacfb0361d957adec236ae8bc8c7ba8d798e6d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Mar 6 17:25:39 2015 -0500

    TransitionalCache: Use the read cache's stats.

commit 16ee56d1e90b270169f89a61b861ccb63c8ebbed
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Thu Jan 8 14:28:42 2015 -0800

    memcached: Up size limit to 2mb
    
    This is a guess, to attempt to lower render cache network in/out

commit cc01831b7120a740827b6485d75d368fdc435284
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Thu Jan 8 14:12:36 2015 -0800

    memcached: Up max size limit to account for rough estimate of size
    differences.
    
    This is partially a guess, but is also based on a 15% stat for
    difference between in memory size and pickled size.

commit 57991d75d3c1b5510b00d78d2e0659c058ade207
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Thu Jan 8 13:59:43 2015 -0800

    memcached: Fix accidental method signature mismatch

commit 8aee0f91d647fca3642c30a0f417dd1c76e0a412
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Thu Jan 8 15:11:19 2015 -0800

    memcached: Remove validators from render, page, and perma caches

commit a795f8022fb2de4f75d399e666ceaf69307c6fea
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Thu Jan 8 14:26:53 2015 -0800

    memcached: Switch validation behavior for permacache to warn

commit 9d7d9316a08be1fc32bb0ba5d3701345d07ff329
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Tue Nov 18 14:08:45 2014 -0800

    Memcached: Implement size check on values
    
    This should relieve the last of the common errors, which are due to
    trying to store cache values at sizes greater than 1MB.

commit 4c6c4c1069e3b8845fc57f6c92e644380e392208
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue May 5 01:50:20 2015 -0400

    Move live_config special user setup to the "zookeeper" startup timer.

commit a101f376c00afad1294be814db1f5e7a206fe5d9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Aug 1 11:02:44 2015 -0400

    LabeledMulti._byID: return correct object when lookup fails.
    
    Previously was returning None, but when looking up a list of ids
    it should return an empty list or empty dict.

commit b1173027e0204fbb7f4dac131537c86a254dc658
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Aug 4 13:11:18 2015 -0600

    Subreddit bans: add duration and reason to mod log

commit 5fb42b9c19ebffc37496a2313eeb745f732571f9
Author: Neil Layne <n.layne@gmail.com>
Date:   Tue Aug 4 14:36:15 2015 -0400

    Make /w/toolbox a "rawcode" page type.
    
    This change will save reddit processing and bandwidth by not rendering
    /r/sub/w/toolbox markdown (it's JSON data), and by not sending
    `content_html` for JSON requests.  See also:
    3cf7c8534639862dcb1fabce242eefc6a9269f39

commit fcdd4f7afcb3ae272e8af620d4971bab5fe5cb09
Author: Neil Williams <neil@reddit.com>
Date:   Sun Aug 2 01:18:04 2015 -0700

    Fix js_config breaking when tracker_url not configured.
    
    The pageview pixel code expects various things (the base URL, the secret
    token, etc.) to be configured. Other places (like base.html) always
    check if `g.tracker_url` is valid before generating the pageview pixel.
    This was broken in 1f6a9aa5709ff0b6f48bcc9cca55eb737b0fcbf4 when
    `js_config()` started calling `get_pageview_pixel_url()`
    indiscriminately.  Ouch for poor open source and dev installs.

commit c9c43426cc2aacedb78601ce727e299c618864da
Author: Kevin O'Connor <kjoconnor@gmail.com>
Date:   Fri Jul 31 14:42:06 2015 -0700

    Hide private IPs from account activity for non-admins.
    
    mobile-web keeps cropping up with a bug that puts private IPs into
    the account history for users. Best not to worry them with such
    things and hide it from their activity page.

commit e49c0a0f00660c15a349467c00dee553ea2990b8
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Jul 31 15:47:17 2015 -0700

    Allow a user to land on a ad details page even if comments are disabled

commit 464707524eb18e784baf0db613a42de5da0fdb6e
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Jul 30 12:13:03 2015 -0700

    Fix multiple ads showing up in 1 listing

commit 5e3e1c7fccc44e2c6e63731a87492061175942b0
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Jul 30 15:35:24 2015 -0700

    Add `PromotedLink.absolute_url`

commit 2aa953c31f649b305c08862b3665654bc865c2ad
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Jul 29 17:03:52 2015 -0700

    Use adserver click urls as an intermidiate redirect when available

commit c20eadd86bde081a9d9fb339f89bb6aab4a23360
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jul 30 19:59:58 2015 -0600

    EventV2: change obfuscatedData to obfuscated_data

commit 857cdedde2f78e6daa3b16e1db5a012ba07a9916
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 31 11:16:41 2015 -0400

    Use rgb rather than opacity for things from banned users.
    
    The opacity rule "stacked" onto child messages and comments resulting
    in whiter and whiter child elements.

commit 7656c7a7bd2c4e11894cb0678561867131df87d6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 30 06:06:21 2015 -0400

    Add "most-recent" class to the most recent message in a thread.

commit 5a5db0899284412cd26a44501969fed792e55296
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jul 30 17:09:57 2015 -0600

    Ban message: don't translate
    
    The translations are currently being done in the context of the
    moderator that creates the ban, not the recipient of the message. So if
    the moderator has their language set to something different than the
    banned user, the message will be in the wrong language for the
    recipient.

commit c942cef02c71d3228cdaee234d3195aeec37e70e
Author: Pokechu22 <Pokechu022@gmail.com>
Date:   Wed Jul 29 14:57:26 2015 -0700

    Preserve the originally attempted title when resubmitting a link.

commit 3ab3329613a4df6d1999fba17f56205eef18409a
Author: Anthony Ma <tuogex@yahoo.com>
Date:   Wed Sep 24 17:15:02 2014 -0500

    comment.compact: Fix link in parent button

commit 1f25a23414a8949023c0c07cc6035a25b200f875
Author: Anthony Ma <tuogex@yahoo.com>
Date:   Wed Sep 24 17:13:39 2014 -0500

    comment.compact: Add destination anchor for parent button

commit 2d002849304ea572dbef29a4aa98306fb4a3417f
Author: Kevin O'Connor <kjoconnor@gmail.com>
Date:   Thu Jul 30 13:56:08 2015 -0700

    Start counting OAuth clients exceeding rate limits.

commit e3431123abffea81c0e30304c23a95f97051082e
Author: Dustin Pho <dpho@vt.edu>
Date:   Sat Mar 14 21:43:40 2015 -0400

    Fix magic number for SHA1 hash length

commit 3469d62291f696c6881c93e023d143e21ccf8804
Author: Matthew94 <matthewlove94@gmail.com>
Date:   Sun Apr 26 21:46:03 2015 +0100

    geoip_service: use dict comprehensions for clarity.

commit 531fc3e32ed22a4f70a545ca52077ee78bae5a0b
Author: Noam Yorav-Raphael <noamraph@gmail.com>
Date:   Mon Mar 2 00:57:47 2015 +0200

    Use a format string for "N days ago".
    
    This way the ordering can be dependant on the translation.

commit d968fa5f53467a1db1b264c8b527d93a394cdb13
Author: Tully Robinson <tully@tully.io>
Date:   Fri Feb 27 03:41:45 2015 +1100

    Fix hidden scores appearing in recently viewed links

commit 93217186098f8402c4e75838a0f65d39dfc2ebd4
Author: p00rleno <p00rleno@hotmail.com>
Date:   Fri Jan 16 00:10:23 2015 -0500

    POST_flaircsv: Add documentation.

commit 3474967ae7e822d490d13760394bb721023dc7fa
Author: Kevin O'Connor <kjoconnor@gmail.com>
Date:   Thu Jul 30 10:40:09 2015 -0700

    Add rules about style and translation PRs

commit 4ea2c3dbd0498ae76622e8eb642acb0fbec00c57
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jul 21 18:14:22 2015 -0600

    Send moderator actions to event-collector

commit 8c0dfb40587c627632b6d093b098f5f2f352f384
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jul 28 14:11:59 2015 -0600

    Events: add ability to send to test endpoint
    
    This allows setting testing=True when creating a new (EventV2) event,
    which will cause it to be published to the test endpoint (configured in
    the INI file) instead of the production one.

commit 67137ffd1ef78a1eafbbeb63cacfb3d2c4435aad
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jul 24 12:26:49 2015 -0600

    Event collector: add EventV2 class for new spec
    
    EventV2 implements the new spec for events going into the data pipeline.

commit 7fa9601db84644f4f31fe190e7c821ac1671091e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 29 15:02:11 2015 -0400

    Enable threaded view when viewing a modmail conversation.

commit 37de42bca21a5545c42a602ad0f2f7e794649441
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 28 16:34:21 2015 -0400

    MessageBuilder: only use MoreMessages if there are children.

commit ef17df4654aaa5349c43ce3567dfdd950c5ae145
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 28 13:57:47 2015 -0400

    Remove unnecessary padding in threaded messages.

commit 7a5abc952c365ec5e5a6423f741b54343ab8a30c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 28 13:41:43 2015 -0400

    Fix css for flat view Messages.

commit 4f39cd37729ff0112c57381b1671117c685c0764
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 28 13:02:53 2015 -0400

    MessageBuilder: only use MoreMessages if "skip".

commit b071b18c49c779f3f363f4e70737b0765be49e0c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 27 19:14:05 2015 -0400

    MessageBuilder: cleanly skip over missing parents.
    
    This wasn't an issue in flat mode because child messages were always
    attached to the root message.

commit 2b8e800a34a1131e781c24e04bc822f9b0b44874
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 27 17:52:39 2015 -0400

    Check for existence of child in POST_moremessages.

commit 871d50cad813ca93e9d9268fc4c143362014cea0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 22 16:16:41 2015 -0400

    Allow users to choose threaded view for modmail.

commit 1d8ad362f9a4cc6655c4d4a7a320f7dcb9ef577c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 20 18:48:30 2015 -0400

    MessageBuilder: optionally construct a threaded view.
    
    The default flat view is unchanged.

commit 69b19cd948014d5a147237a4a16c71386b698c8c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 27 16:16:43 2015 -0400

    MoreMessages: Add _id property.
    
    This is just the _id of the "parent".

commit 74b19511cfbd0d091da85079b3c104b0399ca912
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 20 22:26:37 2015 -0400

    MessageBuilder: clarify and isolate paging logic.

commit 11e248c2c4a0782b2627968f5490efaa6a666ecd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 20 21:02:56 2015 -0400

    Remove unused "focal" message stuff.

commit 3c951b1b2f64503060b82c32e499f4b5e7afcbef
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jul 29 09:25:14 2015 -0700

    Subreddit._by_name: Cache negative lookups.
    
    A huge portion of the queries to the subreddit databases are _by_name
    lookups for subreddits that don't exist.  By caching negative lookups,
    we can hopefully reduce some portion of these.  This is somewhat of an
    experiment though because
    
    1) it assumes that there will be a decent hit
    rate on the negative lookups, i.e. that they're not a super long-tail
    distribution of crazy names, and
    
    2) that the cached negative lookups won't have worse effects on the
    system by filling the caches with negative results which leave less room
    for "real" data.

commit e4b8f4652dc4c4b93266b51f51527da71fd93ce0
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Jul 27 15:30:49 2015 -0700

    Do not link to the domain page on sponsored headlines

commit 686fe82b3e3370390e5b77e51450d2af5d9aeb8e
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Jul 27 14:56:32 2015 -0700

    Fix "too big" error not showing on ad creation
    
    Added the missing js required for 413s to show up properly

commit bc4d6bf8f3b251b90de88788e9b1fe3ff31bddaa
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Jul 28 11:17:13 2015 -0700

    Expose `Link.hide_score` to json

commit 63ee6a1094cdde5316e723af4abee3c8faf87d2f
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jul 29 09:22:44 2015 -0700

    Subreddit._by_name: Throw out negative lookup results from cache.
    
    This is in preparation for a change that adds negative lookup caching
    for Subreddit._by_name.  We need to gracefully handle the cached
    negative lookups before we can start writing them to the cache.

commit a9cd5e306b0c075e4c78cd8a7626770dac432ed7
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jul 29 00:46:02 2015 -0700

    Subreddit._by_name: Respect _update parameter.
    
    This is important when doing negative caching since we'd never properly
    update the cache in Subreddit._new.

commit 0b5d4e301dbc92337e188150484b4fd8e1f35299
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 23 17:49:24 2015 -0700

    Subreddit._by_name: Drop an unnecessary join on the Thing table.
    
    Since we only need to get the subreddit ID from its name, we don't care
    about anything in the Thing table.  The implicit deleted=True rule and
    lack of optimize_rules meant that extra rules were being added to the
    query which made a join on the Thing table necessary.  This should make
    a cold cache scenario a little less painful.

commit 9fac20dfc0acc60f19a0e8c177a559c92ed59588
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jul 28 23:52:15 2015 -0700

    Subreddit._by_name: Add unit tests.

commit 19d569696e255d22b8ff635c207f130562276275
Author: Chris Stephens <chrisst@gmail.com>
Date:   Wed Jul 1 16:40:15 2015 -0700

    Tests: Refactor test initialization
    
    Change RedditTest so that it maintains global state and will only fire up the app
    context a single time. Inject mocks for the database manager and avoid making
    calls to the database during thing initialization.

commit 6579f515f0c82d785fa7f5e101705f4360fdc651
Author: Daniel Harris <dh.harris183@gmail.com>
Date:   Wed May 20 01:17:41 2015 -0700

    Fix uneven padding on nsfw-stamp.
    
    Left was 2px right was 4px, changed right to 2px.

commit aa0d226d1f75a45e0dbc0e9e8c31897ca3513cc2
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Jul 28 09:43:16 2015 -0700

    Footer: Remove radio reddit link
    
    Remove the link to http://radioreddit.com/.

commit 74e795f3c5ec5736d495225d06b29eb498b2339e
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Jul 28 09:38:32 2015 -0700

    Footer: Update FAQ link
    
    Link FAQ in footer to https:/reddit.zendesk.com/.

commit a40bf6f6ff23a98b0e5543fe8b5aa8a50c212002
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Sun Jul 26 14:29:19 2015 -0700

    Fix UI issues with invalid bid amounts

commit 54ae709b3299e21ef2961768bba742b0b7fa2998
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Mon Jul 27 17:07:50 2015 -0700

    Use price_dict for author rather than user

commit 5a0b537cd541d8546e19bcfc5b73fa89c996ad5d
Author: Rudi Theunissen <rudolf.theunissen@gmail.com>
Date:   Sun Jun 28 12:13:47 2015 +1200

    Added ignore_missing=True to GET_info

commit a94411a33b9f8a92d82d803c9c35ab8dcc19bba8
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 27 21:29:10 2015 -0600

    Check "posts" perms to show link settings buttons
    
    The buttons for "set suggested sort", "set contest mode", and changing
    whether the post is stickied or not require "posts" permission, but were
    previously only checking whether the user was a mod of the subreddit or
    not.

commit f4bd05b8a763ff632344768b54252f57287f6bf9
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jul 28 09:57:35 2015 -0700

    Hide cake status in anonymous messages

commit 443f0ebe4024a85bc8fad0257f1b3f727211c35d
Author: creesch <creesch.r@gmail.com>
Date:   Sat Jul 25 14:10:56 2015 +0200

    Remove "request access" from private modmail link.
    
    The previous message was:
    > send a message to the moderators to request access
    
    This implies that people can message that sub and get access to
    it, which often isn't the case. Making it "send a message to the
    moderators" makes it much more general usage.

commit 3b61136426371e8172afdab3d99b0e616ddc0f4f
Author: justcool393 <wayhay53@gmail.com>
Date:   Mon Jul 20 14:13:05 2015 -0700

    Update subreddit public description wording.

commit 1e0b7b725b9dce1b62131e1e8334691e69a94148
Author: Daniel <teaearlgraycold@users.noreply.github.com>
Date:   Sat Jul 11 00:21:51 2015 -0400

    Add documentation to collapse_message and uncollapse_message.

commit 3cf7c8534639862dcb1fabce242eefc6a9269f39
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jul 24 14:14:48 2015 -0600

    usernotes wiki page: stop rendering/sending html
    
    This adds a "raw code" renderer that can be set on specific wiki pages
    that will prevent markdown from rendering on that page (and being sent
    in the JSON response). This will reduce the overhead/bandwidth with
    toolbox pulling this page.

commit 2385d38f83f7deb5d80e6452c293b8bde8829d4c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 23 19:14:26 2015 -0400

    Use correct path for subreddit search.
    
    Now that SubSR doesn't exist we can't rely on `add_sr` to add
    "/subreddits" to the path.

commit 17c626b084ed350e8d2da7141a360b975c925e86
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 24 03:27:43 2015 -0400

    Revert "Tests: Refactor test initialization"
    
    This reverts commit 6c8999d4ba8fc0d494428e6cc4e8c3f14aaf13ec.
    
    That commit was preventing plugin hooks from registering in
    reddit-run and reddit-shell contexts.

commit 2adfcb3ace0fcec59fdfa4df08c050aace532c94
Author: creesch <creesch.r@gmail.com>
Date:   Thu Jul 23 18:20:28 2015 +0200

    Improving on modtools by giving usernotes space
    
    Toolbox usernotes often run out of space for subreddits relying heavily on
    them. These are also the subreddits that form a positive image about reddit
    since they are often very well moderated.
    
    This will allow these subreddits to use toolbox usernotes properly.

commit 78b34104171b785d5f9aa1795bd5ae53f92cfad3
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jul 23 14:05:47 2015 -0600

    controllers/api.py: Fix missing recommend import

commit 2e8a663bc46fc69817292b5dfdeab3f11f6983bb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 22 19:14:42 2015 -0400

    Don't "submit it again" to restricted subreddit.
    
    The submit link is based off the comments page of the already
    submitted link. Check whether the user can submit a link to that
    subreddit and if they can't don't take them to that subreddit's submit
    page.

commit d6d69e60b4694dcaf557978dedefc623565fa809
Author: Chris Stephens <chrisst@gmail.com>
Date:   Wed Jul 1 16:40:15 2015 -0700

    Tests: Refactor test initialization
    
    Change RedditTest so that it maintains global state and will only fire up the app
    context a single time. Inject mocks for the database manager and avoid making
    calls to the database during thing initialization.

commit 3cdc8169ef9f4ae3753af7e1ca278f15a3baefbb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 10 16:55:48 2015 -0400

    Don't allow /subreddits listing within a subreddit.
    
    E.g. /r/funny/subreddits.

commit d261e17d6dd5597e486b87ad9791952045adeff5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 10 16:54:17 2015 -0400

    Delete unneccessary SubSR.

commit 9853214c15ea2eb5f09e62785551dbd2868523f9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 10 16:51:12 2015 -0400

    SubredditJsonTemplate: include "accounts_active" only on GET_about.
    
    We want to exclude it from Subreddit listings, and this is a more
    direct way to do that.

commit e34e48c9d9c095ad1a050aeda858c23b59953671
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jul 21 15:10:11 2015 -0600

    Mod log RSS: fix bug with details text

commit 6a8fac11bdf706f2dd2435ab9ee7ff6a6e9156c9
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Tue Jul 21 12:44:56 2015 -0700

    Check if frequency capped before showing options

commit bcd51343ab5628ea28169bfce8b52e6f0508f58a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 13 12:05:24 2015 -0600

    Mod log: show edit reason for wiki pages
    
    This also includes a minor refactor of how we display the "details text"
    for ModActions in the moderation log.

commit 3e6fc896fa0b305ebca96313dbfb242a8f3971ff
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jul 1 12:35:39 2015 -0600

    Private subreddit page: add link to message mods

commit e46896f27b160f81b02c95c6d4a442aeb499cdc9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 21 14:01:48 2015 -0400

    Use user_path when linking to c.site.
    
    This fixes incorrect links on LabeledMultis.

commit a40694e110a7a27c9448aa883ca59dacee5cfc43
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 21 13:39:51 2015 -0400

    Delete unused RedditHeader class.

commit dac2c92892ff8189718b5ceb1473dee4ff6170c8
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jul 21 00:17:34 2015 -0700

    Gold reversal: remove unnecessary logic to find secret

commit 6cca46af368bc821ed3864bb276c58d4bf4a46c4
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jul 21 00:16:15 2015 -0700

    Remove reddit_gold trophy when refunded by Stripe

commit 1ea5b4c0da701371fbad58e4199a6c7aa8053250
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Jun 24 12:23:55 2015 -0700

    Toolbar: Redirect /toolbar
    
    Redirect the inner toolbar frames to /.
    
    http://www.reddit.com/toolbar/toolbar
    http://www.reddit.com/toolbar/inner
    http://www.reddit.com/toolbar/comments

commit 2dd7bab7e547e2c49580a88a299a874bd3de4c72
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Jun 23 17:38:42 2015 -0700

    Toolbar: RIP
    
    Remove toolbar components and user preferences.
    
    -toolbar frameset
    -top toolbar frame
    -bottom content frame
    -side comments panel
    -comments panel toggle

commit d63d0f468886895f7eedc5289e164efc95a6df57
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Jul 13 13:42:32 2015 -0700

    Share: Remove share_from and replyto
    
    The share_from display name and replyto email address are no longer
    supported by the new email share feature.  Furthermore, the jquery
    response is no longer needed.

commit c3c6552b9277e9cf5266302f3005b4d2f3d1dc42
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Jul 16 16:39:38 2015 -0700

    Remove unnecessary function

commit eb105a9f859769c74f8207db0c7e7daa02c5c76b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jul 17 11:40:51 2015 -0700

    Automatically unsticky a link when it is deleted

commit 7b147aac61be924d261f02a12913e2d24043b8b3
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Thu Jul 16 11:29:35 2015 -0700

    Add frequency capping to ads

commit 409a5d8d468dcea732a39475d1ccfcd8e7670f04
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 14 20:12:07 2015 -0400

    CachedTemplate: use c.site.user_path in cache key.
    
    LabeledMulti has a different effective path for the owner and for
    other viewers. This effects the urls used in buttons on the page.

commit 9980fbb267089d5dbab2ccd396a4eea83855505b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 15 17:00:04 2015 -0400

    Subreddit: disable memoized banned_ids().

commit d61518d2b56ab088d7414f79efb4e21dd0a953cb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 15 16:55:31 2015 -0400

    Subreddit: disable memoized contributor_ids().
    
    UserRel will by default keep a memoized list of all accounts in a
    given relation (e.g. SRMember "contributor"). This list is never used
    anywhere, and is very expensive to keep updated. Every time a relation
    is created or destroyed a query is executed to get ALL accounts in the
    relation so the list can be updated.

commit cd0e17510ece789a4bab2d4af69da432e19f66de
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jul 17 10:33:21 2015 -0700

    Fix bug in Subreddit.get_sticky_fullnames()

commit 30d970ae8096e7441dcb08eea44c01dd9d98ba62
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Jul 13 14:57:51 2015 -0700

    Add gilding_type to gilding transfer row in the db
    
    This supports post gild, comment gild, and user gild.

commit 6c367e797702961da8191d9ccef1f973ff8072fa
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 14 18:02:24 2015 -0400

    CampaignBuilder: restore special valid_after().

commit bfe095b8e492a73cc3bc59b761e72444ccddf31b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 8 18:07:52 2015 -0400

    RelTableItem: Add _fullname property so paging works.

commit d2c67ad6027115952ebe17fc8755561bee2be9be
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 6 18:56:52 2015 -0400

    CampaignBuilder: delete unused prewrap_fn.

commit a9c4360f41802f5b0a9b9474e2e1f8e6e93be1af
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 7 20:14:54 2015 -0400

    Cleanup Builder constructors.
    
    `prewrap_fn` is now an argument rather than an attribute of the query.
    Also it's now in the base `Builder` class because it is needed at that
    level, not just in QueryBuilder.

commit a78e5374a2abdfabc616b72688057173bec9e4e4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 8 16:32:22 2015 -0400

    Builder: use the wrapped item for before/after.
    
    Had been keeping track of the original un-prewrap_fn'd, un-wrap'd
    items for the special case of Subreddit listings that use SRMember
    queries but convert from the SRMember objects to Subreddit objects.

commit 748aa32ca4e04a7f9ad634e57227fa6cce7b915b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 6 19:00:47 2015 -0400

    comment_tree: CachedQuery never has prewrap_fn.
    
    The special handling provided by _process_message_query() is not
    needed.

commit 9c94d2aca8bb33aa99417bc564ec9c9f89a47910
Author: Chris Stephens <chrisst@gmail.com>
Date:   Tue Jul 14 13:47:36 2015 -0700

    Stop passing loidcreated if its missing

commit 1f6a9aa5709ff0b6f48bcc9cca55eb737b0fcbf4
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Tue Jun 30 10:16:58 2015 -0700

    Refactor all page tracking logic into analytics.js

commit ea12885ce92965142de05ff14b3aaef66cb1a168
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Tue Jun 30 10:07:32 2015 -0700

    Revert "Revert "Add referrer_domain to tracking pixel""
    
    This reverts commit b31b74f16fb5c56b873178b41c00219fe3018301.

commit 5cfffd0d362c4e20a99daf4bc0645afa9de3753b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 13 11:41:31 2015 -0600

    Add a mod log entry for replaced stickies
    
    Previously, when stickying a post, the mod log would only include an
    entry for the stickying of the new post, even if it replaced an existing
    sticky. In the case of a replacement, this adds a second log entry
    indicating which post was unstickied to make room for the new one. In
    the case of accidentally stickying something, this can make it much
    easier to locate the previously-stickied post.

commit af6b9e6a47556cc2fe7a9ab062b9bf4ed7da762e
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 13 11:08:01 2015 -0600

    AutoMod: allow specifying slot in set_sticky
    
    Previously, set_sticky would only accept a boolean value. This keeps the
    current behavior with a boolean (sticky into the bottom-most slot), but
    also adds support for an integer value to be able to sticky into a
    particular slot.

commit 8994f126b702f4b571ef9376d8fe4cbd3aefaebc
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jul 9 20:56:08 2015 -0600

    Add support for multiple stickies (set to 2)
    
    This includes adding a function to Subreddit for get_sticky_fullnames()
    in order to help the transition from the previous sticky_fullname
    attribute. In the future this can most likely be removed and we can just
    use the new sticky_fullnames attribute directly.
    
    The API endpoint also adds support for stickying into a specific slot
    (which will replace any existing sticky in that slot, if any). This is
    not currently exposed in the web interface.

commit 62a74f855490716f4bb8202747d79196278d8629
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jul 9 13:31:58 2015 -0600

    Allow stickying link submissions

commit c4515bed4ec77af783e8223a5a0f2b83ce329c03
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Jul 10 11:45:06 2015 -0700

    Add `update_query` helper to `template_helpers.py`

commit 28170a8c9c5d2eed8e40550a646859205c3bc047
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Thu Jul 9 19:08:48 2015 -0700

    Remove double-encoding of v parameter

commit 77ea63e30420615b3ea4a1369245a1d27d438afc
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Sun Jul 12 13:50:32 2015 -0700

    Force UTF-8 encoding of URLs

commit a52bbeb4d68e5dea5acd5cfdf0089b179945a9e0
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Sun Jul 12 13:57:19 2015 -0700

    Check for character validity on URL

commit 6a2a98d2ea1d7252b38fa8b729133b5900ffcdf1
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 9 13:52:29 2015 -0700

    install-reddit: Put Cassandra package on hold.
    
    apt-get upgrade will currently move Cassandra to 2.0 which will not work
    currently.  This prevents accidental upgrades.

commit 7192f93231263ab8f1aeef3af5446d27611d3099
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jul 1 21:42:36 2015 -0700

    Add login throttle for unfamiliar IP addresses.
    
    If an IP address attempts to log into an account that hasn't seen that
    IP before, we apply a failed login ratelimit to that IP to slow down
    brute force scanning of accounts.

commit c76a7eb605dd716213060bee3d8632caee524b7a
Author: justcool393 <wayhay53@gmail.com>
Date:   Tue Jul 7 18:52:26 2015 -0700

    SubredditJsonTemplate: Add lang attribute.

commit ef7c618e55b4bbd3ba692e5ee2b444f47b173b4f
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Wed Jul 1 18:01:11 2015 -0700

    Modify pursuant to July 2015 CPM price change

commit 0ccd69ac41db7c2cb2f5b59d4ae9e77d35105fc1
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Jul 7 09:21:51 2015 -0700

    Search: Expose search result type api
    
    The search endpoint supports link and subreddit result types as
    either a comma-delimited list of result types (`&type=link,sr`) or as
    multiple GET parameters (`&type=link&type=sr`).

commit d1afe124b8fd842caf1e3e382ae00eefd28af0ec
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Jul 7 08:48:50 2015 -0700

    Search: Remove remaining subreddit_search feature check

commit a4d96d942320ea2dc08e92943e168d150ec23ecd
Author: John-William Trenholm <jtrenholm@reddit.com>
Date:   Tue Jun 16 14:42:58 2015 -0700

    Use IAM Roles when creating EMR clusters

commit 72f7fcf089aea1f6ad820faab662956916217bb3
Author: Chris Stephens <chrisst@gmail.com>
Date:   Mon Jul 6 12:10:35 2015 -0700

    Multi: Correctly return sr_ids for unloaded linked multis

commit 19c8074e8732f3a03e820509d43bf19b07b153a7
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Sun Jul 5 14:41:54 2015 -0700

    Do not force house priority for mobile targeting

commit 8f9f171c38719dbe2faf69ff24109846c100b155
Author: Matt Lee <matt@reddit.com>
Date:   Sun Jul 5 23:31:43 2015 -0700

    Search: Add pref to enable legacy search.

commit b290d07f09c2d5ca3993b2407bc52c3c8f84b202
Author: Matt Lee <matt@reddit.com>
Date:   Sun Jul 5 23:35:55 2015 -0700

    Search: Remove subreddit_search feature checks from UI rendering.

commit 0d4d50b8c06b103036055924ff0d5eff5a825139
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jun 30 12:28:23 2015 -0700

    Search: Fix alignment with mark element in Firefox.

commit a46f3d95c0e875a299898e8bb1e165a5725aee0a
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jun 16 11:03:02 2015 -0700

    Add additional feature flag to fall back to old search.
    
    Provide mods a way to fall back to the old search listing until we have a
    proper solution for the various additional use-cases for the search page, e.g.
    filtered listing view.

commit a1e65f4f846f5d3639559ff230b9c2a7578a79b6
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jun 12 13:21:59 2015 -0700

    Bugfix: Don't remove hidden/unhidden posts on comments pages.

commit 8b78652746c5ed393c5db2938a2c43304a56d732
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu May 21 14:22:26 2015 -0700

    Search: Fix sort menu for relevance2 test
    
    Add relevance2 relevancy to the sort menu when the link_relevancy
    feature flag is enabled, so that the original relevance and the new
    relevance2 are both available as options.
    
    The relevance2 option will not be exposed in the api docs or available
    outside of the feature flag.

commit cc299d0d3c7c4fc00a163676e5648280d2c6ba54
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Apr 28 12:04:21 2015 -0700

    Search: Test new relevance2 relevancy
    
    Use relevance2 relevancy when the link_relevancy feature flag is
    enabled.
    
    The new relevancy requires bypassing the l2cs query parser when
    possible so that field weights will be properly applied. This also
    results in a simplified search query.

commit fbe51a79a2b8a819db7c88c0ca9106cf57aae660
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 1 20:37:32 2015 -0400

    add_legacy_subscriber: accept multiple and stop on CreationError.
    
    There's an unidentified bug that is causing Subreddit.subscribe_defaults
    to run for users that have already subscribed, which results in a lot of
    CreationErrors that might be hurting postgres.

commit 7d9082cca8bbfaaba0829443e5afae4039c40e1b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 1 19:50:25 2015 -0400

    subscribe_defaults: update user before subscribing.
    
    There may be a race condition where a user subscribes to multiple
    subreddits in succession. Update user.has_subscribed before
    subscribing to reduce the window where a user could get subscribed
    to the default subreddits multiple times.

commit 8f96f2127e686d154f010ca5fe723d1f34f07470
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jun 30 18:09:38 2015 -0400

    reddit-job-subscribers: Write today's subscribers also.

commit 316a03dc4c598dc0fae3a9a47f7c6a8c8c495d23
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jun 30 19:24:31 2015 -0400

    SubscriptionsByDay: write dates in format expected by postgres.

commit a916b22d17aad37e15b8a1dc396e320f6c7721b1
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Thu Jun 25 20:43:20 2015 -0700

    Enable validation of CVV

commit d0ee6f02e18020d84fa7a189190fafbb339777d7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 25 10:00:47 2015 -0400

    POST_subscribe: don't except CreationError.
    
    This won't happen now that we're on C* subscription model.

commit 2c980b6daf280336e9dace45916146e8172a24d8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 25 09:59:51 2015 -0400

    POST_subscribe: handle FakeSubreddits.

commit 857a917f49365a0c9974cef8ca3549d8ff63a959
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 25 09:59:24 2015 -0400

    Correct VSubscribeSR docs.
    
    The parameter is a subreddit name, not fullname.

commit ef2b8e8e897a3ef8cb1b98cd95661aee8fba0e5e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jun 28 13:31:05 2015 -0400

    SubscriptionsBySubreddit: decrease memoization to 1 hour.
    
    We now write the data every hour (previously was once per day).

commit 47efe440077c814ad508244fd1a268a0114f31bf
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jun 28 13:27:59 2015 -0400

    SubscriptionsByDay.write_counts: Add some output.
    
    The output will be included in the job logs.

commit 1cfec802519d9c993d0106ad08f9b4f9b44b8674
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jun 2 03:27:18 2015 -0400

    Use SubscriptionsByDay to write subscriptions to traffic db.

commit 7c5f4646e2fb57d622fdfeb1910981127147201b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jun 16 13:55:53 2015 -0400

    Continue to write "subscriber" SRMember relation objects.
    
    These are being used by the data team and will need to be written
    until they are able to read the new `SubscribedSubredditsByAccount`
    from Cassandra.

commit 6733326de3fb5dc80ae5e8f935eccbeda0de2586
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat May 16 05:38:40 2015 -0400

    Rename to subscribed_ids_by_user.

commit 4b4bc39794258f6dbe6f629ea0d5e25d2f06cd2c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat May 16 05:32:06 2015 -0400

    Delete legacy subscriber SRMember.

commit 7a49d97826eeec9deac7d3c369d8c19909bd706f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jun 24 22:28:21 2015 -0400

    SubscribedSubredditsByAccount: don't use last modified system.
    
    During the backfill for migrating from SRMember I didn't write
    the last modified values, so fast_query() can incorrectly bail
    out early and return no results if the user hasn't added any
    subscriptions.

commit 45fb67ca8f2200a4eb9e45b075b88a510fb6f8fb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jun 24 21:41:34 2015 -0400

    Subreddit.is_subscriber: don't be incorrect.
    
    Sometimes when nothing is found DenormalizedRelation.fast_query
    returns an empty dict and sometimes it raises a NotFound exception.

commit 8df95244f73afed21354970ab42480ee8c9ad43a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jun 16 14:17:15 2015 -0400

    SubscribedSubredditsByAccount: cache full lookups.
    
    The full list of a user's subscribed subreddits can be used several times in
    a request. Store it in the `thing_cache` local cache to avoid redundant
    requests to Cassandra.

commit 974c14ada21ab1cf12b45403acc4f658ded2933d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat May 16 05:31:38 2015 -0400

    Read from SubscribedSubredditsByAccount.

commit d846f0609d9e32cc4b8dbe38341f969856782837
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 15 18:56:58 2015 -0400

    Update SubscribedSubredditsByAccount backfill.
    
    There's no index on SRMember.c.rel_id so instead sort the query
    by SRMember.c.thing2_id (the user's id). Also the timestamp for
    writing to C* is updated to an integer timestamp corresponding to
    when the dual write was deployed.

commit c0448ee2af05864b32217e80329a4307aaaba4c3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon May 18 20:16:06 2015 -0400

    Write SubscriptionsByDay when users subscribe.

commit fb8ca7fcbb0ac06482b6e6dd178acf5f8f8281e9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat May 16 05:23:37 2015 -0400

    Dual write SubscribedSubredditsByAccount and add backfill script.

commit 221b3b0d429bf4ac3f56ab2d25a5ea2606d99e43
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon May 18 14:55:54 2015 -0400

    Add MigratingUserRel class to aid migrations away from UserRel.

commit b0cddf4f9b3937318255abf392b3aabeb4882f23
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon May 18 20:11:23 2015 -0400

    SubscriptionsByDay: C* column family to track subscriptions.

commit 7126fe6d2a10d716e4e58a7ac9fb55e77266f8bf
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat May 16 05:22:47 2015 -0400

    SubscribedSubredditsByAccount: C* DenormRel to replace SRMember.

commit 23ad6e4e7aaea90da18910afc4488f71d2c1f6e3
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jun 30 16:18:56 2015 -0600

    Traffic page: add notice for June 26-28 data loss
    
    This should be reverted in about a month.

commit b29b79a8f821cbafbaba78ce012c89ef863c53cb
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jun 30 16:10:13 2015 -0600

    Traffic page: processing info in red only if slow
    
    Previously the note about how traffic processing works would be red
    whether it was currently slow or not. This makes it so that it's just
    black and bold if it's the normal message about processing being on an
    hourly basis, and red if it's the warning about things currently being
    slow.

commit edbdc01a9fa22cc6569210bc19bad973c7b4d475
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Jun 23 16:50:30 2015 -0700

    Toolbar: Remove from random redirect
    
    The reddit toolbar is no longer supported.
    
    Remove the toolbar link from the random link redirector (aka
    serendipity button).

commit 7c820574509cc2601e2a57f8ba9b94e2a41084d0
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Jun 23 13:23:35 2015 -0700

    Toolbar: Remove from share message
    
    The reddit toolbar is no longer supported.
    
    Remove the toolbar link from the share message (there is already a
    link to the comments page).

commit a20f824273c33fcbb32dd858d29c4dc033443f07
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Jun 23 12:42:21 2015 -0700

    Toolbar: Remove `then` parameter for submit
    
    The reddit toolbar is no longer supported.
    
    Remove the option to redirect to the toolbar after submitting a link.

commit ca2595669ef94f6ec1860e115ba3f6fe5cc0adab
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Jun 23 12:28:56 2015 -0700

    Toolbar: Remove toolbar links
    
    The reddit toolbar is no longer supported.
    
    Remove the toolbar link that is injected on mousedown when the toolbar
    preference is enabled.
    
    Replace the toolbar links on the compact site with direct links.

commit af94ea0a9c03881ead83662b9044fb6f83e0b2d8
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Jun 24 09:07:12 2015 -0700

    Toolbar: Disable toolbar
    
    The reddit toolbar is no longer supported.
    
    Disable the toolbar frame and remove the toolbar option from the user
    preferences page.

commit d4ec3ab5df8fe52640b7814b81ed342565648700
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Jan 5 18:48:27 2015 -0800

    Password strength: mark passwords containing email address weak

commit bb4abd8129c1e5c02da746e6a41142595c1e2a8c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jun 26 18:05:19 2015 -0400

    Count instances of inconsistent data from CommentScoresByLink.

commit 5f4f5dfd86ce0d20d0a0887a269293e0abda7e5c
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Jun 26 14:13:09 2015 -0700

    Analytics: Add ref_campaign to list of stripped params

commit 2e205716d931f0e5c570870f6abada5c84f4a67f
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed May 27 12:31:24 2015 -0700

    Search: Restore LinkListing render class
    
    Fix bug where listing columns became jagged.

commit ea163ace5c152bc76f05f79e63d7e5bc7f8ad994
Author: CrypticCraig <spongecr28@gmail.com>
Date:   Sun May 31 01:00:25 2015 -0400

    AutoMod: fix overflow of long lines on wiki page
    
    AM condition text was overflowing to the right side of the page, this
    just fixes it so it all is shown nicely in normal paragraph form.

commit 6ca436c56bf437f04ec61f12c8589f24f251d954
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Jun 25 09:49:27 2015 -0700

    Subreddit settings: Plain description field
    
    Markdown will no longer be supported in the subreddit description
    field. Don't use `UserText` to render the description textarea.

commit f0858d185cd65cc5b0f3abf3d878d27e0b8862c8
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Jun 23 14:02:46 2015 -0700

    Share: Tweak message formatting
    
    Use blockquote for additional formatting to help distinguish the user
    message when sharing a link.

commit 48691ad57dd6ddc411c47eb278c266e402d982db
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Fri Jun 19 19:39:58 2015 -0700

    Disallow start date change if campaign has started

commit ec607e73754956de385e4f7d5c0367bd967a0299
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Jun 24 11:58:35 2015 -0700

    Fix 500 error on overly-large API request body
    
    Paster doesn't mind unicode responses, but gunicorn wants byte strings
    only:
    
        Error handling request
        Traceback (most recent call last):
          File "/usr/lib/python2.7/dist-packages/gunicorn/workers/sync.py", line 131, in handle_request
            resp.write(item)
          File "/usr/lib/python2.7/dist-packages/gunicorn/http/wsgi.py", line 283, in write
            assert isinstance(arg, binary_type), "%r is not a byte." % arg
        AssertionError: u'{' is not a byte.
    
    See https://gist.github.com/JordanMilne/4a7d1b5eb317e607479b for repro

commit 35fa8149d50b97ca1dddf4e510976d70c445f20a
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Jun 22 07:33:37 2015 -0700

    Add a better check for HTTPS-ready embeds
    
    Don't depend on a hardcoded list of providers, look at the embed HTML
    to detect if we'll get mixed content or a placeholder image on HTTPS

commit 7bfb58e677adc647c706ad15a5f8a37bb4aa4f1e
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Jun 23 17:35:43 2015 -0700

    Reinstate random sort
    
    A bit ago, I accidentally broke (in reddit/reddit@dbbc16e) the random sort
    method for comment threads: we started filtering the `sort` GET parameter to
    only "visible" options (those we display in the menu), when it should be *all*
    sort options, visible or hidden.

commit 2876c37c5a9fd2823e79a4e53711a9ca6e77b54e
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Jun 22 13:21:11 2015 -0700

    Comment embeds: Delink username
    
    Do not link to user pages from comment embeds. This is a tweak to
    simplify the experience for external users.

commit af934eab3b8bf2af35a2a477d3ec02d3492404d2
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Jun 15 14:43:51 2015 -0700

    Renotify unspammed comments
    
    If a comment is unspammed, put a notification back in the inbox
    of all possible recipients (parent, username notifications, etc).
    
    Keep track of the `new` status when the comment has been marked as spam.
    When it is unspammed, try to get the previous `new` status so that it
    isn't marked as unread if it's already been read.

commit 3cb8e6f260c657551aec5210149401a04c0c6ee7
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Jun 19 14:50:43 2015 -0700

    Open graph: up max image size to 320px wide
    
    With a little bit of testing, we decided 320px-wide Open Graph images are ideal
    for Facebook.  Specifically, they seem to crop down to 160px squares, except
    when presenting images to retina devices, in which case you'll see 320x320.
    So, if we can produce a 320px-wide image, let's provide it, and if not, we'll
    fall back to a smaller size before trying other sources.

commit ecf032e378e332803d548d1f90cf8dca106adb3a
Author: allthefoxes <fox@allthefoxes.me>
Date:   Thu Jun 18 20:44:07 2015 +0000

    Change a few links to https

commit 60a50c459b22557d0c6b15f4d9e5e670e116cdf0
Author: Chris Stephens <chrisst@gmail.com>
Date:   Fri Jun 12 14:01:49 2015 -0700

    Lowercase any reference to multi ids

commit d573af1307fba19c3bc80b9722beab0488dd6b67
Author: umbrae <umbrae@reddit.com>
Date:   Mon May 4 09:44:16 2015 -0700

    Suggested sort: Do not suggest Q&A sort if the user is a responder
    
    We don't want to suggest Q&A sort to responders, because the user
    is answering questions, and Q&A sort focuses on already-answered
    questions. This resets the suggested sort for responders.

commit ac80dde50664d6b5a8d6b6139837e71fa0e7a0bb
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Jun 12 12:04:32 2015 -0700

    Toolbar: Update deprecation warning
    
    Link to the toolbar wiki page.
    
    https://www.reddit.com/wiki/toolbar

commit c6aaf9cfec3ba42da2713b8ff7410627b85b52f7
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Jun 8 12:59:57 2015 -0700

    Add percent_loggedin condition for feature flags

commit 4dabd3afab62e1223548e98cbf2fea767721adbc
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Jun 10 13:52:05 2015 -0700

    Fix loggedin / loggedout feature flag tests

commit 66cf8dd704ff722e2ba6439df2beeb92f34a569c
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Jun 11 22:18:36 2015 -0700

    Fix gold form for users blocking google analytics
    
    Ghostery has a tendency to monkey patch things it blocks.  This
    extra guard ensures we don't throw `TypeErrors` when calling
    `_ga.getByName`.

commit 26e86563dd0d102ee903220a2ba2d0dbf217e5fe
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri May 22 13:40:44 2015 -0700

    Image previews: clear on link deletion
    
    We've had a number of minor data leaks where we'd expose information from
    deleted links in metadata information.  While we can patch them as they come
    up, getting rid of the data at the source makes it harder to make these
    mistakes.
    
    Specifically, this was motivated by Open Graph image metadata being pulled from
    the preview image for deleted self-posts.

commit 4b688caba477b5b1807824a4245c84763cf422c2
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed May 20 17:11:54 2015 -0700

    Un-gate image previews
    
    We're using them in mobileweb, and are getting ready to announce them to the
    developer community, so we don't really need them gated behind a feature flag
    any more.

commit e12672018d571fe7bec710d093de33fa99d44b00
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Jun 5 16:32:07 2015 -0700

    Sharing: Remove CAPTCHA for email share
    
    We're no longer requiring a CAPTCHA for the email share feature.
    Sharing by email/username requires login and is also rate limited.

commit 7b37d04a1c61370364a9504d6478951c7f7dd005
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Jun 8 14:59:29 2015 -0700

    Sharing: Log event for email opt out
    
    Log a simple event for successful email opt out and opt in.

commit 43c91ea4798cb4f4f576c6b7b5ae460ce1f16aa4
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Thu Jun 11 11:44:27 2015 -0700

    Remap .mobile to simple.reddit.com

commit 47bfe966974004ebcd1894f550bfb0d0e7915bfa
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jun 11 12:25:12 2015 -0700

    Sharing: Prevent opening multiple share menus when spamming clicks.

commit 04766de8cbd61f82528fc03597d8b29b71485604
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jun 11 14:31:52 2015 -0700

    CombinedSearch: Change no-results message color to grey.

commit 43162e25e80f1edbfcdbfd8a11d72c4a0ff2e666
Author: Chris Stephens <chrisst@gmail.com>
Date:   Tue Jun 9 10:53:29 2015 -0700

    Refactor the image preview generation method
    
    This will allow the method to be called from other locations so we can
    use the image preview object in other locations.

commit 2321d4b117bbfc847bce615f88b8901d5478211d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jun 6 12:27:45 2015 -0400

    Don't rely on special author_id value for /r/promos.

commit 3c1267de16c2cc0de3dbadf792fcd4f693a85828
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jun 6 12:27:02 2015 -0400

    Subreddit.get_promote_srid: use an ini value rather than a query.
    
    This should be faster because it doesn't need to hit caches or
    postgres.

commit 268b44ba638fe491912c41fc549589d7e4eee8c8
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jun 5 10:41:01 2015 -0700

    Cleanup: Remove unused javascript.
    
    A pass at cleaning up some frontend code by removing unused functions.  All of
    these functions are either 1. not referenced anywhere or 2. referenced
    somewhere, but don't actually _do_ anything. In the latter case, the reference
    is removed as well.
    
    The list of functions removed:
    
    - hover_open_menu
    - update_user
    - emptyInput
    - clear_all_langs
    - check_some_langs
    - show_unfriend
    - pure_domain
    - parse_domain
    - save_usertext
    - save_thing
    - unsave_thing
    - $.fn.same_author
    - tool_cover
    - fire_success
    - check_name
    - too_big
    
    Additionally, the 'success_field' template in utils.html is removed, as it is
    imported several places but never rendered (and was the only place the
    fire_success function was being called).

commit 4245fde3e1836ea9f649b94643bbbef5b581c1ea
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jun 10 16:34:39 2015 -0400

    Use the same selftext max length for all subreddit types.
    
    Previously selfpost only subreddits got a limit of 40,000 characters
    and other subreddits had a limit of 15,000 characters. Now all subreddits
    have a limit of 40,000 characters.

commit fc09f064eeb4df5c765b75c96b0b2da9ac57b2e4
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Jun 9 15:36:46 2015 -0700

    CombinedSearch: Remove hot sort from sort menu
    
    This is an experimental change. We are considering dropping support
    for sorting by hot due to very low usage.

commit 9bd078783ffaa8c9707b7e6e94ca73f2b6c6a86c
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jun 10 12:08:53 2015 -0700

    CombinedSearch: Add some missing translations.
    
    Conflicts:
    	r2/r2/templates/searchresultlink.html

commit 52dcca31fabd082930a292d69f8959a5325b0587
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jun 10 10:47:53 2015 -0700

    CombinedSearch: Decrease font size of meta text.

commit 76a2f6831d34313f345706cc4870e4f0fdcdd408
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jun 3 11:24:06 2015 -0700

    CombinedSearch: Use rendered markdown in post selftext.
    
    Conflicts:
    	r2/r2/templates/searchresultlink.html

commit 32db79770d2948c0c31bfc8e9024d67746c8c8af
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jun 3 16:50:05 2015 -0700

    CombinedSearch: Add 'visited' state for search result links.
    
    Simplify the css a bit by making all links the same link color and adding a
    purple link color for :visited and .visited links.  Also adds posts clicked on
    from the new search results page to the 'Recently Viewed Links' widget.

commit 9c782878177a3f2d00d7e425cb00314030d2b434
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jun 4 14:54:42 2015 -0700

    CombinedSearch: Make points and comment counts more prominent.
    
    Moves the subreddit link to the end of the meta line to keep the score and
    number of comments more consistently positioned.
    
    Also adds the 'ambivote' icon before score, and linkifies the comment count.

commit 128834c31b34880f8a7d3de58911dc1ef9c219c1
Author: Matt Lee <matt@reddit.com>
Date:   Mon Jun 8 14:42:09 2015 -0700

    CombinedSearch: Add expando to self posts.

commit 2e0292af160ddab22184c853e75fd2e99758ff0a
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jun 10 11:44:27 2015 -0700

    Sharing: Handle narrow screens better.
    
    When screens get narrow, the 'Share with:' label starts to wrap to two lines.
    Since this is a translated string, we can't really just set a minimum width on
    it and expect it to always work, but we can handle the wrapping case better.
    
    This reduces the line-height to look less terrible, and keeps the labels
    centered with the rest of the content when they need to wrap.

commit 82fac18ec37404ba372d3cb285838a1de2868048
Author: Matt Lee <matt@reddit.com>
Date:   Mon Jun 8 11:57:51 2015 -0700

    Sharing: Add a redirect endpoint for facebook sharing.

commit 38928f110d1a3064685129fb6a6a438f9e4a6769
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Jun 9 09:07:24 2015 -0700

    Toolbar: Deprecation warning
    
    As part of our efforts to move to full-site HTTPS, the reddit toolbar
    will be discontinued on June 26, 2015.  The toolbar is not supported
    when using HTTPS.
    
    https://www.reddit.com/wiki/toolbar

commit 0a2d3602c606d1e0d786484acb35a3ccddeaf1db
Author: Andy Tuba <andytuba@andytuba.com>
Date:   Tue Jun 9 09:04:07 2015 -0700

    TEMPORARY: Prevent expando buttons added by RES from triggering expando behavior.
    
    http://redd.it/392zol
    
    Expandos added by extensions can be mistaken for the ExpandoLink's own button, resulting in opening parallel expandos (reddit's and the add-on) or closing an expando by clicking a nested expando. This is avoided by verifying the clicked button is owned by the ExpandoLink.
    
    Extensions can avoid this by stopping propagation on clicks to their expando buttons.

commit 5742edbd9c0617762733cb92cf41df891aba5234
Author: Andy Tuba <andytuba@andytuba.com>
Date:   Tue Jun 9 09:12:38 2015 -0700

    Create ExpandoLink when expando-button is clicked.
    
    Instantiate ExpandoLink lazily as expando buttons are clicked.

commit b3a6adb6e3bdca7344d4601a7bd22df3edaa9746
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jun 2 12:17:51 2015 -0700

    CombinedSearch: Add linkflair classes onto post results.
    
    Moves the bit of logic that builds the linkflair class string up into
    template_helpers.py to avoid duplicating.

commit b10012b9866e88a21d292cf6012c1e9cf19afc46
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jun 2 11:03:47 2015 -0700

    CombinedSearch: Don't show score if score should be hidden.

commit 3679fa8272ff24312c581da6258207f961dda94f
Author: Matt Lee <matt@reddit.com>
Date:   Fri May 22 14:43:45 2015 -0700

    CombinedSearch: Make thumbnail link to comments page.

commit 6897766c5963c964994b080daef04bc697268cb7
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu May 21 12:07:17 2015 -0700

    CombinedSearch: Format numbers with commas
    
    Add commas to subscriber counts, link scores, and comment counts using
    `format_number()`.

commit c927f13dca7017d3090f567f45d636772698b354
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu May 21 10:26:07 2015 -0700

    CombinedSearch: Format numbers
    
    Format subscriber counts, link scores, and comment counts using
    `ungettext()`.
    
    Conflicts:
    	r2/r2/templates/searchresultsubreddit.html

commit f3e06193415739228cc54cff0d6005b163f9e5c3
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu May 21 10:26:27 2015 -0700

    CombinedSearch: Hide subscriber count for private subreddits
    
    Conflicts:
    	r2/r2/templates/searchresultsubreddit.html

commit 3755cbbd4b65c9fb8d7c58ef7fbfcad540a31760
Author: Matt Lee <matt@reddit.com>
Date:   Wed May 20 11:28:11 2015 -0700

    CombinedSearch: Respect 'open in new window' preference.

commit 9a22fdf3d073524660493a6eaa9ebb0868cf7d56
Author: Matt Lee <matt@reddit.com>
Date:   Wed May 20 11:14:57 2015 -0700

    Fix NSFW and report stamp styles.

commit 306306b9c1b2e919ac1338a6ad2220c3b170ac76
Author: Matt Lee <matt@reddit.com>
Date:   Wed May 20 10:59:29 2015 -0700

    CombinedSearch: Always show header.
    
    Since the search filter and sort menus have moved into the header, hiding it
    after the first page means that users can only change the sort/filtering options
    on page 1.

commit f52c753ac44de97196c17773dbc69600ffdfc466
Author: Matt Lee <matt@reddit.com>
Date:   Wed May 20 10:48:10 2015 -0700

    CombinedSearch: Fix sort filter menus.
    
    The js that controls the showing/hiding of the menus expect each dropdown
    element to be the only instance amongst its siblings.  In other words, each
    dropdown button and list must be wrapped in a container element for it to work
    correctly.
    
    Additionally, this moves the filter menus to the right side of the header for
    better visibility.

commit 5d50fd2386414fc10859cf090ebf191cba142be9
Author: Matt Lee <matt@reddit.com>
Date:   Tue May 19 15:35:25 2015 -0700

    CombinedSearch: Fix for logged-out users.

commit dcf464fc0d89c970544adbbd2772e7c25e75fbce
Author: Matt Lee <matt@reddit.com>
Date:   Mon May 18 22:45:39 2015 -0700

    CombinedSearch: Don't show subscribe button if user can't subscribe.

commit f5056b2391a60bd6469ae9883ab847dec66553ff
Author: Matt Lee <matt@reddit.com>
Date:   Mon May 18 22:40:16 2015 -0700

    CombinedSearch: Add private, restricted, and archived indicators to subreddits.
    
    Conflicts:
    	r2/r2/models/subreddit.py

commit 487ad938748894837102393b555e45a3d633cd14
Author: Matt Lee <matt@reddit.com>
Date:   Tue May 19 12:27:14 2015 -0700

    CombinedSearch: Show link flair.

commit ab583f393142d0a2fc46d51d11ccdbb33f1efb76
Author: Matt Lee <matt@reddit.com>
Date:   Fri May 15 15:11:59 2015 -0700

    CombinedSearch: Add clarifying text to search-in-subreddit link.

commit 670c742d697a357bd71b8643eaa95db52b9c1990
Author: Matt Lee <matt@reddit.com>
Date:   Fri May 15 15:35:45 2015 -0700

    CombinedSearch: Make search button use icon instead of text label.

commit 1f311f04029e52ac267448812adf0d7b30a12e8d
Author: Matt Lee <matt@reddit.com>
Date:   Fri May 15 16:03:59 2015 -0700

    CombinedSearch: Move post search filters into listing header.
    
    Conflicts:
    	r2/r2/controllers/front.py

commit 202c3c560c9a21ec3fb6d6ac71d225e6d99d6901
Author: Matt Lee <matt@reddit.com>
Date:   Sun May 17 23:17:26 2015 -0700

    CombinedSearch: Don't inject subreddit path into external links.

commit 4521b235ecbd4137459301a62bb1d7658d738703
Author: Matt Lee <matt@reddit.com>
Date:   Mon May 18 17:11:47 2015 -0700

    CombinedSearch: Add ref tags to search result links.
    
    Conflicts:
    	r2/r2/models/link.py
    
    Conflicts:
    	r2/r2/models/subreddit.py

commit 9fe1411fa982801270765355429b823cc89f4e8b
Author: Matt Lee <matt@reddit.com>
Date:   Mon May 18 15:13:18 2015 -0700

    Search: Add ref tag to search facet links.

commit b523fa5867449ea1d5267f73e1466602ea689676
Author: Matt Lee <matt@reddit.com>
Date:   Mon May 18 15:08:44 2015 -0700

    Search: Add ref tag to links on search page.

commit 2d9198f379d94a27cae6bc5ad70b07b595dbefe4
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue May 12 10:06:23 2015 -0700

    Search: Naive highlighting
    
    An extra-simple version of client-side highlighting for new search.
    
    Not supported:
    - stemming
    - multiple words
    - phrases
    - etc

commit 09244ef11a76ec739077a5391511aa01eee3d151
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu May 7 17:24:14 2015 -0700

    Search: Restore subreddit results in search api

commit f8dacf2c561af1c22aba7f1e1475fdfba204e066
Author: Matt Lee <matt@reddit.com>
Date:   Thu Apr 16 16:56:18 2015 -0700

    SubredditSearch: Implement new search design.
    
    Adds new render classes for link and subreddit search results, a new stylesheet for
    search, and new mako templates for the search result classes and the search listing.
    
    Conflicts:
    	r2/r2/controllers/front.py
    
    Conflicts:
    	r2/r2/controllers/front.py
    	r2/r2/models/listing.py
    	r2/r2/public/static/css/reddit.less

commit 9b056f8337eee0287c80c803bee72ac099f7ac53
Author: Matt Lee <matt@reddit.com>
Date:   Thu Apr 16 13:00:55 2015 -0700

    Wrap SubscribeButton template in a function.
    
    So I can more easily render it with a different css class.

commit bccbb38b1a2c1a16f0bf091ce9f86aa994e10fe3
Author: Matt Lee <matt@reddit.com>
Date:   Wed Apr 15 16:00:43 2015 -0700

    SubredditSearch: Separate facets from SearchBar.
    
    Conflicts:
    	r2/r2/lib/pages/pages.py
    
    Conflicts:
    	r2/r2/lib/pages/pages.py

commit 8c706a6b32557dc09a365e3e9ea30005f934ad27
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Jun 8 13:10:49 2015 -0700

    Use fuzzed score to determine submission visibility

commit c9ad346e4a2b2a4f96b8bec750e566d116ff5a20
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jun 3 12:54:53 2015 -0700

    Expando: Move into separate module.

commit f2f6878924fd43a0f2022403c4aa24d676ccb6cc
Author: Matt Lee <matt@reddit.com>
Date:   Mon Jun 8 12:26:57 2015 -0700

    Cleanup: Remove unused 'authorize_embed' route.

commit f775888fee9e5c0cd0993ae7fa94baf1acfd821c
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jun 5 13:29:47 2015 -0700

    ReadNext: Add ref tag to subreddit link in header.

commit f3cb393c7dc9356db675383dfbabda7c9264ef9f
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jun 3 13:42:57 2015 -0700

    Markdown: Let really long links break to multiple lines.

commit fe9fc1d2e0e230f8a476d8cb0fd96ba07872b1be
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jun 2 16:52:51 2015 -0700

    Put facebook_app_id in live_config.

commit 467fa421393c768172703683979bcca0e39f398d
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jun 4 17:20:28 2015 -0700

    Sharing: Don't use the short domain for sharing.

commit a195d0b7bada9afec0f076bb8af3f1680c001fef
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jun 4 15:41:23 2015 -0700

    Sharing: Add ref tag to share link.

commit 989b6ee653a02f984f2e904f7f9f339c394b5c43
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jun 4 15:30:22 2015 -0700

    Sharing: Don't change the share link's text when opening.

commit b8d46812361045d6651300a3de060cff50b55d11
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jun 2 15:03:50 2015 -0700

    Add facebook_app_id to example.ini

commit c20aef70cafaab178c031c9097b5288317d47bad
Author: Matt Lee <matt@reddit.com>
Date:   Mon Jun 1 15:43:14 2015 -0700

    Sharing: Force links to include the feature flag in the cache key.

commit 20bdb3bbd194e7c96b5176ed317befe3d1745be0
Author: Matt Lee <matt@reddit.com>
Date:   Mon Jun 1 14:37:02 2015 -0700

    Sharing: Move feature check to view model.

commit a1faad17b3940b6918394e663e36a505b7047892
Author: Matt Lee <matt@reddit.com>
Date:   Tue May 26 13:38:56 2015 -0700

    Sharing: Add the improved sharing UI.
    
    Conflicts:
    	r2/r2/public/static/css/reddit.less

commit 2776b306a76b4f8013e3917f5bb3545957e1d352
Author: Matt Lee <matt@reddit.com>
Date:   Tue May 26 12:00:05 2015 -0700

    ReadNext: Don't show score if score should be hidden.

commit 31b9c8c9c0703b76f90e365368fb1ecec4c50f3e
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Jun 8 10:25:59 2015 -0700

    Fix gold infobar when not viewing self and gold expired
    
    When pref_show_gold_expiration=True and the user doesn't have gold, the gold expiration
    bar shows but is empty.

commit 457e9645db7f9e0814ed05cd120fab15b9f0997d
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Jun 3 15:39:14 2015 -0700

    Share dialog: revamp throttling
    
    Our throttling on the share dialog has been a bit odd.  We didn't allow you to
    share more than once every `RL_RESET_MINUTES`, **unless** you have at least
    `MIN_RATE_LIMIT_KARMA` in the subreddit you're sharing from.  Why was this tied
    to the subreddit?  Who knows!
    
    Rather than having a draconian limit and exempting some users from it, the rate
    limits on sharing should now be at a reasonable level for everyone (and
    configurable as we go with `RL_SHARE_AVG_PER_SEC`).  In addition, we're now
    using the fairly new ratelimit library, which allows for burstable usage, so a
    user who wants to share several things in a row but then goes back to normal
    browsing is much less likely to get throttled.

commit d945164b5d10127d4cf9358df87af0048762c6b1
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Jun 2 16:42:14 2015 -0700

    POST_share: refactor a little bit
    
    Rather than have most of the body of the function inside an `else` block, let's
    return on errors and make it a little bit flatter.

commit 98a92c975c96f06db0c624767015290122e3d3ed
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Jun 3 16:42:45 2015 -0700

    Image previews: update censoring for nsfw variant
    
    As we tried this out a bit, we found that the amount of pixellation we were
    using wasn't really enough.  This should be better.

commit 869a3d2ee52205360ae99d743dd2c631fff69f96
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jun 3 13:10:46 2015 -0600

    Improve the message sent for subreddit bans
    
    This commit contains a number of improvements for the message sent to
    users when they are banned from a subreddit:
    
    * Message is different for temporary bans, and includes duration
    * Includes information about being able to reply to the message, and the
      fact that circumventing a ban is considered a site rules violation
    * Nicer formatting by blockquoting the note from the moderators
    * Fixes the "phantom modmail notification" when someone is banned
    * Refactored into separate function, which cleans up notify_user_added

commit 5f38ad90796960f5b371792284c85fa8eb1b61ab
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 1 14:53:58 2015 -0400

    CommentJsonTemplate: use new rendering technique.
    
    This also changes MoreCommentJsonTemplate which was inherting from
    CommentJsonTemplate.

commit e233058f07a75577a786906b81da9fd21ffd7f9d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 1 14:30:10 2015 -0400

    Add new ThingTemplate base class.
    
    This will be used to convert templates that inherit from
    ThingJsonTemplate to do explicit (non looping) rendering that is
    much faster.

commit 0236f5fd182ed7924ae7a6a80b57c76d0b4a576a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri May 29 13:41:34 2015 -0600

    extract_user_mentions: return unique mentions only
    
    This change was intended primarily to address an issue related to
    duplicate username mentions - each individual mention was being counted
    towards the per-comment limit, instead of it only counting mentions of
    different users. So mentioning the same user 4 times in a comment would
    cause butler to bail out instead of sending a mention to that user.
    
    So this makes it so that extract_user_mentions now returns the
    mentioned usernames as a set instead of a list, and also removes the
    support inside the function itself for only returning up to a maximum
    number of mentions. It is now up to the caller to worry about handling
    the number of mentions returned (which actually simplifies things almost
    everywhere this is currently being used).

commit 6c1b7c2093fe56c41384e12d48f2eb5c230d6d57
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Mon Jun 1 14:50:48 2015 -0700

    Add query param for v on defenestration request

commit 909496cff331659dfb9813eb2e8953ea5a372cde
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri May 29 15:17:52 2015 -0600

    AutoMod: don't approve things removed by mods
    
    This was mostly already covered by the check in should_check_item that
    makes AutoMod skip over items that have been removed by moderators, but
    it didn't cover rules that triggered on a comment and used that to
    approve the parent submission. Rules using that sort of check/action
    would cause parent submissions that had previously been removed by
    moderators to be re-approved, which isn't desirable.

commit 085ebb7f3859189a0caade88ab494ccb4827f053
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri May 29 14:01:51 2015 -0600

    AutoMod: fix bug with "skipped" search checks
    
    The variable that holds the result of attempting to match the search
    check was not being reset for each individual check, so if a check was
    skipped due to its fields being discarded, it would keep the same value
    it had from a previous check.
    
    In practice, this means that a check like this will not match on a link
    submission to baddomain.com:
    
        url+body: "baddomain.com"
        ~body: "I'm an exception"
    
    The match from the url check would still be present after the ~body
    check was skipped, so this would end up causing the rule to be
    considered unsatisfied, since the ~body check would seem to have matched
    successfully.

commit e9d33b0d7ea18a9b8e36cdb1431ffb856015316c
Author: Chris Stephens <chrisst@gmail.com>
Date:   Mon Jun 1 12:25:32 2015 -0700

    api: Allow multiple things to be passed to hide/unhide

commit 8e5a90741ea8a734c56f7c322f298cfac8317df1
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Jun 1 12:50:55 2015 -0700

    Stripe: Add customer.source.updated event type
    
    No further processing is needed for this type of event

commit e150c1e2e9205c5026d7fae0407d4917c8b94ead
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri May 29 16:17:04 2015 -0700

    Comment embeds: protect against empty "created" timestamp
    
    [A BuzzFeed article][0] with a bunch of comment embeds has been causing
    difficulty for the data team, since none of the embeds have the
    `data-embed-created` field in the embed.
    
    Figuring out why that's happening is another issue we should tackle, but in the
    meantime, let's avoid sending a nonsense value if we don't have something
    useful.
    
    [0]: http://www.buzzfeed.com/sarahgalo/books-according-to-reddit

commit 22f64446e30e9a2077fcf0f06b4cdc769b821315
Author: umbrae <umbrae@reddit.com>
Date:   Mon Jun 1 12:24:41 2015 -0700

    Mobile banner: only show on front page

commit 80c5dfac62672193468f4770a9c2febb05b2814c
Author: umbrae <umbrae@reddit.com>
Date:   Mon Jun 1 11:25:31 2015 -0700

    Mobile suggest: replace with mweb beta banner

commit 390e6ea962d2428231f8deda52011231ad33d305
Author: umbrae <umbrae@reddit.com>
Date:   Tue May 19 11:33:52 2015 -0700

    OEmbed: provide author_url if author exists

commit fa63e43055b6ea8d94e22d6bde28c66747d9c1b6
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu May 28 16:29:40 2015 -0700

    Q&A sort: always show OP replies
    
    As a few users have pointed out, it doesn't make much sense for OP replies to
    be hidden in Q&A sort due to downvotes, since the entire point of the sort is
    to make it easier to find what they're saying.
    
    So now we'll override the comment score threshold for those particular comments
    while in Q&A sort.

commit f07095d9f5868040d3755e56b76540c5711b757c
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri May 29 11:36:00 2015 -0700

    scraper_q: look for og:image:url
    
    This is another way of specifying thumbnails, and one we've even used - so we
    should look for it when scraping other sites.

commit f4cc22f8b466d614110b60e9eb60faeb2186d0dc
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri May 29 11:03:12 2015 -0700

    Open graph: use more common image syntax
    
    From experimentation, it appears Facebook is taking `og:image:url` as only a
    suggestion (as opposed to `og:image`, which it always uses), and thus people
    posting reddit links on Facebook are ending up with thumbnails from other
    submissions, courtesy of the read next box.
    
    So, let's hack it back to the way it was before reddit/reddit@9470bb87.
    
    Also, to note, currently reddit's scraper *also* ignores `og:image:url`.  So,
    yeah, there's blame to share around.

commit 86057391cd4210bf6d8c579da6f1c588d7817f25
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu May 28 12:05:49 2015 -0700

    Share button: record basic stats
    
    We'd like to know how many emails and PMs are actually getting sent by the
    share system.

commit 071b5fe5203fa9d8d26779a40a6528288402df4b
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu May 28 10:21:02 2015 -0700

    Force default og:image to https (mark 2)
    
    Some scrapers don't like relative urls in the Open Graph tags.  We fixed this
    most places in reddit/reddit@c1e2796da, but forgot one place: subreddit listing
    pages.  Now they should all be good.

commit c6f959504466333c0d7d51c131240473aaf78b04
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed May 27 10:48:20 2015 -0700

    Search: Backfill subreddits
    
    For combined search, if there are no subreddit search results, backfill
    with subreddit facets from the link search results.

commit c7d6c8f4691b06cb0c07284e1fb6c25a19fab777
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed May 27 12:58:38 2015 -0700

    Search: Log event for search timeout
    
    Log a simple event when there is a CloudSearch timeout or other
    socket error.

commit 85ecd17ea5e5c68f58dab8779e602ce42795db71
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue May 26 14:58:50 2015 -0700

    Fix too big error for multiple image upload forms
    
    There was a hardcoded form id in the "413 Too Big" error response,
    which was causing the error message to be rendered next to the wrong
    upload form if the page contained multiple image upload forms.

commit bad27475a53b76f8d756ca5f96313da2169e84be
Author: Matt Lee <matt@reddit.com>
Date:   Mon May 18 17:44:05 2015 -0700

    Sharing: Don't include user message when formatting strings.

commit 93495a5f5639c700242b52755a5a7e311c7ccb1c
Author: Matt Lee <matt@reddit.com>
Date:   Mon May 18 11:58:11 2015 -0700

    Keep query parameters when redirecting from toolbar endpoint.

commit 5d9ec8db76aa92ab3fad9b9984d465fa058979ac
Author: Matt Lee <matt@reddit.com>
Date:   Mon May 18 11:32:25 2015 -0700

    Sharing: Add ref tags to links in share message.

commit 8b8c27222a0dd97cf8cecb65296e70d017f61bf8
Author: Matt Lee <matt@reddit.com>
Date:   Wed May 6 10:34:09 2015 -0700

    Cleanup: Remove old button files.

commit 626222482e95804b636c57e7062b9e26718c86f4
Author: Matt Lee <matt@reddit.com>
Date:   Wed May 13 17:33:12 2015 -0700

    Add 'loggedin' and 'loggedout' feature flags.

commit 106a84aef934258a84f43d9fabe8780f946807c7
Author: Matt Lee <matt@reddit.com>
Date:   Thu May 14 12:38:21 2015 -0700

    Analytics: Add ref_source to list of stripped params.

commit b2444da1ab5c81262952801f8449e0f9c3714bf9
Author: Matt Lee <matt@reddit.com>
Date:   Tue May 5 12:11:49 2015 -0700

    Bugfix: Fix broken 'buttons' link in footer.
    
    The 'buttons' link breaks on the /subreddits page.  Since the only place on
    the page it appears to be being used it the header, just setting the
    sr_path param to False looks like the easiest fix.

commit 1b98136268692ce54b66f54c2b6c4c6e83809c23
Author: Matt Lee <matt@reddit.com>
Date:   Tue Apr 28 15:40:16 2015 -0700

    FullContext: Fix display of vote arrows.
    
    Conflicts:
    	r2/r2/public/static/css/reddit.less

commit 197b1776e8cc3cba1a4467a0c157a2ad5b735df9
Author: Matt Lee <matt@reddit.com>
Date:   Fri May 1 13:58:48 2015 -0700

    Cleanup: Remove feature flag check for 'old_markdown' feature.

commit 937b775294a7f082d6a0a653d33813c8f686e199
Author: Matt Lee <matt@reddit.com>
Date:   Fri May 22 14:26:48 2015 -0700

    ReadNext: Reduce number of links to 10.

commit 69f6c18e89b70cf06286647a0a2d0014c32fd32a
Author: Matt Lee <matt@reddit.com>
Date:   Fri May 22 14:11:35 2015 -0700

    ReadNext: Make dismiss action expire after two weeks.

commit f1d034789daad94771153e22d3864fb27367cbf0
Author: Matt Lee <matt@reddit.com>
Date:   Fri May 15 10:25:05 2015 -0700

    ReadNext: Add relative position to ref tags.

commit 392b19a7df7599def93af017ef1b7fcb1f144e56
Author: Matt Lee <matt@reddit.com>
Date:   Thu May 14 13:55:41 2015 -0700

    ReadNext: Fix incorrect selector used to find starting link.

commit 399dff4d6abb6161a990f1a98dd3ff6f66b8c3ec
Author: Matt Lee <matt@reddit.com>
Date:   Wed May 13 16:21:05 2015 -0700

    ReadNext: Increase number of links shown to 25.

commit 74b405a56e9cd2ca84b2faa0186c3ca6560e04f0
Author: Matt Lee <matt@reddit.com>
Date:   Wed May 13 15:50:10 2015 -0700

    ReadNext: Start on the next link after the current one.

commit aae83adf84b6485658defe141fb6980b5d77be46
Author: Matt Lee <matt@reddit.com>
Date:   Wed May 13 12:09:08 2015 -0700

    ReadNext: Disable fixed positioning on mobile.

commit d23130a772473579029077a783fe6fa332fd79a5
Author: Matt Lee <matt@reddit.com>
Date:   Wed May 13 11:52:31 2015 -0700

    ReadNext: Make non-selectable cross-browser.

commit 9d744c5cecd9975f3bd9f7076496c8ba490d910a
Author: Matt Lee <matt@reddit.com>
Date:   Wed May 13 11:36:27 2015 -0700

    ReadNext: Respect 'open links in new window' preference.

commit 820594902ce452566b8648f9f7e7da69c519ec3d
Author: Matt Lee <matt@reddit.com>
Date:   Sat May 9 23:37:49 2015 -0400

    ReadNext: Fix incorrect positioning on page load.

commit ed843b1c0e4b3477ed2bf8aeda99d1e12b53ced0
Author: Matt Lee <matt@reddit.com>
Date:   Wed May 6 17:29:41 2015 -0700

    ReadNext: Make dismiss action session based.

commit 7802955c2cc38ab88f84f1a873bf36fe5579618b
Author: Matt Lee <matt@reddit.com>
Date:   Fri May 1 10:49:11 2015 -0700

    ReadNext: Updates for beta launch.
    
    * add ref tag to links
    * add GA events.
    * reduce thumbnail size to prevent cropping
    * prepend title with NSFW stamp if NSFW.
    * change 'also in' to 'discussions in'.
    * Move nav arrows to left side.

commit 8b0bf2c49d14870fb3070bcd5c9a33ed71bab243
Author: Matt Lee <matt@reddit.com>
Date:   Thu Apr 30 15:36:28 2015 -0700

    ReadNext: Use cached query instead of breaking everything.

commit edcca4dbd675b197bdcb07879c7a707c2eebf64b
Author: Matt Lee <matt@reddit.com>
Date:   Tue Apr 21 14:20:37 2015 -0700

    ReadNext: Add "read next" widget to sidebar on comments pages.

commit c93a63d6e3d4b8ae10532a9af39b5adeca334939
Author: Matt Lee <matt@reddit.com>
Date:   Mon Apr 27 14:47:44 2015 -0700

    Selfserve: Make 'desktop' the default value for platform targeting.

commit 29af81fc01c57c2707772c85cec7289e593ae77c
Author: Matt Lee <matt@reddit.com>
Date:   Mon Apr 27 14:25:56 2015 -0700

    Add disable_comments field to PromotedLink JSON template.

commit 7c44b330097fda3f00ce434b55f991d98d5628b2
Author: Matt Lee <matt@reddit.com>
Date:   Wed Apr 22 08:57:21 2015 -0700

    Make mobile web redirect banner statically positioned.

commit b86e95ee577912c9abbb3bc61f3e4334d2993d57
Author: Matt Lee <matt@reddit.com>
Date:   Tue Apr 21 12:31:37 2015 -0700

    Fix comment threads on .compact

commit e4dc3701030520e117d6dd749b597bd0c18d5d33
Author: Matt Lee <matt@reddit.com>
Date:   Mon Apr 20 17:46:13 2015 -0700

    Add banner to i.reddit informing users of h.reddit.

commit bae925cd79e0a7e7bcb88bcb7dfee1ab28a9a231
Author: Matt Lee <matt@reddit.com>
Date:   Thu Apr 9 15:55:36 2015 -0700

    Selfserve: Set default targeting to desktop for non-sponsor accounts.

commit 545d05ddf747122627311f4ad23d1994b8042067
Author: Matt Lee <matt@reddit.com>
Date:   Thu Apr 9 15:27:57 2015 -0700

    Fix missing mobile_os error on non-sponsor accounts.

commit 66a0ceb35c6be2de73805b97918eb795a3afadbf
Author: Matt Lee <matt@reddit.com>
Date:   Thu Apr 9 12:04:17 2015 -0700

    Fix error on new_promo page.

commit cb6915580f409d3b4b73867c945808c77a606216
Author: Matt Lee <matt@reddit.com>
Date:   Tue Mar 10 17:29:23 2015 -0700

    Selfserve: Add mobile web targeting for sponsor accounts.
    
    Conflicts:
    	r2/r2/lib/promote.py
    	r2/r2/models/link.py
    	r2/r2/models/promo.py
    	r2/r2/public/static/js/sponsored.js

commit 4d792e8e86b3629fac804135f3c43bd0e253d90a
Author: Matt Lee <matt@reddit.com>
Date:   Tue Apr 7 14:15:53 2015 -0700

    Make timestamps on messages page live-update.

commit 722e28f23e05c0d3afe55bd5a4d01c9be30668de
Author: Matt Lee <matt@reddit.com>
Date:   Tue Apr 7 15:23:49 2015 -0700

    Fix wiki pages incorrectly highlighting in the footer.

commit 0df5ed18594e32c921554a46b3ce7646b1f585d3
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue May 19 16:06:10 2015 -0700

    Record VRatelimit metrics
    
    With these metrics, we'll be able to see the number of times:
    
    1. We set a user-based limit
    2. We set an ip-based limit
    3. A user is exempted from ratelimit checks
    4. We check a user-based limit
    5. We check an ip-based limit
    6. A user-based limit is hit
    7. An ip-based limit is hit
    
    Dealing with sampling rates is a little bit tricky, since we're recording
    per-prefix and some endpoints are hit much more frequently than others.  I did
    a simplistic grep to get the endpoints that use `VRatelimit`, then took a look
    at the rate of requests for all of those; it looks like a 10% sampling rate
    shouldn't overwhelm our graphite servers on the popular endpoints, and won't be
    *awful* for the infrequently-requested ones (as long as we look at long time
    periods for them).

commit 4222697f8cc40e961527d4ffe94da0b45d1f3787
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue May 19 14:43:04 2015 -0700

    Prune off VDelay
    
    We stopped using this in reddit/reddit@f95cb2b, with better logic going into
    `lib/ratelimit.py` and directly into `VThrottledLogin`.

commit cfee3313ee39abdf6ad83c23daafc7b840103c74
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue May 19 14:19:24 2015 -0700

    Record VThrottledLogin metrics
    
    With these metrics, we'll be able to see the number of people who
    
    1. Enter into the throttling system
    2. Trigger an entry in the throttling record (due to an incorrect password)
    3. Hit the throttle
    
    Additionally, from those we can compute the numbers of people
    
    4. Who get added to the throttling record, but don't hit the limit (2-3)
    5. For whom a max number of attempts of one would be sufficient (1-2)
    
    The sampling rate looks like it will probably be necessary (and won't be a
    problem, statistically) based on the number of requests to `POST_login`.

commit 495d76197440609aca35f52fd094dbaa5b82c30f
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri May 15 15:57:03 2015 -0600

    Track subreddit participation directly
    
    The previous method of determining whether a user had interacted with a
    particular subreddit (to decide whether to send them a "you've been
    banned" message or not) was by checking to see whether they had any
    karma (positive or negative) in the subreddit, or if they were currently
    subscribed to it. This missed a fair number of cases, most significantly
    that making self-posts would not count as having interacted with the
    subreddit, since they have no effect on karma.
    
    This commit uses a DenormalizedRelation to track whether a user has
    interacted with the subreddit (actually *when* they last interacted with
    it, though that data is currently unused). It adds one new type of
    action that is considered interaction - sending a modmail to the
    subreddit.  It also removes the error/warning from the ban page about
    trying to send a ban message to someone that has never interacted with
    the subreddit, since that should no longer really be a concern.

commit e07ec852728e4dec43d0c7460c22b7bcd9dda5d2
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Tue May 26 13:04:07 2015 -0700

    Fix broken platform targeting for inventory

commit d5f1912ddf67fcf54ea0c77f5ed3bcf28982f8f0
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed May 20 11:18:09 2015 -0700

    Revert "Comment sort preference: dual-write to migrate"
    
    This reverts reddit/reddit@52d419fe73419ea3e5d88cbb7e8cb0bedba090c1
    
    It's now been over a month since we launched the new comment sort preference.
    We've long ago hit the long tail of accounts needing a migration from the old
    preference to the new one, and the ones that remain are either very inactive or
    completely inactive (lost password, etc.), and thus, shouldn't really be
    bothered much by getting put back on the default sort of "best" (`confidence`).

commit 64290bad0cda6967c583347b6e434f8cf4a4d5e5
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue May 26 13:01:44 2015 -0600

    Liked/disliked pages: 404 for deleted users
    
    The ordering here was previously causing a 500 when loading the obsolete
    liked/disliked pages for deleted users, because VExistingUname would
    return None for a deleted user, which caused the redirect code to fail.

commit df671653f2f6b781c08659372be27d765e7598f1
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Mar 25 11:08:18 2015 -0700

    Image previews: smart crop down to 1:2 aspect ratio
    
    Per request from the mobile team, image previews should be cropped down to a
    1:2 width-to-height ratio as necessary.

commit bfa5230fa834dbc4d5d0a6529b6997467bab2305
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu May 21 12:00:49 2015 -0700

    Image previews: add nsfw variant
    
    We'd like to be able to show some sort of preview for NSFW images, rather than
    just a placeholder image.  Thanks to imgix, it's easy for us to create
    pixellated versions of the preview images for app developers to display.
    
    We went back and forth a bit on whether a NSFW image should have the censored
    version in the main image block (with the uncensored version as a variant), or
    have the censored version be the variant.  We settled on the latter because an
    app that doesn't build in NSFW link support will perhaps just shock a few
    users, as opposed to preventing NSFW-seeking users from obtaining the content
    they want.  It's also less of a backwards-compatibility change.

commit 0702bc4886fb358c1f8af47e5d7df63493265d68
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Apr 2 12:12:48 2015 -0700

    Image previews: fix old urls
    
    We've changed the url structure of image previews a number of times, which
    breaks everything uploaded prior to the latest version.  This script should
    find all preview images that have been uploaded thus far, move them to the
    appropriate place, and save an updated and correct storage url in every Link
    that uses them.

commit f188e58d36c7372d533526db1017d2e37737ca6d
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Apr 15 12:09:52 2015 -0700

    Remove old usertext_edited routing key from queues
    
    After switching over the producers in the parent commit and letting everything
    settle to the new split routing keys, we can remove the old `usertext_edited`,
    as well as the logic in each queue that discards the type of message we no
    longer receive.

commit 9887302d1ca7839e4e496f1d6fd02a8a68f61531
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Apr 15 12:03:52 2015 -0700

    Split usertext_edited into link and comment parts
    
    Sometimes we want to look at edits of comment (`butler_q`).  Sometimes we want
    to look at edits of self posts (`media_q`).  Previously, we'd have to subscribe
    to the general `usertext_edited` routing key, then return early if it wasn't
    the sub-type you cared about, which causes needless queue traffic.
    
    Now we're splitting it into `link_text_edited` and `comment_text_edited`.
    
    This first commit keeps the queues bound on the old routing keys so they can
    continue to process messages sent with those keys during the roll-out.

commit 31b41f4789ae3e6a5cc810bf33ff582b43d5086b
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Apr 20 10:59:19 2015 -0700

    Image previews: add url signing capabilities
    
    We've been trying to avoid using signed urls for preview images simply because
    it's easier to not.
    
    However, per further discussion we realized it was actually a pretty good idea,
    so we're doing it.

commit 970ed3bdad7e29dc2d9e4200e8d38d57dc6c2bf3
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu May 21 11:56:24 2015 -0700

    Image previews: prefer direct image links
    
    As requested by @dforsyth, when extracting links from self-posts for image
    previews, we'll now use an imgur or image-looking link if available, overriding
    the default behavior of choosing the first link in the post text.  This helps
    us deal with AMAs in particular, where sometimes posters will link to their
    website, YouTube videos, etc. and have a "proof image" at the bottom of the
    post.

commit b40da70feb029f89904f5942993ad7627c87cca9
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Mar 26 14:44:30 2015 -0700

    Split uploaded media into separate buckets
    
    We've operated for a while with just one set of s3 buckets for storing static
    media (thumbnails, stylesheets, images uploaded for stylesheets).  However, due
    to the additional-hop nature of image previews through imgix before reaching
    s3, we're finding it'd be convenient to have imgix-served images in a separate
    s3 bucket.
    
    The media providers now take a *category* on `put()`.  We have a mapping from
    category to bucket names, which will (at least for the time being) remain
    `s3_media_buckets` for everything other than image previews.

commit e6a5b039f0f194983fc130d3d8273415cd7474af
Author: umbrae <umbrae@reddit.com>
Date:   Wed Feb 25 07:27:48 2015 -0800

    Extract media from self posts
    
    Grab the first link in a self post and use that for image previews, just like
    we do with normal links.

commit e0c477086f859fbfb481716990301b91729e76ca
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Mar 19 14:54:25 2015 -0700

    Scraper: gracefully handle no embedly thumbnail
    
    While poking around in the `scraper_q` logs, I saw another unhandled exception.
    
    It turns out that the `thumbnail_url` attribute in embedly's oembed responses
    is actually [optional][0], and so sometimes we've been trying to fetch a url of
    `None`.
    
    Now we simply check for a missing url and abort early if that's the case.
    
    [0]: http://embed.ly/docs/api/embed/endpoints/1/oembed#response

commit af5d725ba328f284ff03a48e5124372bb671fafb
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Mar 17 16:11:58 2015 -0700

    Image previews: fix errors on non-http urls
    
    If the url we're checking doesn't start with `http://` or `https://`,
    `_initialize_request()` returns `None`.  Now we properly check for this and
    abort instead of trying to proceed with that as if it was a successful request.

commit 541593400895276cc7a374be3a5446b93d1fb14c
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Mar 17 15:57:00 2015 -0700

    Image previews: handle no-image case
    
    Previously, if we didn't find a thumbnail url for a link, we'd encounter errors
    at a few places in the `scraper_q` pipeline.  Now we short-circuit those
    sections of code.

commit d3f9e1e1ce01baf0a33b9bde9fd3cf7a46ca09a3
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Feb 27 15:54:53 2015 -0800

    First cut at hosting multiple-size thumbnails
    
    We'd like to display multiple sizes of thumbnails for the mobile apps, rather
    than just the one size we currently use.  The first step to this is storing the
    source image, rather than just the one resized version, so we can create all
    the differently-sized versions from it.
    
    The resizing is implemented using the provider system because that gives us
    flexibility - just as open-source and dev installs can use local file storage
    rather than S3, so they can use a no-op resizer or one that pulls in correct
    image sizes from a placeholder image site.

commit 2f7837e826cd0be34eabbb1975578545e5f5631c
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Tue May 19 14:02:27 2015 -0700

    Enable toggling and optional inventory breakdown between platforms

commit 052151da53cd025e99bdabc6acef5d7cf21c0f37
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu May 21 13:05:39 2015 -0700

    Search: Decouple sort menu from search provider
    
    Decouple the sort menu options for link search from the search
    provider configuration and remove global g.search_sorts. This
    allows SubredditSearchSortMenu to be used again.

commit f4325ab2e848be48bed40be5b68cc5d439d0df97
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu May 21 19:10:03 2015 -0600

    VExistingUname: strip surrounding spaces
    
    This was causing all pages that use this validator to be unable to
    handle leading/trailing spaces around the username, since when chkuser()
    is called it will always return None due to their presence. Changing
    this will make a lot of pages more tolerant with usernames, like the
    message compose page, pages for banning users, adding them as approved
    submitters or moderators, etc.

commit e772017d2e5f51a55e9fe542b657f97b75233faa
Author: Jakeable <Jakeable@users.noreply.github.com>
Date:   Tue Apr 14 17:46:04 2015 -0500

    "Config" mod permission tooltip: add AutoModerator

commit 35339beeeb35ea3570b4bc989b8febc656f3df32
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jan 28 18:40:59 2015 -0700

    Remove public uses of "liked" and "disliked"
    
    Replacing with "upvoted" and "downvoted" everywhere respectively.
    
    This keeps the /liked and /disliked paths for user pages working for API
    clients, but does a 301 redirect for non-API clients.

commit 5e954ec104aed4aee583eedf98d58e016b33cf1d
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon May 18 12:19:13 2015 -0700

    event-collector: Change "ip" to "client_ip"

commit c216a5f6e7981dc6ed8491ece119e572f3471c58
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon May 18 12:08:36 2015 -0700

    event-collector: Send timestamps as ms since epoch

commit 868b0f5a95efcb73bfebf9200df52e4a0785b03f
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri May 15 13:22:09 2015 -0700

    event-collector: Begin sending submit events

commit 15ca73f898373cebf2503d19a0b10517c44f7ec5
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri May 15 11:26:13 2015 -0700

    event-collector: Add concept of "submit" event

commit 9470bb87ce2e989321d95d9453d230dc6a959b69
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed May 13 16:35:51 2015 -0700

    Open Graph: use preview images
    
    We use the [Open Graph protocol][0] to hint to Facebook and other sites what
    images they should show as an on-site preview of reddit content.  For most of
    our comments pages, that ends up being the thumbnail image, which is pretty
    small.
    
    We're now collecting preview images that are sometimes larger than the
    thumbnails, so let's start using them when we can!
    
    [0]: http://ogp.me/

commit b2075d49c96df5ac03ce655d8d550169b7efcf92
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 20 02:36:47 2015 -0400

    Comment.add_props: Use the "subreddit" attribute added by the builder.

commit ab310a6b9d91ece626a12f37f6b45d35ef0fbd60
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 20 06:48:02 2015 -0400

    ThingJsonTemplate: use user_is_moderator attribute set on links/comments.
    
    This lets us take advantage of the lookups that were batched in
    Link.add_props and Comment.add_props rather than calling
    Subreddit.is_moderator() multiple times.

commit b46e996edb697ec115d57edee651eaae88a8531b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 20 06:47:30 2015 -0400

    Comment: check is_moderator in add_props and add attribute.

commit 9b1e120d928cd98a9fe3b4c6d5a97c6f27f399a5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue May 19 17:59:42 2015 -0400

    Link: check is_moderator in add_props and add attribute.

commit 3532845fe21db25050d4c9f6e934c7616bad7431
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue May 19 13:55:16 2015 -0400

    Don't use replace_render when rendering api templates.
    
    replace_render lets us stub out portions of the rendered output that change
    frequently (e.g. score, rank in a listing, etc.) to make it more cachable,
    but only html rendered output is cached.

commit 38b41b2ae5a12fc555d569a469a8676eedf5de93
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 20 06:18:58 2015 -0400

    Add special handling for TrimmedSubredditJsonTemplate SRMember attributes.
    
    This template class doesn't use Subreddit.add_props so we can't depend on attributes
    set there.

commit 1dcd8931a44a303aea4ab1ebb76d62b049b601ab
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 20 05:55:01 2015 -0400

    GET_about: use wrap_things to properly build subreddits for rendering.

commit 6c09a273299fbb9c070c756668d4b43778836894
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue May 19 18:40:16 2015 -0400

    Subreddit: check for is_banned in add_props.

commit 0b7cb58f441799df8051fb4a7ce6394f8f9ab2ea
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue May 19 18:37:45 2015 -0400

    Use batch lookedup moderator/subscriber/contributor for Subreddit json.

commit 062718eaac35ee3fc4618e3118b3173279c8fcd8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue May 19 18:33:04 2015 -0400

    Subreddit: simplify "contributor" attribute check.
    
    Don't worry about whether the subreddit is not public.

commit bc020743efda21696776c4ed0efdbae8394c533c
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed May 20 12:25:48 2015 -0600

    AutoMod: error if both "type: any" rules fail
    
    If a rule definition specifies "type: any" (or does not specify type at
    all), we try to create two separate rules for both comments and
    submissions using the rule definition. If a particular type fails to
    create, we just throw it away silently, considering this to mean that
    the rule definition was actually only intended to apply to one type or
    the other. However, if there is an error in the rule that results in
    *both* the submission and comment attempts being thrown away, this means
    that the entire rule will just end up being silently ignored. This adds
    an error for that case, so that the user knows they need to fix their
    definition.

commit 31a597c3a88ebbbd476d6d6816aad02623d0f4bb
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed May 20 12:19:48 2015 -0600

    AutoMod: fix RuleTarget matches not being cleared
    
    A RuleTarget's matches dict (which stores the results of the search
    checks on that item) was only being cleared in the __init__ function, so
    it was actually being retained across checks against multiple different
    items. This meant that {{match}} placeholders would occasionally be
    replaced by the result of a match from an entirely different item. This
    change makes it so that the matches will be cleared at the start of each
    check instead.

commit 9e4d166b7de6df5e82dfb22e3fffadac8272695a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon May 18 12:53:47 2015 -0600

    AutoMod: disable inbox replies on comments
    
    AutoModerator doesn't care about any of the replies to its comments
    coming into its inbox, so we might as well avoid all this unnecessary
    updating.

commit ca4f7902c910a57678945b2586b06daedd702d11
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri May 15 14:53:10 2015 -0600

    AutoMod: force domain and add context to permalink
    
    The {{permalink}} placeholder (which is auto-included in messages and
    modmails) has been using relative links, but some apps don't handle
    these properly, so it's better to go back to using a full link with the
    domain.
    
    In addition, this makes it so that non-top-level comments will have
    context=3 added on their permalinks.

commit 53b0e4a37f7b9525ee271614900135edbb819d7d
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri May 15 11:58:59 2015 -0600

    AutoMod: add "filter" action
    
    This action lets AutoMod behave more like reddit's spam filter, so it
    can remove something but leave it in the modqueue (and unmoderated if
    it's a Link) for easier review by moderators.

commit 01c289ee340429e7c207dd9fb5dc8250143d3fe1
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu May 14 13:30:00 2015 -0600

    AutoMod: add action_reason (replace report_reason)

commit 48e11ef5afd462e0b7f1ff9f016ed497f4faaec8
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu May 14 13:10:05 2015 -0600

    AutoMod: add support for aliases on RuleComponents
    
    This also rearranges the init logic for RuleTargets slightly, which will
    have a side-effect of strengthening the validation a little bit. For
    example, after this change it will not be possible to set "is_top_level"
    on a submission, since that only makes sense for comments. Previously it
    would have validated but been silently ignored.

commit 44a168dfa735e9cd2792e87d94d3e69f70d70975
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed May 20 10:25:40 2015 -0700

    Search: Remove unused sorts_menu_mapping
    
    sorts_menu_mapping was replaced by g.search_sorts.

commit ce5c2636a3d0209946fdc58b596657da365f7405
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed May 20 10:15:16 2015 -0700

    Search: Expose sort parameter for subreddit search
    
    Remove feature flag for subreddit relevancy and expose the sort
    parameter for subreddit search.
    
    This restores the `activity` sort option that was broken when
    search was providerized.

commit 0297a2ee969edf4c9547992ce15045e860281631
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon May 18 15:56:40 2015 -0700

    Overview page: Add [A] next to username if admin

commit 229a2468e33146e9235aac3de7c9f3819fe6cc9a
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed May 13 12:32:34 2015 -0700

    Multi API: Ignore empty multireddit GET parameter

commit d7acfce8562204402e617a763b40b2d4fe03f4f7
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed May 13 15:29:54 2015 -0700

    Fix some issues with unicode in URLs
    
    First, `UrlParser.update_query` didn't like 7-bit unclean values.
    `unicode()` should work everywhere `str()` did.
    
    Second, the check for emedded NBSPs in `UrlParser.is_web_safe_url`
    could be bypassed since `b'\xa0'` couldn't automatically be promoted
    to unicode (thus `u'\xa0'` != b'\xa0'.) The check was fixed to handle
    the NBSP char in either unicode or byte strings.

commit d0108cfe3be00fae3938ce689edb6aeb6232e49e
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon May 18 11:58:53 2015 -0600

    AutoMod: fix overly-greedy match placeholder regex
    
    The regex to find {{match}}-type placeholders is currently being
    overly-greedy in cases with multiple placeholders in the same string.
    For example, something like "Your post was removed because {{match}} is
    in the title, please remove {{match}} from the title and resubmit." will
    fail due to the regex spanning from the start of the first placeholder
    until the end of the second. Replacing the "." in the regex with "[^}]"
    will ensure that the matches stay confined to the same placeholder.

commit ac6ba787081500589a3de3fe88dbb129ccdea7d7
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed May 13 17:27:13 2015 -0600

    AutoMod: lock around items in queue consumer
    
    Race conditions between multiple automoderator_q consumers are causing
    repeat actions (especially noticeable for things like leaving comments
    or sending modmails) when multiple consumers end up processing the same
    item at the same time (due to things like edits putting it in the queue
    multiple times).

commit 5985a51513bb006dbf87265b8e3518022901f1b8
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed May 13 14:56:12 2015 -0600

    AutoMod: catch and log invalid config errors
    
    In the case of changes that cause previously-valid rule definitions to
    start raising an exception, there may be some configurations that were
    saved before the change was made, and so now contain an invalid
    definition. This will cause the automod queue consumer(s) to hang if an
    item from any of those subreddits needs to be checked, since it will be
    unable to initialize the Ruleset to be able to process it. This commit
    makes it so that items from subreddits with invalid configurations will
    be skipped and an error logged.

commit 99431f6796845aa6a0a5cf1ba277f70129946977
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed May 13 14:39:30 2015 -0600

    AutoMod: fix needs_media_data for compound checks
    
    Previously, a rule would be considered to need media data if any checks
    included a media check at all. For example, a check that looked at both
    the submission's title and the media_title for a particular word would
    not be applied to posts without media data. However, when in a compound
    check like this, we should consider the media data optional, since there
    are other non-media places that can be checked without it. This commit
    does that, changing it so that a check will only cause the rule to
    require media data if ALL of the fields being checked come from the
    media, instead of if ANY of them do.

commit dc16d770cb3b980b88ab7bb4779e9567f3a8a7d2
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed May 13 14:04:08 2015 -0600

    AutoMod: force placeholder replacements to unicode
    
    Not forcing these to unicode is causing occasional UnicodeDecodeErrors
    when the replacement contains non-ascii characters (seems especially
    common from the media_ placeholders from oembed data).

commit 5ffbff0270a2597d6b9b63423d3043e02190a93d
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sat May 9 23:40:18 2015 -0700

    Don't leak selftext through the meta description on deleted posts
    
    Thanks to Anton Martynov for the report!

commit 644f0988d7eee12bcb08068d9621ecee8b33258f
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Apr 6 03:06:34 2015 -0700

    Add a shim for requests' `response.json` to ease upgrading to 2.x
    
    See http://docs.python-requests.org/en/latest/api/#migrating-to-1-x
    for the rationale,
    
    `.json()` also differs from `.json` in that it `raise`s instead of
    returning `None` on a decoding error, but that shouldn't affect us
    anywhere.
    
    Conflicts:
    	r2/r2/lib/media.py

commit f7790552be51052d94321b53754b98a161bc679a
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Apr 30 16:59:39 2015 -0700

    Use safer caching directives in `Cache-Control`
    
    Some proxies ignore `no-cache`. That's bad when the responses are
    credentialed.
    
    We work around that by sending `Cache-Control: private, no-cache`,
    since proxies generally won't strip that.

commit 366ffc9dd7336231086cbafeca20d1dbb382a7e8
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Apr 27 13:08:38 2015 -0700

    Don't allow _any_ user to create an automatically created page.

commit 912b224a1b85e2d2c55bd8df2b333beb3fdc87eb
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Apr 27 12:51:21 2015 -0700

    Make sure special pages can only be created by mods with config perms
    
    Thanks to a report by @pokechu022. Previously we were only checking
    if the user was a moderator with permission to moderate the wiki.
    
    This didn't affect anything until the automoderator config page was
    added, as all other special pages are autocreated and don't pass
    the `may_not_create` check for _any_ user.

commit 6e300bead66f0ed29a6474d8adc2792a35740666
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Apr 28 23:03:19 2015 -0400

    CommentPane: don't split cache on Account.pref_show_link_flair.
    
    It doesn't effect rendering.

commit dca8ae32e2854ed88445bd8b5caf7b471078625a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 13 04:35:57 2015 -0400

    Don't update search index every time a link gets a new comment.

commit 375fa2a7d09d5e5548589d2fb732ea4c9df76981
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 13 04:29:33 2015 -0400

    cast_vote: Update the search index less frequently.
    
    The update frequency is inversely proportional to the total number of
    votes cast on the thing.

commit 7b7281689150a02c3f42488ac492cb6a841a5034
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 13 04:11:42 2015 -0400

    Comment: define update_search_index() as a no-op.
    
    Comments are not indexed, but they were being put into the "search_changes"
    queue and then skipped when the message was processed.

commit 91c350a7f3982d6b6c8f35f65edd8433dae6159d
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Fri May 15 09:28:09 2015 -0700

    Remove signed as a default attr for Message
    
    Old messages now have signed as True (default), so this reveals
    the username is they reply to the old message.

commit 7576286b35793f4602b2644b767bb9b7b0fba471
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed May 6 12:28:05 2015 -0700

    Display number of gildings even when user has no gold

commit dad43b9fcdefca521c17560a6e2904aa87460abf
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed May 13 13:49:34 2015 -0700

    Make nonanonymous gilding message repliable
    
    The anonymous gilding message allows for replies to the user. This will let
    users reply to gilders that have revealed themselves instead of making them
    start a new message thread.

commit 5ec4d989088efd5e1175e66bdd85c52c9c24d965
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed May 13 13:22:34 2015 -0700

    Hide friend label for anonymous messages
    
    People could see who gilded them anonymously by having them as a friend and
    including a specific note. This removes friend notes from messages that have a
    display_author.

commit dac71a3597f0c23db70f20bfbb9d75720d82e522
Author: umbrae <umbrae@reddit.com>
Date:   Wed May 13 15:25:16 2015 -0700

    Gold expiration info: proper spacing with creddits to give

commit 9cf982818f323d0eec99d80e8de9a92349578325
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 29 02:53:57 2015 -0400

    Use a body class to hide the "reply" and "report" buttons.
    
    This allows us to not split the CommentPane cache on "can_reply".

commit a51c1a4221a3350083a4533c442bcc23c4dbe9be
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Apr 28 22:06:18 2015 -0400

    Use a body class to hide the "save" and "give gold" buttons.
    
    This allows us to not split the CommentPane cache on "can_save".

commit 24b950e2aea2c30760e7ae016fc887a9fae0a0f2
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu May 14 11:37:16 2015 -0700

    API docs: Documents /api/v1/scopes

commit 00dd2160264326e5698874d6c525f8af0be7a192
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed May 13 16:04:15 2015 -0700

    OAuth2: Endpoint to describe scopes
    
    Adds /api/v1/scopes as an OAuth and unauthenticated endpoint for fetching
    "human friendly" descriptions of scopes.

commit 26b6ae0832678f9d3a55ddadf8dbe96d227f41cc
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Apr 24 14:12:30 2015 -0700

    Search: Expand subreddit search query for /r/subreddit
    
    When searching subreddits, detect a search for /r/subreddit and expand
    the search query to include the subreddit name as a search term.
    
    For example, searching for "/r/aww" expands the results to include
    "/r/aww" and "aww". This helps ensure that searching for "/r/aww"
    actually includes /r/aww.

commit a56fc06ae864e22187f56f68f42701603f398426
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu May 7 19:14:06 2015 -0700

    Search: Log search error for all requests
    
    Move the error logging lower down so that all errors are logged with
    search request info, and wrap connection/timeout errors in a generic
    SearchError.

commit fbc5688c600f2baaa2f796bbed2dcc992c3962b8
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Wed May 13 17:31:13 2015 -0700

    Remove "if author" check from subs/default api

commit b91d920bbcfa5bb9fd7e36c7a296f5fb49fb9fc3
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Wed May 13 16:51:29 2015 -0700

    Use getattr for author_id in default subs api

commit a8e0b303fe50ddde67307787d8cd7e9fea7d450f
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Wed May 13 12:46:55 2015 -0700

    Add '/subreddits/default.json' endpoint
    
    For loading the default subreddits.

commit 11ecbe6092cff08b6d6c3ee6fdd57e5091e059b6
Author: weffey <weffey@gmail.com>
Date:   Wed May 13 13:40:36 2015 -0700

    Missed in rebase: r2/r2/lib/providers/media/s3.py conflict

commit 8141fc4674287000c7dc371950d82810961567df
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon May 11 13:50:21 2015 -0700

    Search: Expand subreddit objects in api response
    
    Expand the subreddit objects in the search api response when
    `sr_detail` is requested (`sr_detail` is already defined as part of
    `@base_listing`).

commit 663a912421768656f364cfbc0b630faa2ff57330
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon May 11 13:26:32 2015 -0700

    Search: Support comma-delimited list of result types
    
    Added validator for result types, which can now be defined either as
    a comma separated list or as multiple GET parameters.

commit 00fbdcbcc752ba38df0039105ec35f7b397d4439
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed May 13 12:04:41 2015 -0700

    Cloudsearch: Force related query to unicode

commit e1ad028afe6c8cfc8f24b6642af55ed8bbc92aa1
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed May 13 09:58:47 2015 -0700

    cloudsearch.py: Add missing FriendsSR import

commit 347855365eb7b86a436ac2c4a8e3db38fe2d9ce7
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon May 11 14:54:38 2015 -0700

    Add 'commit' directive to Solr uploader

commit 15d7e9333f69955380469ddee80dbac40860b6c6
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed May 13 12:47:37 2015 -0700

    Search providers
    
    Separate search logic into provider system. Move existing logic into a
    cloudsearch implementation of a search provider, and add a Solr
    implementation of a search provider.

commit 990a58393714e99d58e750c3a682e93213636d03
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Wed May 13 12:28:49 2015 -0700

    Default the ticket_contact_user_id to 0

commit 35e3997921b503b0fb749a1172fa897f189a5025
Author: weffey <weffey@gmail.com>
Date:   Wed Apr 15 16:10:48 2015 -0700

    Takedown tool
    
    Conflicts:
    
    	r2/r2/models/account.py

commit 4b7cf674b69f0eec9df93cd8d989783de13cd71a
Author: APerson <danielhglus@gmail.com>
Date:   Sat May 9 16:07:23 2015 -0400

    Changed color of preference update success message
    
    If your preferences were successfully updated, the message saying so shouldn't be colored red like an error message

commit 1ea6610b6d23615a1fdfc013a05a236aa425a9f5
Author: CrypticCraig <spongecr28@gmail.com>
Date:   Wed May 13 00:41:53 2015 -0400

    Makes "gildings given" closer, and neater.
    
    Changed .gold-expiration-info .gold-remaining + div to margin-top: -10px instead of margin-top: 10px.
    
    Before: http://i.imgur.com/MSymelW.png
    
    After: http://i.imgur.com/299daco.png

commit afed00d34f02e4b66e6bf6743ab90bf626c06a31
Author: umbrae <umbrae@reddit.com>
Date:   Mon May 4 08:59:56 2015 -0700

    Q&A Sort: Display first level of responses to responders.
    
    In use of Q&A sort, we've seen that community response to an
    answerer is an important part of the experience. This shows
    the first level of the responses to the OP, but keeps the rest
    collapsed for brevity.

commit 41de747e9cb0d0b86be7852264be7e254c9f21bf
Author: umbrae <umbrae@reddit.com>
Date:   Mon May 11 14:10:53 2015 -0700

    Hot hook: Reorder to allow on homepage

commit f23a9354af3c5275ff784fb8fae6b7f76193247d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 23 19:54:16 2015 -0400

    Delete CommentSortsCache.

commit e332d82bef767d4a6486eeab5f660579906740fa
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 23 19:53:51 2015 -0400

    Delete migrate/comment_sorts.py.

commit 91699b7acdc531efa8298a4c0f8293d350b7f138
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 23 20:14:27 2015 -0400

    Add backfill script for CommentScoresByLink.

commit caaa4a025c3171a74ead8134e1ea2385d1e0f60a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 23 19:51:15 2015 -0400

    Read from CommentScoresByLink.

commit 00fc136df8d3bb6790253b72d3b72117bfee6c5f
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue May 12 15:11:17 2015 -0600

    new_media_embed: only send message with object
    
    Previously this amqp message was being sent whenever a thumbnail was
    attached as well, which added a lot more items to automoderator_q than
    was necessary, we only want to re-process things with an actual media
    object, not just a thumbnail.

commit a14d5f17401800ed02024fa936f61fea30f3f9e1
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue May 12 13:26:28 2015 -0600

    Add link to AutoMod config in moderation tools
    
    This link will only appear once the subreddit has already created an
    AutoMod config wiki page, to keep it as a bit more of an "advanced
    feature" that people have to go out of their way to discover. If we're
    more comfortable with the level of AutoModerator information/education
    in the future, we can change this to always show in the list.

commit 65ff4f8370a59719c0704424d25404c0a8f37e11
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue May 12 11:30:59 2015 -0600

    AutoMod: add set_suggested_sort action

commit c9785872146589dc8b67b70e41ea334461d20450
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue May 12 11:09:43 2015 -0600

    AutoMod: obey user's pref for hiding flair
    
    Previously, AutoModerator was using the internal values of a user's
    flair, so it looked at what it was *set to*, regardless of whether it
    was being publicly displayed or not. This changes back to the same
    behavior as before it was integrated, where it will see no flair if the
    user has chosen to disable their flair in the subreddit.

commit bedf7e92878c534783a898df9fe06e0b4599b9ca
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue May 12 10:51:35 2015 -0600

    Account flair methods: allow obeying pref
    
    This adds an optional preference to the Account flair_text and
    flair_css_class methods that will return None if the user has their
    flair disabled in the subreddit, to allow using these methods both for
    "what flair is set to" as well as "what flair displays as".

commit 3e0db059ec9555edc18ae6233ec7d646ddbebd4e
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri May 8 14:27:50 2015 -0600

    AutoMod: error if invalid search check for type
    
    If all of the fields in a search check are invalid for a type, we should
    throw an error instead of just quietly disregarding that search check.
    The previous behavior caused a rule with, for example, separate searches
    for both "domain" and "body" to apply to comments, even though the
    presence of a domain check should have caused it to be restricted to
    only submissions.

commit 040cf0884d90c0a68f22562bdfec4befb3320819
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed May 6 16:38:50 2015 -0600

    AutoMod: fix method of setting approve_banned
    
    Previously, approve_banned was set to True only if an exact check for
    "name" was being done inside the author target. This excluded other
    possibilities that also checked against name, such as "~name",
    "name (regex)", and so on. This is solved by looking in match_fields
    instead to determine whether name is being checked against in any way.

commit 1f89f854b0682f00636aa3501127ca6944566b28
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue May 12 04:07:34 2015 -0400

    FlairList: Load account data in the query.
    
    This prevents a second lookup that happens when only the base
    thing properties were retrieved.

commit 585155267ee47d1344dc9d1788e5449ca04f4c26
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 22 18:49:30 2015 -0400

    Use a body class to control visibility of the controversy dagger.
    
    This allows us to not split the CommentPane cache on the user's preference.

commit 46512b030f37a3dc46206b1633011110a351b3e9
Author: Chris Stephens <chrisst@gmail.com>
Date:   Fri May 8 13:53:42 2015 -0700

    ads: Multi reddits pass the wrong subreddit when requesting promos

commit 20cd48e2931e0a92c5e514f3a1bb4a349637f7f6
Author: Chris Stephens <chrisst@gmail.com>
Date:   Thu May 7 14:18:06 2015 -0700

    multi: Allow the concept of linked multis.
    
    Linked multis get the list of subreddits from their parent multi, so they aren't
    storing the list themselves. When the parent multi changes, those changes appear
    in the linked multis. Editing a linked multi will remove the link

commit 851b642f2466ec8ca127ed4045deea7b177b8c8d
Author: Chris Stephens <chrisst@gmail.com>
Date:   Fri May 8 11:50:22 2015 -0700

    api: Add more fields to subreddit details

commit c3d2053bf1e0dd4dc2180c32b6033eb9904a7d72
Author: Chris Stephens <chrisst@gmail.com>
Date:   Mon May 11 12:22:32 2015 -0700

    api: Expand subreddit objects on comment pages

commit 973f75d37accb2678d793d05856339f149e1f1e0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 6 09:48:57 2015 -0400

    Subreddit._by_name: batch postgres lookups.
    
    This should hopefully prevent overwhelming postgres when lots of
    subreddit names are missing from the cache (such as during a cache
    swap).

commit 58df175111f5f699a054a69ef3db3498e0fbc854
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 6 09:27:00 2015 -0400

    Use anchor tag for parent links in morechildren.

commit 96b86f3bedc409ee069b3a7da370503dc81b3c23
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue May 5 15:06:06 2015 -0700

    Allow opting out of `websafe_json` encoding with `?raw_json=1`
    
    No more bananas hooks for decoding it in our API clients!
    
    A `raw_json=1` parameter will tell the API to use an escaping
    scheme (`\uXXXX` unicode escapes) that JSON parsers natively understand,
    rather than `&gt;`, `&lt;`, and `&amp;` html entities.
    
    `raw_json=1` can be either in the POSTDATA or query string.

commit 8f0a779c226c714f3bf2708cfb89f2eea16794a3
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Apr 23 04:14:10 2015 -0700

    Handle protocol-relative links in `sanitize_url`
    
    We should allow these when `not require_scheme`.
    
    Keeps the current behaviour of appending `http://` for URLs like
    `example.com/whatever`, but will use the current protocol for URLs
    like `//example.com/whatever`.

commit fed2f2be071b9d61c40e7ef7a5b8efa0b812642e
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Apr 30 00:09:15 2015 -0700

    Fix permission checks on POST_flair
    
    Thanks to /u/bboe for the report!

commit 0a8c03583bfb73668fc562b122e2a6d2a683ff05
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Apr 24 17:26:57 2015 -0700

    Don't check current passwords against new password requirements
    
    This fixes an issue where users with passwords that don't
    meet the new password requirements weren't able to clear out
    existing sessions, or enable forced HTTPS.

commit c486f17b9aa48ca3f70f042be910d6c1a41cb193
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri May 8 10:06:22 2015 -0700

    event-collector: Safely read response.reason
    
    Some versions of python requests don't have a response.reason field

commit f3d2070fa38a43241add5732d688088d30c2d8b8
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri May 8 09:50:10 2015 -0700

    event-collector: Spec calls for max event size of 4 KiB

commit 722cd4c8d57cfe107f21a5e1d3dc8a5bf74c5a08
Author: Chris Stephens <chrisst@gmail.com>
Date:   Tue May 5 16:37:23 2015 -0700

    listing: Sort actions correctly

commit b483f2b5c013c7517d28399d5780d57015104901
Author: umbrae <umbrae@reddit.com>
Date:   Fri May 8 12:33:42 2015 -0700

    Mobile suggest: redirect to m. rather than .compact

commit 91dc935b4cde6ccdcb3d321d25be45bdacf3281c
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu May 7 12:18:54 2015 -0700

    Search: Skip subreddit results for advanced search
    
    For combined search, don't request subreddits results if the search
    query *might* contain a fielded search, or if the search syntax is
    cloudsearch structured syntax.
    
    Also, use rel1 for the subreddit search request.

commit 37967b327a258b2470643c6a82b40d46a6d71137
Author: Chris Stephens <chrisst@gmail.com>
Date:   Thu May 7 12:00:46 2015 -0700

    api: Indicate that sr_detail is optional

commit a95d171290e811036cc3703f4d647e8960218c98
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed May 6 13:40:17 2015 -0700

    OAuth2: Add hook on token revocation

commit 2e998ea4eba35f4ee44c29d5abae01e9ab7814b1
Author: umbrae <umbrae@reddit.com>
Date:   Wed May 6 14:26:17 2015 -0700

    Beta mode: fix icon positioning to not overlay username

commit 3751a110d33849ae6956ae0f7cb731e59e55385f
Author: umbrae <umbrae@reddit.com>
Date:   Wed May 6 12:14:08 2015 -0700

    Beta mode: fix flask svg to specify mime for less

commit 02216a53e97c10082c7f7d521ea367b53e00dad7
Author: umbrae <umbrae@reddit.com>
Date:   Fri May 1 13:20:19 2015 -0700

    Beta mode: Add feature flag and detection

commit 03bc77b203b57e1e3758e77da660832aebfdc9ae
Author: umbrae <umbrae@reddit.com>
Date:   Fri May 1 13:10:32 2015 -0700

    Beta mode: Add preference and subreddit callouts

commit 33a4173a2191f71b47c3ead1117287c385f36140
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue May 5 17:42:39 2015 -0700

    Show number of gildings in private info
    
    This number is only available when viewing self or as an admin.

commit f05603ad9861a38119be1ce4fc2940c4750d0d58
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon May 4 15:14:03 2015 -0700

    Add backfill script for num_gildings
    
    This script will update Account.num_gildings for all gildings in the gold_table
    (which is where trans_id like 'X%' in the gold table).

commit 7d91d02bf524c4d466280c79408aea4f48676864
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon May 4 17:27:48 2015 -0700

    Add num_gildings to keep track of gildings count
    
    This will include all types of gildings (gildings of users, links, comments). It
    will primarily be used to figure out the proper gilding trophy level since the
    previous method could only include up to 1000 gildings.
    
    A backfill script (num_gildings.py) has been created in scripts/migrate/backfill/.

commit fe98410cc89cec11cfbf1891cdc3eb930015cf81
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue May 5 22:15:27 2015 -0600

    AutoMod: fix bugs in check_account_thresholds()
    
    This is a minor rearrangement of some of the logic in
    check_account_threshold(), which fixes at least 3 bugs:
    
    1. Banned accounts were returning False from this function, even if
       there weren't actually any threshold checks to be performed. This
       means that any sort of rule involving an "author:" check could never
       be satisfied by a banned account, since this function would always be
       called and return False, regardless of what was actually in the
       author check.
    2. Threshold checks with a value of exactly 0 would have never been
       checked, since that would have been evaluated as False and caused the
       check to be skipped inside the loop. These checks are rare since
       they're for equality instead of the much more common
       less-than/greater-than checks, but still could exist. So for example,
       a rule that was trying to check for brand new users by looking for
       "comment_karma: 0" would not have worked correctly.
    3. Inadvertently setting satisfy_any_threshold to True without actually
       defining any threshold checks would have caused this function to
       always return False because reaching the bottom of the function
       returns the inverse of satisfy_any_threshold.

commit 532473c232bc076494e3f52765e9b7ed41d29f31
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Apr 22 18:37:13 2015 -0700

    Add support for array and scalar values in the same validator
    
    Example:
    ?subreddits=iama&subreddits=askreddit
    ?collection=sports
    
    ```
    VInterests(Validator):
      def run(self, subreddits, collection):
        assert(isinstance(subreddits, list))
        assert(isinstance(subreddits, str))
        ...
    
    api_validate(
      interests=VInterest(
        params=("subreddits", "collection"),
        get_multiple=["subreddits"]))
    def GET_inventory(self, responder, interests):
      ...
    ```

commit 83dc6339d4fb7a94b15b84a84ab9cd76eaa54604
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Mar 9 12:53:54 2015 -0700

    Add support for arrayed keys on `GET` requests
    
    Reference implementation:
    
    validators.py:
    ```
    class VMultiple(Validator):
        def __init__(self, param, *args, **kwargs):
            Validator.__init__(
                self, param, multiple=True, *args, **kwargs)
    
        def run(self, array):
            return array
    ```
    foocontroller.py:
    ```
    @json_validate(bar=VMultiple("bar"))
        def GET_foo(self, responder, bar):
            return bar
    ```
    
    request:
    GET /api/foo.json?bar=bar1&bar=bar2
    
    response:
    ["bar1", "bar2"]

commit 58320ee99d44ff16f20774ecc08998b6dc9b4b02
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Mar 26 18:44:48 2015 -0700

    Return json from api requests in LimitUploadSize middleware
    
    This is needed by newer apis that expect json instead of using iframes
    on uploads.

commit 276be02d6e431c0a0b75e1db884a607ebfe9c639
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue May 5 10:29:41 2015 -0700

    Remove event collector merge cruft

commit ff8e92dc78f1fec42399832795a175eb442975b8
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon May 4 14:07:14 2015 -0700

    event-collector queue: Keep connections open
    
    Python requests sessions can take advantage of keep-alive, but you have to
    read from the response.content for it to work.
    
    http://docs.python-requests.org/en/latest/user/advanced/#keep-alive

commit 11ee44c5d663f1bf2cf3a3b0aab2d017948de365
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon May 4 14:00:55 2015 -0700

    event-collector queue: Pre-calculate content size
    
    The max Content-Length the event-collector endpoint will take
    is static and known, so pre-calculate the event batch being sent
    and keep the total under the max size.

commit 3718d7ac803e8dddb269d7e9071156b6b9f1ff43
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Apr 29 13:51:09 2015 -0700

    event-collector: Graceful back off on 413 response
    
    In the case of a 413 Too Large response, break the events into smaller
    lists and send them independently.

commit 56c06e923427eba10a10837827f34ac01ef7bd5d
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Apr 22 16:04:19 2015 -0700

    Events: Send vote data to event-collector

commit d33bb75925028eb2f3e938750069d307051000b3
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Apr 22 11:49:09 2015 -0700

    Events: Add an event collector
    
    Create an event collector library that allows reddit code to dump
    event-collector[1] events to a queue, and a queue consumer that will
    batch those up to send to the event-collector.
    
    [1] https://github.com/reddit/event-collector

commit 7c31468fe6c87f479654749862726746381710ab
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Apr 29 15:09:20 2015 -0700

    Use c.oauth2_client consistently
    
    Some cases were setting c.oauth_client instead of c.oauth2_client

commit eb69c45d7850358faa7fbfd15842dfb7661d3025
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Apr 27 11:33:37 2015 -0700

    Add "epoch_timestamp" to r2.lib.utils
    
    epoch_timestamp(datetime) is equivalent to r2.lib.db.sorts.epoch_seconds,
    however, (1) assumes the Epoch is UTC, and (2) doesn't attempt to use
    pylons.g at the module level (which causes crashes if the module is
    imported prior to pylons.g being fully configured).

commit b09c856f124e5b68e0ce54e0a4c97b86000cc253
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Apr 23 15:18:04 2015 -0700

    utils: sampled() and squelch_exceptions()
    
    @sampled(<live_config sample rate name>)
    Samples a function, running it only as frequently
    as defined by the live config var says to
    
    @squelch_exceptions
    Raise exceptions from the wrapped function only in debug mode
    In production, just log them.

commit 14976017ab2755ffd3e7beb4b6b0f713babc3b17
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Apr 22 15:47:48 2015 -0700

    Bundle vote information processed in queues
    
    This change updates vote queue processing code to pass down
    the dict loaded as JSON from the queue, making it easier to
    plumb through additional data as desired.

commit d642330a7538a98ed374ccacecd3805091e4ea0e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Apr 23 16:12:42 2015 -0700

    vote_q proc pickle -> JSON msg migration part 3
    
    Part 3 of a multi-phase commit to migrate the message format
    of the vote queues from pickle to JSON.
    
    This removes the shim code in the vote queue processors, removing
    references to the old pickle format. It should only be deployed
    once the vote queues are fully clear of pickle formatted messages;
    that is, after part 2 has been deployed AND the queue processors
    have consumed any remaining pickle messages.

commit ab27bfda64fe251811df45962a07ff13e03ce953
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Apr 22 15:32:49 2015 -0700

    vote_q proc pickle -> JSON msg migration part 2
    
    Part 2 of a multi-phase commit to migrate the message format
    of the vote queues from pickle to JSON.
    
    This updates queries.queue_vote() to send the amqp message in
    JSON format instead of pickle. It should deployed AFTER part 1
    has been deployed to all vote queue processors.

commit a6b2801f16b2be5bd66edb748b1fbd86114f664b
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Apr 22 15:25:21 2015 -0700

    vote_q proc pickle -> JSON msg migration part 1
    
    Part 1 of a multi-phase commit to migrate the message format
    of the vote queues from pickle to JSON.
    
    This first part updates the processor to be able to read from
    both the pickle and the JSON formats.

commit aa7724364c4865d543123df57052230889d6ff51
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Apr 23 10:23:14 2015 -0700

    Caches: Attempt to cast single get/set to str()
    
    get/set_multi was already casting keys to str()

commit f92b3d13db026d128b150cd45c30b0f35a2f344e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Apr 23 12:13:31 2015 -0700

    r2.lib.amqp: Refactor globals use
    
    Refactor how r2.lib.amqp uses pylons globals.
    
    Previously, at import time, r2.lib.amqp would attempt to read
    config off of pylons.g. This limited amqp such that it could only
    be imported by modules that are loaded after pylons.g has been
    set-up.
    
    This commit changes that to an explicit initialization of the amqp
    module by the app_globals code. Bonus side effect is that someone,
    if they chose, could initialize the module with a "config" object
    that is interface compatible with our "pylons.g" configuration.

commit 233649cf453f20a6cd9b91ad1f18439ccdde5655
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon May 4 13:09:50 2015 -0600

    AutoMod: handle set_flair lists of < 2 items
    
    A definition like `set_flair: ["flair text"]` will currently fail
    without displaying an error, since set_flair can currently only handle
    either lists of 2+ items or a single string (not inside a list). This
    makes it so that a value of a list of < 2 strings will work correctly.

commit 276ae94ecafc5d2ff85859615fca7a0be1c21c70
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon May 4 12:58:10 2015 -0600

    AutoMod RuleTarget __init__: don't be destructive
    
    Since part of RuleTarget.__init__() involves deleting items from the
    values dict, this actually changed the dict that was passed to it, which
    could have side effects back in the overall Rule creation. Specifically,
    this was causing the approve_banned initialization to fail because it
    tried to check for the presence of a key that had been destroyed by
    this.

commit a9c5925435b28684e74f3fcac4a16d023c8630bb
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Apr 29 13:03:05 2015 -0700

    Search: Remove restrict_sr checkbox for /r/all
    
    Don't show the "limit my search to /r/all" checkbox because it is
    useless.

commit db9a17e0773de3d47462a8462d855131ac5a92ba
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Apr 28 16:15:21 2015 -0700

    Search: Fix search query for empty multireddits
    
    When searching within an empty multireddit, an empty OR clause
    (i.e. `(or )`) was causing an uncaught InvalidQuery exception.
    Do not generate an empty OR clause, and skip the search if the
    subreddit query generation fails.
    
    Removed extra ModContribSR condition, since ModContribSR is a
    subclass of MultiReddit. Removed extra AllSR/DefaultSR condition,
    since AllSR/DefaultSR is a subclass of FakeReddit.

commit fff2bbc92c1a70ea8da46c855e9d87fa012c57d2
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Apr 24 17:30:57 2015 -0700

    Search API: Add subreddits results to search
    
    Support for subreddit search results in api requests.  When both
    subreddit and link results are requested, the json response will
    be an array of listing objects.

commit 6fd9cb472e5bb76eb19783955030cc19522e1332
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Apr 28 17:30:31 2015 -0700

    Modify emailer to allow sending emails with attachments

commit 1cc384033b63ff4c4058caea1e28451cce909881
Author: umbrae <umbrae@reddit.com>
Date:   Fri May 1 09:28:52 2015 -0700

    Remove now-defunct explore feedback link

commit 852243b8025d1bcceacd916b753f387333040c5e
Author: umbrae <umbrae@reddit.com>
Date:   Fri May 1 09:47:21 2015 -0700

    Add support for 'ref' tags and add to trending subreddits.
    
    A "ref tag" is a query parameter we may pass to ourselves to let
    us know where a user came from, and more specifically, what part
    of the page they clicked on to get there. This allows us to know,
    for example, if users are clicking through from trending
    subreddits or if they're just clicking on the subreddit from a
    link. This helps us know if features are used/valuable or not.
    
    A ref tag will be passed through and then removed from the URL via
    javascript post-load to make a clean URL that's nice for
    copy/pasting elsewhere, and doesn't give false positives if they
    do paste it somewhere else.

commit 6ef290a1cfc28c7098ee92feab5b2487faaf0fdb
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Apr 27 14:55:18 2015 -0700

    Userpage: fix top listings for comments
    
    If you go to a userpage and sort by top (in either the overview or comments
    tabs), and restrict the time range to anything other than "all time", no
    comments will be shown.
    
    The data in these listings is built from functions in `lib/db/queries.py`
    (specifically from `get_comments()` down).  This ends up trying to pull the
    query results from permacache (in `CachedResults.fetch_multi()`), defaulting to
    an empty list if no cache entry is found.
    
    Now, the cache entry is supposed to be populated periodically by a cronjob that
    calls `scripts/compute_time_listings`.  This script (and its Python helpers in
    `lib/mr_top.py` and `lib/mr_tools/`) generates a dump of data from Postgresql,
    then reads through that and builds up entries to insert into the cache.  As
    with many scripts of this sort, it expects to get in some bad data, and so
    performs some basic sanity checks.
    
    The problem is that the sanity checks have been throwing out all comments.
    With no new comments, there's nothing new to put into the cache!
    
    The root of this was a refactoring in reddit/reddit@3511b08 that combined
    several different scripts that were doing similar things.  Unfortunately, we
    ended up requiring the `url` field on comments, which doesn't exist because,
    well, comments aren't links.
    
    Now we have two sets of fields that we expect to get, one for comments and one
    for links, and all is good.
    
    We also now have a one-line summary of processed/skipped entries printed out,
    which will help to make a problem like this more obvious in the future.

commit 15bd2fa9887066a3fc6af6ddc030ed6fc5901a80
Author: umbrae <umbrae@reddit.com>
Date:   Wed Apr 15 10:12:06 2015 -0700

    Newsletter: Increase timeout on add subscriber

commit fe35d86eebed819a5ff4a033f0f9afe986f113c2
Author: umbrae <umbrae@reddit.com>
Date:   Wed Apr 15 10:11:33 2015 -0700

    Newsletter: Add stats tracking to add subscriber

commit 889848478f43d94350d3ce80fe2645977b919aa0
Author: umbrae <umbrae@reddit.com>
Date:   Tue Apr 14 11:39:32 2015 -0700

    Newsletter: minor margin/padding tweaks to standalone

commit 60f1ce15e500d3c8d41c7198a9b8957174473a66
Author: umbrae <umbrae@reddit.com>
Date:   Tue Apr 14 11:39:11 2015 -0700

    Newsletter: update verbiage to suggest confirming email

commit 4c50a221e52146d7eb36294b0f6561587b5c9b7b
Author: umbrae <umbrae@reddit.com>
Date:   Tue Apr 14 11:38:39 2015 -0700

    Newsletter: fix close box on newsletterbar

commit 06e321674b6c3c7af3cc50585509472d59e9682b
Author: umbrae <umbrae@reddit.com>
Date:   Thu Apr 2 17:09:26 2015 -0700

    Newsletter: add FAQ to standalone page

commit 3ed813d30526c24c85b724c269e3024bb5872ba9
Author: umbrae <umbrae@reddit.com>
Date:   Tue Mar 31 23:55:57 2015 -0700

    Newsletter: force HTTPS for requests

commit 4c83ff840b8abec4528ad630ee1ac867c70221c2
Author: umbrae <umbrae@reddit.com>
Date:   Mon Apr 6 14:45:47 2015 -0700

    Newsletter: minor layout and design tweaks

commit db1388bde53ae7b1131caa8ef9b44bad2fa52715
Author: umbrae <umbrae@reddit.com>
Date:   Tue Mar 31 12:58:11 2015 -0700

    Newsletter: handle unacceptable emails
    
    If an email address is already unconfirmed, unsubscribed, or on
    a block list, it will return a 400 level response. Unconfirmed
    will be most likely by far. Here we handle those cases.

commit 58c04b70e49fae24c920062eb8bdd7d49fec9aa7
Author: umbrae <umbrae@reddit.com>
Date:   Tue Mar 31 10:25:57 2015 -0700

    Newsletter: pass source into API resource

commit 50add4209ebc9a912d751294d8d05325b8195673
Author: umbrae <umbrae@reddit.com>
Date:   Thu Mar 26 19:45:48 2015 -0700

    Newsletter: Add standalone subscribe page at /newsletter

commit 031e20ed36a51ac042ab5410af39c1e00a0a04df
Author: umbrae <umbrae@reddit.com>
Date:   Sat Feb 28 21:40:09 2015 -0800

    Add feature-flagged newsletter bar to the logged-out homepage.

commit 3d8f234b686702c91bf70de15061ccff5720b213
Author: umbrae <umbrae@reddit.com>
Date:   Sat Feb 28 09:57:52 2015 -0800

    Newsletter: fix request exceptions typo

commit 04c2ac2d90e88cc53f8049846bd9520733df18c9
Author: umbrae <umbrae@reddit.com>
Date:   Fri Feb 27 17:19:00 2015 -0800

    Newsletter: Capture emails from interested users on registration
    
    Adds an an opt-in checkbox to the registration flow for the
    upvoted newsletter, a project Alexis and Heath are working on.
    
    This does not associate any data with the user's account, it
    just sends their email address to the campaign monitor API if
    they opted in.

commit 76555a9d4ac4d0fa97493df9265cc3c6d2a843e5
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Apr 22 17:46:39 2015 -0700

    Add a more sensible list of chars to escape in `scriptsafe_dumps`

commit 5fd2969f44747bf061ae9138a749b201a39e048a
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Mar 30 13:42:00 2015 -0700

    Rename `jssafe_dumps` to `scriptsafe_dumps`
    
    The new name better reflects that the function isn't safe to use
    in inline event handlers, only `<script>` blocks.

commit 13c7122d6b9c19705768e5cd1e478e7d0523386a
Author: umbrae <umbrae@reddit.com>
Date:   Wed Apr 29 11:35:04 2015 -0700

    Make user karma not look like a link

commit 51f1e0042d40c870b1890b3945ecaeba1f5e4b2f
Author: umbrae <umbrae@reddit.com>
Date:   Wed Apr 29 11:58:03 2015 -0700

    oEmbed: Add endpoint, with support for comment embeds

commit 00324fb1ca1cf9099e42de2010cf56d23ee6033d
Author: umbrae <umbrae@reddit.com>
Date:   Fri Apr 24 10:31:45 2015 -0700

    Comment embeds: move inject template definition to python
    
    Previously the HTML fragment for a comment embed was defined
    only in JS. This isn't ideal when we want to be able to return
    that fragment in other contexts (like the forthcoming oEmbed).

commit 36877cff3146d61904d356c654e2ce454b81ca96
Author: umbrae <umbrae@reddit.com>
Date:   Mon Apr 27 15:14:39 2015 -0700

    Suggested sorts: Add to API docs

commit cc648c7719bc18414fa9657ba83c3f61f98822a1
Author: umbrae <umbrae@reddit.com>
Date:   Wed Apr 22 14:10:22 2015 -0700

    Suggested sort: Add preference to ignore suggested sorts

commit 1676e79b986557c908ca0f57e92536d502cc0ce0
Author: umbrae <umbrae@reddit.com>
Date:   Wed Apr 22 11:52:18 2015 -0700

    Utils: add url_to_thing

commit 5d9ce3675d53015356d3f90c755e28aa80594a46
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Apr 29 10:15:46 2015 -0700

    Footer: switch mobile sites
    
    We've launched the new new mobile web experience - yay!  Since we switched over
    the mobile hint for Google in reddit/reddit@63f054d, I figured it was probably
    time to do so in the footer as well.
    
    Oh, and it redirects all http traffic to https, so we should just point to that
    directly.

commit 13c3121b1049efa3fc2c08d617efb204e00c04a1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Apr 28 05:37:32 2015 -0400

    PromotedLinkJsonTemplate: include "href_url" attribute.

commit 0ace5007d461b0f4b14498bcb3e1ac64db30c8d3
Author: Kevin O'Connor <kjoconnor@gmail.com>
Date:   Tue Apr 28 15:35:15 2015 -0700

    mobile_link should be HTTPS only
    
    Crawlers will first go to http://www.reddit.com, see the alternate
    link for a mobile page at http://m.reddit.com, go there and then
    be redirected to https://m.reddit.com since m.reddit.com is HTTPS
    only via a CDN page rule. This sidesteps that extra request.

commit 929e168280535c0fd1f5052aa48671d5f3afc9f2
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Apr 28 13:47:34 2015 -0700

    Search: fix bad merge resolution
    
    Fix name error introduced in reddit/reddit@5f8f863.  `elapsed_time`
    should have been removed.

commit 98ddd8cd065290e6448f1ae74c7092e28644f613
Author: Chris Stephens <chrisst@gmail.com>
Date:   Mon Apr 27 17:32:33 2015 -0700

    listing: Allow additional subreddit details to be embedded in link objects
    
    Passing the sr_detail flag will embed an abridged subreddit object

commit 7486474d5e35d71d8e350efbbb5f65b5a5018c70
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Thu Apr 23 13:44:01 2015 -0700

    Add second 3rd-party tracking pixel

commit 8e0fbb739ec017c4ce95ae27c831616fd23306c2
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Fri Apr 24 11:11:00 2015 -0700

    Default target platform to 'desktop'

commit bbffb0a87c17619afb1f4b8b5c9e19e29cbdc403
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 8 17:51:17 2015 -0400

    CommentPane: just get the comments when checking if we can use cache.
    
    The cached version of a CommentPane is valid only if the user is not the
    author of any of the comments. Previously we would retrieve and build
    the comment tree for the user to check if we could use the cache, and then
    on a cache miss we'd re-retrieve and re-build the tree for a logged out user
    to create a version suitable for caching.
    
    This commit changes it so the CommentBuilder can retrieve the comments that
    will be shown so we can check if the user authored any of them. Then if we
    can use the cache and there's a cache miss we can build the rendered tree
    for the logged out user without re-retrieving, and the building happens only
    at this stage.

commit b17c4031e1180c8450838d82ae7ad5e6d775df20
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 25 15:14:16 2015 -0400

    CommentPane: clean up and add more timing events.

commit 1ad460939372586cb1c85c0762393ff3205450fc
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Mar 26 15:28:00 2015 -0400

    CommentPane: fix try_cache logic.
    
    When making changes I flipped the check for `sr.can_ban`. Don't
    try to use the pagecache if the user can ban.

commit ab8be53cdc70aec49d12c78732051eca2ef47f98
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 25 14:28:15 2015 -0400

    CommentPane: clean up try_cache logic.

commit be7eb84460ef8afbf10b5c720b66c3cb8a6f4e2b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 25 13:56:04 2015 -0400

    CommentPane: Use separate timer for non-html requests.

commit ff9cdc4c97474099a71bec61189b90997b8ca2d0
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Apr 23 18:38:49 2015 -0700

    Search: Fix restrict_sr checkbox to reflect current search
    
    On the search page, the "limit my search to [subreddit]" checkbox
    should always reflect the current search and not the stored preference.
    
    In the sidebar, the checkbox will continue to be checked or not
    checked according to the stored preference.

commit 1b4415c9e29a11897518ed5ae86c0800b0459dd9
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Apr 23 16:23:23 2015 -0700

    Search: Don't show error message if no search query
    
    Don't show the "there doesn't seem to be anything here" error message
    if no search query was provided.

commit e4a729443104a0f3388a5c3098fa741145c91be1
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Apr 24 18:30:44 2015 +0900

    AutoMod: fix bug with approving reported items
    
    An approve action should only trigger on a reported item if the rule was
    specifically looking for it being reported. Previously, any rule with an
    approve action could end up triggering on an item when it was re-checked
    due to a report.

commit 55c22f96cacf8b35b55b19cc2cda1cc42c84e2ca
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed Apr 22 18:11:50 2015 -0700

    Display gold expiration for users
    
    If users have the 'show gold expiration' preference checked, then how much
    gold they have remaining will be shown on their userpage to the public.

commit fc48bb602cd2b5cdd239f125c65abee1a750d8e1
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Fri Apr 24 10:53:40 2015 -0700

    reddit_themes: pref_other_theme doesn't always exist
    
    This fixes a KeyError that occurs when pref_other_theme isn't passed in.

commit e00ecab492bd8b5b6de271d9b554c4afe916e7aa
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Apr 6 16:59:15 2015 -0700

    Search: Add link to enable NSFW results
    
    When the safe search feature is enabled, NSFW links and subreddits
    will not appear in search results unless the over18 preference has
    been set by the user.
    
    For easy access to the over18 preference, add a link to enable NSFW
    search results on the main search page and the subreddit search page.
    Clicking on the link will redirect to the /over18 confirmation page.
    The link will not appear if the over18 preference was already enabled.

commit dce698f1ea07c61d92cfe325b3b563e9075100ae
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Apr 8 00:44:08 2015 -0700

    Don't treat strings in `ObjectTemplate`s as `StringTemplate`s
    
    This was leading to strange behaviour like `<$>timesince</$>` in a
    random string field rending as `just now`. It might have been necessary
    when we were caching `JsonTemplate`s, but we don't anymore.

commit fba85b651a526fddb3a7b3a2a2a8773680fedb18
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Mar 31 05:31:24 2015 -0700

    Import `wrapped` stuff in `conditional_websafe`, not at the top level
    
    Having the import here means we can't import anything from `filters`
    with a clean build environment. `wrapped` won't exist yet, and we need
    `scriptsafe_dumps` for the JS build!

commit a770f9fcceb14c474f841d32402385943b91b069
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Apr 7 06:42:04 2015 -0700

    Add `/user/me/*` catchall before plugin-defined routes
    
    This fixes an issue with `/user/me/snoo` since `/user/:name/snoo` is
    defined in `-gold`.

commit 9781696e0d43f646d8ec328b3f80c644b75b2bfb
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Apr 7 22:28:31 2015 -0700

    Throw out broken `Cookie` headers in `BaseController.__before__`
    
    This fixes an issue where we were parsing `request.cookies` before
    checking if the cookie header was even valid:
    https://github.com/reddit/reddit/blob/86a3d262f20c7ac457db089288925c88792e9b1e/r2/r2/controllers/reddit_base.py#L1477
    
    This lead to a lot of hard-to-track down issues like us ending up
    in `<Controller.post>` with inconsistent state due to `pre` aborting.
    
    Before we were throwing them out in `RedditController.pre`, but we
    need `request.cookies` in `MinimalController.pre` as well:
    https://github.com/reddit/reddit/blob/86a3d262f20c7ac457db089288925c88792e9b1e/r2/r2/controllers/reddit_base.py#L1099
    
    Since `RedditController.pre` uses `request.cookies` before calling
    `MinimalController.pre`, I took the easy route and put the header
    cleaning code in `BaseController.__before__`, before either `pre`
    gets run.

commit f0543205878b61b61784838f6a148af364e00170
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Apr 6 18:21:13 2015 -0700

    Work around Chrome crashing on links with overly long hostnames
    
    See https://code.google.com/p/chromium/issues/detail?id=464270

commit a30cc40f77d2dded097068d58cea6995a0520de9
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed Apr 22 16:52:25 2015 -0700

    Consolidate gold ad preferences into one
    
    This moves the 3 ad preferences (300x100, 300x250, and sponsors) into
    1 preference (hide ads) for simplicity.

commit c2d5ebe175063b56d78f21c559b6412317f2f53d
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Apr 23 10:32:10 2015 -0700

    OPTIONS_request_promo: Allow-Origin *
    
    Allow all origins to make CORS requests to POST_request_promo.
    Simplifies local testing of mobile web.

commit 84b4cb1fb4ec7d708d6197135442847187d0142d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Apr 21 15:17:26 2015 -0400

    Send CORS headers with POST_request_promo response.

commit be53f1e4901c632e2837d56c74c7dad6ccac9777
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Apr 22 14:01:49 2015 -0700

    Q&A sort: fix caching bug
    
    In certain cases, we'll try to load in comments for which we can't find a
    cached sort value.  When that happens, we calculate the value on-the-fly and
    then store it.
    
    When this happens, we've been pulling the comment without any of its extra
    attributes.  This is fine for most sorts, but for the Q&A sort, we look at more
    than just the ups and downs (notably, `author_id`).  Since we weren't getting
    these attributes, we'd run into an error when trying to use them.
    
    Now we fetch the extra data for comments when using the Q&A sort.

commit 08485cc1079930fac0ab5124632ec9f39bda5f19
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed Apr 22 13:40:50 2015 -0700

    Fix header override when stylesheet doesn't exist
    
    With the reddit themes release, the default sr style and header overrides
    the subreddit style if there is no stylesheet (even if there is a header).
    This change considers a header as being part of the style and won't override
    the current sr style for the reason of there being no stylesheet. This header
    image can be disabled with the "show this subreddit's theme" toggle.

commit f9fcd87c28a685bee3a99f5833ef9af9d5000bcb
Author: Chris Stephens <chrisst@gmail.com>
Date:   Thu Apr 16 16:20:21 2015 -0700

    utils: Strip the www from a domain only if there are 3 parts
    
    Because www2 should be stripped from www2.foo.com but not from www2.com

commit db91d44a6a361a29608eabe51c93a6eaf008389a
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Apr 22 11:59:59 2015 -0700

    UrlParser: enforce order on query parameters
    
    While most of the time two urls with identical query parameters in a different
    order are treated exactly the same by the receiving server, every now and then
    they're not.  Now we use `OrderedDict`s for storing the query params, allowing
    us to deal with those situations.

commit 32e3be272f288da175b22c126eb9143382371da7
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Apr 21 13:29:25 2015 -0700

    UrlParser: coerce values to strings in update_query()
    
    They'd always end up as strings eventually when you `unparse()`, but storing
    them as non-strings throws off `__eq__()`.

commit f6ff496386cbabc60e66389dbab90d4dbc5bfc48
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Apr 21 12:41:59 2015 -0700

    UrlParser: remove _url_updates
    
    While investigating one issue I got distracted by another issue with the
    newly-written `__eq__` method of `UrlParser`, which in turn got me frustrated
    with the `_url_updates` attribute.
    
    You see, after parsing a url into a `UrlParser`, we've been keeping the
    original url parameters in `_query_dict`, updates to it in `_url_updates`, and
    merging them together on `unparse()`.  At first glance, this seems like a
    reasonable thing to do.
    
    However, this was in reality a pretty weak guarantee.  The first time you call
    `unparse()`, `_query_dict` was being updated with the contents of
    `_url_updates`.  Additionally, it is very easy to accidentally modify the
    `_query_dict` object (`unparse()` was probably doing it on accident).
    
    A much better way to have a record of the original query string would be to
    keep a separate copy of it in a privatish attribute - as with `_orig_url` and
    `_orig_netloc`.  The good news is that I didn't find any place where we do in
    fact need that, so I just left it out.  But it would be easy to add in the
    future if necessary.
    
    Anyways, now there is just **one** dictionary of query parameters - one place
    to look when trying to determine the current state of the parsed url without
    turning it back into a string.

commit aba271169d088f6a90fc58ce6905baab43c2f023
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Apr 22 10:21:10 2015 -0700

    reddit themes: allow using of themes from 21-char subreddits
    
    We mistakenly misread the name-enforcement regex `subreddit_rx` to say that
    subreddit names can be a maximum of 20 characters, and so set the maximum
    length of the field for custom subreddit themes at 20.  The maximum length is
    actually 21, which means that a people have been prevented from using themes
    from certain subreddits.

commit e6eda846c358232578cd50ba237b28f79df787a9
Author: Chris Stephens <chrisst@gmail.com>
Date:   Thu Apr 16 18:52:26 2015 -0700

    Sort the action end point by date

commit 63f054d11e7836a0c71438edeafb9fb07140244b
Author: umbrae <umbrae@reddit.com>
Date:   Mon Apr 20 11:46:04 2015 -0700

    Set mobile web subdomain `m.reddit` as new link rel alternate.

commit fdc72af00cb6ecfc5eb77cf8baba63808e53ecc3
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Fri Apr 17 14:17:10 2015 -0700

    Update language and style for reddit themes.

commit 49912e6030d28ef245f4efdfa333d428397aed63
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Fri Apr 17 11:38:13 2015 -0700

    Pull reddit themes in pref from wiki
    
    The featured reddit themes will be shown on the prefs page as a radio button
    with an `other` option. The wiki page holds the data for the tagline and image
    previews so that it can be updated without a code push.

commit 0addf6cea67ce47f1e9fc6373e96c203f577c7f0
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed Apr 15 11:43:14 2015 -0700

    Add .subreddits-page class to subreddit listing pages
    
    This adds .subreddits-page to /subreddits/mine and /subreddits/search

commit 7f1a72825133e31c42767050d22b68c4d807db40
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed Apr 8 13:47:35 2015 -0700

    Gold: Add ability to override individual sr styles
    
    The individual subreddit style pref overrides the global (show custom
    styles) pref. If the subreddit style is disabled, the default reddit
    style will be displayed for that subreddit (which can be the default
    style they select or just none).

commit 85518bea701b29639d5861caf940890250c62bcb
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed Apr 8 12:16:14 2015 -0700

    Stripe: Add charge.updated event type
    
    No further processing is needed for this type of event

commit 0a803077ea3ec82e2cefd2c6ead4220821c8406f
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Mar 30 17:35:32 2015 -0700

    Add page classes for /compose and /subreddits

commit 5dee8be43b0f663330eb88595a67ee0098b15b14
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Feb 26 14:23:43 2015 -0800

    Show error when selecting invalid subreddit in stylesheet override

commit dace4afe3afc4f38b2ceb16f995e572aac1609b8
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Feb 24 17:56:56 2015 -0800

    Feature flag stylesheets everywhere

commit a34476432c79708c4f344bf6a7e9702fdbf7f951
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Aug 19 16:58:54 2014 -0600

    Gold feature: Stylesheets everywhere
    
    This allows users to pick a stylesheet from a subreddit of their choosing and
    have it be applied to (most) pages on reddit where there isn't already a custom
    stylesheet.

commit 36a31de17c6da60288fdd7e309b7fdc2ef238006
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Apr 17 13:06:46 2015 -0700

    Search: Remove extra SearchException handler
    
    `search_fail()` is already triggered from `_search()` and can be
    removed from `GET_search()`.

commit c3521af23731502a7693566ba1c77d8b05c5986e
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Apr 14 12:44:35 2015 -0700

    Search: Add subreddits results to search
    
    Make an extra search request for subreddit results, controlled by a
    feature flag.

commit 5f8f8630fbba2a8a2c8895372019e78e28955569
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Apr 17 11:36:16 2015 -0700

    Search: Remove unused elapsed_time from templates
    
    Preserve the calculated search `elapsed_time` in the listing model but
    otherwise remove template references.

commit 2e559675e2189b670165a958f1163d2a52b0205b
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Apr 17 10:47:39 2015 -0700

    Search: Log event for InvalidQuery
    
    Log a simple event when an InvalidQuery is handled on the search page.

commit ad727b6d5e0f8c919b9dfd04795691f17caf2880
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Apr 20 13:24:37 2015 -0700

    Subreddit search: Test new rel1 relevancy
    
    Use rel1 relevancy when the subreddit_relevancy feature flag is
    enabled. Add activity as a sort option to access original relevancy.

commit 855203821f6be51a1ae0cc1775353010e04e7254
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Apr 15 10:50:33 2015 -0700

    Search: Set css class to linklisting
    
    The css classname for listings on the search page was changed to
    `searchlisting` when the SearchListing model was created.  This is a
    hack to restore the `linklisting` classname.

commit bd7e0d9397ded5caf97deaa19ed3e96c33ab65ff
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Apr 21 10:34:33 2015 -0700

    Remove invalid import from models.__init__

commit 9e9b58b2b07c4d7a064701188c1b52d046c02878
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Apr 20 10:28:40 2015 -0400

    POST_request_promo: use `responsive` to wrap response.
    
    This ensures we send proper json for api requests.

commit e85d5c3ee7fffab6bd7d7866455afa4eb8c6356b
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Apr 17 18:12:43 2015 -0700

    UrlParser: add equality method
    
    It's useful to be able to parsed URLs to see if, once unparsed, they'll
    evaluate to effectively the same thing.

commit 8b873159ae2599ad1d6927c62ce434c917c845fb
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Apr 17 11:07:50 2015 -0700

    Move builder import down to avoid cyclical imports

commit 6203bac65ccf188642f9e4704b48a78172c737b2
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Apr 13 16:10:43 2015 -0700

    Stop gating trophies to OAuth

commit 66fce65d2291830e9897ea918e0c5c1cad0c1aa3
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Apr 14 11:25:41 2015 -0700

    Accept '/r/foo' everywhere: part 2
    
    I missed a few things in reddit/reddit@9350508:
    
    1. Post submissions (`VSubmitSR`)
    2. Related subreddits (`POST_search_reddit_names`)
    3. Adding a subreddit to a multi on the site (`multi.js`)

commit e18aea7a853686c78e6452cb63f8166a8b460753
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Apr 16 10:20:50 2015 -0700

    UrlParser: improve path_extension()
    
    Previously, `UrlParser`'s `path_extension()` method returned the entire
    filename if run on a url pointing to a file with no extension.  This was a bit
    weird, so I changed it to return an empty string instead.

commit 14108287acff37b0e5fc721e031140c2bbd91211
Author: Chris Stephens <chrisst@gmail.com>
Date:   Tue Apr 14 21:17:30 2015 -0700

    api: Pass back action type with listing objects

commit 7f1aa2a52095381e6f05eae831122509e7fa59b2
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Wed Apr 15 00:48:18 2015 -0700

    Command line script to add subreddit to collection

commit 6ed439233b45d1eb35c004a4d46f8cb5b6c887e8
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Apr 15 14:08:06 2015 -0700

    reddit header: format karma number
    
    In the top-right of every logged-in reddit page, we display the user's link
    karma.  This number has been unformatted, which makes it a bit difficult to
    read at a glance as you gain a fair amount of karma.  Now we'll format it with
    periods or commas, according to the locale.

commit 94f716be699ce4b87ca9ebc6eacbb195e28275b8
Author: umbrae <umbrae@reddit.com>
Date:   Wed Apr 1 02:26:23 2015 -0700

    Media embeds: add vine to secure services

commit 52d419fe73419ea3e5d88cbb7e8cb0bedba090c1
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Apr 9 15:44:29 2015 -0700

    Comment sort preference: dual-write to migrate
    
    We ran the numbers on how many people have set some sort of sorting preference
    (this includes *anything* using `VMenu`, since the field is serialized in the
    database), and it's much more than I anticipated.  Per some discussion, we
    decided we should make a good attempt to migrate over users' sort preferences
    so as to not needlessly annoy them.
    
    While we could write a migration script that iterates through all users with
    this option set, that would take a long time and probably affect a lot of
    long-disused accounts.  Instead we're opting to dual-write the new and old
    preferences whenever they're updated through the preferences page (the new
    way).  Additionally, we're checking for inconsistencies between those two
    preferences on every view of a comments page, and setting the new preference to
    the value of the old preference if any difference is found.  That allows us to
    ship quickly while still invisibly migrating the preference for active users -
    even those who are only viewing comment threads, not changing the sort.
    
    This is likely going to lead to an increase in queries as we start to deploy
    it, but it should be ok if we just take it slow.
    
    After we've reached some point at which the number of accounts migrating over
    is low enough we no longer care, we can rip out this commit.

commit d274ca3f68d15a4a69f9d92e020e0426fe0052f1
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Apr 7 15:29:46 2015 -0700

    Remove POST_comments
    
    Now that we're not saving sort preferences when you select a new sort from the
    menu in comment threads, we don't really need to have a `POST` endpoint for
    comments; all that did was handle the save and redirect.
    
    Untangling how this menu got created took me some time, so try to hold on while
    I explain what's happening here.
    
    `CommentSortMenu`, which handles, as you may guess, the sort menu for comments,
    had `button_cls` set to `PostButton`.  That in turn defines its `_style` as
    "post".  And *that* has the effect of `post()`, defined in
    `templates/navbutton.html`, being the function used to render the button (which
    we do in `templates/navmenu.html`'s `dropdown()`).  And `post()` calls, not
    surprisingly, `post_link()`, which builds up a `POST` form.
    
    Ok, we'll pause for a minute to let that call chain seep in a little bit, at
    least.  Good?
    
    So now if we no longer set `button_cls`, we default to the parent's
    `button_cls`, which is `QueryButton`.  `QueryButton`, as its name implies, is
    designed to pass arguments in the query string, and does so through the normal
    `plain_link()` (called from the template's `plain()`, which is used because the
    `_style` is set to "plain").
    
    Aside: we don't want to get rid of `PostButton` entirely because it's still
    used by `ControversyTimeMenu`.

commit dbbc16ee5ad2ef01e2e200a1d9db1eddae3d113c
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Apr 7 12:32:38 2015 -0700

    Add explicit sorting preference
    
    For a long time, reddit has had a hidden comment sort preference - when you
    changed your sort using the menu, it would stick and stay as the default.  This
    has lead to a lot of confusion, as people will change their sort for one
    thread, then not realize that's used for all the rest (and so wonder why, say,
    all the comments they're viewing have pretty low scores, because they don't
    realize they're sorting by `new` now instead of `best`).
    
    Now we're getting rid of that behavior and replacing it with an explicit
    preference.
    
    From a user perspective, the ideal way to handle this would be for us to use
    the same backend; that would keep any sorts that people have set.  However, all
    that logic was genericized into `VMenu` to deal with all sorts of menus called
    from all sorts of controllers, and that ended up making the key to query
    something rather incidental (`front_sort`).  I'm also not a fan of validators
    having side effects like that, so I just gave up detangling `VMenu` and used
    the more common `VOneOf` and a preference that fits in with the rest of user
    preferences.
    
    Additionally, we suspect many users who have changed their sorts to something
    other than best have done so accidentally (that is, intending for it to be
    temporary), so starting afresh might actually be a better option, anyways.  If
    not, we can write a backfill to make this migration.

commit a5da7be4bed60a2c3b8766584b16ef89fde57b46
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Apr 10 13:10:01 2015 -0700

    Search API: Provide subreddit facet counts
    
    Optionally request and return search listing facet counts if the
    `include_facets` query parameter is set.
    
    {
      "kind": "Listing",
      "data": {
        "facets": {
          "subreddits": [
            {
              "url": "/r/thebutton/",
              "count": 19491,
              "name": "thebutton"
            },
            ...
          ]
        },
        "modhash": ...,
        "children": ...,
        "after": ...,
        "before": ...,
      }
    }

commit fce2994a938cbc7cf867459edd7255a6c58c5586
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Apr 8 17:17:38 2015 -0700

    Search: Remove not needed fields from search request
    
    Minor search request optimizations:
    - do not request facet counts for subreddit search
    - do not request facet counts for related links search
    - do not request hits for subreddits by topic search

commit 3f0134aa64fa1a196ce95a3acb8e24b09efd0950
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Apr 9 16:05:24 2015 -0700

    Search: Remove not needed get_after() call
    
    Remove the ineffective get_after() slicing call from the
    CloudSearchQuery object. The listing pagination logic is applied in the
    SearchBuilder object.
    
    Add the search request offset and size to the CloudSearchQuery object
    to support searcher pagination.

commit 666116677fa28b84ae1844dc31be9170b2f071f4
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Apr 2 18:02:56 2015 -0700

    Search: Respect over 18 user preference
    
    Hide NSFW links and subreddits in search based on the over18 user
    preference, controlled by a feature flag.

commit 56c08e11c021916a577ec1d0c0280e0b8b6d7d6c
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Apr 2 17:59:47 2015 -0700

    Search: New subreddit relevancy rank expressions
    
    Add subreddit sort menu with new relevancy rank expressions.

commit 01330ddf84f5f5be431ef090d179d8b184de755f
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Mar 31 12:26:56 2015 -0700

    Search: Support rank expressions in cloudsearch request

commit cdbf61d65829b286d2fa1cb181aa413bb6d5af97
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Apr 7 19:45:59 2015 -0700

    Redirect to /over18 for NSFW links posted in SFW subreddits
    
    Fix a bug where some NSFW links were not prompting the over 18
    confirmation. Affects links marked as NSFW but posted to SFW
    subreddits

commit 1a5931e8adb3e663d081c93a199ede4927d09c4f
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Apr 7 19:45:39 2015 -0700

    Add link property is_nsfw
    
    Link.is_nsfw returns true if the over_18 attribute is true or if the
    title contains the nsfw string.

commit a9c68fc7aade84e5e67277c413af88a9371fc3fa
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Apr 7 18:26:21 2015 -0700

    Provide a way to disable the over18 preference
    
    For logged in users, clicking on "no" on the over18 confirmation page
    will disable the over18 user preference. For logged out users, clicking
    on "no" on the over18 confirmation page will delete the over18 cookie.
    Previously, clicking on "no" did nothing.

commit 1397fd661a2a576e084f4ff787e64511a49ff77c
Author: Neil Williams <neil@reddit.com>
Date:   Mon Apr 13 12:16:17 2015 -0700

    scraper_q: Add timer to embedly oEmbed API call.
    
    This gives us visibility on the response times of the embedly API which
    can help debugging when the scraper_q is slow.

commit 21ab74fb5779635bbaf73433aa4eec6e29dbfcdd
Author: Neil Williams <neil@reddit.com>
Date:   Mon Apr 13 12:20:33 2015 -0700

    Rename timers for external services to share namespace.
    
    This moves the cloudsearch and geoip timers into a common namespace to
    clean up graphite and make it more clear what they are:
    
    * cloudsearch_timer -> providers.cloudsearch
    * geoip_service_timer -> providers.geoip.*

commit ad450143290c41042ab1f6949176266aa7c60595
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Apr 13 10:04:11 2015 -0700

    OAuth2: Override OPTIONS for /api/v1/access_token
    
    As well as for /api/v1/revoke_token. These endpoints aren't 'via_oauth'
    so they miss the standard cases in MinimalController.check_cors().
    Additionally, we can be slightly more limiting for these requests.

commit bf7abcb8f600a280539d77e24487c6b7a836d8e0
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Apr 13 09:52:59 2015 -0700

    Allow per-method OPTIONS overrides

commit 9cd3b9cf3cfb4c2e7ed0c35c8e2cddb4ad01d456
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Apr 13 09:41:03 2015 -0700

    Add a Majestic Moose

commit 9350508dbfaea38b492e8b5b0eb5da3e51835f19
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Apr 10 16:22:28 2015 -0700

    Accept '/r/foo' everywhere 'foo' works
    
    It's annoying to use the common subreddit syntax of `/r/foo` and be told you
    can't do that.  We've already been normalizing this in a few places, but now we
    should be accepting `/r/foo` or `r/foo` everywhere and silently stripping that
    to just plain ol' `foo` for the rest of the code.
    
    Here are the validators I found doing some sort of subreddit name check, and
    where they're used:
    
    - VSubredditName
        * multi.py
            + PUT_multi_subreddit - add a subreddit to a multi
    - VAvailableSubredditName
        * api.py
            + POST_site_admin - create or configure a subreddit
    - VMultiPath - already requires /r/
        * multi.py a bunch of places.
    - VSubredditList - already doing this
    - VSRByName
        * preferences.py - stylesheets everywhere
        * api.py
            + POST_compose - when sending a PM from a subreddit
        * multi.py
            + GET_list_sr_multis - getting a subreddit's multis
            + GET_multi_subreddit - get data about a subreddit in a multi
            + DELETE_multi_subreddit - remove a subreddit from a multi
    - VSRByNames
        * api.py
            + GET_subreddit_recommendations
            + POST_rec_feedback - recommender feedback
    
    One important thing to note: we don't want to just modify
    `Subreddit.is_valid_name()` because that's used in lower-level code, like when
    creating a `Subreddit` object, and that could cause all sorts of problems.

commit 54c1bfd52df720cff7a28b03f6e30d6925346030
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Apr 10 15:25:53 2015 -0700

    Subreddit.is_valid_name(): add unit tests
    
    Such a beautifully-extracted function is just begging for unit tests!

commit a20d710bde4ddd0bc2c12368126a41da5411b961
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sat Apr 11 01:02:48 2015 +0900

    AutoMod: improved handling for media data
    
    There were several issues occuring related to rules that require data
    from the media embed (which is added on to Link objects asynchronously
    by the media scraper). Items are re-checked by AutoMod when the scraper
    adds an item, but some rules that required that data were still being
    checked and executed anyway before it had actually completed, so were
    not behaving correctly.
    
    This change makes the checks to see if the rule needs the data from
    the media object more robust, which should ensure that these rules are
    never processed until the item comes into the queue again when the
    scraper attaches the embed data.

commit d55c4687dccc025f4a89db78d43aa300accf6140
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Apr 10 17:09:56 2015 +0900

    AutoMod: convert value to str to validate regex
    
    Previously something like "combined_karma: 0" would not be able to be
    validated against the regex, because the yaml parser would have made the
    value into an int, and regex can only be applied to strings.

commit 33dc1c8a1347f58a2faa40c655bb5cbf40abe801
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Apr 10 01:35:15 2015 +0900

    AutoMod: re-check auto-removed items
    
    This will allow approval rules to react to things being removed by the
    spam filter. Currently, AutoMod often ends up checking items before the
    filter finishes processing them, so it's already determined that it
    doesn't need to auto-approve something before the filter has even
    decided to remove it.

commit ed2aa98b9db8dd0c26e94a2de580a3ddac8b1c74
Author: Neil Williams <neil@reddit.com>
Date:   Fri Apr 10 11:56:28 2015 -0700

    Re-enable new comment highlighting for moderators.
    
    The server side was correctly adding the box but the client side was
    ignoring it because r.config.gold was false. This removes the
    r.config.gold check and relies on the comment visits box being there to
    indicate if the user should have access to the feature.

commit f8510a3cf8134db45fa0709488757b71d0567731
Author: adam <adam@reddit.com>
Date:   Thu Mar 12 12:03:41 2015 -0700

    Interest Collections: do not notify sales for 'after dark' collection

commit 3724417c0f262c4eae951ad2c5af2e41d773e62d
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Wed Mar 25 11:40:15 2015 -0700

    Add 3rd-party pixel tracking

commit c61b51e4e4eed6eedbc14a2ea7279979d622c90f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 23 19:49:37 2015 -0400

    Dual write CommentScoresByLink and CommentSortsCache.

commit 3a4dcacd68009995e5882d7bc5fd543a5be5a457
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 23 19:47:10 2015 -0400

    CommentScoresByLink: store comment scores as floats.
    
    This will replace CommentSortsCache, which stores scores as strings.

commit 19c497dff3e87f4d06fd57adf032b4bcae80d72e
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 9 08:29:59 2015 -0700

    New comment highlighting: restrict scope of timestamp selector.
    
    In reworking new comment highlighting I introduced a regression that
    caused child comments to share the timestamp of their parent regardless
    of their own time. This was caused by an insufficiently specific
    selector.
    
    The structure of a nested comment view looks like:
    
        <div class="comment">
            <div class="entry">
                <p class="tagline">
                    <time>
                    <time class="edited-timestamp">
            <div class="child">
                <div class="listing">
                    <div class="comment">
                        ...
    
    Selecting '.tagline time' from beneath '.comment' would pick up child
    comment timestamps as well and we'd overwrite their timestamp cache. We
    would also pick up edited timestamps, but that doesn't appear to do
    anything bad since they're not live.
    
    This fixes the bug by specifically sticking to the direct descendants.

commit 79cabad2cea21b27ac839bfbefe527030277cd50
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Apr 7 13:42:21 2015 -0700

    Hide subscriber count for private subreddits

commit 13dddf722bafc27f16941962d07b76452bb140d5
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Apr 7 13:29:20 2015 -0700

    Remove unused variables from template function score()

commit fe2fc34ca4347c061f0fe6136b0f3b57725d5f33
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Mar 30 15:26:02 2015 -0700

    Search API: enforce obey_over18
    
    Do not include nsfw results for api and rss requests when obey_over18=true.

commit 268a6297132bed80905ab8af605d93e36bd6042e
Author: Neil Williams <neil@reddit.com>
Date:   Mon Apr 6 21:49:07 2015 -0700

    New comment highlighting: Remove server-side pv_hex stuff.
    
    Previously, the server would check the user's previous visits when
    rendering a comment page and add comment-period-N classes to comments
    depending on where they fell in relation to those visits.  The client
    side would then add or remove a new-comment class to every comment with
    the appropriate (or older) comment-period class on first load or when
    the previous visit selection changed.
    
    This removes that server-side addition of comment-period-N classes and
    replaces it with ScrollUpdater-based updating of comments based on their
    actual timestamps. The goal is to reduce some server-side ugliness and
    extraneous memcached lookups.

commit 133c9d9f3ddc3f67f422910ba84bd210a1d42713
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Apr 9 02:15:43 2015 +0900

    AutoModerator: ensure "standard" value is a string
    
    Previously would cause silent crashes when trying to save if they
    attempted to use an unhashable type (generally a list) as the value for
    standard, such as: "standard: [one, two]".

commit 7c4ed2d7b9f6e2e5c69dbffbde634ba1a77396e9
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Apr 7 19:55:05 2015 +0900

    AutoModerator: error if search check fails regex
    
    Previously, an invalid search check key like
    "body+title (includes)#name" would fail the regex, and throw an error by
    trying to proceed in parse_match_fields_key() with the match object
    being None. This caused the wiki validation to simply fail to save with
    no error displayed at all.

commit 92cc540e16a7d674619bcbd3b63d33112e240f39
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Apr 6 16:32:38 2015 -0700

    OAuth2: OPTIONS pre-flights - don't check auth
    
    Avoid checking client authentication during pre-flight requests, since the
    browser won't be sending it.

commit b6fc5e3773fd10abfd93e3ef3b3f3cc487419671
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Apr 6 16:31:11 2015 -0700

    OAuth: Create OAuth2OnlyController
    
    This controller wraps up common functionality for controllers
    that only serve endpoints that require OAuth to access. This includes
    appropriate pagecaching (or lack thereof) and forced authentication
    methods.

commit 2371f0592285947762e26e8b17674871ec74e41b
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Apr 6 10:37:50 2015 -0700

    Allow OPTIONS requests to private Subreddits

commit 5f7526bc59a0429ad88fae00fb9ca78fd1afdf96
Author: Matt Lee <matt@reddit.com>
Date:   Mon Mar 23 15:17:44 2015 -0700

    Use more accurate labels on TimeMenu.

commit 29642658fa71e2a7b698bb831a2ed782a5e0678f
Author: Matt Lee <matt@reddit.com>
Date:   Mon Mar 23 15:44:52 2015 -0700

    Drop 'previous' from search input label.

commit 06c531127e19b914e02406b2906c751b8ee81a90
Author: Matt Lee <matt@reddit.com>
Date:   Mon Mar 9 13:09:29 2015 -0700

    ads: Catch potential js error if no ad is found.

commit afd081840e516043330f7156e68a579ed1691df2
Author: Matt Lee <matt@reddit.com>
Date:   Mon Mar 9 13:06:34 2015 -0700

    ads: Don't load new ad on focus if page loaded in background.

commit a959cd61531955272618aa5511eb4c5cae0ce836
Author: Matt Lee <matt@reddit.com>
Date:   Fri Mar 6 11:12:39 2015 -0800

    Cleanup spotlight.js.

commit 29fd7aee2d45bc28b74604d69a0f7268c4134a1c
Author: Matt Lee <matt@reddit.com>
Date:   Fri Mar 6 13:44:25 2015 -0800

    Remove old files.

commit a74636e1961b22385d8faff5e7f20d88361f561a
Author: Matt Lee <matt@reddit.com>
Date:   Thu Mar 5 15:52:08 2015 -0800

    ads: Fix broken event listener for visibilitychange.
    
    I mistakenly assigned the event listener to the window, but the event fires on
    the document. :(

commit a6ee26f489dbcf2b3e2c2a37dbe61390d43f2cda
Author: Matt Lee <matt@reddit.com>
Date:   Thu Mar 5 15:11:58 2015 -0800

    ads: Use visibilitychange event if supported.
    
    For loading new ads, use visibilitychange event if supported (it generally is). This means that, in theory, a new ad should load in one of the following cases:
    
    1. Active tab changes.
    2. Browser is minimized then maximized.
    3. Browser window is covered up then uncovered.
    4. OS goes to sleep/is locked then woken up/unlocked.
    
    This makes a lot more sense than the current trigger, which is just focus.
    Unfortunately support for cases 2-4 is spotty, but almost all browsers support
    case 1.

commit 977e0f1d25b3c8d7dbf7dfd673f51606f97e9daf
Author: Matt Lee <matt@reddit.com>
Date:   Thu Mar 5 11:15:16 2015 -0800

    ads: Force redraw when new ad is loaded.

commit 48fb42368fc6bbbda4f4242e322955e65c1baff3
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jan 15 11:36:04 2015 -0800

    ads: Load new sponsored link when refocusing the window.
    
    Loads a new ad when user re-focuses the window, under the following conditions:
    
    1. Ad must be the active item in the spotlight box.
    2. Ad must be visible (in the viewport and not hidden).
    3. More than 1.5 seconds must have elapsed since the last ad was loaded.

commit f18f92e3f6f7c6ff556342794aee1b769171effa
Author: Chris Stephens <chrisst@gmail.com>
Date:   Mon Apr 6 12:31:23 2015 -0700

    Tracking: Ensure logged out id doesnt get appended when logged in

commit 03c2100823f5ac72c08f77c5fb95523290464014
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 25 21:39:50 2015 -0400

    Don't error when someone tries to save a Subreddit.

commit 406ee35ccc92725b0b80171faa2bf6dd8f53441e
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Apr 6 10:47:52 2015 -0700

    Widget: load secure images
    
    As reported in reddit/reddit#1291, we've been loading some images in our embed
    widgets (the old ones, not the new comment embeds) over http.  This causes
    warnings in most browsers when the embedding page is loaded over https, since
    we dropping down to insecure elements.
    
    Now we're always loading them over https.  Alternatively, we could use
    protocol-relative urls, but I figure there's no harm in always using https, and
    it's simpler and causes fewer weird issues with browsers.

commit 84e609ee3bba312d4203d5b286fb84cf04c2c990
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Apr 2 12:29:45 2015 -0400

    ModAction: if target is an Account, set target_author to target.
    
    This will include the author name in json views of add/remove for
    ban/contributor/mod/etc.

commit 0ac2a06404fe2a679b8c2e135a126d1f794d12b8
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Apr 3 19:51:49 2015 -0700

    Don't let non-mods access the `POST_subreddit_stylesheet` endpoint
    
    Thanks to a report by @lamiejang. Non-mods were able to modify the
    `/config/stylesheet` wiki page, as well as nullify the stylesheet.

commit 7ec1bfa057eedecd404b3bfd1c192bc1bcff7964
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Apr 6 06:25:45 2015 -0700

    Add scary comment about `g.debug` to the default `development.update`
    
    It's not obvious that `g.debug = True` is bad to do in prod unless you've
    read `example.ini` as well.

commit fc58af5cc14f1e290c823c4e408114e07c6f3d7f
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Mar 31 13:38:29 2015 -0700

    Comment embeds: Set iframe width/height using style attribute
    
    This helps prevent the iframe width and height from unintentionally
    being set by user stylesheets.

commit eff0a20da36d4fa1c865482956909deab8f676b7
Author: Neil Williams <neil@reddit.com>
Date:   Mon Mar 30 11:11:00 2015 -0700

    example.ini: Remove gzipper middleware from pipeline.
    
    It is causing issues with local static files in development mode and
    we'll probably be replacing it in the near future.

commit 063bcf70acfe9a7525370cd39beb24d741e5bf03
Author: Chris Stephens <chrisst@gmail.com>
Date:   Wed Mar 25 13:17:00 2015 -0700

    Add logged out user tracking library and append to tracking pixel

commit 22625acedaa60af72d0f2b68f50eaaf91e556c01
Author: Chris Stephens <chrisst@gmail.com>
Date:   Tue Mar 31 15:46:09 2015 -0700

    Api: Add another 'where' to user/where end point

commit 86ae3690bf36bda8b62cf1f0e23dc617300fd427
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Mar 31 16:08:14 2015 -0600

    WikiPage.revise(): handle content being None

commit c1e2796da7f7fa1516c4363f65a46fa82eccda4e
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Mar 25 16:08:50 2015 -0700

    Force default og:image to https
    
    If we can't figure out a good image to hint as a thumbnail for a page via
    `og:image`, we set it to the reddit snoo icon.  However, we have been making
    this a protocol-relative url.  This doesn't appear to be against [the spec][0],
    but it does create problems for some scrapers.
    
    Now we force it to be an https url, which should resolve some of those issues.
    
    [0]: http://opengraphprotocol.org/#url

commit 0fbea80d45c4ce35e50ae6f8b42e5e60d79743ca
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Feb 6 19:56:33 2015 -0700

    Integrate AutoModerator into the site

commit 26d9ac4d7f09a4b74463454e3776493815f95773
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sun Mar 15 22:40:35 2015 -0600

    WikiPage: touch LastModified on edit

commit f0869100a47f31467b0293212a00257b945df980
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Mar 12 18:30:20 2015 -0600

    Add new_media_embed amqp message

commit 1089c951b32ff236eb5e166b3f1577dd66a62398
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Mar 12 17:28:01 2015 -0600

    Add new_report amqp message

commit f4109ba70f7d8e3e7d7ab64ab4865bf0af4b7e2e
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Mar 25 10:10:28 2015 -0700

    Comment embeds: Increase click area for read more link

commit fa2f128c3fb2e272a9b5c93b22ab8c8f75b69fa7
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Mar 26 14:10:15 2015 -0600

    automatic_reddits: only force to front page
    
    Previously, automatic_reddits had two effects: they were added to the
    list of default subscriptions, and also always forced to the front page
    as long as the user hadn't unsubscribed. This change makes it so that
    they are no longer added to the list of defaults, so that we can force
    /r/modnews to the front page for mods without also effectively
    subscribing every user to it by default.

commit 908203811b0e3fe0c3aaf1c18fdd75d063693c96
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Mar 27 14:49:30 2015 -0600

    pref_creddit_autorenew: default off for non-gold

commit 4b9aee9266a8c5d0ae7435ea4cf452f98cf8dbd8
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jan 30 16:09:27 2015 -0700

    Fix mods without gold disabling comment highlight

commit 85d11840a32a5ddc45127db7d992a47671a8bc7c
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Mar 26 10:47:43 2015 -0600

    Fix blocking from username mentions

commit e77007c99389ff2859c1d8de1b62c4cfcc224b04
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Jan 29 03:44:19 2015 -0800

    Add filter for safely inlining JSON in `<script>` tags

commit e591b16eb9c2956b632279cd202ceb78239c9c33
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Mar 25 05:53:59 2015 -0700

    Replace VUser() overload with VVerifyPassword()
    
    The VUser way made it too easy to make a mistake. Something like
    
        VUser('password')
    
    wouldn't even check the password unless the `default` kwarg was set!

commit ad4554f2dbaad90aaf8e4ce35a35bd44eec64d89
Author: umbrae <umbrae@reddit.com>
Date:   Fri Feb 27 22:43:52 2015 -0800

    Spacing fix in suggested sorts

commit e0f361127fc0373610d0f9906264eef7645bbb94
Author: umbrae <umbrae@reddit.com>
Date:   Mon Mar 23 15:38:05 2015 -0700

    Strip embed tokens - a manual revert of c0fcb63

commit c846d26bcdd4117cd63e52c75f173cab78375e07
Author: umbrae <umbrae@reddit.com>
Date:   Mon Mar 23 10:06:48 2015 -0700

    Trending: only add to stack if not None

commit ceaeddb1f11c297361869b774a3a9189e95eb261
Author: umbrae <umbrae@reddit.com>
Date:   Sun Mar 22 10:57:24 2015 -0700

    Add c-hidden helper component css class

commit 69a129b5eb2195d91771701ecb6f719ddfeed81d
Author: umbrae <umbrae@reddit.com>
Date:   Fri Feb 27 00:06:13 2015 -0800

    Add hook to hot display pane and home sidebox.

commit 86a3d262f20c7ac457db089288925c88792e9b1e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Mar 26 15:30:29 2015 -0700

    random_reddits requires a LIST of sr_ids

commit 619e37d1f120cef45cc9230b520c1f5fce59368a
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Mar 26 14:22:59 2015 -0700

    Pass sr_ids, not subreddits, to random_reddits

commit a6a0e51fdf1686ece5049d4e1ab80cb32ef518e1
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Mar 16 16:40:31 2015 -0700

    Comment threads: remove hot sort
    
    Hot doesn't make much sense for comments because it was designed for threads.
    There are very *very* few people who use it in comments, and we suspect most of
    those are on accident - we don't provide good descriptions of what the sorts
    are, so it's not obvious which of 'hot', 'best', and 'top' you should choose
    when looking at a comment thread (particularly when 'hot' is the default for
    submission listings).

commit 25764c8efbec3e75c23913c28c51a9d899ea0f9a
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Mar 25 17:42:12 2015 -0700

    Contest mode: allow mods to sort however
    
    Contest mode originally forced the sort to `top` for mods to assist in choosing
    winners.  However, /u/timotab [pointed out][0] that the ability to use `new` as well
    would be useful for moderation.
    
    Now mods are able to use whichever sort method they wish when browsing a thread
    in contest mode.
    
    [0]: https://www.reddit.com/r/modnews/comments/2z913o/moderators_new_features_for_testing_before/cpgyzm7

commit d87bc9573cc5595fc8550ee58eb1e4b9e9e96465
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 23 01:08:49 2015 -0400

    Comment.add_props: cleanly handle missing parents.

commit e6c508167bb072d9e589c5ad4941bd0be314edcd
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Mar 25 14:37:14 2015 -0700

    Lowercase query-param'ed LabeledMulti IDs
    
    LabeledMultis are case sensitive and always lowercase in Cassandra.

commit 48979b53371dd7730c7c67daa7b445f418f31bd7
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed Mar 25 11:19:03 2015 -0700

    Prefs page: fix bad merge resolution
    
    This fixes an unexpected keyword argument error that was introduced in
    reddit/reddit@f3147ee. error_style_override and generic_error have not been
    specified in the code yet.

commit 3704a48da53f105d55ecdcc51c1c4bd8dad86a86
Author: Neil Williams <neil@reddit.com>
Date:   Tue Mar 24 15:55:26 2015 -0700

    js.py: Collect localized_appendices in nested LocalizedModules.
    
    Previously, localized_appendices would be ignored in nested
    LocalizedModules because the Module.build() step would just call
    get_source() on the nested module.  This caused the plural forms
    expression to not be properly appended to the reddit-init and
    reddit-init-legacy modules since they nest the reddit-init-base module.

commit 9d455d02355af1ea9c20a31d14f4fcf3516712c5
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Mar 23 20:33:24 2015 -0700

    Fix escaping of comment embed code inside the <textarea>
    
    Thanks to a report by Tim McCormack (/u/phyzome). This fixes an issue
    where someone embedding comments on their site could XSS themselves on
    *their own* site if the parent post of the comment had HTML in the title.

commit 082ddb7e63af0e03ef92e8685ed01561aa3b9628
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Mar 23 12:46:15 2015 -0700

    Support utf-8 in gilding giftmessage

commit 9313263c009c4ccedb060ca4afee2d6d4ba25f1d
Author: Neil Williams <neil@reddit.com>
Date:   Mon Mar 23 20:49:28 2015 -0700

    i18n: Add NP_ to babel extraction keywords.
    
    The strings in timetext.js weren't being extracted. This fixes that and
    will allow, after a translation cycle, live timestamps to be properly
    translated.

commit afca9c746fac38fcad66cc13719254ccfb97268a
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Mar 23 17:16:25 2015 -0700

    Force https when validating sensitive information

commit f060da53c3127c80b10b134111fa0734609aa834
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 18 16:00:37 2015 -0400

    cache stats: Don't count localcache hits.

commit 12a8eec564224ba673a33cdeacfc160fd460c294
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Mar 20 11:47:11 2015 -0700

    Q&A sort: condense menu text
    
    It looked weird with spaces in it.

commit 0e147fc2760cc30d65236394a77c4305cc083fb0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 16 17:55:24 2015 -0400

    MultiReddit.get_all_comments: don't lookup Subreddits.

commit 7d8334db34a3dde51e5992cb32e3f55b9880fdab
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 16 17:47:29 2015 -0400

    DefaultSR.get_all_comments: don't lookup Subreddits.

commit 650f77f0f97c0e4922ebda62d4a72a858a3f6ac3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 16 17:26:39 2015 -0400

    subreddit.get_links_sr_ids: don't lookup Subreddits.

commit 9d93c78b50773c2c88c961952f39f3221d924a75
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Mar 19 00:59:09 2015 -0400

    pages: Force stale Subreddit lookups.

commit d16d8880f30df1612c0ec4c567e570c82aa74501
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 16 17:51:16 2015 -0400

    Subreddit: do stale lookups in default_subreddits() and user_subreddits().

commit e233fb1626d04e5f3f39b158c55b88a7547ff37e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 16 17:29:27 2015 -0400

    Subreddit.random_reddits: use stale lookup of automatic reddits.

commit 2216f5eae55264e5edc8a44aa193e3961ff08d94
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 16 17:58:28 2015 -0400

    LabeledMulti: Allow stale Subreddits.

commit 3eee11fd808ba8ecf141d8ea714bf30e12a7f29a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 18 16:18:15 2015 -0400

    Don't load LabeledMultis' subreddits when they're not needed.

commit 8c3504a2c6f7eda1153383a184e0f29c132dbcee
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Mar 20 12:16:45 2015 -0700

    Q&A sort: don't collapse comments on permalink pages
    
    The comment-hiding behavior of Q&A sort has been confusing when viewing a
    comment permalink, since it is fairly likely all the comments would be hidden.
    This is particularly problematic when the user hasn't explicitly set the sort
    for that page, eg by having it set as their default through the sticky sort
    behavior or due to a subreddit- or thread-default sort.
    
    Now we don't do any hiding of comments due to Q&A sort on permalink pages.

commit a292d3615f7787f511a8401e1c2b3cfa189d46a3
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Mar 18 12:52:20 2015 -0700

    Comment embeds: Fix embed code selection
    
    Fix bug where embed code was not always selected when clicking to
    focus on the textarea.

commit 00b64d239b00020cbf22dc6c451d2132cec4358a
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Mar 17 11:03:13 2015 -0700

    Comment embeds: Increase spacing between checkboxes

commit 9f4d3ff27cf6ff0ec5180eb5cadfcb8d5bbb69ae
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Mar 17 11:02:07 2015 -0700

    Comment embeds: Restore max-width on iframe

commit 3db0aac8263a20e77964b5168165eeeab3af6084
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Mar 16 13:11:28 2015 -0700

    Comment embeds: Add a "read more" link for long comments
    
    Truncate long comments using CSS and add a "read more" link to
    expand the embedded comment in place.

commit b716a043935aa2fc4d58dba78ecdd7f3d1a0e3ed
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Mar 19 17:16:36 2015 -0700

    Remove `r.resAdvisory.init()` call
    
    This isn't needed anywhere but `reddit.com`, since that's the only
    place RES runs, and it hardly gets triggered anymore.
    
    Fixes #1264

commit 36e389b2967313eb6b49082ac140372f65f0ab32
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sat Feb 28 00:36:12 2015 -0800

    Respect `SC_` directives when spaceCompressing in `$.unsafe()`
    
    This was causing some strange visual defects on .compact when
    things were inserted via `$.insert_things()`, notably when scrolling
    down on the messages page.
    
    Fixes https://github.com/reddit/reddit/issues/807

commit cc88c946a369e521aa6f95d378fdef0eefe1be39
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Mar 9 08:19:07 2015 -0700

    Fix `onVisit()` when middle-clicking
    
    We use the `click` event handler for catching left clicks rather than
    `mousedown` so that we don't mistake a drag event for navigation, but
    middle clicks don't generate a `click` event in some browsers! Ick!
    
    Fixes the issue at https://www.reddit.com/r/bugs/comments/2smqt8/remember_what_links_youve_visited_across/cnwyh5o?context=9

commit 63407af90083f7105e2e6c6f9e19a235b06c5423
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Mar 18 12:48:46 2015 -0700

    Tell downstream proxies not to cache responses with uncacheable cookies
    
    Cloudflare will already catch these and add its own
    `Cache-Control: no-cache` header, but let's be defensive here.

commit a987aa23201e51ec48b954b0a33ba92728b648f0
Author: zeantsoi <zeantsoi@gmail.com>
Date:   Thu Mar 19 14:54:42 2015 -0700

    Update example subreddits to valid values

commit 869df930267397f45fbb40bbc2fee3898cb3e9aa
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 17 13:50:50 2015 -0400

    MyredditsController and RedditsController: use stale lookups.

commit 5d5cd8275cfacc88801a30f9ccbada00eab29b6d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 17 13:49:30 2015 -0400

    Relation._query: add option to get stale results.

commit edbdef7ed29441eb3a11bae27ec6be63f14d5058
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 17 13:36:29 2015 -0400

    Thing._query: add option to get stale results.

commit 653c6e511339bbb2b39a4737dfe6b5ef827d18be
Author: Neil Williams <neil@reddit.com>
Date:   Sun Mar 8 21:22:10 2015 -0700

    Upgrade authentication providers to modern system.
    
    This is more consistent with other providers and makes it possible for
    providers to live outside r2.

commit 1b6df45fa121aba1ffa438f74cd9e16c7afa3922
Author: grandpaslab <john.j.hannon@gmail.com>
Date:   Tue Feb 10 12:32:28 2015 -0800

    Add support for automatic account creation when using basic auth.

commit 2b4c3d1fd37cd0e5b61b5ef2b1a9e858400efb3b
Author: Neil Williams <neil@reddit.com>
Date:   Sun Mar 8 17:41:33 2015 -0700

    Move CDN client IP verification to a provider.
    
    This makes the base controller a bit cleaner and should be more
    flexible.

commit 2a7f9cabe9f8f54a3aa50effbf5d8ccf7df7465e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Mar 18 11:10:13 2015 -0700

    Arbitrary sets of multis

commit 15de44edf53d5972776daa7972fb0fb0d7b4f657
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Feb 11 13:57:25 2015 -0800

    Add UrlParser.switch_subdomain_by_extension()
    
    Previously, the only choices for changing a desktop url into a mobile one (or
    vice versa, or going to XML, etc.) were to do it manually or to override
    `c.render_style` before calling `add_sr()`.  Now there's an easier way through
    `UrlParser`.
    
    This necessitated moving the mappings from subdomains to hinted render
    extensions out of the local namespace of a middleware function and into a more
    accessible place, so now we also have access to it for other miscellaneous
    uses.

commit 920abafaa6aaad4cff28050ad5cb685bba043ba5
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Feb 11 11:59:28 2015 -0800

    Generate mobile bi-directional links
    
    We have canonical links that point to the desktop site from mobile, but Google
    would really like us to point the other way, too - to mobile from desktop.
    They call these "bi-directional annotations".  More on that here:
    
        https://developers.google.com/webmasters/mobile-sites/mobile-seo/configurations/separate-urls?hl=en

commit 689a9554e60c6e403528b5d62a072ac4a072a20e
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Feb 23 14:33:35 2015 -0800

    Fix several `is_reddit_url()` bypasses
    
    Thanks to Yassine ABOUKIR (http://www.yassineaboukir.com) for the report!
    
    `////example.com` doesn't survive the round-trip through
    `urlunparse(urlparse())` and becomes `//example.com`.
    
    Things like `///\t/foo.com` were also getting by because some UAs
    ignore various characters when they occur before the path section.
    `UrlParser.is_web_safe_url()` was added to check if a URL could be
    interpreted differently by different parsers

commit bb2a5f3a8d53ef0852effca699bb67fe4bedd33a
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Jul 8 18:06:00 2014 -0300

    Only embed HTML timing data in HTML responses
    
    This prevents timing data from being injected into responses where
    '</body>' only shows up incidentally.

commit 9299832965dfaa6b2d94258a8c102a5ddda49adb
Author: Chris Stephens <chrisst@gmail.com>
Date:   Tue Mar 17 17:47:27 2015 -0700

    Apis: Return appropriate errors from vote api

commit da4471b4d249f9733b9de0046155a6b8203906c0
Author: Chris Stephens <chrisst@gmail.com>
Date:   Tue Mar 17 16:59:43 2015 -0700

    Multi Api: Handle logged out users viewing sub reddit multis

commit 709ddd9efdcc49afd9712404930e0d28c9dc561f
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 18 14:32:54 2015 -0700

    queries.get_likes: Fix crash when no LastModified found.

commit 4408a521ba3cc328f2f8ce4552bceced75782af3
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Mar 17 15:17:33 2015 -0600

    Fix bug in POST_deleteflair

commit 9a47c545fc9194676aaf7438b92a6625633abf8a
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 24 16:20:39 2015 -0800

    Mega-multis: Use "fresh" hot merging in some cases
    
    If any of the multis in a mega-multi use the "fresh" weighting_scheme, set
    the derived MultiReddit to also use "fresh" weighting.

commit db5ea46cfd25c1b22ecae70a50ee75bce9368990
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Mar 17 09:57:42 2015 -0700

    Multis: Use weighting_scheme to choose ageweight
    
    When merging subreddits in a Multireddit, use the multireddit's
    weighting_scheme to determine what ageweight to normalize with.

commit ff742c1a3eb7485da9af843e720848271913d05b
Author: umbrae <umbrae@reddit.com>
Date:   Mon Feb 23 01:07:12 2015 -0800

    Suggested sort: Restrict set suggested sort to mods only

commit c97ee0ec0bb741285975f099a5f9fa8faf8783f8
Author: umbrae <umbrae@reddit.com>
Date:   Mon Feb 23 01:06:28 2015 -0800

    Suggested sort: Rename default_sort fields to 'suggested' variants

commit 42ca4459dcc3fef2ff9a7bc07f7de512b88affde
Author: umbrae <umbrae@reddit.com>
Date:   Sun Feb 22 12:19:56 2015 -0800

    Suggested sorts: set per-thread suggested sort

commit 505aee3630c418d6b486f30ab4c0c634d4d63167
Author: umbrae <umbrae@reddit.com>
Date:   Sun Feb 22 10:54:29 2015 -0800

    Suggested sort: Add (suggested) to comments sort dropdown
    
    Conflicts:
    
    	r2/r2/lib/menus.py

commit f939e8396c3602336dea34f107c6d13f593f1200
Author: umbrae <umbrae@reddit.com>
Date:   Sun Feb 22 00:05:20 2015 -0800

    Subreddit suggested sort: fix AttributeError on no thing.site

commit c30203b6b50d80e5610ff4cf974fb803e7ebd05e
Author: umbrae <umbrae@reddit.com>
Date:   Thu Feb 19 06:55:50 2015 -0800

    Unraw jsonp_callback_rx to fix syntax highlighting

commit ef48f97f67f8bc091e3cccf41cc000e33ee31f26
Author: umbrae <umbrae@reddit.com>
Date:   Sat Feb 21 21:03:53 2015 -0800

    Fix space on suggested comment sort in sr settings

commit d79aa90ab0827be6ad988ef20cd26b70f960b387
Author: umbrae <umbrae@reddit.com>
Date:   Sat Feb 21 20:53:51 2015 -0800

    Add "default_comment_sort" option for subreddits.
    
    If a sort has not been explicitly set for a thread, it will fall back to this
    sort. If no sort is provided here, it will be whatever the user's preference
    is.
    
    Conflicts:
    
    	r2/r2/controllers/front.py
    	r2/r2/lib/menus.py

commit e338b64a17732f5ba96e450dd9e31cd09ef0ec1f
Author: umbrae <umbrae@reddit.com>
Date:   Sat Feb 21 02:36:12 2015 -0800

    Embeds: rewrite click URL only once

commit e5647d641cc4afca02e6a17dc360ed4a25e7ea3f
Author: umbrae <umbrae@reddit.com>
Date:   Sat Feb 21 01:58:03 2015 -0800

    Embeds: use our session-appending redirector to track link clicks

commit a992fe88ae5fff6e411c28ecac9d7ab2a1da4a6f
Author: umbrae <umbrae@reddit.com>
Date:   Thu Feb 19 08:30:17 2015 -0800

    Embeds: avoid extra lookup with data=True

commit 5b54af7bfec2f5c49cf235ffc2ba6c4453860c6b
Author: umbrae <umbrae@reddit.com>
Date:   Wed Feb 4 06:47:16 2015 -0800

    Add default sort for links, a mod settable parameter.
    
    This adds the base functionality for a default sort for links, wrapped
    behind a feature flag. Still yet to be implemented but necessary for
    general release:
    
    * A user option to disable all suggested sorts
    * An interface for mods to set default sort for a thread
    * A subreddit settings to set the default sort for all threads to the SR
    
    Conflicts:
    
    	r2/r2/controllers/front.py

commit f75d3c6032d3ead6bb72f4e5dca720f921128589
Author: umbrae <umbrae@reddit.com>
Date:   Tue Feb 10 05:01:23 2015 -0800

    Default sort: feature flag fix for request-time inclusion

commit 1153d14080f020bac812a5ae85d3c5c3916f2beb
Author: umbrae <umbrae@reddit.com>
Date:   Wed Feb 4 06:23:43 2015 -0800

    SortMenu: make use of passed title param if available

commit 2620100c37e4f12e04612072abc544d84e7e7b82
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Feb 23 14:07:10 2015 -0800

    Q&A sort type: add special collapsing rules
    
    In the Q&A sort type, we now collapse everything except:
    
    * top-level posts
    * OP posts
    * the comments preceding OP posts
    
    to help readers find OP interactions.

commit 62db2373f2555df17ebeb13968e243fccfbeff5f
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Feb 10 14:43:52 2015 -0800

    Add new Q&A-oriented sort type
    
    None of our current sort types work terribly well for Q&A threads.  So, we're
    adding a new one that takes into account not only the votes on top-level
    comments, but the votes on any OP responses, too, as well as the length of both
    comments.

commit 3620e08d47dd81a0b46a28bc812e4550b05d65a9
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Mar 3 16:20:50 2015 -0700

    Redo changed() as update_search_index() on Thing

commit b24ba98239321ce084d87954975e40073f8fbb2a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Mar 2 16:50:13 2015 -0700

    Refactor flair API endpoints
    
    A lot of the logic related to setting flair was included (and repeated)
    throughout the API endpoints. This commit moves that logic into methods
    on Link and Account, and refactors the endpoints to use those methods
    instead.

commit 4cadbabdf060c1f37bf76a15b60b3061b6e680bf
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Mar 3 21:03:12 2015 -0700

    ModAction: move models imports into functions
    
    This will prevent circular imports when importing ModAction into
    Account, Link, etc.

commit 1da986efa987cffae3d3ee3308871239f3daad5b
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Mar 16 15:32:00 2015 -0700

    Comment: fix bad merge resolution
    
    While fixing merge conflicts, I made an incorrect decision, leading to
    reddit/reddit@9c6aa71 introducing an undefined variable.  This fixes it by
    getting rid of the duplicate block, using the conditional logic introduced in
    reddit/reddit@5712c98f .

commit 5641565b02b33a70133531d473036b0506385a61
Author: GusGold <angus.goldman@live.com.au>
Date:   Mon Mar 16 01:22:25 2015 +1000

    CSS Filter: allow clip-path and some related functions.
    
    "clip-path": Used to clip an element via inside of polygon.
    https://developer.mozilla.org/en-US/docs/Web/CSS/clip-path
    
    "circle", "ellipse", "line", "polygon", "polyline": Functions used to
    create SVG shapes. Same uses as `rect`.
    https://developer.mozilla.org/en-US/docs/Web/SVG/Element/polygon

commit d3919b9357a5bf0089e22a1411046c5c8580860e
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Mar 11 11:07:48 2015 -0700

    Install python-mock for tests
    
    We've been using the `mock` module for one of our tests, but seem to have never
    added it to any of the installation scripts.

commit 2d142b375c7dc7d6268866cd71935de614d21b7c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Mar 12 02:00:58 2015 -0400

    Decrease Thing cache TTL to 1 day.

commit 9e9861c7d03ccddc168e220419c91a4ffef49e20
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Mar 12 04:35:01 2015 -0400

    Thing: count stale hits and misses by class.

commit 12db5002290c42822f6e497a8f72d3c991400232
Author: Neil Williams <neil@reddit.com>
Date:   Sat Feb 28 09:44:17 2015 -0800

    vote: Use LastModified to cull some prequeued_votes lookups.
    
    prequeued_votes is meant to hide the fact that votes are processed
    asynchronously when a user refreshes a page right after voting (i.e. the
    vote arrow will remain colored even if it wasn't processed fully yet on
    the backend.)
    
    Now that LastModified for votes is written in-request rather than in the
    queue, we can take advantage of this to reduce the number of items we
    have to look up prequeued_votes for.
    
    A new configurable, vote_queue_grace_period, specifies what amount of
    queue lag we're willing to paper over.  If the user hasn't voted in that
    grace period, we just assume that the vote has been processed, skip
    prequeued_votes lookups for it and go straight to Cassandra.
    Additionally, if we are going to do lookups, we'll skip lookups for
    items that were created since the last time the user voted like we were
    already doing at the DenormalizedRelation layer.
    
    This will likely shift some reads to Cassandra so we should keep an eye
    on that.

commit 875527daf4601702d62d632e8ba5d6adc6add848
Author: Neil Williams <neil@reddit.com>
Date:   Sat Feb 28 08:58:16 2015 -0800

    vote: Write LastModified in request rather than in queue.
    
    This will allow us to trust LastModified for culling lookups to
    prequeued_vote_keys. In a situation of bad queue lag, this could result
    in more lookups going to Cassandra, as the LastModified culling in
    DenomralizedRelation will be thrown off slightly, but that should be OK
    as the bloom filters will catch the negative lookups quickly.

commit a16dd1425f1224c40c9a58f98a9656dbff39d88a
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Mar 13 11:21:58 2015 -0700

    Multi API: Fix get subreddit multis
    
    GET /api/multi/r/subreddit was always returning public multis.

commit eefba9370cb4e09e82ca6cf64ce46576849b53b8
Author: Chris Stephens <chrisst@gmail.com>
Date:   Fri Mar 13 16:49:29 2015 -0700

    Multi API: Fix bug where mixed cased subreddits lost multis

commit e16afffe91b1d691459a6f0798fe1f9068a5331a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 16 13:02:44 2015 -0400

    Permacache: fix memcache initialization and don't validate keys.

commit e2bb8990148f20b0217da4957b9ad22b0d8d94be
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Mar 12 12:22:23 2015 -0700

    Support /r/srname/m/multipath

commit efce256abb7572b4c64d805afd5890429990d160
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Mar 10 12:45:47 2015 -0700

    Subreddit settings: Use subreddit multi for related subreddits
    
    Use a multi to manage a subreddit's related subreddits.

commit 81c184e7a48b527386428ab19355e6aae5b1674a
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Feb 23 09:35:39 2015 -0800

    Multireddits for subreddits
    
    Allow multis to be associated with subreddits using LabeledMulti.

commit 6f52c290e4dbce3767f292d0730328bb6af68820
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Mar 10 16:49:12 2015 -0700

    /dev/api: Allow wrapping of api parameters

commit 265d3e289fbb35b6f9aa72c0063c02baafdab573
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Mar 10 16:08:56 2015 -0700

    /dev/api: Fix urls for multi rename and copy

commit 48696f15f2647881c110bc80c6eb001f3cb49557
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Mar 10 16:29:00 2015 -0700

    Multi API: Add subreddit names to copy and rename response
    
    POST /api/multi/copy and /api/multi/rename was missing subreddit names.

commit aace23d19e6e858bef0f7ec6ece0bc31547bdd82
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Mar 10 16:07:11 2015 -0700

    Multi API: Fix create multi with display_name
    
    POST /api/multi with display_name was failing for user's first multi.

commit f68dbdec0282387e926ffb27c5e77a913d2ed688
Author: Chris Stephens <chrisst@gmail.com>
Date:   Thu Mar 12 11:53:32 2015 -0700

    Multi API: Wrap and fix the expand_srs object
    
    The name and display_name fields are inconsistent between the subreddit
    object in the multi apis and the listing apis. This wraps the srs object
    within 'data' so that we can address the inconsistency without breaking
    the non expand_srs end point

commit f3147ee639f44956cfdf9fc6d96c2e4ac4c8fd3f
Author: jo-asakura <nova5@yandex.ru>
Date:   Thu Mar 12 09:45:57 2015 -0700

    Add GA tracking for Gold pages

commit d60b1fc6bfeb4295b08ad0d330d9a2461476fc87
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Mar 12 11:39:12 2015 -0600

    Goldvertisement time remaining: fix DST bug
    
    For some reason, the previous method of initializing a datetime for
    "tomorrow at 00:00:00" was having the time zone come back as PST when it
    should be PDT. By using replace() instead it stays PDT as it should.
    This may be a bug in Python's datetime module.

commit 67e61a5b0d9984b80a4dfb3c6e5f4f4db6d7f4d3
Author: weffey <weffey@gmail.com>
Date:   Tue Mar 3 12:18:29 2015 -0800

    Add DMCA contact line

commit 98fd621589d659b3dd4056fd57533c9e8b7cae21
Author: adam <adam@reddit.com>
Date:   Mon Mar 2 14:51:15 2015 -0800

    promotedlink: change copy for ads under review to 'waiting approval'

commit 37453d6d1e282b3e8f8698dea5650d785fb3c7b1
Author: adam <adam@reddit.com>
Date:   Tue Mar 3 16:51:46 2015 -0800

    PromotedLinkTraffic: add impressions purchased to campaigns table.

commit d9b72c3b1ff878ad8eb19c7de14de73b42bfe342
Author: adam <adam@reddit.com>
Date:   Wed Mar 4 12:02:00 2015 -0800

    sponsored: display total remnant impressions when house ad is selected

commit e9fa5595e36ac7d97e47a2b33b6468a8c6617bd6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 25 20:35:33 2015 -0500

    Log invalid key names for most `CacheChain` operations.

commit b051f0817e820a1716abc2b31bb87d4c8d828ca7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 11 01:20:49 2015 -0400

    permacache: Use pickle protocol 2.
    
    This should give significant (50%) size decrease.

commit f16fa97c3ee633cf37f22a535f6549974c7c4e3e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 11 01:19:41 2015 -0400

    Decrease minimum size for compression for permacache memcaches.

commit ddfe648f16ba90d2e76f1357f4e2e9458d9737ee
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 4 02:55:48 2015 -0500

    Permacache: read/write_consistency_level are not configurable.
    
    Must always use QUORUM to prevent inconsistency.

commit e608d11db56a3a7ea74106adb92ad71ea98a6f1b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 26 14:40:32 2015 -0500

    Permacache: Don't let public methods set rcl/wcl.
    
    Not needed and nothing was using this ability.

commit 90c50bf1a875de3118f501bd3e35f520d27f026b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 26 12:14:22 2015 -0500

    Permacache: directly manipulate pycassa column family object.
    
    Previously relied on the CassandraCache wrapper that treated cassandra
    as another generic cache. This change makes it clearer when the cache
    chain is used and when the persistent store (cassandra) is used.

commit a2a4ba6b59a171b27347039d5303def23c103667
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 26 04:55:30 2015 -0500

    Permacache: renamed from CassandraCacheChain and use a cache chain.
    
    Previously it tried to be a cache chain and handled its localcache
    and memcache manually.

commit 46dd85388398614ee53bf709ed2977977b3ec1bb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 2 17:49:00 2015 -0500

    cache_timer_decorator: fail safely when accessing g.

commit 3e015dfbb92d18d067fd736f09f50eb5008ca928
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 3 01:40:26 2015 -0500

    CassandraCache: don't allow setting a ttl.
    
    It's never used, and also can cause issues if an item falls out of cache and
    then is set into cache after being retrieved from cassandra.

commit 9caa77b592876e5a81933a39dd223393e7cf3f70
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 26 14:05:50 2015 -0500

    Remove unused CassandraCache._warm().

commit bbf414160d36637533cee5ca5c35a4d4636312a0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 26 12:30:39 2015 -0500

    Remove unused CassandraCacheChain.bulk_load().

commit b58f8ab7b6b4307bf1470d4594d95f285b019608
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 18 01:44:06 2015 -0500

    CassandraCacheChain: memcache is always present.

commit 2836d01ee42ae8c1943119da9d86381766f5d28d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 11 01:12:00 2015 -0400

    VSubredditName: coerce name to string.

commit cf49c83dfbc9cb9a8d4e25ff03110f10125e25a8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 27 19:57:35 2015 -0500

    Remove spaces from cache keys for get_live_promotions.
    
    This is needed for ascii protocol.

commit 4f91d0928daab54dcd78708167147b2f8bc6e15a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 27 19:09:32 2015 -0500

    Replace chksrname with Subreddit.is_valid_name.

commit f1d2ac39b90113b7fdaf1e0e73415d80902fc528
Author: Neil Williams <neil@reddit.com>
Date:   Tue Mar 10 18:23:38 2015 -0700

    stats: Fix test suite for removal of timer counts.
    
    The counts of each timer were removed back in
    87286866d993d243623f11eecdd2d9c930990b00 but I did not update the test
    suite accordingly. This fixes some spurious test failures.

commit ad48427d6a7749ccfe13d9951478cb3c39a14c64
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 25 21:44:57 2015 -0500

    Delete unused imports of sgm.

commit 9d1937beec44b0e509b36ba50cfd7e65fec06893
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 25 21:42:52 2015 -0500

    get_live_promotions: Allow stalecache.

commit e7aabf84331139a94bae1218711c3c0dc42047ca
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Mar 6 05:10:54 2015 -0500

    Count skipped items in UserController.keep_fn.
    
    This may give us information about how frequently incorrect data
    is read from Cassandra LinkVotesByAccount and CommentVotesByAccount.
    When a user votes on a link the link is put into a cached query and
    a column is written to LinkVotesByAccount. LinkVotesByAccount is read
    at consistency level ONE so it can return bad data. We have probably
    received bad data if we were given a link by the liked cached query
    but don't see a vote for it in LinkVotesByAccount.

commit 5601620a980a65d671437dac72273883ed6c8a86
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 10 17:34:29 2015 -0400

    recommender: Build a list of sr_ids for normalized_hot.

commit 8c521ea15db69208337430500c48e2141385ffc9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 26 14:03:44 2015 -0500

    Stop using g.cache for normalized_hot.

commit c22d921fa3785f3810ef73966ef21a49ffc819f4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 26 14:11:47 2015 -0500

    normalized_hot: Make CachedResults use permacache's stalecache.

commit bd2a31df7e21cd7cd15207f6be5e0f9485bf0d02
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 26 12:20:08 2015 -0500

    CachedResults: allow fetching from stalecache.

commit 9aca056f96b3f491d738cc05dcfc7b36f3fa3bde
Author: weffey <weffey@gmail.com>
Date:   Wed Mar 4 14:09:58 2015 -0800

    A spammed user may demod themself, no one else

commit 815d94490b19b03761e02d393f4e4417069d9e8d
Author: Florence Yeun <florwat@reddit.com>
Date:   Fri Mar 6 11:18:46 2015 -0800

    Subreddit settings: Update copy, style tweaks

commit 2ff2acd3182e5e3741be6eb94721df31935b9a1b
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Mar 4 09:02:54 2015 -0800

    Subreddit settings: Notify user when there are unsaved changes
    
    Detect when changes have been made to subreddit settings and use
    onbeforeunload to notify user when there are unsaved changes.
    Does not apply to the image upload fields.

commit 95d8503fb9983181d6c5aa49ba742f8c65a6689b
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Mar 2 17:28:45 2015 -0800

    Subreddit settings: Autocomplete for related subreddits
    
    Add subreddit name autocomplete and validation for related subreddits.
    Changes to related subreddits are not saved until settings form is saved.

commit 7fb6573d2c9ab4901a9ad1dc2e2f249be03e5d1d
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Mar 4 12:19:14 2015 -0800

    Add exact match option to subreddit autocomplete
    
    Return an exact subreddit name match and raise 404 if no exact match.

commit 4c37625434f041110fd1aaa42a82e6aff7149748
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Tue Mar 3 11:10:34 2015 -0800

    Add ama app link to footer.

commit 614a239af337c372b0b58caa29c7b3535a80c7a6
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Thu Feb 5 11:25:59 2015 -0800

    Update footer.

commit 2fc51d6d5c7f7539eee3d3527adf3ea4cffa46c7
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Oct 30 16:26:39 2014 -0600

    Update footer links

commit b7f47acb21e0e92ac6b59a7d459e1a91c9728a2e
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed Mar 4 10:53:29 2015 -0800

    Fix floating point math error in PayPal response

commit 3fa5276ff24d81ca7a1fdb1f7d766e0a47e50e5a
Author: umbrae <umbrae@reddit.com>
Date:   Wed Feb 25 01:44:22 2015 -0800

    Embeds: send UUID for all events

commit 42eb20b5217606abcd06a2055872c58bb54449e4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 27 18:37:03 2015 -0500

    PromotedLinkJsonTemplate: add all needed attributes.

commit cf233d2d2595e3307e5ee85a03c1c8b6d56ce9bb
Author: Chris Stephens <chrisst@gmail.com>
Date:   Wed Mar 4 15:53:14 2015 -0800

    /dev/api: Clarify the xml/rss api documentation
    
    The xml extension in the api documentation is slightly misleading in
    that it appears to indicate that we support an xml api. The .xml
    extension is intended for rss consumption so we are replacing the
    'extensions' with an rss support flag.

commit 3a02bbb882e6909d2b6f245eaa025682ff680954
Author: Chris Stephens <chrisst@gmail.com>
Date:   Wed Mar 4 15:18:35 2015 -0800

    install-reddit: Add oauth domain default to install script

commit bbc0a5805f6ff89fe9fad01a8b522bd1ea4a9c50
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Feb 26 10:48:56 2015 -0800

    Email validator: don't allow multiple hostnames
    
    In addition to not allowing `@` multiple times in the string, we're now
    checking that the *entire* string matches our regex - previously, you could
    tack on anything to the end of a valid email address and have it succeed.

commit c7bbc0e56635fa47893652cff276ef7e2d48512f
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Feb 26 10:31:22 2015 -0800

    Email validator: don't allow whitespace in the address
    
    See sections 3.4.1 and 3.2.4 of RFC 2822.
    
    From my reading, you can *technically* include whitespace if it's quoted, but
    for our purposes it's almost certainly going to be a mistake we want to notify
    the user about.

commit f7b549a2c94e10f2162a8aeb5d8f746e46f5d912
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Feb 25 18:57:19 2015 -0800

    Email validator: add basic tests
    
    Email addresses are super funky - there are a lot of things that are allowed
    that you wouldn't expect.  We're not going to try to conform perfectly to the
    RFCs, but a set of tests helps us not break some commonly-used odd cases and
    prevent regressions when we make fixes.

commit 6e0c80aec17cea96fbff6cc35b4ef44597cb8338
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Feb 26 10:25:59 2015 -0800

    Consolidate email logic
    
    Using two copies of one regex for validating email addresses is just asking for
    trouble, so now they're merged back into one that `ValidEmail` and
    `ValidEmails` share.

commit f6d84822e7ccf61dcd490c9f94c711cb68905607
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed Mar 4 11:48:49 2015 -0800

    contactus: Internationalize our phone number.

commit df774e7f71520e18c86b4ad71df5b8a24f2a0128
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed Mar 4 11:36:32 2015 -0800

    contactus: Remove international@reddit address.

commit 57714d47d920099a0a366b6e88e06d4c5fb39c0c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 3 19:43:40 2015 -0500

    AdsController: don't show duplicate ads.

commit 55eff8f3c2c1078583408473fa180b33ee58d972
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Mar 3 10:27:09 2015 -0800

    Rename and document `stacked_proxy_safe_get`
    
    Clarify its purpose and why attribute access might raise
    TypeError instead of AttributeError.

commit 1df393fa1eae0f26f7252656d40262eb58ba7f74
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Mar 2 16:31:22 2015 -0800

    Feature flags: Toggle based on OAuth 2 client

commit 5069bf8851a762d0b763b91550683a89171d124b
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Feb 24 17:36:16 2015 -0800

    Subreddit settings: Custom subreddit color
    
    Add a custom color field with HTML5 color picker when available.

commit ba5931f54c027636f02a63cfe7eda16efed6c940
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 3 23:39:01 2015 -0500

    GET_subreddits_by_topic: don't search for common words.

commit 5fa292852f4c603a185e21d17dea0b0c6d1cc3d7
Author: Matt Lee <matt@reddit.com>
Date:   Mon Mar 2 10:53:15 2015 -0800

    markdown: Move variables to colors.less.
    
    colors.less is imported by variables.less

commit 3fc04ca9bba527b539b58dd2fe5ad92e166880c9
Author: Matt Lee <matt@reddit.com>
Date:   Mon Mar 2 10:15:43 2015 -0800

    markdown: Fix textarea rendering light text on a light background on some systems.

commit 30f9e15152642dc9dea498a2b66e055f20035aac
Author: Matt Lee <matt@reddit.com>
Date:   Thu Feb 12 10:33:26 2015 -0800

    markdown: Fix textarea rendering dark text on dark background on some systems.
    
    From https://www.reddit.com/r/bugs/comments/2uj3we/

commit 7a97ec5999fca08b40a3798383f23f3212ec86b4
Author: Matt Lee <matt@reddit.com>
Date:   Thu Feb 12 11:27:48 2015 -0800

    markdown: Fix selftext style when editing.
    
    When I changed markdown.less to be imported directly instead of being loaded
    separately, the behavior of less's ':extend' caused the usertext input to
    inherit some extra styles, including the non-editable styles.  It is fixed
    by applying the 'md' and 'md-container' classed directly to the elements rather
    than using less's extend feature.

commit 78326b452ddadcc0fe364dc6333272428f3e916c
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jan 28 16:39:04 2015 -0800

    markdown: Remove feature flags and import markdown.less directly.
    
    Conflicts:
    	r2/r2/public/static/css/old-markdown.less

commit ad3bcf7c5d63790042fffa206585ecfc9d28666a
Author: Matt Lee <matt@reddit.com>
Date:   Tue Feb 10 11:25:33 2015 -0800

    sponsor: Add csv export to inventory page.

commit 416346d1016223879357d80bcd859aa439a0a166
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jan 30 15:19:21 2015 -0800

    markdown: Apply wiki-page markdown styles to traffic pages

commit 5ef645e156d2c9fdcc7e1294f99255beb15f6171
Author: Matt Lee <matt@reddit.com>
Date:   Mon Feb 2 13:54:00 2015 -0800

    markdown: Fix text size on submit pages.
    
    Another spot with markdown text that I missed.  Text was getting really
    big here due to the missing .md-container class.

commit 99bdb8fff9c60cd22f9d3cc101bec953a548b08c
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Jan 12 13:42:52 2015 -0800

    Orangered emails: include sender's name
    
    @umbrae pointed out that it's nice to know who a message is from, even if you
    have to go to the message on the web to reply.
    
    It's possible at some point in time we will need something else from the sender
    than just their username.  However, sending the id and causing a lookup seems
    unnecessary for a vague possibility - and we should be able to make a
    transition in the future pretty easily if necessary.

commit a110a9d87032504f0340e55d48688296f9e16eef
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Dec 18 17:14:52 2014 -0800

    Orangered emails: one-click unsubscribe
    
    Even if it's opt-in, we want people to be able to easily unsubscribe from
    notification emails.
    
    Using an HMAC instead of a generated token means we don't have to store
    anything extra, but just perform a calculation on email send and in the
    unsubscribe responder.

commit 73a7d237bdf0e80cd4f6db617b96dab9a4751909
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Jan 8 15:51:38 2015 -0800

    Orangered emails: send from alternate address
    
    Despite our best efforts, we're probably still going to appear a bit spammy
    with our notification emails.  To help prevent this from affecting everything
    else, we can send these from an alternate domain.

commit fcc6a73af7b87685d2aa47333fcf05ccec640937
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Jan 7 16:24:03 2015 -0800

    Orangered emails: don't escape entities
    
    @umbrae and @powerlanguage both noticed that certain characters (angle
    brackets, quotes) were being html-escaped in the emails.  Since the emails are
    currently only plaintext, this looked weird and required a mental translation
    back to understand what the prior markdown looked like.
    
    This should continue to be safe as long as we're only sending plaintext emails.

commit d8373ad17e44823eccb440086d48aedea65e0435
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Dec 19 15:27:39 2014 -0800

    Notification emails: add safety switch
    
    This is just sort of a "if something is going terribly wrong, shut it down to
    avoid breaking other things relying on email" sort of thing.

commit fb507e59a6214580ddfd24c1a1e1ca9db3eee951
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Dec 5 12:09:43 2014 -0800

    TryLater: use more generic parameter name
    
    `mature_items` made sense in the original context, but now that I'm stealing it
    for other uses it's really just some set of some sort of data.

commit 9c6aa71f3c71adb7ea210440f6f43cdcfa02b439
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Oct 24 16:21:58 2014 -0700

    Add option for sending orangereds as emails
    
    Some users visit fairly infrequently, or visit without being logged-in, and so
    [don't notice messages they've received][0].  We need some better data on this,
    and it's hard to separate these people out from alts (particularly novelty
    accounts).  However, [anecdotal evidence][1] and conversations shows that there
    is *some* demand for this feature.
    
    There are a lot more things to do to get this ready for public usage.  However,
    we just want to get a quick prototype out so that we can start using it
    internally and see where it falls apart.
    
    [0]: https://www.reddit.com/r/redditdev/comments/2f12s3/email_notifications/
    [1]: https://ifttt.com/recipes/94391-reddit-inbox-to-email-inbox

commit 3630b1c7a10af8c4595b47bc944fb8afb53d8b4c
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Dec 3 12:08:35 2014 -0800

    Mail queue: comment expansion and clarification
    
    Thanks to Neil and Keith for helping me track down the why.

commit 860d0613b9ab9b1eca3a97d4c5c70361b72cd6ec
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Nov 24 17:35:29 2014 -0800

    Document trylater module
    
    I mostly pulled this from the usage in `models/account.py`, plus some feedback
    from @atiaxi.

commit d90385f8bdff36d73094617ff5aaff665462f26d
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Feb 24 17:11:47 2015 -0800

    Don't try to re-delete Stripe subscriptions

commit 8e06bbb19a40aa0ce12dafc1a3c414841a36d4a8
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Feb 2 12:22:32 2015 -0800

    Pass in gold_subscr_id for stripe cancellations
    
    Account might not always contain the gold_subscr_id, so passing in the subscr_id
    to the stripe cancellation function instead of the Account object will handle
    these cases.

commit 8fd50e1bb78c356f4ba6312a0dc2bee096fbaf55
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Jan 29 17:45:27 2015 -0800

    Return customer for stripe cancellation

commit a9d72a7ac3f2ab814a50d2867e8b7fa09a0e59b3
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed Jan 28 14:57:12 2015 -0800

    Cancel subscription in delete queue

commit 28a913c2424b886fe154c46c3b44b822ea6b673f
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Feb 2 14:09:59 2015 -0800

    Add backfill script for deleted user accounts

commit 0bceab8a1a89f4053734e064f69be49925e361cb
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Jan 16 02:43:43 2015 -0800

    Add queue to scrub deleted accounts of potential leaks

commit b736c4dd6a067380aefde6c8aebe9360d152b14c
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Jan 16 00:20:49 2015 -0800

    Omit cloudsearch fields if they contain private info
    
    Specifically, link author names were not being scrubbed when their
    account was deleted. Some subreddit attrs needed to be scrubbed too,
    but weren't actually leakable due to the subreddit search endpoint
    being restricted to the 'plain' syntax.

commit 73bc503a89f634b4e6e987758dfa24b0fe64e59e
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Mar 3 12:15:27 2015 -0800

    Add new gold emails to example.ini

commit c828aaf452435a934a83bee450536e54b8bdebd5
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Mar 3 10:43:35 2015 -0800

    Change goldpurchase_email to goldpayment_email

commit 42ae875c268d4f2a733beabe91c294f60da66817
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Fri Feb 27 16:13:28 2015 -0800

    Change goldthanks_email
    
    goldpayment_email is the email used by the payment processors.
    goldsupport_email handles all of the customer support and feedback.

commit 085efcc05625917bf4d07745c5b807d398fd62f3
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Mar 2 12:31:51 2015 -0800

    Clean up modal styles
    
    - consistent default 60px padding
    - smaller close "x"
    - less spacing in login modal
    - clean up media queries
    - remove some unused styles

commit 68e8658375624cb78fbc6b6ee8cabb757d3e2721
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Feb 26 18:20:12 2015 -0800

    Comment embeds: Style updates
    
    - add stroke and adjust shadow to borders on embeds
    - add 1px stroke to borders on embed transitions
    - checkbox text should be moved up 2px
    - embed sometimes shows horizontal scroll bar
    - reduce top margin of embed creation window

commit b0f0d3e6d6b2dec5529b44323ddee9f72586cfbc
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Mar 3 10:15:53 2015 -0700

    Subreddit creation: fix bug with ratelimiting

commit 274a8d70089fab8ab9835f81a32a4c633c838e2e
Author: Neil Williams <neil@reddit.com>
Date:   Sat Feb 28 21:53:38 2015 -0800

    Overhaul populatedb script.
    
    This new script attempts to generate some subreddits that are more like
    production data.  It first pulls down data from reddit.com, then uses
    markov chains to generate new data for insertion into the databases.

commit 05c6fda23a55e14d447be6a1c49c8f37f8a8da29
Author: adam <adam@reddit.com>
Date:   Fri Feb 27 14:23:19 2015 -0800

    Voting: prevent voting on expired promoted links, hide voting arrows

commit 5ad434b20c53738eb5576a56acfe7dec845d8f08
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 25 21:41:26 2015 -0500

    LocalizedDefaultSubreddits: Allow stalecache on lookup.

commit 1605b48edaa53e7840cb0902fae92e1a7bbba29b
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 26 11:39:05 2015 -0800

    upload_static_files_to_s3: Improve logging clarity.
    
    The goal is to make it seem less like the build is "hanging" during the
    upload step.

commit 30e2256fddf2b4ec0a5a3b05e31d50199d726b79
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 26 00:09:30 2015 -0800

    upload_static_files_to_s3: Remove vestigial support for gzipped statics.
    
    This feature was never really used and the core support for it was torn
    out in 68857e1a7dd74d7d8f1e3e7eec6b8f39fe1ab5f8.

commit 64a469e64e42ff43eeb345d3fffa6edb84beb02b
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 26 00:07:39 2015 -0800

    upload_static_files_to_s3: Rework to use command line arguments.
    
    * configuration now comes from the command line so it's easier to use
      for multiple projects.
    * the bucket is now an s3 url allowing a path prefix to be added to
      files.
    * authentication now comes from boto's credential system which allows
      us to use IAM roles.

commit 4090acd8d89c121c4b706d12f9bcdb07f4d6690d
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 26 00:07:23 2015 -0800

    Remove unused static file cleaner.
    
    It never really worked right and is getting in the way now.

commit c0a2ec6c1c7376f86788b54bab44a302f0e175ce
Author: Neil Williams <neil@reddit.com>
Date:   Sat Feb 28 14:56:18 2015 -0800

    vote: Add metric to see how many prequeued votes are being fetched.

commit f501106d9ccfd63bebd665eb8fe5e57635bb25dc
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 26 14:25:51 2015 -0800

    zookeeper: gzip live config payload.
    
    This takes our current config payload from 4700 bytes to 1700. The goal
    is to reduce zookeeper network load during config changes as well as app
    restarts during deploys.

commit 85b185e1e5d001ce7baca141b7c432682ee8ff88
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 26 13:27:24 2015 -0800

    zookeeper: Decompress live config if zipped.
    
    In preparation for compressed payloads.

commit f00e90f0ed07d1dec8c0e8283efbecc0922ad811
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 26 12:42:21 2015 -0800

    zookeeper: Remove obsolete LiveDict class.
    
    This is no longer used since the relevant consumers have switched to
    Cassandra as a backing store.

commit fecde82921e6453d37533a6dc508cc60cf91dc21
Author: Neil Williams <neil@reddit.com>
Date:   Fri Feb 20 13:03:32 2015 -0800

    cloudsearch: Add timeout to HTTP requests.
    
    This prevents apps from hanging forever if something goes wrong.

commit e344be366fd73271f7cdff4992d53a7315053a02
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Feb 24 14:30:25 2015 -0800

    Catch image upload IOError and TypeError
    
    Handle errors triggered by invalid image types and other file upload errors.

commit 887bf4b7a018199969d2622542f8d68566083bcc
Author: jaflo <jaflo@users.noreply.github.com>
Date:   Thu Feb 26 19:43:00 2015 -0800

    CSS Filter: allow text-size-adjust and appearance.
    
    New allowed property: `appearance`. Used to normalize text inputs
    in webkit browsers:
    http://stackoverflow.com/questions/7599533/ios-forces-rounded-corners-and-glare-on-inputs.
    
    New allowed property: `text-size-adjust`. Used to stop iOS from
    enlarging text automatically:
    http://css-tricks.com/prevent-iphone-text-enlargement/.

commit 342fd84665a449950c860d895fd4b85e3c7e8526
Author: Gavin <gavin.19@gmail.com>
Date:   Fri Sep 5 01:00:35 2014 +0100

    CSS Filter: allow text-rendering CSS properties.

commit e2ecdc903a15f1bef73a0e947653c82842d16e2f
Author: Chance Carey <chancecarey@Chances-MacBook-Air.local>
Date:   Mon Jul 21 09:23:37 2014 +1000

    CSS Filter: allow background-position-x and background-position-y.

commit e6b966d17f7e756177280859538014ee43ba846d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 24 19:52:31 2015 -0500

    Decrease cache ttl to 5 days for Thing and Query.

commit 711c4c2580921a20618f717e708aef6653d3671f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 25 18:13:02 2015 -0500

    Remove min_promote_future, max_promote_future.

commit 9e09ac70da535e429ed305834bf0366b1b672ca4
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Feb 20 17:52:05 2015 -0800

    Rewrite markdown validation for safety and log-friendliness
    
    * Large chunks of code related to (X)HTML validation have been moved to
      `r2.lib.souptest`
    * Moved from a SAX-based validator to iterating over every node in
      the document fragment. This was done for performance reasons, and
      because lxml doesn't expose comments via its SAX interface unless
      you use Python 3
    * We now raise a descriptive exception if we didn't recognize an entity,
      and return a 400 in the validator rather than raising the exception
      up the chain
    * Fixed a few filter bypasses: using CDATA sections, conditional
      comments, and processing instructions.
    * Added unit tests to ensure future souptest changes don't introduce
      security issues
    
    This goes hand-in-hand with https://github.com/reddit/snudown/pull/61
    to reduce the number of spurious `SyntaxError`s that end up in the
    applogs.

commit ce4c06235bd149d2d46966f8bdad1de7d2908f6c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 26 01:18:30 2015 -0500

    Collect stats on stalecache hits and misses.

commit 8e726450777b08ffd82767939849cb599dbfebc4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 26 00:59:27 2015 -0500

    Stats: remove unused cache_count() method.

commit 28fd413d755599b2a461885ef8557df21c1013a1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 26 00:57:52 2015 -0500

    CacheStats: group hit/miss + total together.
    
    This will play nicer with sampling.

commit ebc7021c5b9bcfafb4c053e1185e7eaba30d5544
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 26 00:57:13 2015 -0500

    Stats.cache_count_multi: remove unused `cache_name` argument.

commit 8e2dbcd636f7e250e8f27f16c5dc8f442a82d354
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 20 17:22:05 2015 -0500

    VDate: remove unused advanced logic.

commit f6891b5339652648bc6d86910ad3667b27e3680e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 20 17:09:37 2015 -0500

    promote: Stop using VDate for advance date checking.
    
    The logic was getting too complicated so has been moved into
    promote.get_date_limits().

commit 2dac08e8dffc6cc9400f2fab1a23faf45aae0ba6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 20 00:50:21 2015 -0500

    Remove VDateRange.

commit 785a0825445382ad86823d7166073270e02ba35e
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Feb 26 14:24:56 2015 -0800

    Add hide_subscribers_srs to example.ini

commit fa19ced156e4119e4f85cf7f81e17619fdb640b0
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Feb 12 16:09:12 2015 -0800

    comment_tree: fill out some docstrings
    
    Through the power of code reading and the Python REPL, we now have a little bit
    more documentation on `link_comments_and_sort()` and its helper functions.

commit 00066d191a1b5a739086c5cbe951852a04b14565
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Feb 25 14:07:05 2015 -0700

    Dropdown menus: hide selected option from dropdown
    
    Previously, the option that was already selected was still present in
    the dropdown, which was a little confusing/non-standard.

commit 42ab2bab7735bbd72db52ebc3781d581fa5cb6a7
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Feb 26 11:03:31 2015 -0800

    VRatelimit: Check user_is_loggedin before calling hook

commit 88cb68cc8f8cea40deb97f041cae37da688b4c7f
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Feb 25 13:44:47 2015 -0800

    Multi API: List of other users' public multis

commit aa87a4e9440c025230dcc11aee24a688d5bae44e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 24 10:27:20 2015 -0800

    Use unidecode for better slugs

commit 5324ac1bd7600e44382cb809fc7f078bad210a45
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 24 10:23:32 2015 -0800

    Import cleanup in utils.py

commit 3899c47a9d4e26dd4f2c93849316b96a3d4755bc
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Feb 9 16:28:27 2015 -0800

    Multi API: Allow for auto-sluggification of name
    
    This updates some multi endpoints to allow for passing in or using
    "display_name" instead of a multi path when creating a new multi. In such
    a case, the display_name will be converted into a "slug" for the multi (a
    string valid for use as a multi name), and that slug will be used.
    
    This affects:
    
    * POST /api/multi/
    * POST /api/multi/rename
    * POST /api/multi/copy
    
    (PUT /api/multi/{path} is not affected, as it requires the caller to have
    a slug in mind already for an existing or new multi)

commit 301bc90d19d1baa65f749efbec3c9224bc72ef61
Author: Chris Stephens <chrisst@gmail.com>
Date:   Wed Feb 25 15:17:58 2015 -0800

    install-reddit: change curl to wget
    
    curl isn't installed by default on minimal linux installs, so removing
    the dependency on it

commit 165ca788037387b10c3f82d5b36af530c388b4b1
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Feb 23 21:37:49 2015 -0700

    Create subreddit: add support for min age/karma
    
    This allows setting (via live config) minimum age and karma requirements
    to be able to create a subreddit. The age requirement and at least one
    of the karma requirements must be met. A hook was added as well for
    potential private-code use.

commit 9c8be783e12f26cde25cf2336195986866bd4cb1
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Feb 23 19:30:28 2015 -0700

    Account.needs_captcha: add hook, use live_config
    
    This allows the minimum amount of karma needed to be exempt from the
    captcha to be modified via live config. In addition, it adds the
    ability to set a comment karma minimum, where previously it was required
    to get link karma in order to be exempt from the captcha.
    
    A hook has also been added to the function for private-code purposes.

commit 6812738ebeefe85391895efa079e94cb37442be0
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Feb 23 19:01:32 2015 -0700

    admin_ratelimit: replace with hook

commit 1f36ebb5625617f72610f14a625b5927fca23f62
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed Feb 25 17:19:51 2015 -0800

    Fix gilding a user with creddits

commit 0850bd3044d5fd7042666a4db6de1000f44d653a
Author: umbrae <umbrae@reddit.com>
Date:   Wed Feb 25 12:46:56 2015 -0800

    Tracker: URL decode session cookie

commit 6cf527235c4c79f873f06bfa7e44e82cdd406c76
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Feb 23 13:32:31 2015 -0800

    Prevent race condition during inline gilding
    
    The gold-button submits the form at the same time that setGildingProperties is
    called, so this disables the submit function and manually calls submit for
    buttons that have a form parent (creddits and PayPal). This should prevent the
    locked payment blob errors.

commit ea5aa9c5385ad13ff5bf3ec9816457b532207066
Author: umbrae <umbrae@reddit.com>
Date:   Fri Feb 20 21:42:29 2015 -0800

    Tracker: add domain prefix to redirect domain

commit 76fb41a3f84acaaa479e246020cba2d31bdd45d0
Author: umbrae <umbrae@reddit.com>
Date:   Fri Feb 20 21:00:54 2015 -0800

    Tracker: add session tracking redirector
    
    This adds in two redirects - `event_click` and `event_redirect` - `event_click`
    to allow appending in a user ID to an event before redirect, if we require one,
    and `event_redirect` to service a local evented redirect, similar to ad clicks.
    
    `event_click` is necessary for tracking clicks from users on embeds, which are
    served via redditmedia, and therefore are always anonymous. When a user clicks
    through, we want to know who they were and redirect them on their way. Because
    of the way we're using nginx to store events as an access log right now, this
    means we'll need to use two redirects: one to append the session ID and
    another to store the event with the proper session ID.

commit 1a352bfa20eb32c9d857de8f1e0959b9567711e5
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Feb 24 15:52:44 2015 -0800

    Show error for creating gold only sr without gold

commit 42f9fa74a6791cb37636d73d2fb6893fa9eda56b
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Feb 24 15:14:22 2015 -0800

    Fix validator bug for promotions in disabled ad subreddits

commit 5e407807a2d9c52b8070603504df594c1efca152
Author: adam <adam@reddit.com>
Date:   Fri Feb 20 14:36:28 2015 -0800

    PromoteReport: add totals row to campaign report

commit 1da41d8063d2f6c28ffc237dcfab1ed7a53c9124
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 12 13:52:42 2015 -0800

    Don't include pixel tracker URL in response headers if not enabled.
    
    If the tracker URL isn't configured, we shouldn't include the header in
    the response.  This uses the same criteria (truthiness of g.tracker_url)
    as the templates to determine whether or not to include the URL.

commit 946e721cbea59ff50affaf9298c2316a0ac968fd
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Feb 23 15:57:27 2015 -0800

    Multi API: Flag for expanding (some) SR info

commit e8b52963e503500d4aa46365191b68d37ca8c657
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Feb 19 17:08:13 2015 -0800

    Remove duplicate hidden sr input

commit 91b2059aa4ad57688b7e7c130ade54aba07ea076
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Feb 17 16:35:25 2015 -0800

    Subreddit settings: mobile settings
    
    New subreddit fields for mobile, hidden behind feature flag.
    Basic functionality with limited validation.
    
    * community rules - list, no markdown
    * related subreddits - list, no markdown
    * key color - hex color
    
    These fields are optional for `/api/site_admin`.

commit ff76c8fc0e553b76a435f953535464738f77c34e
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Feb 17 13:57:48 2015 -0800

    Subreddit settings: mobile icon and banner
    
    Upload and delete endpoints for new mobile subreddit icon and banner.
    
    * icon - square, exactly 240x240px
    * banner - 16:9 aspect ratio, min 640x360px, max 1280x720px

commit a45218804b19fcfa5a0c831f69aa3f55db2ecb71
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Feb 5 16:06:35 2015 -0800

    Remove check for lounge contributors
    
    This is no longer necessary when /r/lounge is a gold_only subreddit

commit c24a01497ae07da5e19e1a0df1700cb9b91b34e4
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Feb 2 16:59:18 2015 -0800

    Gold only subreddits
    
    Users that have gold (or gold charter status) will be able to create and access
    gold_only subreddits. Mods will be able to access gold_only status regardless of
    their gold status. Approved submitters will not be able to access these subreddits.
    
    To have a gold only subreddit, it must be created as gold only by a gold user or
    have admin mode to convert it to gold only (requested via modmail to /r/reddit.com.
    There is a default style (gold-only) applied to each gold_only subreddit.
    
    Mods can choose to hide the sidebar adbox for gold-only subreddits. A "reddit gold"
    ('/subreddits/gold') tab is in '/subreddits' so that gold users can see all of the
    gold only subreddits.
    
    Being added as an approved submitter in gold_only and employee_only subreddits
    don't allow you to see the subreddit. This will remove the link and ability to
    edit the approved submitters so as to not confuse the mods.

commit b1761f1cb4d6070045d1d8e02b35e736c6d36a47
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Fri Feb 13 15:40:48 2015 -0800

    Add gold only subreddit style.

commit a5f1d2c1dbe6c397a55cc2a5f21e672222cc4b45
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Mon Feb 23 13:55:50 2015 -0800

    Optimize subreddit interstitial pngs.

commit 61f701c3e146db7a656b0b9b73eb2a8951c5af18
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Mon Feb 23 13:55:12 2015 -0800

    Add gold only subreddit interstitial image.

commit 80b55f6940b844a0fc8e69382363fbe88175e5b2
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Tue Feb 24 11:02:39 2015 -0800

    Multis: Make path for multireddit include user

commit ab93da58daf2b75d0150a1d3720369f1557d67fc
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Feb 20 14:36:54 2015 -0800

    Update web interface for modifying multis
    
    * Set description using the base model endpoint
    * Add feature-flagged interface for setting:
      - key_color
      - icon
      - visibility == 'hidden'

commit 8b7903c0805d3d8bc62f61d5daff2b3c959ba285
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Feb 20 14:35:52 2015 -0800

    Hidden multis: Move from sidebar to user page
    
    Multis set to "hidden" will no longer be shown on the
    user's sidebar. Instead, they'll be shown in a box
    on their user page (only visible to that user).

commit 14087b336faec761d0791301e1d8396dcb4acb8c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Feb 9 16:26:08 2015 -0800

    Named Multireddit API updates
    
    Named multireddit objects now show additional fields:
    * description_md
    * description_html (read only)
    * display_name
    * key_color
    * icon_url (read only)
    * weighting_scheme
    * copied_from (read only, requires owner)
    
    The "visibility" field can now also be set to "hidden" via the API. Hidden
    multireddits will not be shown on a user's sidebar on reddit.com, but will
    still be visible to API consumers.
    
    The "copied_from" field shows the multi's owner which multireddit
    they copied from.
    
    A "weighting_scheme" of "fresh" will favor newer content, rather than
    forcing there to be at least 1 post from each subreddit. "classic"
    weighting will use the old format. Note: "fresh" weighting will be enabled
    in a future commit.
    
    "key_color" must be an RGB color of the form #AABBCC. API consumers can
    choose to set and make use of the key_color field for style purposes.
    
    "icon_url" may contain a URL to an icon for this multireddit. API
    consumers can choose to make use of this icon for style purposes.
    
    "display_name" is a human-friendly name for this multireddit. API
    consumers can choose to make use of this field to set/display friendlier
    names for this multireddit.
    
    Description fields are now included in the base multireddit object, and
    "description_md" can be updated directly on the multireddit object.
    The separate description endpoint is still available.
    
    All of the above fields can be modified via the existing endpoint,
    PUT /api/multi/<multipath>, except for fields marked read only.
    
    Due to the number of new fields and the absence of an existing PATCH
    endpoint for /api/multi/<multipath>, the existing PUT endpoint
    has been updated to NOT clobber fields that aren't included in the
    multi JSON, and to accept "partial" multireddit objects. This is to
    prevent fields from getting clobbered by clients that haven't been
    updated to send all the new data.

commit 6a0d5e31fb8585cba5fda7c51cf2e3b7d2b5a535
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Feb 11 17:12:21 2015 -0800

    Hex color validator
    
    To be used for upcoming new subreddit and multireddit configurations.

commit abf40b7fed8df5272a0c8ed1042aa2fa96e861bb
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Jan 29 22:37:04 2015 -0800

    Allow creation of employee only subreddits
    
    This will pull the people able to view/contribute from the employee list in
    liveconfig. Mods are not automatically removed when removed from the liveconfig
    and neither are approved submitters that are manually added. When a user is
    removed from the employees_only list, they won't be able to see what they've
    contributed in their history.
    
    This also create an employees ('/subreddits/employees') tab in '/subreddits' so
    that employees can view all of the employees only subreddits.
    
    Only employees can create a subreddit that's employees_only. To change a subreddit
    type from employees_only to something else, admin mode is required.

commit dd82ca82bc0f058498c3cb34314adb00d575054a
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Feb 10 13:01:10 2015 -0800

    Comment embeds: track embed views without PII
    
    Use the anonymous event tracker on embed views to prevent sending
    any personally identifiable information.

commit 3cef41515853b5b37bf3f31d11e08d25d30b59db
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Feb 10 11:51:39 2015 -0800

    Comment embeds: remove tracking logged in status
    
    There is no way to do this that respects user's privacy.  HAProxy
    logs could be merged to get user_ids and we don't want to expose
    that.

commit 6fde06101d1e7f27d8f12daed40903247c91f2b3
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Feb 4 16:43:49 2015 -0800

    Comment embeds: add missing import

commit 9752b4dc47905a04bbfec2476ffc41aa701bcd91
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Feb 4 16:02:50 2015 -0800

    Comment embeds: fix early closing `body` tag

commit a400524cb5fa9317d728b4e5dd0b5c7fc228606e
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Feb 2 18:40:24 2015 -0800

    Comment embeds: Add event pixel tracking

commit ef1d38f4f732ed2f6968eac4612193d4a561cd8c
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Feb 3 13:32:53 2015 -0800

    Comment embeds: change footer bg color

commit 82090d9ce94eb244414a9f9b0956b281a5c11eec
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Feb 3 13:26:27 2015 -0800

    Comment embeds: fix reflow flicker in firefox
    
    Firefox was returning a height of 0 when an iframe was hidden.
    This was causing unnecessary reflows when toggling between the
    options for comment embeds. There doesn't seem to be a good
    reason to broadcast a 0 height up to the parent window, so
    i've added a guard for that.

commit 400abd94355e37779cb5c91553d03dab958c400a
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Feb 3 12:14:33 2015 -0800

    Comment embeds: improve frame styles
    
    This moves the margin, border-radius, and box-shadow to the iframe
    itself so things don't have to be awkwardly inset.

commit 56774c2ea4d90a4aa9d5aad3125f295785021864
Author: umbrae <umbrae@reddit.com>
Date:   Mon Feb 2 20:24:47 2015 -0800

    Split embed preparation into two stages to allow framing on 304s
    
    Safari respects `X-Frame-Options` on 304s, causing embeds to break
    if `c.allow_framing` is not set before we return a 304. This splits
    embed prepping into two stages so that we can set `c.allow_framing`
    before we check modified headers.

commit 3859ce58b6e6489607e136dd433318a075933b26
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Feb 2 15:34:50 2015 -0800

    Comment embeds: increased vertical padding of footer

commit a78d6238d54ff017a6c824132161eb0a78e7468e
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Feb 2 15:11:29 2015 -0800

    Comment embeds: remove dead/erroneous code

commit d70b84409384e4a47fad6bd77de11c1067cf29e3
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Feb 2 15:10:38 2015 -0800

    Fix `media_domain` being treated as a 3rd party cname
    
    When constucting urls to 3rd party cnames, for example,
    "thecutelist.com" -> /r/aww, this forces the removal of the
    `sr_path`.  This was unintentionally affecting pages served by
    the `media_domain`, eg. comment & live embeds.

commit 491fa288a3ed018ae2201ad751d5f67735cd90af
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Feb 2 12:52:11 2015 -0800

    Comment embeds: fix deleted comment rendering
    
    Comments with no replies should still show the message: "This
    comment was deleted."

commit 9e0e0786874a63c598850032882b47d24ad7e8a7
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Feb 2 12:14:10 2015 -0800

    Comment embeds: Fix relative links
    
    Relative links to reddit (username autolinks for example) should
    go to reddit.com not the static domain.

commit 2bac44bd5663cf02d6f2edba063c3b260402dacf
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Feb 2 11:28:26 2015 -0800

    Comment embeds: remove tracking

commit 5eac2ba9ed8125f627047c109b4db405e2b00eba
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Jan 30 15:33:56 2015 -0800

    Comment embeds: fix display when a user account has been deleted

commit 4898d11c773275a1ccab5f7b3cd29ff73b45cc6a
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Jan 30 15:32:53 2015 -0800

    Comment embeds: add missing translations

commit 773b4a1d19437625541ce3297436f8e17843f776
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Jan 30 14:35:20 2015 -0800

    Comment embeds: add/improve link instrumentation

commit 01b4d727e54bcbd22dbc8b92ad38b69546726a7e
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Jan 30 14:16:10 2015 -0800

    Comment embeds: comment links should include sr path

commit c88c818b264a505a9c4bf994d7d1ca7eebb25c77
Author: umbrae <umbrae@reddit.com>
Date:   Mon Jan 19 04:22:30 2015 -0800

    Add underline to links in embeds

commit ef9609c9c1ee25d4fdeef7698ac6732a1994bc8a
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Jan 30 13:28:52 2015 -0800

    Comment embeds: fix user link being in a sr context
    
    This was causing custom style sheets to be applied to user pages
    which has a tendency to break things.

commit 1a1fac75172949f7c4ab2f1919ad0e90ee551520
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Jan 29 19:04:26 2015 -0800

    Comment embeds: visual improvements

commit 844c9154fffb9d67d4a7cdf4bb0db04a34de7233
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Jan 29 18:46:25 2015 -0800

    Add `can_embed` to wrapped `Comment` for rendercache
    
    Similar to `can_save`, `can_embed` controls the visibility of the
    embed button.  This needs to be apart of the `Comment` or else
    the rendercache will use the wrong version on heavily cached
    comments.

commit de43277ceccfc2cc73e79db0bb8b1b06b0390f0f
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Jan 29 18:37:04 2015 -0800

    Add a link to reddit in the footer

commit eace788771ed5b98bfb085298991a606cb571800
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Jan 29 12:38:50 2015 -0800

    Fix edit control
    
    When a data attribute is missing it should be `false` not `null`.

commit 112c26dcdd7ae9ef7789c0a0687050cf2e5876e1
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Jan 27 17:18:26 2015 -0800

    Comment embeds: instrument w/hivemind

commit df5b1e5e476700883640f5365c50a40f07109aa0
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Jan 27 17:17:46 2015 -0800

    post-message.js: fix method overload

commit 26524c5e519f34ab62081f270ce79314856ca131
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Jan 27 17:16:55 2015 -0800

    post-message.js: fix origin checking `file:` protocol

commit dad6caa30c85bc6a80ef863a7a995b84821abfda
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Jan 28 18:54:50 2015 -0800

    Comment embeds: add togglable help for edit control

commit d667ffef24b0e9b8b73ec21041affaef3ff502aa
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Jan 14 13:17:13 2015 -0800

    Comment embeds: reduce reflow

commit e29e727791211ab570e6ed07395fd57b99ec964e
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Jan 14 12:24:23 2015 -0800

    Comment embeds: add per-comment token
    
    While in the process of rolling out comment embeds, we'd like to have restrict
    our beta a bit - because by their nature, once embeds are out, we lose control
    over them, making it extremely difficult to make changes.  So we're restricting
    the embed generation modal to a certain subset of users (for now), but a savvy
    user could simply modify an existing public embed to plug in another comment
    id, which would defeat the point of restricting it.  Enter hmac.
    
    We know generate a unique token for each comment, and only by using the
    appropriate token will your embed work.  This will be transparent to users, as
    its just another piece of the html that they copy and paste onto their website.
    
    Performance-wise, we're generating tokens for every comment that can be
    embedded.  However, for now that's a limited set, and the operation is pretty
    fast (roughly 5ms for 1000 tokens on my dev VM); if that becomes a problem, we
    can easily take this code out after we no longer need the restriction.

commit e454857b310de67ba14dde99c0e256bedad7f9a3
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Jan 14 14:20:13 2015 -0800

    add_sr: allow alternate domains for https pages
    
    `add_sr()` has had, since reddit/reddit@b57dff70, a special-case when the
    requested page was on https, where it would ignore whatever domain it would
    normally set and use the current one instead.  As best as we can tell, this was
    to prevent issues with a lack of https support on all reddit domains, eg links
    on `https://pay.reddit.com` pointing to `https://www.reddit.com`.  This should
    no longer be an issue.
    
    Additionally, it has caused problems with the comment embeds, which are served
    from `redditmedia.com` but need to have links pointing to `www.reddit.com`.
    
    Now that this special-case doesn't exist, the function should act more
    intuitively.  And hopefully that doesn't break anything too badly. :p
    
    The request from the comment embed javascript to get the actual embed has been
    going through `g.media_domain`.  This in turn meant that sometimes (namely,
    when the embed was placed on an https page) the link to the comment was also
    heading through the media domain.  While this works, we'd rather have users go
    through the standard `www.reddit.com` domain for brand, caching, and probably
    other infrastructure reasons.

commit bf300d1ecc4f803a2ffdfff142bf0892cb364e6a
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Jan 14 15:54:14 2015 -0800

    Comment embeds: fix subreddit link
    
    At the bottom of the comment embeds is a link to the subreddit from which the
    comment was extracted.  This link has had an extra domain appended, so we'd end
    up with URLs like `http://www.redditmedia.com/www.reddit.com/r/worldnews`.
    
    The problem stemmed from the fact that `get_domain()` returns a protocol-less
    URL (`www.reddit.com/r/worldnews`).  Thus, `add_sr()` (which it ends up being
    passed into) assumes it has been handed a relative URL and appends a domain.
    
    Instead of getting the entire domain, we now just get the subreddit path and
    let `add_sr()` handle the domain (and protocol) later.

commit a5728036a2e3a15e82e6b0ad05961ea56f1d3ff6
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Jan 14 15:35:53 2015 -0800

    Comment embeds: prevent embeds from being converted multiple times
    
    With multiple embed snippets comes the inclusion of the embed
    script multiple times (and therefore multiple execusions of it).
    This fixes the race condition that occurs when `init` is run
    multiple times before the `<div>` is removed and as a result
    multiple iframes for the same embed are included in the page.

commit c54d035c5e11c95e5c31f2733aed128558d4de4a
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Jan 14 10:24:57 2015 -0800

    Fix embed footer being cutoff
    
    Tables treat `height` as `min-height` and disregard `min-height`
    in firefox.

commit 99e3b00039cd2e0bfb1762a39a1a2f065f0b6c7e
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Jan 14 11:50:56 2015 -0800

    post-message.js: Allow events to be scoped to a source.
    
    Embeds were listening to `postMessage`s from other embeds and
    causing weird behaviors.

commit 08f61238a61941bbc9d4416c6ce5216ee889473f
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Jan 14 14:33:30 2015 -0800

    Fix 1x snoo crop

commit fe0fb1723c5273316d3bb53c9c1424536f34dba3
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Jan 14 11:03:54 2015 -0800

    Comment embeds: fix missing "load more comments" regression.

commit 099c1ecba193bc0cb0a1901d430f8c3ccf227978
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Jan 13 14:48:27 2015 -0800

    Do not mangle names of embed scripts

commit 59cddc30bc3dc241f25b427ee76ff85453f671b7
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Jan 12 16:00:46 2015 -0800

    Comment embeds: only show button on permalink page

commit 8ef0d669225480181f9d95fe9a1979132bc4e9af
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Jan 12 15:56:06 2015 -0800

    Comment embeds: add feature flag

commit 95841573198b7bb7cf82f125d530c70b087a0c0d
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Jan 5 16:42:26 2015 -0800

    Remove new login flow feature flag

commit 77ff39a511c2251db0856dc3c3ead0f3da9d6d1a
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Jan 5 16:42:12 2015 -0800

    Remove dead compact login code

commit cc585b9345bc59a1d5cb2be715330a2727f7723a
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Dec 23 14:37:29 2014 -0800

    Refactor modals to use a common component

commit e5d579e020f3dd8ee4fc0bfe896ffd793f4404cf
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Jan 13 17:23:37 2015 -0800

    Comment embeds: add UI for creating embed code

commit 6493c95ea26d6393536d158558bf56aec82f39d1
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Jan 13 13:49:19 2015 -0800

    Remove unused css

commit 3349dda1474da06e811704b94561c2a496a4f615
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Dec 22 17:54:53 2014 -0800

    Comment embeds: add support for data attributes in menus

commit 7acbd4d6b048e3f60a3521db9e454707c635cfb5
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Dec 22 17:52:10 2014 -0800

    Comment embeds: support including scripts using absolute paths
    
    This is useful for generating the script tags needed by the embed
    snippet in such a way that it works for both dev and production
    environments.

commit cb70bc65d9f8c54cd89c633931032b73eeb7074d
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Dec 22 17:50:20 2014 -0800

    Comment embeds: add bootstrap modal

commit 47edd7e3d2d1b1263270e5096ca45469ead16087
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Dec 22 17:48:18 2014 -0800

    Comment embeds: add new framable template

commit 01e124c52bf65ce1b3e59ee2bc07e6d3a22fdcb0
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Jan 13 16:38:21 2015 -0800

    underscore.js: Remove "/" as an escape character

commit 88e7eaab9d2d4584dabf69992a7132c9b2276bfb
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Dec 22 17:39:05 2014 -0800

    Ensure namespace is defined
    
    Previously this timings snippet assumed that window.r was an
    defined and an object.  This ensures we don't throw errors as a
    result for admin bar timings.

commit caeab56e1738b072ecfd9c6b25e9ebcc5464781b
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Feb 20 17:04:18 2015 -0800

    Gold: remove unused/broken tracking
    
    This was causing issues with people who have adblock/ghostery and
    is no longer being used so I removed it.

commit 64c7f0bfdfd0b18c6130b39d0157172ed817f1aa
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Feb 19 01:19:52 2015 -0700

    Captcha JS: use siblings()
    
    Previously this was looking for a parent <form> and then searching for
    the hidden iden input inside that form. siblings() is much more
    efficient and removes the dependency on a parent form existing (which it
    doesn't, on the create subreddit page)

commit 89df7989700d08cfd421d312cf04fc9d1d430355
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Feb 19 18:50:59 2015 -0800

    Ads: Fix `AttributeError` caused by rename

commit 5e1357990066fc11854c8e3e778829a255802ae3
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Feb 17 15:18:26 2015 -0800

    Ads: Show ip/country mismatches to sponsors.
    
    This allows sponsors to review payments that come from outside
    the billing credit card address.

commit 6d4f9ec2b13c2a10c97f5f88299634e6cedbbe56
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Feb 11 15:25:26 2015 -0800

    Ads payment: use standard country names

commit f9f34ec5390406b09af2dd0ac83854f4fdcae9a2
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Feb 18 16:21:22 2015 -0800

    app_globals.py: Add locations

commit decac6c13cddbf85325d97de831fd7599ddd220e
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Wed Feb 18 12:13:22 2015 -0800

    Multis: Do not redirect api requests

commit 3d455ed05c05e61fcf7c202398d85bb14f3168ab
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Wed Feb 18 11:45:13 2015 -0800

    Multis: Add limit on fetching multis
    
    This uses Subreddit.random_reddits to limit the number of subreddits
    requested to build a multi. The limit is defined in
    LabeledMulti.MAX_SR_COUNT

commit d3fea5e60cf65f07ac7baca1c43a7c17b628d9a4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jan 30 16:57:59 2015 -0800

    Multis: Allow listing requests for multiple multis
    
    URLs of the form /user/<name>/m/<multi>+<multi>+<multi>+...
    will be converted to an anonymous multi comprised of the
    union of all subreddits in the named multis.

commit 22f7e4daeae30fff8ababda2e73758f0555f5f1a
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Feb 17 14:39:20 2015 -0800

    analytics.js: Ensure GA callbacks are called.
    
    If for whatever reason ga fails to call the callback in a
    reasonable amount of time (500ms) then fire it off anyway. One
    instance where this was biting us was, an addon for firefox
    (ghostery) was stubbing out `_gaq.push` with a noop, causing any
    functions pushed into it to never be fired.

commit 6f6c4acb0f1ffcadc5f3c82ed2c2141037d20ac5
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Feb 13 13:31:57 2015 -0800

    analytics.js: Fix code style

commit 7f0f31b78fc0e19e6cac5b8147c72cc551da9874
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Feb 13 13:26:30 2015 -0800

    analytics.js: Use 2 space tabs

commit ca305cb880329b8c019e3c494726ef70d1986cbb
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Feb 12 15:01:22 2015 -0800

    Gold: Add funnel events for inline gilding

commit eb6af40d2047941360bd8eadc385c5c1505486f4
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Feb 11 17:37:58 2015 -0800

    Ads: do not track sponsors in funnel

commit 3bff0d250ee960ef5d1be184e8aad55b75bb5de2
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Feb 11 17:55:09 2015 -0800

    Future promos: Hide links after being rejected
    
    Links that have been rejected should be removed from the page when
    the sort is "unseen".

commit 6f7fa8aa68cee46e7e3704bbc353de890aee4631
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Feb 10 15:55:24 2015 -0800

    analytics.js: Add optional callback to `#fireGAEvent`

commit a98e0751e9513a81c71d7e9e19a37e0737e6634d
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Feb 9 12:57:38 2015 -0800

    Future promos: Hide links after approval
    
    Links that have been approved should be removed from the page when
    the sort is "unseen".

commit 25c22cb295ce69be8b8c8209a5be592cececfc78
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Feb 9 17:10:53 2015 -0800

    Remove reference to /r/promos from user pages

commit c93451d3170a76aa9ab76a15fffd94c91257c7ef
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Feb 6 15:32:48 2015 -0800

    Ads: ad creation flow funnel tracking

commit 8a38390f26d13cf70ebc5a3e09cc4604ad4b0bbe
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Feb 6 16:24:32 2015 -0800

    Add hook for successful ad buys

commit d3dca3ba4ae04faa985d35492aecff45085475e4
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Feb 5 17:42:01 2015 -0800

    Flagged promotions: display multiple reasons

commit d0beab632ebc27b037f2fc0d01014aeafc3eeb98
Author: Trevor Senior <trevor@tsenior.com>
Date:   Thu Feb 19 13:09:42 2015 -0500

    cache: Import random.

commit 28e140d05d2a0ebfa0b7b95b925ddc8351dd38e6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 30 17:40:56 2014 -0500

    Message.add_props: Use subreddit attribute set by Builder.wrap_items.

commit 6cbbabb9a93ba2c04e492f06ed9628ebcb9ac2be
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Feb 16 05:30:43 2015 -0800

    Keep a separate list of subdomains that can't be in `c.domain_prefix`
    
    I forgot how insanely brittle this bit of code is since I last tried
    messing with it last year. At some point we might want to look into
    deprecating everything but oauth., the lang subdomains, and www. To
    hell with `www.ssl.circlejerk.json.reddit.com`.

commit dc47412df43c8abd1b610c5002e0980ad1ad60d2
Author: Avinash Dwarapu <avidw@users.noreply.github.com>
Date:   Wed Feb 18 00:42:27 2015 +0000

    Change /{article}/related to /related/{article} in API docs
    
    Frankly surprised this error hasn't been caught...

commit bb07898dcfaafa279172961fd8ef7d1a336fb628
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 18 00:48:44 2015 -0500

    Use c3.2xlarge instance for EMR hourly traffic log processing.

commit bc73cef822d25135691ef4c6cf7d3325fbc6a4a4
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Feb 18 10:57:08 2015 -0700

    Subreddit creation: add captcha

commit 6ae6a1e931145fb71a1649a3968e2776082edf26
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Feb 18 10:55:16 2015 -0700

    Subreddit creation: remove nonfunctional check
    
    This didn't actually even do anything.

commit bc1d082a1436ae913f1a88149bf3ed1ee93cf088
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Feb 17 18:37:50 2015 -0700

    Inbox count: add to JSON

commit 2c8995603a8937df190ae33050dcabb58a6a82c4
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Feb 17 18:31:19 2015 -0700

    Inbox count: remove feature flag

commit 18e922f8b2b6b0b42d535bd412cf2f5c59aec761
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Feb 17 11:43:33 2015 -0700

    butler_q: handle CreationError when inserting

commit 5ff830f8d4b32d1c4e5946d266ae3689450d267e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Feb 14 19:31:48 2015 -0500

    StaleCacheChain: record cache hits and misses.

commit cd88707fdb8e2ecee5a032fd22f9cdbc8a1d40ca
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Feb 14 19:31:27 2015 -0500

    cache: Add timers.

commit 198e67fe97e98fd961e39da9067e7a6048b91be4
Author: Neil Williams <neil@reddit.com>
Date:   Fri Feb 13 12:05:45 2015 -0800

    Reduce gzip threshold for main caches to 1400 bytes.
    
    The goal here is to reduce network traffic to the main cache nodes.
    This will also affect the size of the objects in the cache which could
    make things better by fitting more things in cache, or make things worse
    by oversubscribing specific slabs. We should watch network traffic on
    the cache nodes, hit rates, and eviction rates in the period after
    rolling this out. Additionally, this will increase the amount of
    gzipping app servers deal with, so response times and CPU should be
    monitored as well.
    
    I chose 1400 bytes to be a fudge-factor smaller than the MTU; since the
    goal here is network efficiency and not cache memory space, going
    smaller than a single packet isn't terribly important.

commit 705c4f19927b57078ab66efee3855ff2c237de93
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 12 18:24:52 2015 -0500

    inventory: Correctly retrieve transactions for freebie campaigns.

commit 9e64e56960d62fafc75336463bf1f0372b1a7f09
Author: John-William Trenholm <jtrenholm@reddit.com>
Date:   Wed Feb 11 17:10:05 2015 -0800

    tracker.py: use env var for configuration file
    
    Upstart needs to use a environment variable to determine the
    configuration file.

commit f94e9cc14ed7f0b6138657f2bd6eb00641ac8fd1
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 5 10:08:38 2015 -0800

    install-reddit: Upgrade Cassandra and use DataStax repos.
    
    This modernizes install-script reddit a bit, as we're already running
    1.2 in production.
    
    Note: this upgrades Cassandra from a patched 1.0.7 to vanilla 1.2.19. Please see
    http://www.datastax.com/documentation/cassandra/1.2/cassandra/upgrade/upgradeC_c.html
    for instructions on upgrading which may require some upgrades of the
    data on disk.

commit f869f10dbc48e72b83931747ee2afe57c1a57b43
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 5 09:48:24 2015 -0800

    tdb_sql: Upgrade uses of deprecated last_inserted_ids().
    
    This function gets removed in SQLAlchemy 0.8 in favor of the already
    present inserted_primary_key.

commit 5712c98f3745654e04c0ed84af57641546290b4a
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Feb 12 09:42:25 2015 -0800

    Hide inbox notifications for user's own comment and post replies
    
    Fix bug where your own comment and post replies appear in your inbox.
    New notifications are no longer generated.  Old notifications will remain.

commit aa698dd8078c6e06510ae61d8a5a88933ce80123
Author: penn300bb <penn300bb@gmail.com>
Date:   Mon Feb 9 20:17:38 2015 -0500

    Fix uri & extensions of the `/duplicates` endpoint
    
    The order was backwards.
    
    ```
    /{article}/duplicates --> /duplicates/{article}
    ```
    
    Switched the order, and added in the proper extensions.
    
    Referenced in: https://www.reddit.com/r/redditdev/comments/2vbnkt/sample_curl_call_for_articleduplicates/

commit 29d3c5336941155a5bb84f73367b335ef25da488
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 10 19:02:36 2015 -0500

    Query: Use a 7 day ttl for caching.

commit 720a99ea707052f6ffd6ca4f6fa05a1ad7cf3d2f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 10 19:00:25 2015 -0500

    Thing: Use a 7 day ttl for caching.

commit f2ccc7808663a494c67d861f203e438659a4966e
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Wed Feb 4 14:25:01 2015 -0800

    Fix long usernames breaking snoovatar link.

commit 6eb1dbcaf3de52450413065d91f71e729bf48eb6
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Mon Dec 29 12:53:39 2014 -0800

    Style sidebar snoovatar link.

commit 2b84cc0439ec1f9692d8ea40f3f8e9275edcd72e
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Wed Dec 10 21:49:48 2014 -0800

    Add snoovatar link on userpage of those with public snoovatar and gold.

commit bb96aad26619b8f6160956ce7daf7f9a7fb9cf30
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Jan 15 12:29:26 2015 -0800

    Add creddits to purchase price in gold checkout
    
    This will appear as '$3.99 or 1 creddit' if the user making the purchase
    already has creddits. This will hopefully reduce confusion about the
    ability to purchase gold with creddits.
    
    Suggested by /u/roastedlasagna: https://www.reddit.com/r/ideasfortheadmins/comments/2s7ktf/giving_gold_allow_a_user_to_give_another_user/cnn6jhn

commit d012d21f516539ee731db7a843c53fc98b2ace79
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Thu Jun 12 14:19:38 2014 -0700

    Add transparency to goldvertisment graphic.

commit 966d9519b1430646751e10c17b631a2313c27dda
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 10 20:19:49 2015 -0500

    cache: Log events for retry successes.
    
    This will help us determine if multiple retries are worthwhile.

commit 46167ecb88445b499ab675ee60480147b8bd9767
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Jun 19 15:53:39 2014 -0700

    pages: Use a hashed key for commentpane.
    
    The previous method could generate key names with whitespace which don't work
    with the memcache ASCII protocol.

commit 42ca7212e5549318f7173250de66936ee352f2e6
Author: umbrae <umbrae@reddit.com>
Date:   Mon Feb 9 13:56:46 2015 -0800

    Make restrict_sr on search retain state across page views.
    
    This commit heavily influenced by @samertm's work
    in https://github.com/reddit/reddit/pull/1211

commit 4030b68c6d71c35a8a7042b9bc906a5e42c7f87e
Author: Florence Yeun <florwat@reddit.com>
Date:   Mon Feb 9 16:39:33 2015 -0800

    Revert "Hide inbox notifications for user's own comment and post replies"
    
    This reverts commit 309dad8e1ad1065c452654baed1fae638f73b4b2.

commit 21d3f1258a1942c4f8c7c2e6811c026b6ed02e40
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Feb 9 13:59:42 2015 -0500

    CachedQuery._prune: calculate newest_prune only if items exist.

commit 460c93aca4ca86f0e50a9d85d3c7b02ed926f78c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 29 14:53:12 2015 -0500

    CachedQuery: on prune attempt to remove the entire row with a timestamp.
    
    Performing a row delete (even if some columns are left behind due to higher
    timestamps) might have better tombstone performance than deleting specific
    columns from that row.

commit 7f6232e4cede64ea7495cd7eddfafcbd060a9cdb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jan 30 13:58:03 2015 -0500

    Read from CommentVisitsByUser and stop writing hardcache.

commit fdc2a2cf774773edab3ff3a99ce777732ac4d94c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jan 30 13:59:47 2015 -0500

    Dual write hardcache and CommentVisitsByUser.

commit 309dad8e1ad1065c452654baed1fae638f73b4b2
Author: Florence Yeun <florwat@reddit.com>
Date:   Wed Feb 4 16:37:25 2015 -0800

    Hide inbox notifications for user's own comment and post replies
    
    Fix bug where your own comment and post replies appear in your inbox.
    Notifications are still generated but not displayed.

commit 93b904a51c114fadb2e62792a514075470eb6c56
Author: Florence Yeun <florwat@reddit.com>
Date:   Thu Feb 5 13:00:45 2015 -0800

    Prevent duplicate inbox messages
    
    Fix bug where sending a message to yourself results in a duplicate inbox message.

commit f75599579ebed7b8d46bfe6d3e6d2fde948c44e0
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Jan 8 18:33:22 2015 -0800

    Thumbnail scraper: handle protocol-relative urls
    
    `urllib2` by default doesn't handle protocol-relative urls, nor can it without
    access to the context in which the url was created.  This has been causing
    problems with scraping thumbnails from pages where the `og:image` attribute
    uses a protocol-relative url, as reported in reddit/reddit#1069 and
    [/r/bugs](http://redd.it/2q62g2).
    
    Now we coerce any protocol-relative urls we extract from the page into the same
    protocol as the page itself.

commit 8d2a668c5bb2a2d4f543ff2f93c79de764a766bc
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Jan 8 18:31:33 2015 -0800

    Utils: add coerce_url_to_protocol()
    
    Sometimes we have a url that may or may not be using the protocol we want.  In
    those cases, it's nice to have a handy way to ensure the protocol.

commit 4a9d45a878cceb27c01f67eda658c72f2579f298
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Feb 4 16:04:25 2015 -0800

    API: Add 'archived' attribute to Links & Comments

commit 2b5b10dd2371ffbb45592542ddea756d569672a8
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Jan 28 13:00:23 2015 -0800

    /dev/api: Stop documenting non-OAuth2 endpoints

commit 18240366df69dadacf650c71a42e467c3407acdd
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Jan 28 12:56:03 2015 -0800

    /dev/api: Document additional endpoints
    
    * sticky
    * sidebar
    * related
    * duplicates
    
    Are now lightly documented on /dev/api.

commit 436281f88ee92c38bea9a147c230977cb9e5e458
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Feb 3 17:19:36 2015 -0800

    Fix link generation on oauth.
    
    When on `foo.oauth.reddit.com`, we want to generate links like
    `foo.reddit.com`

commit d6358c74840ee3189fa9f1def9f7d045fa323d74
Author: KeenRivals <KeenRivals@users.noreply.github.com>
Date:   Thu Jan 15 12:57:21 2015 -0500

    Losslessly reduced PNGs with Optipng and Advancecomp. Only PNGs that were referenced in less files that were not commented as sprites were reduced.

commit 817aecef1a852841d7450f4c85486c6826254170
Author: Florence Yeun <florwat@reddit.com>
Date:   Tue Feb 3 14:46:09 2015 -0800

    Disable voting when page is in read only mode
    
    Voting should not be available when a page is in read only or heavy load mode.
    This prevents a blank modal from appearing when voting on a post or comment.

commit 36f437a79a46dade3f9ca9b5f29e181b11e3fcfc
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jan 30 13:57:18 2015 -0500

    Add CommentVisitsByUser model for storing comments page visits.

commit 31e9bb434a5bea4b4a03a73a1781c8ecc633ec46
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 29 17:30:01 2015 -0500

    Clean up comment_visits method.

commit 9f4a561489a236460d40ba62abfb4c6a99dd37e4
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Jan 27 13:23:05 2015 -0800

    Consider non-www. reserved subdomains part of the domains prefix
    
    This helps with some cache poisoning where we'd end up with www.
    links on beta. and vice versa. This also retains existing behaviour
    where something like "en.www." == "en.", "en.en." == "en.", and
    "json." == ""

commit 8fcf4bf69959ea1df322614af1a54ce92c9df6ed
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Feb 3 13:02:13 2015 -0700

    Mod report reasons: don't try to translate
    
    Seems to have been an accidental call left to _() inside the title of
    report reasons made by moderators, which was causing an error.

commit b1dbd3071d7f778993565fa64f7a65a797e6d9c3
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Jan 28 17:18:39 2015 -0800

    Handle allocation failures in C code gracefully
    
    Thanks to Nathanael A. Hoyle for the report! Some of these may have
    been exploitable due to pointer arithmetic before reads / writes.
    Just bail out if we can't allocate.

commit b2e9903b8d2cccb03f6697a1fa10da38aba07e55
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Nov 4 01:03:08 2014 -0500

    Send user's IP address when creating an authorization hold.
    
    Hopefully this helps trigger some of Authorize.net's fraud detection.

commit 8128b5737fda375cbc9b4fe77561ea8ae8008db7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Nov 4 01:05:58 2014 -0500

    CreateCustomerProfileTransactionRequest.__init__: remove dead code.

commit 70ea33f302a782ba42fe1712d6ac7538c7f89720
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Nov 4 00:41:27 2014 -0500

    Delete some authorize.net transaction types we don't use.

commit b3bf278cb3e2c9dc68031fbd9c70cf005b69766d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Nov 4 00:29:33 2014 -0500

    authorize: Delete unused ShippingAddress stuff.

commit 0b0872743f307e4d0bb9fd1e8f71e410f993f2b3
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jan 29 17:30:49 2015 -0800

    selfserve: Fix sponsor domain override .
    
    When the new promo form went from being a normal ajax call to a multipart form, it
    stopped using the 'post_pseudo_form' method.  That method ignored inputs with the
    'gray' class applied, which was being used for displaying the 'optional' placeholder
    string.  This was probably created before there was widespread support for the
    placeholder html attribute.

commit ad99451f63f025797f76ae79132b88e499c39592
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jan 28 11:14:59 2015 -0800

    markdown: Update markdown styles.
    
    + Add horizontal padding to gold-highlighted comments
    + Restore blockquote indent
    + Darken blockquote and del element text
    + Darken blockquote border and hr element
    + Increase font size of reply textarea to match comment font size
    + Fix alignment of messages
    + Restore green text to sent modmail
    + Fix code elements having a much smaller font size in Chrome
    + Increase left spacing on lists to prevent ol list numbers from being cropped.
    + Make code blocks have white background when on non-white backgrounds.
    
    Conflicts:
    	r2/r2/public/static/css/markdown.less

commit f558033c96338adfdf520e3d010fca27105940ab
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 22 17:59:26 2015 -0500

    selfserve: Allow thumbnail upload on new_promo page.
    
    Add the POST_create_promo endpoint and validator for posting a multipart form.  The
    form is posted to a hidden iframe on the page, which then relays the jquery response
    back to the parent frame.

commit 4db92f5b73a667af58545ded29e8b2fb21962044
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 22 17:03:17 2015 -0500

    promotecontroller: clean up POST_link_thumb.

commit 3fca431e3c810629eabcf4bd0a59c91bf3d5c0bd
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jan 27 14:07:28 2015 -0800

    markdown: Swap feature flags to enable access to old markdown styles.

commit 29df0ad50695bfc4f544d675f8a1a5753361baf6
Author: Matt Lee <matt@reddit.com>
Date:   Mon Jan 12 11:37:41 2015 -0800

    selfserve: Return to first page when changing sort on sponsor/promoted/ listing.
    
    Currently, if you navigate to the second page of links then change the sort type, you'll
    get no results back.  This is because it is carrying over the 'after' query param.  This
    drops the query params for all of the sort options _except_ the one you are currently
    on, so that changing it will always kick you back to page 1.

commit 04363d781a41e3bd992e7b664908d34aea08c261
Author: Matt Lee <matt@reddit.com>
Date:   Mon Jan 12 11:52:51 2015 -0800

    selfserve: Change 'bid' to 'spend' on edit_promo page.
    
    from Dylan:
    
    We haven't used "bids" for 18 months or so, can probably substitute "Spend History" and
    "Spend" in place of the two instances of bid. Doesn't really matter for people that are
    familiar with the system, but as we bring new people on it may be confusing.

commit 8e654fbb89f3d232ba2c0cd0bcef84c6c9a0eb87
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jan 9 13:43:01 2015 -0800

    Add es5-sham to reddit-init-legacy.
    
    es5-shim only adds polyfills for es5 methods whose behavior can be faithfully
    emulated in legacy javascript engines.  es5-sham adds stubs and partial support
    for additional es5 methods (e.g. Object.freeze) with the goal of preventing
    runtime errors.
    
    react-with-addons.js uses some of these methods, and as such breaks on old IE.
    The 'shams' work perfectly fine for it.

commit fef95e3642c27f42bb814d4e2243821029fe1231
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jan 28 14:23:51 2015 -0700

    Highlight new comments: enable for mods

commit 3216377cbcaa55ba7131f8c72382c1b44aa35910
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jan 3 03:59:13 2014 -0700

    Comment limit: allow mods to use reddit gold limit

commit 4a90ec013f08a114ecc69d23d7e82f83f3ce5f34
Author: angrypotato1 <seanbudd123@gmail.com>
Date:   Tue Jan 6 14:22:19 2015 +1100

    Add a link to sidebar in .compact header.

commit 83a58d5a341aed283b2b2860b88b2913a4aa9e4d
Author: Michele <michele.titolo@gmail.com>
Date:   Thu Jan 29 14:59:41 2015 -0800

    /api/morechildren is now a GET

commit d000b421a5bfb1020a2c2775653de164b9af6719
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Jan 29 15:22:03 2015 -0800

    Use account object for cancel_stripe_subscription

commit a42ff99c52c423084f2352f8c1440cfb29d0e259
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 26 20:53:22 2015 -0800

    vote: Stop dual-writing to postgres.
    
    This is the final step in the saga of the pg vote rel destruction. We've
    been dual-writing to PG and C* while gaining confidence in the pure-C*
    model being able to survive full load.  This kills the pgvote databases
    and moves forward in a pure-cassandra world for votes which should save
    us considerable operational headaches.  After rolling this out, we can
    not switch back without considerable effort.
    
    When he reached the New World, Cortez burned his relational databases.
    As a result his queue processors were well motivated.

commit 1470b29b6b5bfe8f0c84d42827f44dc3113f696b
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Jan 29 11:03:22 2015 -0800

    Pass account obj to cancel_stripe_subscr

commit ec0e5a89a4b8c7f2619b29ae448f6ca2357cb614
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Fri Jan 23 14:44:15 2015 -0800

    Simplify contact page.

commit 6f06e5af829cf5b003ebc0a7d62ba66d86e57de9
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Tue Jan 27 16:03:57 2015 -0800

    Update jobs link in footer.

commit a6721055d384e3082d14f75fbef8a0135d611d0c
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jan 27 13:21:05 2015 -0800

    Cancel subscription or warn on account delete
    
    If a user has a Stripe subscription, we can delete the customer when the
    account is deleted. If there's a paypal subscription, a link to paypal will
    be shown to remind the user to cancel the subscription.

commit b57d0679df7ef8b9431d7e95c6fe2eb029954444
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Jan 28 14:27:30 2015 -0800

    HSTS redirects: Avoid redirecting with extensions

commit 85f79ef8893aa1d4e4358049098d8f2033a054b6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jan 23 18:35:14 2015 -0500

    PromoteReport: optionally group by date.

commit a2945ff64def6a722fe6a26e4099a90be383e545
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jan 26 19:42:45 2015 -0500

    Add campaign summary table to sponsor view of review listings.
    
    Previously sponsors had to go to the edit_promo page for each link
    they were reviewing. Adding the summary table to the link listing
    shows them all the information they need to accept or reject the ad.

commit 387aca5af36b9073de83d1cb88c9ad6e6bc93e2e
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 14 13:22:27 2015 -0800

    Remove search feedback feature.
    
    It is currently unused and is one of the remaining hardcache clients.

commit 3aeeb42c0728095ab853c109d3eafa9b936fe41a
Author: Neil Williams <neil@reddit.com>
Date:   Sun Nov 30 11:34:48 2014 -0800

    vote: Start reading from C* for vote_q processing.
    
    This cuts primary reads over to VoteDetailsBy{Link,Comment} instead of
    Postgres for determining if the vote being processed is overwriting a
    previous vote or not.
    
    Postgres is kept up to date in case we need to fall back.

commit 4176f330216a47014012e253cc13278b1e345366
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Fri Jan 23 09:51:25 2015 -0800

    Account for no secret in reverse_gold_purchase
    
    Secret was removed for recurring Stripe calls. To see if it's a recurring
    subscription, we can see if a subscr_id exists.

commit 88a05fd3d212de933a56421141870bcfce4c93b4
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jan 16 17:52:42 2015 -0700

    Ban page: add note about message and unhide fields

commit 52b4be07499e7746517c15e41735c9586092df05
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jan 16 15:06:28 2015 -0700

    Prevent ban with custom message that will not send
    
    A user will only be sent a ban notification if either of the following
    is true:
    
    1. they are subscribed to the subreddit
    2. they have ever gained or lost karma (of any type) in the subreddit
    
    Because of these conditions, there is some confusion in cases where
    moderators ban someone that has made a post that didn't yet receive any
    votes, where they still expect the user to receive a ban message and be
    able to see the reason for the ban that they requested to include in it.
    
    This commit makes it so that including a custom reason is not possible
    in a case where the message won't actually be sent, to prevent that
    confusion.

commit 214445df8fe7c332e40940542dd1fcfc0d9117ec
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jan 16 13:45:39 2015 -0700

    Exempt admins from subreddit image upload limit

commit dcd25c1cca7bdd7a30716252c43e0132a1f5cf81
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jan 23 10:17:04 2015 -0800

    Remove GET_bookmarklet endpoint

commit a6cfd627e094290ceb3d1af033d27c5113d6cb1e
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Jan 15 16:59:43 2015 -0800

    Clear secret if subscr_id already exists
    
    Currently all subscriptions (new or recurring) have a secret (autorenew-).
    To make it easier to find which type of payment it is, this will clear the
    secret if this is a recurring subscription (which is the same structure
    paypal takes).

commit ee0682ad26b29bb30e6b2f1cb5d7dfd781fff28a
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Jan 15 16:59:43 2015 -0800

    Fix stripe secret being nulled when renewed

commit 8ef7766336b17f02c630f082abf7e4616b0c370b
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Jan 22 09:44:34 2015 -0800

    Add customer.card.updated to event type (noop)

commit 45bc8b09f56e6c696df55c90440303588fa1bfb6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 22 14:50:52 2015 -0500

    modlog: Fix showing of subreddit name when in a multireddit.

commit dbb7935bf8e154b816eeced0b73944c36f56539f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jan 16 03:34:06 2015 -0500

    Enable per-user global selfserve cpm override.
    
    Setting Account.selfserve_cpm_override_pennies will let the user create
    campaigns with ANY targeting at that price.

commit a6c1d2e81f4be042aa9087e0d2e06de6dcff13ed
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 5 02:59:28 2014 -0500

    Allow custom pricing for location targets.

commit df8f3e4ccceabd6e4a1117db7257713741bc47a9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jan 17 02:04:54 2015 -0500

    PromotionWeights.add: Use `map` not `filter` to fix names.

commit b38a087072282f0a947ec55b55b33498f60c78a7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jan 12 17:01:25 2015 -0500

    PromotionWeights: improve object creation and deletion.

commit 4c37d92bbe240b7916edb382db3d367e9da791da
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jan 6 11:49:39 2015 -0500

    Clarify wording when a user initiates a thumbnail rescrape.
    
    Previously it could seem like the browser will get notified when complete.

commit 7bed81dece68ebe356d41b25cb68a2545d96dc0d
Author: umbrae <umbrae@reddit.com>
Date:   Fri Jan 9 04:00:06 2015 -0800

    Inbox counts: Remove live alter of unread count when mark-on-open is off
    
    This is a good interaction in theory, but gets pretty hairy to test for
    in practice due to modmail being a subset of messages as well as
    subreddit messages not being restricted to modmail. This issue is
    blocking release, so remove the buggy feature for rollout to be addressed
    at a later date.

commit 5a1051a267d5283bd5b8c561ab2b192edf37e9e1
Author: umbrae <umbrae@reddit.com>
Date:   Wed Jan 7 04:31:19 2015 -0800

    Make NSFL in link titles also denote over18.

commit 232563ee22351e5a299a0ec1d72cb9ebf2f10e44
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jan 13 19:57:22 2015 -0500

    Report hourly unique clicks.

commit f58b70fa25a39041dd9ab1d5ef4538c49bd48a76
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jan 6 15:30:23 2015 -0800

    LabeledMulti: Age-normalized hot
    
    Update normalized_hot to allow certain LabeledMultis
    to specify slightly different weighting between subreddits
    compared to the current algorithm.
    
    Current merge algorithm always results in an N-subreddit multi
    having the first N results being the #1 result from each of
    the individual subreddits; this is not always ideal for slow
    subreddits (e.g., /r/announcements and /r/blog).
    
    Age-weighting allows a LabeledMulti to scale those older posts
    further down the list, and lets them drop off after a number of
    days.
    
    The age-weighting will require a change to the use of sgm
    in normalized_hot prior to full deployment, as the calculated
    ehot values are no longer global amongst all users.

commit 1c8a27121a7f96600bb3008b49efa97c0ed9bb99
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 15 15:03:07 2015 -0500

    Preserve the originally attempted url and subreddit when resubmitting a link.

commit bb0f5b552c3a52abfac1e2147144eef8f2e7dfab
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Jan 15 14:39:12 2015 -0800

    Replace ad-hoc HTML templating with `format_html()` and `_wsf()`
    
    Conflicts:
    	r2/r2/templates/prefoptions.html

commit d8d0e46b956f83864fc78123e80a10bb392b1782
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Nov 20 10:36:07 2014 -0400

    Add format_html and format_html_join and _wsf
    
    These functions should make it easier to do ad-hoc HTML templating
    correctly.

commit b4bce399028f30b14f16b378f767d85c8882047d
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Nov 20 10:00:47 2014 -0400

    Rename `mako_websafe` to the more descriptive `conditional_websafe`

commit e7d2d1806cf264440914aa1eedadd51f5668d060
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jan 13 13:44:39 2015 -0800

    Clear secret for recurring subscription payments

commit 61850e958a75f0afc0dd07e7e65dc0251a7f4cf2
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jan 15 10:54:17 2015 -0800

    OAuth2: Validate OAuth2Client owner of refresh_tokens

commit 49dd4209da0ea06a8b4275d54589335e1231f132
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jan 13 12:38:31 2015 -0800

    OAuth2: Expose leavemoderator, leavecontributor, accept_mod

commit fb66af7c3ba57fe04d988e34330cb30b3f1bd14c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jan 13 11:36:29 2015 -0800

    /dev/api: Remove api_section.apps
    
    Programmatic use of OAuth developer management is discouraged

commit a4dda3928b3f3988ff613591dfe0f59a2b64daae
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jan 9 17:11:59 2015 -0800

    OAuth2: Expose /api/friend for mod tasks
    
    Note: While I'd have preferred to do a "nice" endpoint
    like what I did with user friends, there's been enough
    delay in exposing /api/friend functionality to OAuth2
    consumers that I decided it would be best to take the
    less clean solution.

commit a82bc65192015e37276e8fe4e676f8042fd5fcbe
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jan 9 16:09:41 2015 -0800

    OAuth2 scopes: Space-separate multiple scopes

commit ad42be6c94b5a1ab47daad3d3a6e76036cda2825
Author: honestbleeps <steve@openingbands.com>
Date:   Sun Dec 28 01:02:46 2014 -0600

    Fix links getting marked as visited on right click

commit bb4d85fbe1f87f777cdd295203e68f9ce93b7917
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sat Dec 20 19:48:08 2014 -0400

    Allow setting `c.site` via the `r` param in GETs
    
    Fixes flair not displaying when using GET_morechildren

commit 12ae73b84e9a71d286075a7ce118c76d9640919c
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Jan 7 21:01:06 2015 -0400

    Add a username-relative userpage redirect at `/user/me`

commit cfd3a1cf1ac565c417267c1cbc296c1784032ec4
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Jan 9 20:20:53 2015 -0400

    Check if `thing.childlisting` is falsy before including it
    
    This fixes bold `False`s showing up in the `.json-html`
    and `.json-compact` renderstyles. Apparently been an issue for
    5 years, but it was only noticed now.

commit 034e267b45138625f91e09d0c257c7ffbc5afa18
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jan 14 16:20:26 2015 -0500

    Subreddit._by_name: always allow stalecache when retrieving names->ids.
    
    Subreddit names never change. The subsequent Subreddit._byID will continue
    to respect the supplied `stale` kwarg.

commit 32c1229d4c604119803b7e9401c4e3ff4556c264
Author: John-William Trenholm <jtrenholm@reddit.com>
Date:   Tue Jan 13 12:38:39 2015 -0800

    Add run time to promote.py

commit a1ba729e6707daa266d6c9449eb35d8fabd71d42
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jan 13 10:30:10 2015 -0800

    Stop propagation in gold checkout for creddits

commit 236de26753d745723838359f344f2a0bc53e9777
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Jan 12 15:01:34 2015 -0800

    Make room for submit button on friends/ban page
    
    The width is reduced to allow room for the submit button when the input element is edited.

commit 6b51528648a3b77e9b10e3fc70c257ac15c641dd
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jan 12 13:21:05 2015 -0700

    Subreddit.random_reddits(): fix logic error
    
    The logic of this code contained a couple subtle errors that could cause
    strange behavior. In reddit's current state of having two "automatic
    subreddits" (which are always included in the front page set, and not
    counted towards the limit), the fact that the automatic_ids list could
    have an item removed while being iterated over meant that unsubscribing
    from the first automatic subreddit (/r/blog) made it so that it was
    effectively impossible to unsubscribe from the second one
    (/r/announcements). If you unsubscribed, it would still be present in
    your front page regardless, and if you stayed subscribed it would
    actually be present twice.

commit 5c4f80d6ee368c43f08a036525283686c498f754
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jan 6 17:02:06 2015 -0700

    Revert "Add back POST_update for API clients."
    
    This reverts commit 605fa72772fa84b9245498f817cdc6d872ab3bdd.
    
    This endpoint has had no significant traffic for months, and should be
    safe to remove again at this point.

commit 159cb9f60000e27ed04197571ddb29da19faa552
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Dec 2 10:41:12 2014 -0800

    Prefix OAuth2 Access Tokens with user ID

commit 4368be7d914dafd985817a13896db68c120769ed
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 8 19:21:20 2015 -0500

    Allow sponsors to look up users by email.

commit 003ca6e0bc0340159335dd1b47a35da79b7895e4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 8 19:14:41 2015 -0500

    Add AccountsByCanonicalEmail.

commit 680dcddc04535468434294dd585601ca836a2bd5
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Jan 5 18:36:12 2015 -0800

    Fix text for password field on register.compact not appearing
    
    Strength meter relies css/events from restyled login.  This
    ensures it's there before trying to add the meter.

commit ac9b7141b58d84e3e82f4f1901e35f465fe06270
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jan 9 00:00:02 2015 -0500

    Add tracking pixel url in response header for api requests.

commit af09fa8dee69bef4f65a1662d9ad91c2329946e1
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 7 22:31:35 2015 -0800

    Update license headers to 2015.
    
    The highlight of each year for me.

commit 3a7cee6233d74d6063066436ca412179bfd81a4a
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Dec 10 16:35:39 2014 -0800

    login/register: Add "an" before "account"

commit 3f0b7d3f35411cba657830bd8572c177cbbe9a0a
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Dec 10 09:20:36 2014 -0800

    Display reason for being flagged

commit f8762d200b29dd48cb2c773fcfa951a766d30386
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Dec 10 09:10:40 2014 -0800

    Reject fraudulent ads automatically

commit 5eca8e81aca4ac1da79fe7c2d3995b896f8aacec
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Dec 3 10:33:32 2014 -0800

    Add community_email method

commit 705b49f073faba30ab8057e141dc09c631a48740
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Dec 3 15:26:52 2014 -0800

    Add listing for promotions suspected of fraud

commit 0baff564e52b0f5fe94e01dc8a092a573f97aa84
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Dec 3 10:01:21 2014 -0800

    Add a hook for when bids are edited

commit 6992ad4f00579d3c0d777af732b874039c0f9721
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Dec 3 10:37:10 2014 -0800

    Remove fraud checks from public code

commit 73d290b06598ab71a08a14c7ba6ee9320a34186f
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Nov 25 16:32:49 2014 -0800

    Log when empty emails are rejected

commit 05df5bec12b0817b64240358d0961fffad2a7013
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Nov 12 14:31:02 2014 -0800

    Centralize fraud email sending
    
    Also provides a generic `Kind` for fraud hooks.

commit b76322f8e4ef8e6682afc92708ede9733e2722bd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 30 15:01:31 2014 -0400

    Add alerts for suspicious selfserve advertising payments.

commit 6b3f4b69ded21881568d5c127b5fbb0f5f059849
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Jan 6 14:00:07 2015 -0800

    Feature flags: add filtering by gold
    
    While we can always hard-code checks for gold, putting this into the feature
    flag system allows us to move things from gold-only to everyone with only a
    config change.

commit 583206cdb2267c998497ba0d004c1c95a075f6c4
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jan 5 18:34:18 2015 -0700

    Username mentions: enable for all users
    
    Removes the requirement to have reddit gold to receive username mentions
    in your inbox.

commit ec22bd54f806e6041a2b4f62bb975e5721da42ec
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jan 6 00:22:17 2015 -0500

    Don't allow editing a deleted PromoCampaign.

commit e3f092ac68f02b84ebbaf500e7ece65884d7f241
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jan 6 03:11:23 2015 -0500

    message: Add classes to subject text, sender, recipient, and subreddit.

commit 0ae5072a9102cbda206d317005f04a7b8632ce85
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jan 5 16:46:52 2015 -0500

    CoinbaseController: cleanly ignore non-payment events.

commit ca60378e87f8771f0476fafe43e918235dd16717
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Jan 6 19:04:20 2015 -0800

    Remove check for give gold link
    
    The 'give gold' link only appears for comments and posts that can be gilded.

commit 0055f9a6cddcbf5198551813308075976e0c6a93
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Dec 15 12:07:14 2014 -0800

    Can reveal identity or write a message in gildings
    This allows the option for non-anonymous gildings or to write a message.
    Whether the user purchased anonymously or non-anonymously for gildings will
    be remembered and applied to future gildings (initializes to False so it's
    still anonymous until the user decides to change it).

commit e51d9f2f0fc022d55be79c31d7c542ce3f3bcff8
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jan 6 13:09:33 2015 -0800

    Feature flags: Handle logged-out users better.
    
    If specific user accounts were allowed to use a feature, logged-out
    users would cause the feature flag check to fail because
    UnloggedUser.name exists but raises NotImplementedError.  This makes the
    feature-world return None for user if no user is logged in.

commit 5863fb6b8feeca5ecd234436b809ef713ce2bbfb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jan 6 00:43:44 2015 -0500

    pixel: Use user id36 rather than user name.

commit 94984b78af4db0d41de5ff68fd68e67eb79d275a
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Dec 30 12:26:41 2014 -0800

    Robots: allow crawling of mobile pages
    
    We got a message from Google Webmaster Tools letting us know they'd like to
    pretend to be a mobile device and crawl our mobile pages, but can't, because we
    disallow it in our `robots.txt` rules.  We have canonicalization set up to
    point towards desktop pages, so we shouldn't be hurt by allowing this.
    
    We should also at some point provide two-way annotations to let them go from
    desktop -> mobile[0], but for now this should suffice.
    
    [0]: https://developers.google.com/webmasters/mobile-sites/mobile-seo/configurations/separate-urls

commit 9fc5d0f1ebfef2be932bd19d1acd24cc001b544a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jan 5 14:27:32 2015 -0700

    message.new hook: Call before determining rels

commit bca1c9e7a4207525c8dbd8d5939afede66a36b77
Author: Aedx <aedx@live.co.uk>
Date:   Mon Dec 22 14:55:06 2014 +0000

    Added missing closing head tag

commit 45ab808c44953a98942cd11197c5a23b9984a558
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Dec 30 14:57:09 2014 -0800

    Flair selector: minor restyling
    
    This is a tiny little touch-up of the flair selector box that just adds a
    little more space between things, because I was annoyed at looking at it.  As
    far as my choices for things:
    
    * The `.flairselector h2` change was to make it consistent with the other
      dividing lines in the box.
    * The button margin was chosen to be consistent with the "add" button on
      /about/moderators.
    
    I decided not to mess with the wonky vertical alignment on the flair because
    that gets changed by subreddits' customizations to flair display, so it's
    probably not worth it to try and make it look better.

commit f95cb2b1439ab7409e2ccb211d95dd906ff1cbce
Author: Neil Williams <neil@reddit.com>
Date:   Mon Dec 22 16:02:58 2014 -0800

    Rework login ratelimit system.
    
    The goal of a login ratelimit system is to prevent brute force attacks
    on passwords.
    
    The current login ratelimit system is based on VDelay which uses
    exponential backoff based on IP address after failed login attempts.
    This is not ideal because of corporate proxies and LSN causing the
    number of false positives to be very high resulting in users getting
    the dreaded "you've been doing that too much".
    
    This new system uses a factored out version of the core ratelimiting
    system which uses fixed ratelimits per period (allowing some burstiness)
    and is per-account. To help mitigate the effects of a denial of service
    attack on a specific user, different ratelimit buckets are used
    depending on whether or not the user has used the IP the login request
    is coming from before.
    
    As an escape hatch, successfully resetting an account's password adds
    the current IP to that account's recent IPs allowing it into the safer
    ratelimit bucket.
    
    The ratelimit never applies if you are currently logged in as the user,
    allowing account deletion to happen regardless of ongoing brute force /
    denial of service attacks.

commit 8fdc79956401157953a7dbe010cd999d7ca90c44
Author: Eric <fox@allthefoxes.me>
Date:   Sun Dec 14 22:37:36 2014 -0500

    Change SubredditSelector to use better wording
    
    Currently, the subreddit selector when submitting a new link "/r/subreddit/submit" says "Popular Choices" and then lists the subreddits you are subscribed to.
    
    I find this to be a big misnomer, as they are not popular choices at all, they are just a list of your subscribed subreddits. "Popular choices" implies that these are things other people have selected as well.
    
    I know, it's super nitpicky, but I thought it might make more sense this way.

commit e0d5d77be9c88770af83d9ef8e3a021be8485efa
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jan 5 14:28:58 2015 -0500

    Remove scrollupdater debug statements.

commit d53b2a0d6be27e7f399d1f443e1e961e3d06ef9b
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Jan 2 11:23:04 2015 -0800

    RSS feeds: fix timestamp
    
    [Reported by][0] /u/josh64.
    
    When the message RSS feeds were created, they erroneously had an extra timezone
    appended to the `dc:date` element, which causes validation errors.
    
    In most of the feeds we rely only upon `pubDate`; it's not clear to me why we
    additionally use `dc:date` in the few places we do, but I suppose it doesn't
    hurt anything.  The other two places using it are `subreddit.xml`, which never
    had the extra timezone, and `comment.xml`, in which it was removed three years
    ago (reddit/reddit@5675398).  This fixes the last incorrect instance.
    
    Note: Although the reporter says they got an error in the W3C validator and the
    format is clearly wrong, in my tests the validator passed the previous,
    incorrect feed. *shrug*
    
    [0]: http://redd.it/2r1plf

commit f7d53fbd91140b127b18372c3c92f6fb8aa30fab
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Dec 16 07:33:01 2014 -0400

    Display points on XHR'd compact pages

commit 159c51b2b474ed2dafec6724d051445cb395d8a8
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Dec 16 07:18:04 2014 -0400

    Enforce floor of 0 on link scores across render styles
    
    Thanks to @iKevinY for the report. Fixes #1205

commit 4cfbf59af5514018e9477d4206d430cb8965aad4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 30 15:50:02 2014 -0500

    Update thing.recipient to thing.user_is_recipient in message.compact.

commit 8d90f8be2cd515a57b85a8d5ed993c5030210fb7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Dec 19 22:50:05 2014 -0500

    Message: don't distinguish author of parent comment.

commit 586cc18f714de3db3306c892073f955712a0b356
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Dec 15 17:46:43 2014 -0500

    Messages: always show "from" first.

commit eb0cdbf25c2f2a101318e669fe89de62d37ea83c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Dec 5 19:23:57 2014 -0500

    Make messages from user as subreddit more visually distinct.
    
    Previously they looked like a regular message sent from the current
    user. Now they indicate they are sent via a subreddit.

commit d2fa4b5364088e40d45a8362008ac3b8c8ff7268
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Dec 4 20:17:20 2014 -0500

    Message.add_props: detangle logic.

commit 7f84f427fc98afba1525376ee43b607d0bc14ecf
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Dec 5 19:00:35 2014 -0500

    Message.add_props: Use mods_by_srid to find user moderated subreddits.

commit 74815d273d5ab27ebf72c97df0b5898530efa9bc
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Dec 4 17:52:36 2014 -0500

    Message.add_props: Run set_unread in batch.

commit eef29e4e09b06da9303c452e0b79542a511c6233
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Dec 4 17:47:27 2014 -0500

    Message.add_props: Batch lookups of override to and author.

commit d30f121f92295dfbf91c5362e0ae6466daba3f9f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Dec 4 17:46:29 2014 -0500

    Message.add_props: Clean up batch lookups.

commit f55a8dcce52143f8fbf40edf548424d8a07e713d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Dec 4 17:40:16 2014 -0500

    Message.add_props: Don't use c.user.
    
    Use `user` which is passed into the function.

commit 701a292f7ccd6dbceefc66574248a8c342782cdf
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Dec 4 17:38:24 2014 -0500

    Message: stop setting message_style attribute.

commit 188bb280084913542c773a95dce5e3409a82dde6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Nov 3 10:44:35 2014 -0500

    Message.add_props: Clean up variables.

commit c01ac9eb9c8612cc8ce791311652b86f737b12a2
Author: Neil Williams <neil@reddit.com>
Date:   Tue Dec 30 15:15:37 2014 -0800

    Revert "Ratelimits: add strict enforcement mode."
    
    This reverts commit 6b73de5dd5758d7a6df07ad85668af21afb510f8.

commit 1fb11a187c2e3bf6d5efbfc1e708a3f9b52ee926
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Dec 22 13:25:37 2014 -0800

    Profile page: enable comment editing
    
    Giving users the ability to edit their own comments from their user page is
    something that RES adds, but we didn't because the data wasn't available or
    something.  Someone [brought it up again][0] recently, and it turns out it
    *just works* now if we enable it.  And I don't see a good reason to prevent
    users from doing it.
    
    [0]: https://www.reddit.com/r/AutoModerator/comments/2olykv/automoderators_flair_and_karma_have_been_wiped/cmoiz4j?context=1

commit 14a554d10b50b844ff7d7a861aeda670616fcead
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed Dec 24 11:36:49 2014 -0800

    TransitionalCache: Correct return value for set ops.

commit 29777e10f48680b3bff4f8105401f5348fc1bff0
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sun Dec 21 03:15:13 2014 -0400

    Switch to `rel="noreferrer"` instead of `window.open()` where possible
    
    I've made a huge mistake

commit 15c0a6344f66fd0f63b6c299efa9638e05bc9491
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Dec 19 08:50:14 2014 -0500

    Share: remove recent emails saving.

commit 9f3456c485512a2294994ceb63af96254ce3d377
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Dec 19 08:27:44 2014 -0500

    ShareEmail: Don't link to comments page when promo comments disabled.

commit b6701c1d70ac5e7621f2f2b4b81832670cfb22fb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Dec 19 08:40:25 2014 -0500

    POST_share: explicitly restrict to Links.

commit 323b4da1279aa781048fc913f39ccf1aca23a101
Author: Neil Williams <neil@reddit.com>
Date:   Mon Dec 22 12:37:09 2014 -0800

    TransitionalCache: return properly from set_fn.
    
    This is causing e.g. `incr`s that check the return value to fail as the
    return value is always `None`.

commit 6e6266563dda87932fa260493d13763b8e78f88c
Author: Ricky Ramirez <rram@reddit.com>
Date:   Fri Dec 19 14:09:21 2014 -0800

    cache: Add caches property to TransitionalCache.
    
    This attribute is introspected by some hooks.

commit 7c60b8b91042f4aaf5f37cfe32795f794c2ad17d
Author: Ricky Ramirez <rram@reddit.com>
Date:   Fri Dec 19 14:07:35 2014 -0800

    cache: Add a stats setter for TransitionalCache.

commit d93cf13994c67c0a524d14d97a63bef4a6af1da2
Author: Ricky Ramirez <rram@reddit.com>
Date:   Fri Dec 19 11:44:20 2014 -0800

    Disallow direct use of g.memcache.
    
    Caches should always go through the appropriate cache chain. Making the direct
    CMemcache object a local var should prevent abuse in the future.

commit 3f6759d3af9e630377bbf9904dee2a1089c70cd4
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Dec 22 10:59:32 2014 -0800

    Compact: fix register page styling
    
    The styling for the compact register page got messed up with our changes to the
    login/register flow.  Eventually perhaps we'll restyle them, but for now leave
    them be.
    
    This is building on f752c15, which did the same for login.
    
    [Reported by][0] /u/shamelessguy.
    
    [0]: http://redd.it/2pwite

commit ba6cf1287126d45de2a61fb8fcfb0ac32d28e2bf
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Dec 19 15:40:13 2014 -0400

    Fix ctrl-clicking to open a new tab in Firefox

commit 1e660d07f7aeeb92278382f8500ee7658af60ca3
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Dec 19 03:05:40 2014 -0400

    Try to deal with non-W3C compliant popup blockers

commit 95a2d12aab60526737d00a85ad7b56d000a2ad88
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Dec 19 00:06:07 2014 -0400

    Work around IE Mobile's `window.open` nastiness

commit 6eec6f668157e673594531c0b9e8ef8c672774e8
Author: Matt Lee <matt@reddit.com>
Date:   Thu Dec 18 16:03:02 2014 -0800

    markdown: Fix broken padding and margins.
    
    Switching to unitless variables for all font-size, line-height, padding and margin
    styles requires assigning those variables a unit when using (e.g. @var * 1px).  I
    failed to do this in a couple spots, causing the selftext box to lose its padding and
    look totally weird.
    
    Also raises the left padding on lists.  Numbers on ordered lists were falling outside
    of the comment's container, and getting clipped off.  This also looked totally weird.

commit 800d75563395790397839dc0aaf4693ecbb23dd7
Author: Matt Lee <matt@reddit.com>
Date:   Mon Dec 15 16:14:00 2014 -0800

    Use react.js version with bundled addons.
    
    This does _not_ bump the version number of react, it just uses the version
    with addons bundled in.  These are mostly utility features, but the main
    reason is for the animations addon.  Trying to add CSS transitions to elements
    entering or exiting the DOM _without_ this addon would be a major pain.

commit 2b0add9a5fdff9368e51624034af28b864a9fb1b
Author: Matt Lee <matt@reddit.com>
Date:   Wed Dec 17 13:55:11 2014 -0800

    markdown: Fix font scaling for sidebar.
    
    Commit 8f1ab15 addressed an issue we were seeing where some subreddit had
    huge font sizes with the new markdown styles applied.  The solution was to
    structure the styles such that <p> elements had a default font-size of 1em,
    which worked well.  Unfortunately, because of the way that the sidebar styles
    are structured (and because I kind of forgot about them in that solution),
    this caused the opposite problem for some subreddits' sidebars: tiny text.
    This applies the same solution to the sidebar text, and does a little bit
    of refactoring along the way.
    
    This replaces most references to absolute numbers with variable references.
    A scale of font sizes, line heights, and margins used are defined at the top
    of the file, and pretty much everything references those (except for small
    stuff like borders.). I thought this was slightly easier to reason about than
    doing `font-size: @base + 2;` kind of stuff, but it might be a little
    overboard.

commit 0c43190abbcefa09b49bd765ac25e06316bf2b0a
Author: Matt Lee <matt@reddit.com>
Date:   Wed Dec 17 13:02:38 2014 -0800

    markdown: Remove default background color for tables.
    
    Some subreddits use tables for special layout purposes, and the new default
    background colors for rows often needs to be overridden.  Since the effect is
    pretty subtle anyways, its probably better to just remove it altogether.

commit 0199b7e77ee244fe1d1112450775452c50a1f78a
Author: Matt Lee <matt@reddit.com>
Date:   Wed Dec 17 12:59:56 2014 -0800

    markdown: Make headers inherit color.
    
    If a subreddit wants to change the default text color (e.g. for a dark theme)
    they'd need to override the color for the .md element and each header tag
    (h1-h6) individually.  This makes it so the header tags inherit from the .md
    element to make this less painful.

commit 5fc5823230947361e88a022f9180a16e8c2799a0
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Tue Oct 28 10:53:35 2014 -0700

    Relation: Stop dual writing keys.

commit 17ffe58de652161f0c16ac671bf21b310e5fe3c0
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Wed Oct 22 15:58:48 2014 -0700

    thing.py: Sanitize fast cache key for Relations.
    
    This makes the fast cache key safe for the memcache ASCII protocol.
    
    NOTE: This will need to be rolled out in a safe manner (usually a downtime) in order to avoid any data integrity issues.

commit 244ac3bd55a677461689a353a175f5c8bcaa626f
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed Jul 2 01:23:51 2014 -0700

    Relation: Cut reads over to the new key name.

commit a3c3b458360875870364a1bc3319e980e5cbc6c8
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Fri Oct 24 09:29:00 2014 -0700

    Relation: Start dual-writing new key names.
    
    This is the first part of cleansing rel key names of spaces.

commit f4b60b59f55981aa1e8cfdddba89c1a4eeffa28c
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Tue Dec 2 16:01:04 2014 -0800

    thing.py: Fix name input to be ascii string
    
    _query returns an ascii string for name no matter what. This was causing
    an inconsistency in the cache key. u'subscriber' vs 'subscriber'.

commit c29c2d6c8d15e134273043aeb264d18499121b7e
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Oct 14 10:52:13 2014 -0700

    cache.py: Let TransitionalCache modify keys.

commit 720048c9896ccf799b48c030cb0c16c126056196
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Wed Oct 22 15:45:53 2014 -0700

    thing.py: Create shared _fast_cache_key function
    
    This function is meant to allow all of our Relation code to use the same
    key, making it easier to change. It also required a refactor of the
    _fast_cache code a bit to operate on cache keys instead of tuples.

commit f4dcab845f52f985fa3f06371b64bbe544097f8a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Dec 11 20:35:45 2014 -0700

    Thing._byID: raise a useful error for non-int ID
    
    Previously, passing a non-integer ID (usually happens with a string)
    to _byID would give the "huge thing_id" error, which was confusing.

commit d859ff427e5e5719aad2b1bcd7c99131598ef745
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Dec 18 15:59:48 2014 -0700

    DomainSR: force domain to lowercase
    
    Even though the site generally normalizes domains to lowercase in most
    other places, visiting /domain/EXAMPLE.COM (or any other capitalization)
    would not show any results, the only working address would be
    /domain/example.com. This forces to lowercase, regardless of how the
    domain was capitalized in the url visited.

commit 7d870e02e891993288218bd7014eaea4bb3b1cb6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Dec 18 13:37:52 2014 -0500

    Allow language subreddits in multireddits.

commit a79d6c2dddc987139248ed747be6b914218ba5ab
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Dec 16 21:31:50 2014 -0400

    Only use window.open on http links

commit 826c445eec7048ee01770d8f8d464e6e3392f6d4
Author: Matt Lee <matt@reddit.com>
Date:   Mon Dec 15 12:59:27 2014 -0800

    Fix collapsing in modmail.
    
    Fixes a bug introduced in dd9e045 that prevents messages from collapsing
    in modmail.  This was due to the markup change, combined with some overly
    specific CSS.

commit 12d0d906707cc3bc9f4e599ba8e6aebcea53fb70
Author: Matt Lee <matt@reddit.com>
Date:   Fri Dec 12 15:20:19 2014 -0800

    markdown: Fix display of inbox messages.
    
    Inbox messages display with a tiny font size when viewing with the new markdown
    styles.  This is due to a change introduced in e8d0ce7.
    
    <longwindedexplaination>
        The idea behind that change was to make the default font-size for `.md`
        elements `14px` while still using relative font sizes (using `ems` and
        keywords).  This lets us continue to respect browser preferences _and_
        makes the styles a _little_ harder to break via custom css (before this,
        increasing the font size of `.md` could drastically increase a subreddit's
        font size).
    
        In order to do this, you actually have to use two elements, because
        browsers only provide a limited set of absolute font sizes that respect
        user preferences (via keywords). The outer element uses a keyword font size
        to reset the base font size to the nearest keyword value `small (13px)`,
        and the inner `.md` element scales that up to the desired default font size
        using `ems`.  I thought that using `.wiki-page-content` for wiki pages and
        `usertext-body` for everything else covered it, but it turns out that
        message pages don't wrap message with `UserText`, so the `.md` text there
        is getting scaled up from the site default size of `x-small (10px)`.
    
        The end result is that we can use `p { font-size: 1em; }`, so if some
        stylesheet author decides they want to set
        `.md { font-size: <whatever>px }`, that's what they'll get.
    </longwindedexplaination>
    
    Rather than adding _another_ css rule trying to target the messages page (which
    I don't think is possible without side effects anyway), I did two things:
    first, I added an extra css class _specifically_ for this purpose
    (`.md-container`) and applied to both the `wiki-page-content` and
    `usertext-body` elements; and second, wrapped the offending markdown on the
    inbox page with an element of that class.

commit bbd76bd72fc1e1620f2c2e261c83be79e664ab1e
Author: Matt Lee <matt@reddit.com>
Date:   Thu Dec 11 14:19:40 2014 -0800

    markdown: Update color palette.

commit 8f1ab1517ba2bc6a4baeeaf55ef6f21ce8959de4
Author: Matt Lee <matt@reddit.com>
Date:   Thu Dec 11 14:19:00 2014 -0800

    markdown: Change base font-size from 10px to 14px.

commit 9c101e03d758e647a2ff4699c384d8a147364555
Author: Matt Lee <matt@reddit.com>
Date:   Fri Dec 5 12:40:46 2014 -0800

    selfserve: Fix rounding error on frontend.
    
    make calc_impressions in sponsored.js behave the same as calc_impressions on the
    backend, i.e. round down.

commit 75f2413577e80334be67f0e4d6eac8ca9f20a4d9
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Dec 16 21:31:50 2014 -0400

    Make sure `window.opener` is null when opening tabs for users' links
    
    Thanks to Hamid Ashraf (/u/hamihax) for the report! A lot of
    user-agents allow windows and tabs to navigate their openers through
    `window.opener.location`.
    
    This creates a potential phishing risk where a victim with the
    "open links in a new window" pref clicks a link submitted by an
    attacker. The attacker's page may then navigate the reddit page that
    opened it. When the user closes the tab with the attacker's submitted
    content, they'll be greeted with an attacker controlled page, and
    they would be less likely to notice since the tab previously contained
    a page served by reddit.
    
    IMO this is really a flaw in same-origin policy, but the behaviour is
    present in a number of browsers.

commit ee2ae1ed3ae77421a74241c10b0fa5c3d122c460
Author: Neil Williams <neil@reddit.com>
Date:   Tue Dec 16 22:20:22 2014 -0800

    zookeeper: Gracefully close connection when app is shutting down.
    
    This should help reduce logspam on the zookeeper ensemble.
    
    The `on_app_shutdown` function is intended for use in gunicorn's
    `worker_exit` hook.

commit 224cce72c764328bb38ef3f2a2aed1e85fe5e6d6
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Dec 16 20:03:00 2014 -0700

    Welcome message: handle default_sr not existing

commit a275597fac5d006e62d9cf30fa34b8a8f0f9c768
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Dec 15 16:45:12 2014 -0800

    Reports: fix in modmail
    
    When a user reports a message, we've been checking to make sure it's actually
    sent to them.  However, when a message is sent to a subreddit's moderation
    team, any member of the mod team should be able to report the message, despite
    it not being sent to *them*, directly.
    
    We now extend the check to also check for moderator status if necessary.
    
    [Reported][0] by /u/psdtwk.
    
    [0]: https://www.reddit.com/r/bugs/comments/2p6m56/i/cmuw61w

commit 3a1d0ddfe45161ae9cbce0e1df846bc5533d1210
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Dec 16 11:44:57 2014 -0800

    Consistencize account text, part 2
    
    While looking at reddit/reddit#1043, I was reminded that the work in
    reddit/reddit@d2e2cef was incomplete, so I did a bit of `ack`ing and came up
    with this set of changes.  This should be a pretty good set of changing login,
    logged in, log out, logged out, etc. to the "sign out" equivalents, and
    "register an account" and friends to "create an account".
    
    There are a bunch of variable names and endpoints around that I didn't touch,
    because that would break all sorts of things.  This *should* be only including
    text directly shown to users (usually passed through `_()`) or indirectly shown
    via the API docs.

commit 82dd1024d6571bdf45bb92a8d4d97f34d9f76771
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Dec 15 13:53:50 2014 -0800

    Report reasons: fade out on message report
    
    This is a tag onto reddit/reddit@85a9223 and reddit/reddit@76858eb99.  Report
    reasons weren't originally supported for PMs, so we returned early and didn't
    call `form.fadeOut()`.  Now that we use the report reasons box everywhere, we
    need to handle the form for everything, too.
    
    [Reported][0] by /u/psdtwk.
    
    [0]: https://www.reddit.com/r/bugs/comments/2p6m56/

commit a2ac108e619073c261af22e82c87a108db058273
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Dec 12 18:47:49 2014 -0500

    POST_editusertext: abort cleanly when called on non-self link.

commit 88666ebf67c25652da5483780018642bf013c7ec
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Dec 13 11:27:24 2014 -0500

    VSrCanBan: mods need "mail" permission to ban messages.

commit 136fa5a359b693edfb217ca472c830ea79ea82c6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Dec 13 11:26:35 2014 -0500

    Fail cleanly when VSrCanBan called on non Link, Comment, or Message.

commit 2f79fe804036bf9f6ca66cdec8fe597010700b16
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Thu Dec 11 12:35:42 2014 -0800

    Change remaining creddits label to "use  # of your # creddits"

commit dffa9449593dfc4526e929a99166bf8e4b34820c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Dec 13 13:59:19 2014 -0500

    MultiReddit path with 'all' or 'friends' becomes AllSR or FriendsSR.
    
    This restores the old behavior.

commit cde43e88a39acbbe4534751fca06e1b750838520
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Nov 14 07:21:11 2014 -0400

    Make /api/morechildren and /api/expando into GET endpoints
    
    They don't actually modify anything, and this way they'll benefit
    from the CDN's caching layer.

commit 50d047c13c1d972a75f0e7d4884e22393de08d46
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Nov 28 13:36:52 2014 -0400

    Don't place error pages in the pagecache

commit ab6058e2a151fe9871c96875d75209e278c4329e
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Dec 1 17:48:27 2014 -0400

    Fix attempting two pagecache reads in one request
    
    `c` gets clobbered when transitioning between controllers, so anything
    that needs to survive that must be in `request.environ` instead.

commit c79a3bde177cb5ac06debbeb06b492b47301e230
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Mon Dec 8 16:17:15 2014 -0800

    lock.py: Made lock exception check for success
    
    In certain cases, memcached add will except even though it actually
    succeeds. This would cause a lock to wait forever, or timeout.

commit aaa399bd9662160b14c1adfa2553596f143bdf0d
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Mon Dec 8 10:57:00 2014 -0800

    lock.py: Add random delay between lock retries.
    
    This should reduce memcached spam and burst requests when locks are highly contended.

commit aacdded17833c761b61a40bfb1c0fc83b8148c17
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Mon Dec 1 12:07:17 2014 -0800

    Log when locks expire before they can be released
    
    The purpose of these changes is to verify that a situation is not occurring.
    Currently, a situation could theoretically arise where a lock expires for
    one thread, a new thread gets a new lock on the same key, and the old thread
    then completes. The out of order deletion of the lock would cause a cascade
    effect, and the lock would then be entirely ineffective for all threads
    until there is no contention on the lock anymore for the expiration period.
    Presently, if this situation occurs it does so silently since no error would be
    thrown.

commit 05a1e3314a083328c4b20d2e0bf1d971b3f39146
Author: Neil Williams <neil@reddit.com>
Date:   Mon Dec 15 13:15:26 2014 -0800

    log_q: operational_exceptions += MemcachedMaximumRetryException.
    
    Since caches are used all over the place, there are plenty of different
    stack traces that can throw this exception. This prevents us from
    getting hundreds of emailed exception reports when a cache server goes
    down.

commit 67173937db6762318c56b255661da71f0421c9ae
Author: Neil Williams <neil@reddit.com>
Date:   Sun Dec 14 11:01:38 2014 -0800

    *VoteDetailsByDay: Page through votes to avoid timeouts when counting.
    
    Since the number of votes is usually in the tens of millions currently,
    get_count turned out to take far too long for reasonable RPC timeouts.
    Instead of just boosting the timeout, this uses xget to page through the
    columns instead and just counts them manually client side.
    Unfortunately this is harder on C* and the network, but since we're only
    using this in the awards stats job which runs daily it should be OK.

commit f2cbd934e4df58e74e2b801b1cf65002d05c7ccd
Author: Ben Edelman <namlede@users.noreply.github.com>
Date:   Mon Dec 15 01:54:40 2014 -0500

    Fixed two typos
    
    Both typos were in comments:
    "parameters" was misspelled as "paramters" and
    "disentangle" was misspelled as "disentagle"

commit d0c51be3f49f6b5df099b5b996f5204f174133a5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Dec 13 11:35:57 2014 -0500

    Traffic processing: Switch from m1.xlarge to m3.xlarge.
    
    The new instance type is faster and cheaper.

commit d54c78daa0e2747e9969bf17730e2905167f973c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Dec 12 19:11:49 2014 -0500

    Filter out bad Subreddit names from MultiReddit.
    
    Previous method was letting non-ascii characters through in the
    MultiReddit.path which caused issues in other areas.

commit 0b6b3cd787c5b43d79b105d46a7bffafebfdd3d5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Dec 13 09:38:15 2014 -0500

    Stop converting multis with friends or all to special subreddits.

commit fd781d4d85ed46ca4a00ed237ad365cb7c08ff38
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Dec 12 20:25:14 2014 -0500

    Message.add_props: _force_unicode body when adding warning.
    
    This was causing UnicodeDecodeErrors.

commit 00e03edbfd1af4c0ec28b0e034c002bd953f19b3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Dec 6 13:19:43 2014 -0500

    Traffic processing: Validate clicks by checking response code.
    
    Double checking in the click app and in the processing scripts was
    difficult. Just trust the click app and assume any request that got
    a 302 response is valid.

commit 5e06e44c6e67d4dd0093193475295599318cf7ec
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Fri Dec 5 06:14:37 2014 -0800

    Fix typo and add username request.

commit d2dbe851a005e4857d467b3c3244c6ceeeedc190
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Dec 10 06:28:27 2014 -0500

    Distinguish admin receivers in modmail.

commit 81b5ebbbce0ba0b7e209304a808d2e297a3be7d2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Dec 5 20:39:16 2014 -0500

    Distinguish mod receiver in modmail.
    
    Previously the receiving user's name was just black text. The recent
    change to link the name to the profile page made regular users and
    mods look too similar, causing confusion.

commit b1320c2fc27c3faf8352fde42017c77363b36887
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Dec 2 10:33:07 2014 -0800

    Skip CORS in RedditController.post if it's already checked

commit 23b2f78e85f46ed28963c6e283d15d37db087964
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Dec 1 16:46:58 2014 -0800

    Don't auth for OPTIONS requests on Oauth-only controllers

commit f1c277cde80788980024926c555c7faa9b67a3ad
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Nov 20 14:14:03 2014 -0800

    CORS: Update CORS headers for OAuth2 access

commit 92b9fc9c739ebca4541517fceca662587ce6d35a
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Oct 28 10:35:48 2014 -0700

    OAuth2: Implement implicit grants

commit 84d39cecf50ed85bfb4687c82c8128b71d0a6a89
Author: Chris Dary <umbrae@reddit.com>
Date:   Sun Nov 23 10:08:49 2014 -0800

    Gold checkout: Fix mismerge to reddit/reddit.
    
    An extra branch got added here that was incorrect.

commit add5b0ed83815716758607db04d54b5ca8cfbd84
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Nov 19 04:52:10 2014 -0400

    Store statistics on pagecache hits / misses by endpoint
    
    This way we can tell which endpoints are useful to cache, and which
    ones are just needlessly forcing other stuff out of the cache.

commit d877ec0751bfc4926f3aeffde90298c98b611ac1
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Nov 18 22:19:42 2014 -0400

    Fix a malformed inherit tag in linkinfopage.htmllite

commit 6ad89f49b2be932c57e6c7f98c3e8951cfcdbd12
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Tue Nov 18 15:38:52 2014 -0800

    Memcached: Remove retry extra logging and feature flag

commit 1d4bf69bd9f3541dafbce70c7d1d62af1359a6d6
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Nov 18 09:46:49 2014 -0800

    VoteDetails:  Backfill IP addresses for votes < 90 days old

commit 6a8ea7d51c19acf0ef9249d959365b5474c71aff
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Mon Nov 17 14:48:46 2014 -0800

    Make feature flags less reliant on pylons

commit d6a74a01644161dfd07dbc1c373639f4703dde65
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Fri Nov 14 14:00:54 2014 -0800

    Memcached: Implement retry on failure.

commit 19c269a14cad048ae63d86d79a2293506592d9ff
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 30 12:55:29 2014 -0400

    Let sponsors lookup users by fullname.

commit be92a6f8975cea232aa62106d5d61037e84efd38
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Oct 27 17:26:25 2014 -0700

    Make advertising rules open in new tab

commit af04006baf28afeebd3364260b6c3fff596055c8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Nov 4 19:59:15 2014 -0500

    click: unquote destination before unmangling query string.

commit 966bb146755c546d1253d5c50059bde8406f72a3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 22 00:36:20 2014 -0400

    Click redirect: fix encoding of destination url.
    
    Some advertisers set their ad's url to an intermediate tracker so
    they can independently track clicks. This results in a series of
    redirects like this:
    
    reddit tracker > intermediate tracker > final destination
    
    The ad's url is communicated to the reddit tracker through a query
    parameter which is urlencoded on reddit.com and then unquoted when
    being handled by the reddit tracker. This unquoting causes problems
    if there is an intermediate tracker with its own query string
    that needs to be urlencoded. This commit adds handling for those query
    strings.

commit 7540117113b5b3e3e72f87366b88337780687d49
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Tue Oct 21 15:45:37 2014 -0700

    Stop negative thing id from reaching the database.
    
    This is extra safety against a bug we can't reproduce anymore where
    postgres would hang when very large thing ids were used in queries.

commit 63f9c31887e29b1b7bdf26769c0c8f2bb5c6fff1
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Oct 16 16:53:50 2014 -0700

    Add autocomplete to multis

commit 543e5a69983b1cde9f0817cbe5402e21a674b24d
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Oct 14 14:32:02 2014 -0700

    OAuth: Use reasonable max length for device_id

commit c3ef9518798ae8ee7b578e5cfea42625b2ee7cdc
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Oct 14 13:28:02 2014 -0700

    Add TOO_SHORT / min_length to VLength

commit 63dd2f0c948fc5c86cdc7dac18b38d43d21d561c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Oct 9 17:00:45 2014 -0700

    OAuth2: Add extension grant for app-only auth
    
    Grant URI: https://oauth.reddit.com/grants/installed_client
    
    This minor extension grant allows non-confidential
    OAuth2 clients to request user-less OAuth2 tokens.
    
    Consumers should provide a unique ID, and re-use that ID
    for subsequent token requests from the same device. ID
    generation is left up to the client.
    
    This is separate from client_credentials so that the
    client_credentials grant can conform to the official spec.

commit 9c50a08c65bdaea3bc162f57e0ae133cba9934d8
Author: umbrae <umbrae@reddit.com>
Date:   Tue Oct 7 19:01:22 2014 -0700

    Fix logo href in button embeds to be absolute.
    
    Thanks to @ohmanger in https://github.com/reddit/reddit/pull/1151

commit 18bc7ceb7b4afa0813ac070ea83693abd25151b8
Author: umbrae <umbrae@reddit.com>
Date:   Mon Oct 6 16:13:18 2014 -0700

    Load button info with JSONP to avoid CORS HTTPS errors

commit 8a0aa2e97773dac89addb7d58f48b116b9adffb1
Author: umbrae <umbrae@reddit.com>
Date:   Sat Oct 4 15:33:35 2014 -0700

    Inbox counts: Only unnotify on comments

commit 36691515e8ded8bf0a013ce106722f6eb2c88c89
Author: umbrae <umbrae@reddit.com>
Date:   Sat Oct 4 01:12:16 2014 -0700

    Update readme for short blurb on contributing

commit 9532e12a5119f45df0a0f655c52afec348bf8c5f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 25 17:01:34 2014 -0400

    PromoteLinkForm: don't preload any inventory data.

commit bea0fdd93674168dd447cbde7fcc059da7b5cfe6
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Sep 23 17:14:25 2014 -0600

    Revert "temp commit - fallback for renamed payment_blob key"

commit de5b9239a6964667009c21942d9f66b9b8dd68df
Author: Jason Harvey <alienth@reddit.com>
Date:   Fri Sep 19 02:19:05 2014 -0700

    Revert "Use lang_override for all "en" variants."
    
    Provide an escape from pirate day.
    
    This reverts commit cc3af6e8ff687b0d4e42925e345679975afe4365.

commit 90ba5db9f673d4d779a2792f805313295449d36b
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Sep 11 16:31:09 2014 -0700

    OAuth2: Access Token defaults should be strings
    
    The string u'None' was getting saved for some defaults.

commit 91f2fd5d46d54229a0d6a3098d5614fe165a703c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Sep 11 14:31:55 2014 -0700

    OAuth2: Don't make installed apps use secrets
    
    Installed apps are considered "public" as part of the
    OAuth2 spec (unable to keep a secret). Don't
    show a secret for such apps on the /prefs/apps page,
    and don't check the secret as part of client identification
    for such apps.

commit 38e2996f7eaae108a66615f26540a40a5b36546e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Sep 11 14:10:35 2014 -0700

    Docs: Minor update to POST_access_token docstring

commit 212199771340717d05dad022bcc15b5238b636f8
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Sep 11 14:07:07 2014 -0700

    OAuth2: Application-only OAuth2
    
    This implements the client_credentials grant type.
    
    This allows 3rd parties to use the OAuth domain for
    logged out (user-less) API access in addition to existing use for
    logged in access.

commit cffc69214ba426598fa84fd6109cec7c3ea2a8f4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Sep 11 12:41:58 2014 -0700

    Add VUser() to OAuth only endpoints
    
    In preparation for application-only (non-user) OAuth access.

commit b4f84009522e15e2c31a7790f6d9df2957ad3fbd
Author: umbrae <umbrae@reddit.com>
Date:   Sat Aug 23 10:37:01 2014 -0700

    Enable link attribution on GA clicks

commit f1124fd3811ec743f00becaa1d91c3fde4e4945c
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Jun 30 15:50:28 2014 -0700

    cache.py: Enable verify_keys for mc ASCII protocol.
    
    The memcache ASCII protocol is vulnerable to injection attacks, so tell
    libmemcached to verify keys are valid before sending them to memcache.

commit c7344507f29e33b967f681b147d22dedc3bf6b58
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Jun 30 15:22:54 2014 -0700

    Disable binary mode for ratelimitcache.

commit 1ac22a5d56c3a2b2fdaebfdb43165a6acdf10021
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jun 17 16:24:59 2014 -0700

    Disable binary mode for pagecache.

commit 9ed937a1ebbeb768249c23e3f6f9fabbb91c1929
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Jun 17 13:34:31 2014 -0800

    Disable binary mode for permacache.

commit d3ce41931942946782b6ce32e02783f4b9040f36
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Jun 17 12:05:24 2014 -0800

    Disable binary mode on rendercache.

commit 0cf8b009141c656612a77dd6e27b28415334a2b6
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Jun 16 23:34:58 2014 -0800

    Add arg for binary mode to CMemcache.

commit 0a67faa057bec890cfac38446296fec4c5a48983
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Jun 17 11:46:36 2014 -0800

    Style cleanup.

commit 915ab3efbc78f986e89b6126a79f37a19b34cb92
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed May 28 20:53:23 2014 -0600

    HACK: fix Stripe webhook errors with tokens including dash

commit 88ba0f3bf028bf9e0d980063f7dcb6229f826d82
Author: Neil Williams <neil@reddit.com>
Date:   Sun Nov 30 11:26:39 2014 -0800

    vote: Refactor vote casting to prepare for pgvote removal.
    
    The intent of this patch is to refactor the existing vote-casting code
    into a state that's ready for pgvotes to be dropped and replaced with
    reads from VoteDetailsByThing.  Ideally, no behaviour is changed by this
    patch (hence "refactor") and then the later data model change will be
    lower risk as a result of less code shuffling.
    
    Once this patch is applied, the `Vote` class/rel is considered an
    implementation detail of the vote module and hidden from public view.

commit 7ac10dace23adbf928e51a5419045398a02e0389
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Dec 8 13:47:49 2014 -0800

    Report form: hide on gold payment page
    
    In reddit/reddit@76858eb, I expanded the places we could use the report form.
    Unfortunately, it got caught by a CSS rule on the reddit gold payment page that
    made it visible, despite not being at all useful on that page. :)
    
    Now that CSS rule is slightly more scoped.  The only other `<form>` that's
    inside `.gold-payment` but **not** `.gold-wrap` is the share dialog, which has
    an inline style hiding it.

commit b7cd7e33f10f57925e7cb1724d324bcf810bbb04
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Dec 4 18:34:00 2014 -0800

    Add password strength meter

commit c33f0e16228e6e0de714dc2f2f793f2be5ef25a0
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Dec 4 14:37:10 2014 -0800

    Add user agreement to registration/login

commit d2e2cef13226951c3d1dc099ba080eea67a1b198
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Dec 2 16:38:55 2014 -0800

    Consistencize account text
    
    To avoid debate over "login" the noun and "log in" the verb, we're making a
    move towards using "sign in" instead.  The first part of this was done in the
    login rework in reddit/reddit@c4f5b6c2.
    
    This commit continues to make our verbage consistent on "sign in" and "create
    an account", avoiding use of "log in" and "register".  Specifically, these
    should all be consistent:
    
    * Upper-right modal-popping text
    * Headers on modal and /login
    * Buttons on modal and /login
    * Page title on /login
    
    I didn't change the text in the old login flow, because that feature flag seems
    like it's going to be pruned soon.

commit 76858eb99cd9ee7dfabda091deece474218df9cf
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Dec 4 14:16:20 2014 -0800

    Reports: show report reasons prompt everywhere
    
    [A user suggestion][0] from /u/wickedplayer494.
    
    Now that the "report reasons" box has gotten some good user testing, use it
    everywhere you can report a comment or post.  The only place I could find that
    wasn't already doing this was the inbox, with reply notifications.
    
    [0]: https://www.reddit.com/r/bugs/comments/2nq57y/reporting_comments_through_the_inbox_page_does/

commit a3da1c5cc88daca8b4f24f7625efcae01a997623
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Dec 4 16:42:40 2014 -0500

    Link to receiving user's profile in modmail.

commit 6de8a8e5386fe6f5eba458ec01c0d3d3c7e45de8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 5 09:16:46 2014 -0500

    Add option for sponsors to use redditgifts embeds.

commit 74a2f6ca28dd5656bada855e1f2ab1588e67c9a5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 2 15:34:37 2014 -0500

    Disable the sidebar for the Over18 page.

commit c2f08f8eeddd0c9e5f6f495ba91dd1784d5d7414
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Dec 3 00:42:21 2014 -0500

    Override sendreplies preference when a comment response is distinguished.

commit 31f464b74cb6d56ba4184cf77025e4bd6960bbe5
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Wed Dec 3 10:25:33 2014 -0800

    Add redditgifts exchange support to contact page.

commit 5b2da30b11f05a82185f611dcdd9c1f93cc16332
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Nov 27 03:48:35 2014 -0500

    Allow disabling inbox replies to comments.

commit 7842cb75534afbb72162cfeef8f16b52bbd6120a
Author: Neil Williams <neil@reddit.com>
Date:   Sat Nov 29 11:05:30 2014 -0800

    vote: Add {Link,Comment}VoteDetailsByDay CFs.
    
    We want to ditch the postgres-based vote relations as they are not being
    used for much right now and make a large ops burden as they use a
    massive amount of space.
    
    These column families should take care of one of the last unserved use
    cases for votes: day-based data dumps: the about page shows a count of
    votes day-to-day, and some awards use yesterday's votes to determine
    winners.
    
    I've chosen to use Pacific time because that's when award cron jobs run
    and is generally still how we think about "day"s since we're here in SF.

commit 12ca92807c0e98973461fcc1d6bfb501c735f6f9
Author: Matt Lee <matt@reddit.com>
Date:   Mon Dec 1 15:04:40 2014 -0800

    markdown: Fix issues with new markdown styles.
    
    Based on feedback from the /r/modnews post:
    
    * font sizes are now em based, and respect browser default font size preferences
    * grey text for blockquote and del elements is darker, meets AA accesibility guidelines
    * bold/italics style combinations fixed
    * removed larger font sizes for wiki pages
    * reduced a lot of the margins and altered some of the line-heights.  pages should be
      more compact vertically
    
    This should make the markdown styles respect users' browser
    preferences better.

commit cafaa52a8d631a393c9d699f56c189cacf9d4efb
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Dec 1 16:42:09 2014 -0800

    Language modal: fix on login page
    
    In reddit/reddit@c4f5b6c2, we accidentally broke the language-selector modal
    that appears in the top-right when logged-out (when logged-in language is
    changed from your preferences).  The `<div>` that gets popped up snuck up
    inside one of the many if-statements in that section, which resulted in it not
    getting added to the html on pages where we want to hide the login modal link
    (currently only login pages).  This restores it, so you can once again change
    your language while on /login.

commit 84b09e76365b1296771df56f141f99b0ab624841
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 2 14:26:24 2014 -0500

    RedditGiftsController: run giftmessage through _force_unicode.

commit 1e4f9d7b6e6a3e1d20780ae00ea11edc6c713416
Author: Matt Lee <matt@reddit.com>
Date:   Mon Nov 24 11:51:05 2014 -0800

    Add class to body when old markdown styles are used.
    
    Last change needed to allow for a smooth transition between old and new styles.
    This lets stylesheet authors target any styles needed for backwards-compatibility
    to 'body.old-markdown'.

commit 1291e88974cf0f8ab30d2cb0e5b81cf6c1ffcba5
Author: Matt Lee <matt@reddit.com>
Date:   Mon Nov 17 10:41:57 2014 -0800

    self-serve: Remove feature flag for 'keep open' feature.

commit 939761a598f394f3df87a93b343ed635ce54f90f
Author: Matt Lee <matt@reddit.com>
Date:   Mon Nov 17 10:52:05 2014 -0800

    self-serve: Remember user's requested bid and dates when keeping campaign editor open.

commit 8d7ae9cc3b1a8febabbad92547433c9c0fc162e4
Author: Matt Lee <matt@reddit.com>
Date:   Fri Nov 14 15:57:36 2014 -0800

    self-serve: Fix house ad creation.

commit 44afd8e4460cefa3538323e3469f9f01515345f3
Author: Matt Lee <matt@reddit.com>
Date:   Wed Nov 12 12:43:04 2014 -0800

    self-serve: Fix campaign bid calculation on frontend.
    
    Fixes a rounding error causing the UI to sometimes display an inaccurate
    maximum campaign size.

commit 7c52cb01d3f2538ed931fb7b11d2b4ae5f40c389
Author: Matt Lee <matt@reddit.com>
Date:   Wed Oct 29 14:18:13 2014 -0700

    Pretty print impressions.

commit efa6195e85dec024002cacd00587689a35d0d9cb
Author: Matt Lee <matt@reddit.com>
Date:   Thu Oct 23 11:30:27 2014 -0700

    Fix long date ranges possibly using an extra day in inventory calculations.

commit a4b9572fb79ae2e62f090343dde6159690843994
Author: Matt Lee <matt@reddit.com>
Date:   Wed Oct 8 13:00:15 2014 -0700

    Fix campaign editor label width.

commit 4a4265a3ee5b41477627ae58bdb127551233ca22
Author: Matt Lee <matt@reddit.com>
Date:   Wed Oct 8 13:00:57 2014 -0700

    Add Campaign Creator component.

commit 0e7dac4a9973148fbcf3d99f76454c318e0fe529
Author: Matt Lee <matt@reddit.com>
Date:   Mon Sep 22 12:36:36 2014 -0700

    Add React.js

commit 6d73de35f9c9e6ed17823b4210aa5e84682f885f
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Oct 16 11:11:03 2014 -0700

    Add option to create a campaign without closing the editor
    
    Stop gap solution until multiple targets can be added for a single
    campaign.  Allows people to set up many similar campaigns without
    having to start again from scratch.

commit b16b9639a2651673055e3182efb67a3ed1a6d5ab
Author: Matt Lee <matt@reddit.com>
Date:   Wed Oct 22 10:16:58 2014 -0700

    Fix thumbnail in creative editor overflowing container.

commit b2ab7bef372b9ec1a5d6d8c677a50c42a420ac1c
Author: Matt Lee <matt@reddit.com>
Date:   Thu Sep 25 01:14:20 2014 -0700

    Simplify markdown style changes.

commit 7c86e0c21728e28d6366f55d2ed5fdde4ee3bfbb
Author: Matt Lee <matt@reddit.com>
Date:   Mon Sep 15 11:49:00 2014 -0700

    Cleanup new markdown styles.

commit 910fd4d6035feeff49d29cd9903ac3b28c732227
Author: Matt Lee <matt@reddit.com>
Date:   Fri Sep 12 13:37:07 2014 -0700

    Fix calculation of total bid and impressions on edit_promo page.

commit 0fdacfc06433a22ff41a617c02b06ffa2be9b1ac
Author: Matt Lee <matt@reddit.com>
Date:   Fri Sep 5 11:28:21 2014 -0700

    Actually fix the disabled 'new campaign' bug.

commit 49f0c7900a27196ba2d259d590739597049aad83
Author: Matt Lee <matt@reddit.com>
Date:   Thu Aug 28 15:46:29 2014 -0700

    Feature-flagged new markdown styles.

commit e36d545ce1536e724513427b5b3379ad22359ae8
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 27 19:39:46 2014 -0700

    Remove markdown styles from reddit.less and wiki.less
    Most of them, at least.

commit 7863ec737da1aa13c963e98a58aec57906a6b76f
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 27 19:35:57 2014 -0700

    Add markdown.less

commit 64f4194db29bceb15cca50c3393e6ac5a1e5878c
Author: Neil Williams <neil@reddit.com>
Date:   Sun Nov 30 14:40:36 2014 -0800

    ratelimit: Remove reddit-dev mailing list link from throttle page.
    
    It's probably best for users not to send their IP address to a public
    mailing list.

commit 4f9553acbb7473a76960ddf62247a33e143082cb
Author: Neil Williams <neil@reddit.com>
Date:   Sun Nov 30 14:39:23 2014 -0800

    ratelimit: Improve enforcement page text.
    
    This is intended to be more clear about what's going on when the
    ratelimit's enforced and what the user's options are.

commit e3fe97a33459a9d769f96eed0db0fc96e71aac67
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sat Aug 23 13:59:11 2014 -0300

    Make sure the same request key is used for pagecache gets and sets
    
    Some parts of the key can change between `pre()` and `post()`, most
    commonly due to an endpoint forcing a particular `c.extension` or
    `c.render_style`.
    
    In particular, endpoints that used `api/json_validate` were affected
    when requested with no extension. They would never hit the page cache.

commit 88c17cec1b750a93b81a7dc44a061f39bbadf94b
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Nov 28 14:41:26 2014 -0400

    Guard against trying the pagecache twice in one request

commit 9f1f5a29fa5ded19f6a5ab0a42fa9841d1e72460
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sat Nov 29 15:23:42 2014 -0400

    HTTPSify emailed links containing secret tokens
    
    Thanks to @edent for the report!

commit df75e1697d8cb3280c76d9af6c6cf4234f9976a2
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Nov 20 08:57:23 2014 -0400

    Don't treat gettext's output as HTML: JS edition
    
    We don't trust gettext's output, so we can't treat its output as raw HTML.

commit 7040139f4685f0960a9f6b3235698f396f6f53ee
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 28 21:13:35 2014 -0800

    stylesheets: Add protocol-relative stylesheets.
    
    Now that we have protocol-relative media objects, there's no need to
    maintain HTTP and HTTPS variants of subreddit stylesheets. Instead,
    we'll start writing all new stylesheets with protocol-relative image
    URLs. Old subreddits will continue to use their protocol-specific
    stylesheets for now until new stylesheets are uploaded or existing ones
    migrated.

commit d24a8ebf1d4171b306f7b5a1fa2b3445333ea4b8
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 28 20:03:48 2014 -0800

    media: Take advantage of HTTP & HTTPS media being on the same domain.
    
    Since we have an HTTPS-capable CDN in front of our S3 static domains
    now, it's far faster for clients to use the CDN on HTTPS as well rather
    than going straight to (high-latency) S3.
    
    This patch makes it so that we continue to store URLs with explicit HTTP
    schemes but instead of conditionally converting to HTTPS, we render
    protocol-relative URLs. This should be safe for systems using the
    filesystem media provider as we've installed an SSL cert there all
    along.

commit 155342f59191f0ba61404293f64e90c930b9087b
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 28 14:59:10 2014 -0800

    stylesheets: Remove dynamic stylesheet serving.
    
    Since the introduction of the media providers and the default
    installation of the filesystem media provider, it's no longer necessary
    for local / non-AWS installs to use dynamically served stylesheets.
    
    This patch removes that option to reduce complexity in the stylesheet
    flows.

commit f92936a5824e0c4777f9b414fd0637a1d013b4ad
Author: Neil Williams <neil@reddit.com>
Date:   Sun Nov 30 11:38:48 2014 -0800

    vote: Track valid_thing and valid_user rates in Graphite.
    
    This will get us a baseline for each of these so that when I refactor
    this code I can feel more confident I haven't changed things.

commit 122160d3fa358a3828f0bf6eb4733379aae7209b
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Nov 25 12:19:43 2014 -0800

    Increase minimum password length to 6

commit e417e6cd1d8c5106c68dae1dd52c982ed3a52368
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Nov 25 10:56:58 2014 -0800

    Add subscribe link to verify when coming from /promoted

commit 34dece0ed85f8e43503ce173ce966b27f112de44
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Nov 24 16:21:13 2014 -0800

    Allow modal to be closed with esc

commit 239c253e0eda6d35da8c8f25e83290c306e8c90b
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Nov 14 11:32:42 2014 -0800

    Fix https domain for beta

commit c292b0af1bd4463715e7b7cb710de5fdcee565a2
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Nov 24 16:20:57 2014 -0800

    Fix autofocus
    
    Only 1 `autofocus` attribute is allowed per the spec.  Having two
    was causing it to randomly choose between the two username fields.
    Since we handle this manually in the modal I've removed it there.
    On /login we only want it on the login field.

commit 7e45eb603a0315a7bffe9f91b7c96a135f0765d8
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Nov 24 15:25:51 2014 -0700

    Determine if a comment is gildable from can_save
    
    Previously this was being done with can_reply, but that can make
    archived comments, comments in subreddits the user is banned from, etc.
    ungildable. Now that comment-saving is available to all users (and not
    just ones with gold like it was at the time), can_save is a better
    indicator to use.

commit ff00967e244738479e2bec8234b879386c332338
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Wed Nov 19 11:49:05 2014 -0800

    Swap contact tel for email.

commit 87286866d993d243623f11eecdd2d9c930990b00
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 21 15:55:40 2014 -0800

    graphite: Don't send counters for timers to tallier.
    
    This extra data does tell us how many timer samples were averaged out
    before being reported to tallier, but in general it causes us confusion
    and takes up space in packets and we've never really needed it.

commit d30f04636fbe38cc3e951414bc95544fc2e634a3
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Nov 19 13:59:31 2014 -0800

    Improve moderator info page title
    
    Since this page is accessible to non-mods, it doesn't make much sense to title
    it "edit moderators" - people who can't edit anything can see it.
    
    Also, while I was messing around in here, I noticed the titles we put on these
    pages are awfully generic.  I didn't want to touch too many things, so we're
    only adding a subreddit suffix to this page.

commit fe222e537740b8e380ab9c7d3ef0138ecb247e06
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Nov 19 13:29:48 2014 -0800

    Sidebar: always link to moderator info
    
    [A user suggestion][0] from /u/Motha_Effin_Kitty_Yo.
    
    Aside from the url hacking, the only previous way to get to this page was to
    click the more link for subreddits with "too many" mods.  Since this
    information is public, we might as well make it easily available no matter how
    many mods there are.
    
    [0]: https://www.reddit.com/r/ideasfortheadmins/comments/2mqmj2/provide_a_view_about_link_in_moderator_box_even/

commit d5fedb0a4ee9b2b768dfcf05c8cab9889f67f537
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Tue Oct 21 11:35:41 2014 -0700

    Move stats collection sample rate to config
    
    This way, we can update the rate in one place.

commit 923f427545724698cb6a761db3d0ef25792ecabb
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Tue Oct 21 11:31:03 2014 -0700

    Send all RUM timings to hivemind instead of /web/timings
    
    Use the new hivemind stats server to collect data rather than
    /web/timings, so all the data collection goes to once place.

commit 3aff785a95ab7c0241eaf8b7b3a72fe2533ecbea
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Mon Oct 20 14:28:18 2014 -0700

    Set GA sample rate through config
    
    reddit uses Google Analytics[0] as a tool to track events on the reddit.com
    website, which allows for gathering page load and user event data while
    keeping users anonymized. However, with the high volume[1] of traffic
    that reddit recieves, the data collection limit[2]-- even with a premium
    account-- is often surpassed by a large volume.
    
    Wikpedia states[3] "... sampling is concerned with the selection of a
    subset of individuals from within a statistical population to estimate
    characteristics of the whole population." We can, using this principle,
    send a small portion of user events to Google Analytics collection
    endpoints rather than sending the entire data set and achieve a
    reasonable approximation of global user behavior without exceeding
    reasonable data usage limits as defined by Google Analaytics.
    
    In order to achieve this, the Google Analytics javascript library
    provides a method to set a sampling rate[4], a percentage from 1-100.
    By calling:
    
    ```
    _gaq.push(['_setSampleRate', '80']);
    ```
    
    One can set the sample rate to 80% of users. In reddit's case, I suggest
    a default sampling rate of 50%. Here, I have added the `_setSampleRate`
    properties to the `_gaq` object created within `utils.html`. It gets its
    value from the config, which allows for easy value changes and avoids
    using a 'magic value' set multiple places in the code.
    
    [0] - https://www.reddit.com/help/privacypolicy#p_22
    [1] - https://www.reddit.com/r/AskReddit/about/traffic
    [2] - https://support.google.com/analytics/answer/1070983?hl=en
    [3] - http://en.wikipedia.org/wiki/Sampling_(statistics)
    [4] -
    https://developers.google.com/analytics/devguides/collection/gajs/methods/gaJSApiBasicConfiguration#_gat.GA_Tracker_._setSampleRate

commit f69f9d5e08da48357719f8e4a2b2b2990fcbaae9
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Tue Jun 3 10:46:30 2014 -0700

    Sample frontend performance stats to 1%.

commit dde6748b8caba54099233113ddc14646c7446945
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Nov 12 14:35:34 2014 -0800

    Add email settings to config spec

commit f752c158e349fa6e1eb165c0cefacca34eac48bd
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Nov 20 16:26:56 2014 -0800

    Fix compact login styling

commit 2eef0920ae6fe559040d6f2e7669251d69934d53
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Nov 19 11:52:36 2014 -0800

    Compact: style rulespage a bit
    
    Port over some colors from the desktop site, add a bit of padding so things
    aren't right on the borders of the screen, and remove the brick at the bottom
    of the page, since it only makes sense with alt-text and mobile clients don't
    tend to support hovering.

commit 1f907717e729fdb9707900d1b76320c146e347c7
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Nov 19 11:42:54 2014 -0800

    Compact: extend scss compilation docs
    
    This is the only scss file we have, and we don't change it often, so it's not
    really integrated into the asset-building pipeline.  In the future, if we don't
    get rid of it entirely, we'll probably convert it to less, but in the mean
    time, let's make it slightly easier to work with.
    
    I reverse-engineered these instructions, so they might not be exactly what
    we've used previously.
    
    In particular, I'm probably using a different version of the gems, which would
    explain why the additional import was needed.

commit fd5c919d7dc60003c49d0deb5a244e7a4f05af03
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Nov 18 15:54:57 2014 -0800

    Compact: add rules page
    
    Our site-wide rules page has been blank when using the compact website
    (i.reddit.com).  Oops!

commit e8fcb12ca1b84efc6953294b47676d19c3da620e
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Nov 19 14:23:44 2014 -0700

    Add proxying_for param for proxy gilding accounts
    
    Allows proxy accounts to send the username of the user that the
    gilding is being done on behalf of. This will still use a creddit
    from the proxy account, but everything else related to the gilding will
    be associated with the actual purchaser, to enable things like replying
    to the gilding messages, update the gilder's trophy and /gilded page,
    etc.

commit a2e41ed4a694ef999c701d959f7c65813933bf8e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Nov 3 12:52:36 2014 -0500

    click: Don't unquote destination url.
    
    The url is already unquoted correctly and double unquoting can cause
    problems with unicode characters.

commit 890fc1f2153ae0dcc370f815394af6fed503876a
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 18 16:43:54 2014 -0800

    Ratelimits: add strict enforcement mode.
    
    For some app pools that are selected based on the incoming request
    source, such as whoalane, we may want to apply the ratelimit to ALL
    kinds of requests to ensure that resources are being used fairly.  This
    adds a strict enforcement mode which can be enabled in the config. Oauth
    will continue to be enforced per-client ID but all other requests will
    get the sitewide ratelimit.

commit acf6c5a0fa7f5527ddc8201a7180501bcc0daeab
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 18 16:32:33 2014 -0800

    Ratelimits: OAuth should take precedence.
    
    The CDN exemption should not take precedence over OAuth since OAuth may
    be coming through a CDN but will always be configured to bypass CDN
    caching.
    
    The non-API exemption moves down as well for consistency though it will
    have no direct effect here as all OAuth requests should be API.

commit 2c98ba42ef51de93446b5115010646e07d1586be
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Nov 17 15:00:48 2014 -0800

    Disallow replies to proxy gilding accounts

commit c4f5b6c28ad05994910970705b25f6e05a4c996b
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Oct 17 18:03:58 2014 -0700

    Redesign login

commit b18dccf6adbe41f0e4db9fb1e9977e7523b5554a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Nov 13 18:07:04 2014 -0700

    modaction json: add target_permalink

commit 9c1ddbbeb8685aba255282a0baf4b63d5cb558f5
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Nov 13 23:36:18 2014 -0400

    Warn during installation if total memory is below 2GB

commit 2d040cbe77e9e8591e9c069a667c803eee363707
Author: Roger Ostrander <reostra@reddit.com>
Date:   Thu Oct 30 13:33:59 2014 -0700

    Vote Details:  Persist IP-less details for > 90 days

commit 173d50f9f029ec08628580ab2d1b4ff289038002
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Sep 8 13:30:09 2014 -0600

    Don't collapse distinguished posts due to score

commit 880ab5ee4d4caeafbb837716c96c489edd63af12
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Nov 7 14:41:34 2014 -0800

    Allow blank min comment score pref in contest mode
    
    Previously we were forcing the comment score collapse threshold to the
    default for all users, regardless of what they had it set to. This
    allows them to use the blank setting, since there's no method of using
    that to determine the hidden scores.

commit 3a63e3317c0ee8de81bcc08587333da753e68774
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Oct 27 15:57:51 2014 -0700

    Make the gilded message repliable
    
    The gold message is sent to the gildee with the gilder as the author,
    but the username is hidden through the user of the display_author attr.
    display_author and display_to fields have been added to keep track of
    the labels to be displayed. If there is a display_to field, then it is
    a reply to an anonymous message (one that started with a display_author).
    A warning will be appended to messages that have display_to saying that
    their identity will be revealed if they reply.

commit 38e64dbd9ec741cc7a2d68ab7cbf763403f2e551
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 11 19:02:29 2014 -0800

    install-reddit: Add some more helper scripts.
    
    The intent is to further provide simple commands for common tasks in a
    way consistent with staging and production as well.
    
    reddit-start: start all reddit code
    reddit-stop: stop all reddit code
    reddit-restart: restart one or all reddit service(s)
    reddit-flush: flush all memcached keys

commit 05d4481109c2bb347e22bb694c74c676a44f1af5
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Mon Nov 10 15:11:06 2014 -0800

    install-reddit: Fix intermittent haproxy timeouts
    
    Increase max connections for backend reddit in haproxy.cfg. We have not
    nailed down the cause of these timeouts yet, but this definitely solves
    it in a VM environment.

commit 7d1f80caf98e87950499c947ac85af122a44c4e9
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Nov 3 13:32:23 2014 -0800

    Feature flags: allow filtering by subdomain
    
    We'd like to have an easy way to push out changes to a subset of users before
    going to everyone.  Like with the previous change to add subreddit filtering,
    toggling features by subdomain gives us that ability fairly cheaply.
    
    (There is also a more sophisticated [betamode plugin], but it's designed for
    more heavyweight needs and requires more setup for each test.)
    
    [betamode plugin]: https://github.com/reddit/reddit-plugin-betamode

commit 66d8bb199d111b8e9068220d18029c8a38669a51
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Nov 4 12:39:27 2014 -0800

    template_helpers: Add force_https param to add_sr.

commit fa257acc60dd920e4bc2aa35749fb20501739e3f
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Nov 4 12:29:27 2014 -0800

    template_helpers: Style and documentation tweak.

commit 4bf76538db1f61070230c6a11ed1aa0746109400
Author: umbrae <umbrae@reddit.com>
Date:   Thu Oct 9 16:15:38 2014 -0700

    Only force https on reddit URLs in add_sr

commit 0d6535e32d9684a3f9829d3d84e0b5241c013b67
Author: Daniel <daniel@developerdan.com>
Date:   Fri Oct 31 22:34:54 2014 -0400

    Set HTTP header X-Robots-Tag to noindex
    
    For the account API, if the user prefers not to be indexed, set the HTTP
    response header `X-Robots-Tag` to noindex. If the user has no preference
    on indexing, then the header is never set.

commit 7a7210b91f8967a3f3407680d443750fa7341fa1
Author: Daniel <daniel@developerdan.com>
Date:   Thu Oct 30 22:32:26 2014 -0400

    Include user's index preference in account API
    
    3rd party sites allow indexing of user profiles. Perhaps they will
    implement noindex if the user's preference is easily accessible. This is
    an implementation of this request:
    https://www.reddit.com/r/ideasfortheadmins/comments/2ktryi/allow_reddit_clients_to_respect_users_noindex/

commit 18a5a38b3a4a82fde6a7bf324dad1f17e45401e6
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Nov 4 13:28:04 2014 -0800

    Prune twitter card data feature flag
    
    This hasn't blown anything up or caused any serious issues in the past few
    weeks it's been active, so it's probably time to clean out the flag.

commit e39b66731cc0ac1cfe4d8d92670a81baba661d89
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Nov 4 09:47:15 2014 -0800

    Quota: don't include deleted posts

commit 52d648c06f3e6d410b2683781bffdbbe885043ec
Author: Joshua Hayes-Sheen <grevian+github@gmail.com>
Date:   Thu Dec 12 17:57:58 2013 -0500

    Add _ to list of valid hostname characters
    
    This is in response to https://github.com/reddit/reddit/issues/289
    
    Fixes #929.

commit 244ed84b7d19d095ddb84bc577472bbcf745f645
Author: Joshua Ferrara <scjosh2@gmail.com>
Date:   Sun Feb 16 12:23:39 2014 -0800

    Added missing period
    
    Following the style of contributor and moderator messages, the subscriber
    message should also have a period at the end.
    
    Fixes #974.

commit 8ba57953edccc39ac1a70c5b36b77427209cc4b1
Author: Aaron Raimist <aaron@raimistdesign.com>
Date:   Fri Apr 18 15:59:29 2014 -0500

    Corrects capitalization
    
    Corrects capitalization in CONTRIBUTING.md
    
    Fixes #1006.

commit ed8a364ad924d2adc2d68190acc2584f357f62a6
Author: Miquel Sabaté <mikisabate@gmail.com>
Date:   Tue May 6 10:07:15 2014 +0200

    It's not needed to invoke bash with the -e option.
    
    This patch is super simple :) Basically, the first command of the
    install-reddit.sh file is "set -e". Therefore, we don't have to invoke bash
    with "#!/bin/bash -e". We can either remove the -e from the "#!/bin/bash -e" or
    we can remove "set -e". I prefer keeping "set -e" because it's more explicit.
    
    Fixes #1033.

commit 4b445139baf3c41d413b7985aa55f977a5296e0d
Author: Ismail Jadun <jadunis@614a.com>
Date:   Tue May 6 18:54:21 2014 -0700

    clarified who to contact about submission problems
    
    clarified that people should contact the subreddit mods about submissions
    
    Fixes #1036.

commit be376d77ec468d11699fb1d24f0559979c7195ab
Author: Ismail Jadun <jadunis@614a.com>
Date:   Tue May 6 18:48:36 2014 -0700

    updated to add international@reddit.com

commit 0918ff4bfa10e5464d8b3d77afcb2059a48c9c57
Author: Jack Kingsman <jack.kingsman@gmail.com>
Date:   Mon Sep 29 16:29:08 2014 -0700

    Fixed typo in CONTRIBUTING
    
    Parenthetical belonged in the sentence.
    
    Fixes #1139.

commit d830d561dc7af472a3588e7924551ed0d7a3fd83
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Nov 3 13:17:11 2014 -0800

    Add title to message/compose

commit a39d8f423eabcabd26fe5124fc400466d900c807
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Nov 3 11:46:59 2014 -0800

    Remove requirement for zip code

commit a4b73b26ff5d7a3cae42b14f8b9056c65be47e0d
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Oct 30 22:18:28 2014 -0300

    We should use $.parseHTML() for str to DOM conversion

commit 77133cf7ee424267e608ee904d3df5062a435294
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Oct 21 21:46:41 2014 -0300

    Don't allow arbitrary HTML in translated error messages
    
    Switch to markdown instead, you can see which translated messages
    this might affect by running
    
        grep -RP -B1 '^msgstr.*[<>&]' . | grep -A1 -vP "^.*?[:-](-|msgstr|msgid.*[<&>])"
    
    in the i18n directory.

commit f0e46a714695903cf3383930cb9be0a7819b6796
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Oct 21 01:43:13 2014 -0300

    Timestamps aren't HTML and don't need unsafe()

commit 62d0da70781566216177babaab9132c0a6842aae
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Oct 21 02:42:15 2014 -0300

    Make sure uses of Score.* are escaped properly

commit dcaefff12f81fcee889340ef282c1961bd4d71a2
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sat Oct 18 06:53:18 2014 -0300

    Ensafenate HTML coming out of strings.*

commit 84af27745b2309f333fe07c94eff15179c337b43
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sun Oct 19 18:08:54 2014 -0300

    Escape translated strings placed in JS by Mako

commit a83af6e294301fdfd83ea319a87387a5494d1019
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sun Oct 19 17:02:39 2014 -0300

    Double-encode translated inline HTML template
    
    This needs to be double-encoded since when the attribute is read
    any HTML entities will be decoded.

commit 999a77b697b7a6229995fe223110d717fa4d40a3
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sun Oct 19 17:01:55 2014 -0300

    Safely translate button labels

commit a9d6f57bce4f64cc22960bbf5aaa0daf3790ccac
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Oct 21 23:14:19 2014 -0300

    text_with_links is a sink as well

commit dbd2c887b6f4b19ec7405e4f18eb56b28fa819b9
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sun Oct 19 10:41:23 2014 -0300

    Make sure taglinetext and updated_author are escaped

commit 29efd22f89db66fdc0da8c21b056c71a2aef0803
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sat Oct 18 06:54:09 2014 -0300

    websafe() the output of _() if it's to go go through unsafe()

commit 259830cea7b70dd7f72bae0b15ddbf924a09c260
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sat Oct 18 02:10:29 2014 -0300

    Add JQueryResponse.set_text for when set_html isn't correct

commit 91b8a46a836932277cf8705475577ca794fe1f32
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Oct 21 21:50:00 2014 -0300

    Sanitize translation-specific CSS

commit 1acdcd663ee9a950c6b8e3768f744807e2e22eaf
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Oct 28 13:26:41 2014 -0700

    Fix mixed content
    
    Mixed content was causing https errors.  Needed to make sure image
    previews were included as protocol relative.

commit 3733ae35913df93084d0f02b60830581f0ca4ea8
Author: Noah Kissinger <github@noahkissinger.com>
Date:   Fri Sep 12 16:11:28 2014 -0500

    Clarify blank score notes in user preferences
    
    Changed ambiguous 'blank for none' to the more descriptive 'leave
    blank to show all (submissions/comments)' for the score thresholds

commit 0812370da3df208b3626ce5dac531e87bd04d20b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Oct 28 15:42:32 2014 -0600

    Fix imgur check for disabled domain listings
    
    The current method of checking whether the domain is from imgur for
    disabling vote listings (and displaying the notification about them
    being disabled) is slightly incorrect, and causes (generally spam)
    domains like iimgur.com or 1imgur.com to get caught as well.
    
    This changes to use the is_subdomain() function from utils to prevent
    false positives from the check.

commit d1cfe9db0482b8ef48d2bd36f997bf2386345e54
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Oct 29 18:09:55 2014 -0600

    Fix handling nonexistent welcome message templates

commit 51e19e06c9b2895f2f8ee0e3498084127aa93140
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Oct 24 16:12:26 2014 -0600

    Add hook for self-post/comment edit

commit 767d8d88a0ed18a9b167cf20ed0cfae418ce81fe
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Oct 30 10:22:54 2014 -0700

    New windows pref: disable default-on for phones
    
    See 0b7deff for some background.
    
    This ends up being particularly annoying on phones, so we're changing the
    default back for them.  An overall revert or an inclusion of tablets are both
    stil in the cards, but for right now we need to fix this.
    
    This affects both the desktop site and .compact.
    
    @umbrae gets the credit for writing this; I just tested it and am committing.

commit 85751e50899a6b7ec916d4045b254ca580caa665
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Oct 24 11:31:07 2014 -0700

    Modqueue: add reply button to comments
    
    [A suggestion][0] from /u/rotorcowboy.
    
    `printablebuttons.html` contains logic that supresses the reply button for
    comments that show up on profile pages.  This appears to have incidentally been
    included for the modqueue, per 0fe8f70 and prior code, so I just removed it and
    massaged a few other things to make everything work.
    
    This also adds comment reply capabilities to the various modqueue-like subpages
    (reports, spam, edited).
    
    [0]: http://www.reddit.com/r/ideasfortheadmins/comments/2ju3dg/add_a_reply_button_to_comments_in_the_modqueue/

commit 0b7deffd56fbf636eb39a839a9e3fc34edb1ef01
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Oct 15 13:02:46 2014 -0700

    Prefs: allow defaulting to new window opens
    
    In general, non-power users tend to not open links in new tabs.  This provides
    problems for sites like ours, since we end up with a very high bounce rate -
    people click on a submission link, end up on some other interesting site, and
    forget all about how they got there.  If that link instead opens in a new
    window (tab), that problem is solved.
    
    This is a pretty common behavior on link-aggregation sites, eg Google News.
    
    We definitely don't want to change this for existing users, because that
    creates a very confusing change.  Additionally, we're not sure if we will want
    to keep this around for everyone, so rather than change the default and
    backfill preferences, we're just setting it for anonymous users and new user
    registrations - wrapped in a feature flag for easy alteration.

commit 078e5e78806a4bb7113a5c3b5f7fc1cbe67b2b7b
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Oct 28 12:03:04 2014 -0700

    validator: Protect from ValueError in VCommentIDs.

commit 884deaecfd741af715f2b513b6f956b4a7c31e9c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 25 18:46:46 2014 -0400

    Add pixel and click redirect server.

commit 109a1d311d481eafb2179082bd96815e75310c06
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 9 02:06:44 2014 -0400

    install-reddit: Add libpcre3-dev for traffic scripts.

commit 356fb09b1f711c57ed587255bb734d6e05433b5d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 30 16:34:04 2014 -0400

    Use parent's author as "to" user for mod replies to modmail PMs.

commit 2aa52e8aa5030fa71ed0e0c4f94feeff7048d7da
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Mon Oct 6 18:13:20 2014 -0700

    Update nonrevenue status list for gold

commit 8e111eee4fe22e664d9c217c9373274e91e323a6
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Oct 27 15:36:29 2014 -0600

    Add body property to Link
    
    This is mostly for convenience, since there are quite a few places where
    we need to do a check similar to:
    
        if isinstance(item, Comment):
    
    to determine whether the item's "text" will be in .body or .selftext.
    This will allow us to just always use .body regardless of type.

commit 2b0ddd61465bef80b88302975becc63137d13cdf
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Oct 22 13:04:52 2014 -0600

    Allow admins to access deleted user pages by name

commit 50abf0b4a5f5cc96e1adbbf9e27ef3a174271d9c
Author: joshua stein <jcs@jcs.org>
Date:   Fri Oct 24 19:24:49 2014 -0500

    compact view: give link urls "may-blank" css class
    
    makes external links open in a new window when the user preference is enabled,
    like non-compact view
    
    Closes #1160.

commit f701b678799905506bc5ade9149ade336824259c
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Oct 16 14:43:23 2014 -0300

    Handle backslash trickery in VDestination

commit 5a2250c2bd89b2d9c4518bf8148f660748df4cc4
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Oct 23 16:58:16 2014 -0300

    Whitelist publicly-visible attributes on private subreddits
    
    This plugs a hole where you could get the number of subscribers
    of a private subreddit. Thanks to /u/GoldenSights for the report
    
    Previously a blacklist was used to drop private attrs,
    but a whitelist is less likely to result in info leakage when
    new attributes are added.

commit fa0a371d42fb4d0229fbe6c44b1dbdc792befb5c
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Oct 23 14:41:46 2014 -0700

    Pad submit buttons
    
    I noticed that in Chrome, some of our buttons had no padding at all, which made
    them look terrible.  Others, however, were fine.  This turned out to be a
    different between `<input type="submit">` and `<button>` elements.  The easiest
    place to see this was comparing the save buttons on `/prefs` (ugly) and any of
    the other preferences tabs (pretty).
    
    In `reddit.less`, we reset the margin and padding of a whole bunch of elements
    to be 0.  `<input>`s are in this list, although `<button>`s are not.\*  Thus,
    no padding.
    
    Now we set the padding `<button>`s and select types of `<input>`s.  I chose the
    rules from what Chrome automatically applies, since that seemed like a
    reasonable default.
    
    Firefox notably ignored the `padding: 0` before, and continues to ignore
    whatever I set, with the result that it looked good before and still looks
    good now.  Whatever.
    
    ----
    
    \* I decided not to add a reset of button margin and padding.  Padding we now
    set again to something useful, per this commit, but margin could have effects
    across the site that I didn't want to track down.

commit e276a9dbd7d23051908071599432dab75a34e246
Author: Neil Williams <neil@reddit.com>
Date:   Thu Oct 23 11:58:01 2014 -0700

    Websockets: add metrics for connection time and failures.
    
    This should hopefully give us better insight into how sutro's holding up
    from the client perspective and potentially allow for earlier alerting
    on failures.

commit 94e7b31c45e6207c3eb3d76795d173a71cac29fa
Author: Roger Ostrander <reostra@reddit.com>
Date:   Mon Sep 15 14:02:24 2014 -0400

    Details:  Allow 'listing_only' for AJAX purposes

commit 18e59c5c538049a9e7317cc78e6cbbf91355d36f
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Oct 21 14:23:57 2014 -0600

    Add features/benefits link to gold remaining box

commit 59fe54f754c988b987b92c67c67e0fc5c64c6d45
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Oct 21 12:30:05 2014 -0600

    Send gold intro message to users claiming codes

commit fbfba84cc774f1572851599bb2a957413823ba77
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Oct 22 12:18:49 2014 -0700

    Redirect /r/ to /subreddits
    
    This was [a user suggestion][0].  If you are familiar with directory paths,
    you'd expect to see an index of subreddits here (one step up from each
    subreddit page), but right now it's just a 404.
    
    Technically it has not necessarily been a 404, since it will redirect to the
    thread with id `r` if it exists.  However, this particular thread doesn't seem
    to exist on the live site, and I don't think removing the short path to it is a
    big deal, anyways.
    
    [0]: http://www.reddit.com/r/ideasfortheadmins/comments/2jxqgb/why_is_wwwredditcomr_a_404_page_it_should_be_a/

commit c585f36699f3b175ba5a738bb4b86de8ba69e2d1
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Oct 21 12:47:53 2014 -0700

    Post submit: reinstate disallowed type feedback
    
    We got [a bug report][0] that attempting to submit a link to a text-only
    subreddit (or vice versa) was failing silently.  This turns out to have been an
    unintended consequence of 5da814b.
    
    Somewhat unintuitively, `JsonResponse`'s `has_errors()` method modifies state
    in the response object; if one of the errors you tell it to check for is found
    in the global `c.errors`, it caches that determination in an instance variable.
    This variable is then what's looked at in `make_response()`, which is called by
    the `validatedForm()` decorator we put on the endpoint.
    
    So, when we return early from a controller without making the appropriate
    `has_errors()` call, the error doesn't make its way to the end user, and that's
    exactly what was happening.
    
    This change addresses the immediate issue by ditching the `sr` check entirely
    and instead relying on `VSubmitSR` (and checking for all the errors it can
    add).  However, the larger problem of flow and unexpected state mutation is
    still there - mostly because I'm not sure how to go about dealing with it.
    
    [0]: http://www.reddit.com/r/bugs/comments/2jiwsb/there_is_no_user_feedback_when_you_attempt_to/

commit 0ac34eebb5c578796b9e307ae71f16fbe05fb91f
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Oct 17 11:52:15 2014 -0700

    Fix subtree being removed on comment delete

commit 031e9e07373c03afc16a3a70e1217d35a036953f
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Wed Oct 15 15:18:40 2014 -0700

    Fix login not reloading the page when hash in url

commit 4aaf92d81a52e025cf677b750cfb911bb871ac6f
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Thu Oct 16 16:22:14 2014 -0700

    Fix distinguishing using the wrong template in certain contexts
    
    The api endpoint for distinguishing needed to take into account
    whether or not the page was a "profilepage" in order to use the
    correct template.

commit d430a0ddecf2fa93f689149512ff9051992a6bce
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Fri Oct 17 11:07:15 2014 -0700

    Fix js error when deleting a comment

commit cf86805d7fcc03aa2b6ea72adffa1744522098d7
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Oct 20 16:56:22 2014 -0700

    Fix framebuster missing dependencies

commit 8c4ff5e53412216e7229a7a71cca24994a07c7f7
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Mon Oct 20 15:44:01 2014 -0700

    Fix framebuster/mobile toolbar with new bundles
    
    This fixes a regression introduced with
    80530b6637f2b8d10a26c297e67b59aebb0a875d.

commit 7d338cf3b961072405e5b32f028de4e5fbfae904
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Oct 20 11:46:01 2014 -0600

    skip_inbox: fix for modmail

commit 92815bb620b59e5a1c2c760f6991c1eaccb2f2cf
Author: David Wick <wick.d.spencer@gmail.com>
Date:   Tue Oct 14 17:53:38 2014 -0700

    Add jquery/html5shim directly to bundle.
    
    Also removes "load core JS libraries from reddit servers" as
    a preference since it is no longer needed.
    
    Using the google cdn for jquery adds very little benefit, see:
    http://statichtml.com/2011/google-ajax-libraries-caching.html
    and
    https://github.com/h5bp/html5-boilerplate/pull/1327

commit b80544e7617217c135784f80713ab69730f59c36
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Sep 22 17:45:19 2014 -0700

    Messages: add full comments link where appropriate
    
    Adding "full comments" links has long been a feature of RES.  In 2011, [we
    added it natively to profile pages][0], but despite [the prediction][1], never
    added it to inboxes as well.
    
    Now we have!  If you view a comment reply or post reply message, you'll see a
    nice shiny "full comment (n)" link, even without RES!
    
    Per discussion with honestbleeps, the full-comments class exists solely to
    allow RES to determine when not to add a duplicated link.
    
    [0]: https://github.com/reddit/reddit/commit/c59bca136ff715c68dd74668a5684ae81e665184
    [1]: http://www.reddit.com/r/Enhancement/comments/kakch/announcement_seeing_double_full_comments_links/

commit ab864a113a8d7ab8c317d54e030a9b355448ccec
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Oct 15 11:51:11 2014 -0600

    Contest mode: use default collapse threshold
    
    This prevents people from determining the scores of comments in a
    contest mode thread by repeatedly changing their "don't show me
    comments with a score less than" preference and noting the points at
    which different comments are auto-collapsed.

commit 1c0d443e83763024ef7beb64c886b0d85b580f9b
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Sep 16 20:24:16 2014 -0300

    Add a JSON template for UploadedImages

commit c6bb984f0efa53126b5af3e533c021858e1f36f3
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Oct 9 23:12:10 2014 -0300

    Redirect HTTPS-forced API requests if absolutely necessary

commit f373e3cbda3866486c67d33be0a4ecf4107447bc
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Oct 8 20:17:23 2014 -0300

    Refactor FlairList and related endpoints to use a Builder
    
    Previously, these endpoints choked when they hit a page that was
    completely empty, either naturally or because it was full of deleted
    users that got filtered.

commit 1f49a8a9b2ac551f9780f1dce042bea695af4052
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Oct 3 14:56:25 2014 -0700

    Add hooks to modify Twitter Card attributes
    
    We'd like to customize the Twitter Cards for certain subreddits - use an app
    card for /r/IAmA, maybe an embed card for picture/video-heavy subreddits.  This
    allows us to write hooks that can do that.

commit bd8e12c18c9eb3c3c87432b084e7c6ac47ae803d
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Oct 3 11:40:29 2014 -0700

    Hooks: add a little bit of user documentation
    
    I wasn't sure how the system worked, so I poked around a bit and came up with
    a description, with a little help from Neil.

commit 90bbdc18851a00f6a3b3ec0cf5312e5db780e6c2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 9 06:41:09 2014 -0400

    Let sponsors geotarget collections.

commit 1b4b528ecac0359a654c28c2ac1efc4405d88c8d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 5 22:17:49 2014 -0400

    Move geotargeting into general inventory methods.
    
    Also add inventory predictions for geotargeting to collections.

commit e6ecc6a01fa9f0876fef1605244a01af796b4433
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 9 07:09:04 2014 -0400

    StripeController: Add noop event 'charge.dispute.funds_withdrawn'.

commit 89dcca6bfa3109d4ce6153d120b63228efbbc1f9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 9 17:51:25 2014 -0400

    Show the correct max length for comment edits.

commit c674c65f158733190393109c0a8577c5d9746c51
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Oct 10 14:16:32 2014 -0700

    Search box: adjust tabindex
    
    Adding a search submit button affected the tabbing behavior in the search box -
    namely, it now began to take two tabs, rather than one, to get to the "limit my
    search to /r/whatever" when on a subreddit page.
    
    This changes add an explicit ordering: search text -> limit my search -> submit
    button.  While this adds an extra tab to get to the submit button, that's not
    really necessary, as pressing enter anywhere on the form also submits it.
    
    There are many elements on the page with tabindices defined.  However, with the
    exception of the "jump to content" link, they seem fairly random, so I'm not
    terribly concerned about adjusted the overall index of the search form (that
    is, how many tabs it takes to get to it from a freshly-loaded page).  It is
    roughly in the same place as before - far enough down no one will want to tab
    all the way to it. :)

commit b780ac98a3bb2ba7f7d48806a9fea996275b33cc
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Oct 10 11:15:41 2014 -0700

    Consistently use CSS prefixes
    
    When browsers first introduce support for new CSS features, they often do so
    with a *vendor prefix* - `-moz-` for Firefox, `-webkit-` for Chrome and Safari,
    `-ms-` for IE.  It's annoying to deal with all of these, so we've written a few
    Less functions to help.
    
    Unfortunately, we haven't consistently used them.  This is most evident in how
    the search box looks wonky to people using older versions of Firefox, because I
    didn't use the `-moz-` prefix to `box-sizing`.
    
    From a quick search, it looks like the only two functions we didn't use all the
    time are `.transition` and `.box-sizing`; this should change all un-functioned
    instances over.  This shouldn't affect a huge percentage of users, but it's
    easy enough to do.
    
    * http://caniuse.com/#search=transition
    * http://caniuse.com/#search=box-sizing
    
    Fixes #1146.

commit 3d284bc8c026eee53e00ffa65ac8418cbfed89b1
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Oct 9 16:07:09 2014 -0700

    OAuth2: Save http links to client.icon_url

commit 11ac18a77a6473d930ef3aa1174128e467c88832
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Oct 9 15:16:36 2014 -0700

    OAuth2: Fix app icon uploading
    
    - App icon changing is on an SSL page, so it should set
     an icon_url with https
    - Use a unique name based on contents, to avoid CDN caching
     issues

commit 55f8e664412b4afdf4fe954f4b515b9c897b4a4e
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Oct 8 17:16:27 2014 -0300

    Builders: Try not to fetch batches smaller than `self.num // 2`
    
    This was causing issues with listings that had large clusters
    of private things

commit 267b3f62ef72189972ba68513e7a76acdef06e63
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Sep 4 19:39:18 2014 -0300

    Fix listing afters when we gave up trying to fetch a full listing

commit da249e84591e8811c97b1d5a11d443df80da0402
Author: Neil Williams <neil@reddit.com>
Date:   Thu Oct 9 12:07:35 2014 -0700

    static build: Put nymph output in css/ subdirectory.
    
    This keeps nymphified and unnymphified LESS inputs in the same location
    so that "../whatever.png" references work with uncompressedJS true or
    false and we can use the LESS `data-uri` function.

commit f5f4ec9a67d816a46ff5474b1629979276eeb968
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Oct 7 18:30:43 2014 -0700

    Search box: search icon, and other improvements
    
    This incorporates a number of changes to the search box, as suggested by
    Jennifer:
    
    * Add a search icon to allow click-to-search.
    * Slightly shrink the search text.
    * Change the search text from "search reddit" to just "search".
    * Add more padding.
    * Remove the now-redundant search button on the search results page.
    
    It also adjusts the login box style to match.

commit 6c5d5eb8beb89819aea66ebd139f31d34e0ca107
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 8 04:01:53 2014 -0400

    add_trackers: Also encode the tracking_name.

commit 78631fa746b3246a7b9b8e24f33917862198bde1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 8 03:28:40 2014 -0400

    Properly encode arguments for click tracker.

commit 4a8f923c2519c7d2346c6e16f032570ec57a3e06
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 7 23:39:26 2014 -0400

    Add click tracker for promoted link comments page.

commit e51679c077f14eeccc37907263ad29cd775de0f8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 7 23:39:01 2014 -0400

    analytics: Remove some old client-side tracking stuff.

commit f278ecaa8c884f7f3525c3d8bb1e721a37346686
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 7 23:37:57 2014 -0400

    add_trackers: skip items that aren't promoted.

commit 4bd2eb6ab83f541dd3edc6888d08c464af6f4a04
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 2 16:03:59 2014 -0400

    Remove support for old click and impression hashes.

commit 886af867d08627b1eb1e8353c745f34f1cf12770
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Oct 1 12:58:13 2014 -0700

    Feature: make user check case-insensitive
    
    Since we're doing it for subreddits, we might as well for users, too.  It's an
    easy mistake to make, so let's prevent it if we can.

commit c180c8a533ff7c055aae7d34694788b11f89ef8d
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Sep 30 17:05:36 2014 -0700

    Feature flags: add subreddit filtering
    
    Just like turning on a feature for only certain users can be useful, so can
    turning it on for only certain subreddits.  In particular, this allows us to
    get a little bit of the functionality of a full A/B suite without doing
    terribly much work.

commit 3132cb330c4e731ae2713aee1aab33d254d83aad
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Oct 7 14:22:15 2014 -0700

    Search box: fix right alignment
    
    The containing div for the search box is 300 pixels wide.  The search box has 1
    pixel of border and 2 pixels of padding.  Since the padding and border are on
    both the left and right sides, we get 300 - 2 - 4 = 294px as the ideal width of
    the box.  However, it *has* been 295, which causes a very slight alignment
    issue with everything else in the sidebar.
    
    Using box-sizing includes the border and padding in the width calculation, so
    we don't have to do these sorts of calculations in the future, which is ideal.
    Now things should look ever so slightly better. :)

commit 1e33ab77e807100fd20136961e8b044f03e1a846
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Oct 2 11:07:41 2014 -0700

    Security prefs: consistencize periods
    
    I just noticed this while poking around and thought, well, we might as well
    make things consistent.  Ending punctuation and lack of leading capitals seems
    to be the standard in this file (and somewhat through preferences in general).

commit b3d35f20d9a92d9394252e832b3a9acd03b98a8f
Author: Neil Williams <neil@reddit.com>
Date:   Sun Oct 5 23:47:16 2014 -0700

    example.ini: Add some missing options and tweak documentation.

commit 84d6d0e9c2f30437919df94d4925739a2579c2bc
Author: Neil Williams <neil@reddit.com>
Date:   Sat Oct 4 00:26:16 2014 -0700

    example.ini: Move min karma stuff to thresholds section.
    
    For consistency.

commit 1cb164fc3b3ad6e4ced70341774355dea256f1f5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 7 14:29:58 2014 -0400

    SubredditTraffic: remove links to old DART ads.

commit 0a672876845f856916fef68ce2b2b6c4e575d19d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 2 02:47:59 2014 -0400

    tracker: Delete unused adtracker_url.

commit 4a9d7457bdfd0727fce3506a7ec3200d46996a4d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 12 10:44:29 2014 -0400

    tracker: Use constant_time_compare for hash check.

commit 2a5fbc1482932df3d069238a6f53b16ed7328bf7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 2 16:21:08 2014 -0400

    Start generating new style impression and click hashes.

commit 5a012fb789738e9ee1580afc6d90a935baae860e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jun 11 18:49:30 2014 -0400

    Support new click and impression hashes that don't include IP.
    
    Support new and old style hashes in verify.c and the click redirect app,
    but only generate old style hashes.

commit 81c3393892ad2cf4185ac33970504278176458af
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Sep 29 12:06:42 2014 -0300

    Avoid requesting precached votes for unvoteable things
    
    Looks like this code got a little wonky when it got reorganized in
    de8c02167a208bbb918eb2bbc8510b3d26063404 , after that commit
    precached votes started being fetched even when a builder passed
    in a list made up entirely of unvoteable things.

commit 93bbc25d52445b821f5d4227aa390faab2dbd4d9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 7 10:17:16 2014 -0400

    POST_submit: return after already submitted redirect.

commit 8af5afbbb3c7710055de2fcd49e7594b68c4bd7e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Oct 6 13:06:31 2014 -0400

    VMarkdown: include text2.

commit 39445c9afa4ae2fb89778f2deaa1c7285fad6823
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 1 12:06:42 2014 -0400

    Exempt admins from selftext length limits.

commit a6a29d545d43484816c8b2a65c4383f9723897a9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Sep 28 11:27:05 2014 -0400

    Delete unused save functionality from POST_submit.

commit 5da814b38c3596996e5c7124106934dec8018167
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Sep 28 11:26:40 2014 -0400

    Clean up POST_submit.

commit a125951fce1e31e5a2319a0a8230c6e396d6bcbf
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Sep 28 09:34:01 2014 -0400

    Create separate VMarkdownLength validator for length checking.

commit 7d9377478146ff7d01d247cc5fe5584497684320
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed May 28 14:09:52 2014 -0700

    setup.py: Pin requests version to <1.0.0
    
    The requests lib changed significantly and incompatible to
    our usage in version 1.0.0.
    
    (Specifically, response.json became response.json())

commit 452cca5a32b127eff63efeca20e8878f0833aa86
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jun 17 17:16:03 2014 -0700

    API: Add gold_expiration to /api/v1/me

commit 42d812eeffa548b9f49162f83f43d60320c3ddde
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 1 10:43:57 2014 -0400

    Create a system for handling promoted link prices.

commit e6ead30e26c6f1daa053b772ac7672057a452ac3
Author: umbrae <umbrae@reddit.com>
Date:   Fri Aug 29 11:24:49 2014 -0700

    Eventinate login/register popup and submit

commit 2dc4ff9dcb8af0d10d749f39c5f2918ecdf94f13
Author: umbrae <umbrae@reddit.com>
Date:   Mon Aug 11 19:27:38 2014 -0700

    Add helper function for GA events

commit ba77088ab10e97274a260038b23e2b357ee18ffd
Author: umbrae <umbrae@reddit.com>
Date:   Tue Sep 16 07:48:59 2014 -0700

    Remove link_og_data feature flag, enable all logic

commit 5305984dffde44392c7f8283fcf764b74c4bc7ae
Author: umbrae <umbrae@reddit.com>
Date:   Tue Sep 16 07:46:29 2014 -0700

    Remove search_auto_restrict_sr example flag

commit 0a5b26c1610963d7a9a05cafd096934d2b519d2c
Author: umbrae <umbrae@reddit.com>
Date:   Thu Sep 4 16:31:52 2014 -0700

    Small improvements to comment-page og_data
    
    Conflicts:
    
    	r2/r2/lib/strings.py

commit 01624296c0c03899fecb3867c310d14948c0f02d
Author: umbrae <umbrae@reddit.com>
Date:   Mon Aug 11 19:28:08 2014 -0700

    Add share box open/close events

commit ffc6779d2ed3da7943a4b76385296dca8e34196a
Author: umbrae <umbrae@reddit.com>
Date:   Thu Sep 18 03:14:07 2014 -0700

    Add AMA App link to footer

commit 338ae41385b04a8394d828d26faf190634b6a1cc
Author: umbrae <umbrae@reddit.com>
Date:   Fri Sep 19 23:44:13 2014 -0700

    Ads: update info text for thumbnail dimentions

commit 5a7ca500b8c630f125a04ed35bf810aec8872c03
Author: umbrae <umbrae@reddit.com>
Date:   Thu Sep 18 05:29:26 2014 -0700

    Inbox counts: Show and update unread counts on read/unread

commit 08cf4984a700f3d667eff0d4f08745337370a2a2
Author: umbrae <umbrae@reddit.com>
Date:   Thu Sep 18 07:38:07 2014 -0700

    Inbox counts: Add mark all messages as read
    
    Conflicts:
    
    	r2/r2/lib/js.py

commit f3f739ae2b0fe0e5c2f7233c90103489be645b9d
Author: umbrae <umbrae@reddit.com>
Date:   Thu Sep 18 01:19:04 2014 -0700

    Inbox counts: Make count a link

commit 958022095c30b17348f149658abd78c6b2ff5c5c
Author: umbrae <umbrae@reddit.com>
Date:   Fri Aug 8 20:27:30 2014 -0700

    Inbox counts: Stop reading from and remove reliance on msgtime
    
    Conflicts:
    
    	r2/r2/models/link.py

commit 14ed64a94005f8bfe74c3789b5ee60ff27b7619f
Author: umbrae <umbrae@reddit.com>
Date:   Fri Sep 5 01:11:06 2014 -0700

    Inbox counts: Do not verify when db_writes are disallowed

commit a2e063b4ec1098f38f9dd7c2345f9e0f768fa125
Author: umbrae <umbrae@reddit.com>
Date:   Thu Sep 4 09:29:50 2014 -0700

    Inbox counts: only unnotify links and comments on remove.
    
    Modmail messages can also apparently use POST_remove, as they're
    associated with a subreddit. This wasn't effecting inbox counts, but it
    was throwing a 500.
    
    Conflicts:
    
    	r2/r2/controllers/api.py

commit 93cde4f34876825a7dc91cf6c13b557ddbb1e833
Author: umbrae <umbrae@reddit.com>
Date:   Fri Aug 29 15:46:31 2014 -0700

    Inbox counts: Do not allow inbox_count to fall below zero

commit 73cbea8cdd165ea4e9ee995409e8dfc1e38cc38f
Author: umbrae <umbrae@reddit.com>
Date:   Fri Aug 29 15:22:59 2014 -0700

    Inbox counts: fix drift on an empty inbox view

commit ee5ea8ca3cac3a7354a3e87711515ad8fcf3b1af
Author: umbrae <umbrae@reddit.com>
Date:   Fri Aug 22 20:33:32 2014 -0700

    Inbox_counts: corrections on deletes, spams, edits
    
    Conflicts:
    
    	r2/r2/controllers/listingcontroller.py

commit aad94d3f80973950d96c9eb5c420f8ab0ee8321c
Author: umbrae <umbrae@reddit.com>
Date:   Mon Aug 11 11:21:53 2014 -0700

    Inbox counts: fix typo in backfill script

commit 09c98d6ddef747d7d0b0e4acdcd9fb4e05c4a73e
Author: umbrae <umbrae@reddit.com>
Date:   Fri Aug 8 14:40:45 2014 -0700

    Inbox counts: Add dark unread counts badge, start writing to inbox_count

commit 327a5dc301851fd13fe19b8f6b8d0aed608397fd
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Tue Sep 30 16:51:21 2014 -0700

    Fix OSX+Vagrant Captcha module loading problem

commit 0ad89d1abbb60f401fcb0c20ad62529869ed901b
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Wed Oct 1 12:05:24 2014 -0700

    install-reddit: Domain configuration for .update
    
    Added automatically updating the domain field in development.update
    based on what is specified via environment variable to avoid
    inconsistencies.

commit b1f89ec6536484f57f3d3da96966ad0f0370e21c
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Wed Oct 1 11:32:45 2014 -0700

    install-reddit: Make idempotent
    
    These changes make it so the install-reddit script is mostly self
    healing and can be run many times in a row on the same machine. This
    allows for more rapid iteration on development of the build process and
    also easier updates for end users.

commit 89dc44baf5cef87340bcb904f33b7d270e0b2862
Author: Robert Ditthardt <drew.ditthardt@gmail.com>
Date:   Wed Oct 1 11:42:47 2014 -0700

    install-reddit: Add REDDIT_PLUGINS variable.
    
    This variable is used to tell the build system what plugins to clone and
    register with the make process. It also works when the plugins are
    already cloned and have local modifications.

commit 48d93ce162b1bd3835b597295653f1977afbf87f
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Oct 1 23:24:07 2014 -0600

    Revert "Feature flags: add subreddit filtering"
    
    This reverts commit f41d0ad229f3a38b1a567685519540ac340f5489.

commit cd9e96abdbd4d32ddf4fd7f49be8fe45296e4392
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Oct 1 23:24:03 2014 -0600

    Revert "Feature: make user check case-insensitive"
    
    This reverts commit aac14d4d84b52bec3f57a402852daeccc5c8c21f.

commit aac14d4d84b52bec3f57a402852daeccc5c8c21f
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Oct 1 12:58:13 2014 -0700

    Feature: make user check case-insensitive
    
    Since we're doing it for subreddits, we might as well for users, too.  It's an
    easy mistake to make, so let's prevent it if we can.

commit f41d0ad229f3a38b1a567685519540ac340f5489
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Tue Sep 30 17:05:36 2014 -0700

    Feature flags: add subreddit filtering
    
    Just like turning on a feature for only certain users can be useful, so can
    turning it on for only certain subreddits.  In particular, this allows us to
    get a little bit of the functionality of a full A/B suite without doing
    terribly much work.

commit eb9f0ae0e355833ca1cb848e8fad180d99bdca5f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Sep 28 15:04:01 2014 -0400

    PromotionWeights: speed up queries by using `distinct`.
    
    The queries are used to find the ids of PromoCampaign or Link objects
    and we don't need the many (one per campaign per subreddit target per day)
    PromotionWeights objects.

commit df7779971cb7f4b7047687db1c9d70ab7c9ebcae
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 30 17:23:42 2014 -0400

    BlockedSubredditsByAccount: fix is_blocked method.

commit 0063ea62d458b8a56553d9ac700571698cefa04f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 30 15:34:59 2014 -0400

    Message: Don't crash if Inbox exists.

commit ff878cc097f732534b687d9089a08583ce881f98
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Fri Sep 19 15:54:04 2014 -0700

    Add Twitter Card support for subreddit listings
    
    More pretties more places.
    
    As with the previous Twitter Card work (1c6df70), this relies heavily
    upon the OpenGraph work done earlier in 726d9be.

commit 67520830b8accb1929ffc6152506d34fce00e7f5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 29 03:36:31 2014 -0400

    notify_user_added: Send modmail messages to modmail.

commit e7f4852e55eeeabe2df275ef8563290d249969cd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 29 02:24:26 2014 -0400

    Always update inboxes of non-mods involved in modmail conversations.

commit 6dc2472f24e821ad2b3ef5f8b736309948742bb2
Author: Jack Kingsman <jack.kingsman@gmail.com>
Date:   Mon Sep 29 16:42:27 2014 -0700

    Correct viewport meta tag syntax

commit ff5e5e0f8aa263e31ecb4b1c9d1c737ac3868ae1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 29 07:40:31 2014 -0400

    Let users block messages from subreddits.

commit f364778d7f933843003f73263ecd86aca06148e2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 29 05:50:00 2014 -0400

    Disable sending messages from banned subreddits.

commit 0e276784164fd4f5a68f455316e9faf7f21c9401
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Jun 10 11:17:55 2014 -0300

    /widget: Use an acceptable callback for the .embed preview

commit 670550d26c250a335ac4a3baefb798d966647591
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Fri Sep 5 17:29:12 2014 -0700

    Add creddits to gold checkout.

commit e0ebb019856756af56324220b097f44ec3528214
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 29 00:31:36 2014 -0400

    Revert "Let subreddits PM each other."
    
    This reverts commit 636f1bbdd8960d0b261f8c698fc13955b423c43d.

commit c660010201a481fe605cb0b3b2ab3938a86902d2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 29 00:31:24 2014 -0400

    Don't let subreddits message each other.

commit b9527f3d81b4b46b22d3df9c7a2a9035d05f2c0b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 29 00:08:06 2014 -0400

    Disable "block user" when the message is from a Subreddit.

commit 6be92f1ba3162fd0b2fa025b96198f0262cb3e6a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Sep 28 22:42:12 2014 -0400

    ModeratorMessageCompose: Sort the subreddits.

commit 636f1bbdd8960d0b261f8c698fc13955b423c43d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 25 15:14:41 2014 -0400

    Let subreddits PM each other.

commit 57de68022e9817585f21323d1c4225a2909804ee
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 23 15:03:44 2014 -0400

    notify_user_added: Don't add message to subreddit inbox.

commit 44cf1d7f4e7ac2413f2f7bf6d2b1ca158a7a9d88
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 23 14:47:56 2014 -0400

    Include messages from subreddit in subreddit's inbox.

commit 41c345ef73d2c5f6d73418fa5f3c82fdfa7c2451
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 23 10:06:33 2014 -0400

    Let moderators send messages from the subreddit.

commit 682f1434679bcad2880e31911f655e0e96ea1cc3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 23 09:25:16 2014 -0400

    Remove unused "success" argument from MessageCompose.

commit 054eb8a9c2c950c5d3e83d8aa0468fff0cadf922
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Sep 28 21:46:21 2014 -0400

    ModAction: Don't show deleted usernames.

commit 0faba70ba820316685c21c3e83bd4c63dfd4382d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 22 20:08:18 2014 -0400

    Show target username in modaction XML template.

commit 19aaef4d6a72024d65459e5a39e7653c64f39efa
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 22 14:32:34 2014 -0400

    Add target author to ModAction json template.

commit d45a91d42ab2d0b2379d4a2b66d1cd40ddabe1c3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 22 14:31:51 2014 -0400

    Clean up ModAction templates.
    
    Don't inherit from Printable and stop using the Thing-centric
    Builder.wrap_items.

commit 3b7b74148558168d2948782dd138112c77d13fc2
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 25 16:06:59 2014 -0700

    2FA: Add `issuer` to QR code.
    
    This allows auth apps (like Google Authenticator) to indicate the site
    the token is for more naturally.

commit 9dede4ff967397ece98d18342d76fd6299b08173
Author: Neil Williams <neil@reddit.com>
Date:   Wed Sep 24 13:25:52 2014 -0700

    Factor out NSFW stamp to utils.html.

commit 2d7ee122f3fa68362aacca2f90f616542877f61d
Author: Neil Williams <neil@reddit.com>
Date:   Wed Sep 24 12:18:57 2014 -0700

    Query cache: fix reading of precomputed queries.
    
    The index mangled keys weren't being accounted for properly, this allows
    precomputed queries to be properly read.
    
    The dangers of writing code that isn't actually in use. :(

commit a0f612b1a3f1ddb93d306051c85201066f1e0efe
Author: Neil Williams <neil@reddit.com>
Date:   Wed Sep 24 12:17:01 2014 -0700

    Query cache: add support for writing precomputed queries.
    
    Precomputed queries are ones that get generated by a batch job of some
    sort as opposed to being updated in-place.  These queries have a
    slightly different (and more complicated) write path that wasn't yet
    implemented.

commit 66cda08637e7963c2ef88d4449974eb705a53506
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 25 10:24:05 2014 -0400

    Submit report form when user hits enter in the other reason field.

commit 662378abcadc7603c6d014e4783641a5a1e50346
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 23 13:00:14 2014 -0400

    Show promoted link report reasons to sponsors.

commit be6435f9d521242324c1072d0800fcaaae2a268a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 23 00:54:43 2014 -0400

    SponsorListingController: Subreddit._by_name works for Frontpage.

commit 5c42c2cf3705628a4d02484732b5156824eb636c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 22 23:29:50 2014 -0400

    Filter (or show) managed promos in approval queues.

commit 9536cebc850c8e0f67be9033821acc23b77b9a11
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 22 23:12:28 2014 -0400

    Let sponsors tag promos as managed.

commit 5ffc4d7b88354d5ea313263fcddb5908d1308e87
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 22 22:37:33 2014 -0400

    Only show promote status filter on base promoted listing.

commit 67daa15d4f6db579263c0c77c78cd290663bb694
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 22 21:32:00 2014 -0400

    Separate regular user promote listings from sponsor listings.

commit 0ba675376ee99934dd442e68bf5f6c82baf1c041
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 23 00:31:15 2014 -0400

    NamedButton: accept use_params argument.

commit cb20a616df49ab5a39222d5360991874eae88c2c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 22 21:30:57 2014 -0400

    Remove edit_promo_campaign endpoint.

commit 36feb2cbba19fd51e1cdf07fcbe07d1ee4662376
Author: Neil Williams <neil@reddit.com>
Date:   Wed Sep 24 15:47:16 2014 -0700

    CloudSearch: catch ValueError in UrlParser.
    
    We're seeing ValueErrors coming from invalid IPv6 URLs like
    
    http://[somestupiddomain]/
    
    Weird.

commit f963cb725d703d6e0c56b3d77f0c21db4cb6179d
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Sep 22 12:05:10 2014 -0600

    Support certain accounts never adding to sent

commit 0b8075ddb39c491a88ae75999975f52999ca8bb9
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Sep 22 11:52:36 2014 -0600

    send_system_message: support not adding to sent

commit 65cd396e163db7f1c5f22367fc59839657c79464
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Mon Sep 22 12:32:09 2014 -0700

    Send stats timing data as json rather than form data

commit 7cadb91b35155947f46b1c577a82ab65e8e3c91c
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Mon Sep 22 11:49:09 2014 -0700

    Revert "Revert "Send 1% of RUM tracking calls to hivemind""
    
    This reverts commit d5131233e3ea6ba3d55189ccc196f14deabdc2f5.

commit 43f52d67a35aeef4fabf2e076eca40f50c641d9c
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Mon Jun 2 14:56:17 2014 -0700

    JS Styleguide updates for adminbar.

commit 1732e4ec83fe8bc35ce26608242f4cffb3bed05f
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Sep 23 15:13:23 2014 -0700

    Add admin tool to adjust months of gold for user

commit 885e0e3f2aafbccc8ebc1e3450e081256b9771f2
Author: MelissaCole <melissa.engineer@gmail.com>
Date:   Tue Sep 23 15:04:40 2014 -0700

    Move gold_expiration calc into separate function

commit 1c6637645cdd6476c7748ec109d0889d9605923f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 3 04:35:30 2014 -0400

    report reasons: Focus on text input when "other" is selected.

commit c9922819f1f85f8a4727352887d61b0eb3eb4227
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Mon Sep 15 15:29:49 2014 -0700

    Increase line-height for collapsed comments.

commit 1341a7cd3cd207ff7a25aa378b1c728997e29673
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Fri Aug 15 14:46:42 2014 -0700

    Add link to /gilding.
    
    	Add full link and descriptive IDs.
    
    Remove status margin for button padding.

commit 38c127fc203815872667a156d7716f5ee14da7d6
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Sep 22 14:10:00 2014 -0600

    Add collapse_deleted_comments to API/modlog

commit 4996f9153d955f659e10ce8b6751337eb0fd29a7
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Sep 19 12:24:54 2014 -0600

    Report: don't hide if reporter is moderator/admin

commit 83083c442da95906a158caa7eb99a3f0571af31e
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Aug 8 12:33:53 2014 -0600

    ProfileBar: show creddits even if user not gold

commit f4579adbaf6b0880cc8ac630eb4c0b64568f1b94
Author: Roger Ostrander <reostra@reddit.com>
Date:   Mon Aug 11 13:13:01 2014 -0700

    Reports:  Fix crash if 'things' is empty

commit 71c14be38921879590c7ea30ba5f7eca184705ff
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Sep 22 15:34:20 2014 -0700

    Twitter Cards: always show subreddit name
    
    After looking at some usage with real posts, we determined that subreddit names
    are pretty important.  So, we'll always show them now, and truncate the post
    title accordingly.
    
    Although subreddits can have fairly large names (20-something characters), most
    of them don't, so in practice we shouldn't be cutting off much of the title.
    Even in the worst case, it won't be so bad.
    
    For a submission entitled "I don't even know how to describe the stupidity in
    this gif...", before:
    
        I don't even know how to describe the stupidity in this gif... •...
    
    and after:
    
        I don't even know how to describe the stupidity... • /r/reddit_test7

commit 726d9bef8acb2b8d752e1d977c51b0d472cc3a89
Author: umbrae <umbrae@reddit.com>
Date:   Thu Sep 4 17:09:35 2014 -0700

    Add og_data for subreddit link pages

commit 65e169588c1940408db0c6e2e3a49c6e053bd103
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Mon Sep 22 13:56:09 2014 -0700

    OpenGraph/Twitter summaries: don't show nsfw thumbs
    
    When creating OpenGraph (Facebook) and Twitter summaries of comments pages,
    we provide a link to a thumbnail for them to embed.  However, we probably don't
    want to do that for NSFW posts, so now we don't.

commit 9ad54eb9d36b13fbe34e7fc0fb3d82ef01857fdc
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Thu Sep 18 14:17:33 2014 -0700

    trunc_string: split on word boundaries
    
    This makes it so that instead of seeing text like this:
    
        This is a long tit...
    
    we'll get
    
        This is a long...
    
    when truncating "This is a long title".  Usually this is just a minor
    improvement, but occasionally odd truncation can [lead to hilarious
    results][0].  And, y'know, I don't like hilarity.
    
    We currently only use `trunc_string` in a few places, all related to the
    displayed titles or descriptions in Facebook OpenGraph notes or Twitter Cards,
    so the impact isn't too terribly great.  We are now including the suffix in the
    length count, so that might actually fix a bug.
    
    We don't use the `length` parameter by keyword anywhere, so changing it isn't a
    problem.
    
    [0]: http://blogs.hbr.org/2012/07/i-wont-hire-people-who-use-poo/

commit 1c6df70ff7d200be06523d212a28610c399a5531
Author: xiongchiamiov <xiong.chiamiov@gmail.com>
Date:   Wed Sep 17 15:10:18 2014 -0700

    Add Twitter Card support
    
    [Twitter Cards][0] are little snippets of information that get displayed in
    Twitter's feed when a message includes a link.  This pull adds a few meta tags
    to enable this, similar to reddit/reddit@027504a's work for Facebook.
    
    While there is [a Twitter Cards validator][1], it requires pulling the page
    itself, which makes this difficult to test.  We also have to make sure to run
    it through the validator to get approval before it goes live; it's unclear if
    this acceptance process is automated.  The code that adds the Card is protected
    by a feature flag to help with this.
    
    There are [some restrictions][2] on filesize for images, but I don't
    think we want to deal with that one, at least not yet.
    
    [0]: https://dev.twitter.com/cards/overview
    [1]: https://cards-dev.twitter.com/validator
    [2]: https://dev.twitter.com/cards/markup

commit 67a8297895692099dfd0e04a2ff7bb2c5ff20749
Author: umbrae <umbrae@reddit.com>
Date:   Wed Sep 17 00:28:53 2014 -0700

    HiDPI: Images > 70 and < 140 width use non-hidpi dims

commit 03a2784178565f4c9e50645e04b44bd9bfeb9942
Author: umbrae <umbrae@reddit.com>
Date:   Sat Sep 6 09:57:26 2014 -0700

    Add retina-ready thumbnails

commit f791ad0f5af81f8501e726d385b1f7189b66dbb1
Author: umbrae <umbrae@reddit.com>
Date:   Sat Sep 6 09:52:35 2014 -0700

    Add support for tuples of types to ConfigParse

commit 7ebbdc4a8df939a16004c99f6c4b081f17789a01
Author: umbrae <umbrae@reddit.com>
Date:   Wed Sep 17 11:58:12 2014 -0700

    Remove all pretense of button voting actually working.

commit e789493cc9007e51bd05251dd33ee681e11f520b
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Mon Jun 2 14:55:58 2014 -0700

    Move timings out of adminbar.

commit 3302e14c73d629dba093f7eb3eb2fa927b223bf4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 17 00:24:56 2014 -0400

    Make a subreddit setting to collapse children of deleted comments.

commit 3dbe74e457b952c09bd996fb32b19052bcd5c7fc
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 17 00:03:50 2014 -0400

    Collapse deleted/removed comments.

commit 61b04bde619652d11e59fdad72a8874b6ac2c880
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Sep 12 17:28:27 2014 -0600

    Show reports made by mods and users separately
    
    This makes reports by moderators non-anonymous, and shows the name
    of the moderator before their report reason. In addition, it shows the
    number of reports with each reason for user reports, and orders them to
    show the most common ones first, instead of the previous behavior of
    arbitrary ordering (and possibly even not including the most common
    reasons if there were a large number of different reasons).
    
    This commit also adds a temporary deprecation warning for report_reasons
    in the API, which should be removed in a month or so.

commit d8c0fa887aa50d6111e33873342998316a95ab73
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Sep 8 17:23:24 2014 -0600

    Don't hide report button for mods/admins

commit 08fcbf3860911135e043f69cf2aedbf60692ad17
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Aug 28 14:35:28 2014 -0600

    Show banned/deleted state with header style

commit 3b83d236c5318bb6d600c8c7883054fb922c6398
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Sep 3 19:09:27 2014 -0600

    Gilding: track "proxy gildings" in secret column

commit 6cbea2af34d67cffe878fd8c3c0b2a0f663386db
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Sep 4 05:19:48 2014 -0300

    Add CSRF protection to /api/givecreddits

commit db9e6e264e88cd598a60725f0bf83385cf979381
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Mon Apr 21 11:28:55 2014 -0700

    fix utf8/en issues in postgres in install script

commit c86113850fead6c86a3caf2e38424caa90065409
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Jun 20 03:55:48 2014 -0300

    Do CSRF prevention checks at startup

commit 6317f8f3cf513158af3f45622cd3750ea3ae07b6
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Jun 20 03:42:57 2014 -0300

    Mark exempt endpoints and controllers as handling CSRF prevention

commit 4c3b2e33a9d01e02a946ca820629fcc7ec98ba9b
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Jun 20 03:41:44 2014 -0300

    Allow ensuring controllers are explicit about CSRF prevention

commit d7c2798bba7cd794ff9cee4761cba5426eda5852
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sat Jun 7 01:27:44 2014 -0300

    Fix some CSRFs

commit 807d68892d2baac86499471bb0a8801088001922
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Tue Jun 3 10:52:34 2014 -0700

    Add aggregate perf timer for a fast average overview.

commit 7ebc48f5eaa899742eb4f24cb4b3f2aba80cd3c7
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Mon Jun 2 14:56:31 2014 -0700

    Log browser performance data to statsd.

commit 28f48a2bd804a438c9ffbd95d9d3527f9f3492ac
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 16 12:31:24 2014 -0400

    Add a shield icon to indicate mod link submission override.

commit 32e5de36420609e02e02b906f318ba40d38430bb
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Sep 15 23:04:01 2014 -0800

    Do not request gzipped media responses by default.
    
    For some reason, Twitter's image server will sometimes gzip the main
    profile picture found on a tweet page. Since we don't properly deflate
    this gzipped image in _fetch_image_size(), we end up tossing out the
    main account's profile image as a possible thumbnail. Since this
    behaviour only happens sometimes, our scraper eventually finds a
    non-gzipped image it can use, meaning we sometimes snag some random
    person's profile image erroneously.
    
    Example: http://redd.it/2gh3mu
    
    Images generally don't benefit from gzip compression. We also chunk
    image fetching so it is unlikely we'll grab much more than 1k. Instead
    of trying to deflate these oddly gzipped images, I've made
    _initialize_request() not fetch gzipped objects by default, and have
    modified _fetch_url() to request gzipped objects since it *does*
    properly deflate.

commit ba53f8d244c9e68423afe07d369170acf69c7205
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 15 12:33:46 2014 -0400

    Don't show selftext edit button for promoted links.

commit df8637ab0f32ba46cb63243f8bb249429db399d3
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Sep 4 22:01:39 2014 -0300

    Generate HTTPS feed links when necessary

commit 51b470d44b42384b75fa68747518a8876b358451
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Sep 4 21:58:22 2014 -0300

    Don't 307 for API responses, it's more trouble than it's worth
    
    It appears that a number of popular API clients won't follow the
    307s and will crap out completely.

commit 7325b8db8764d1a53194ba4b283a7379276027a3
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Aug 29 17:42:51 2014 -0300

    Don't check HTTPS preferences if c.user is unset

commit 343bdbada1dada6d64f2c3734481a593d24733a8
Author: umbrae <umbrae@reddit.com>
Date:   Fri Aug 22 23:11:36 2014 -0700

    Protocol-relativeize button demos

commit 0474e7f3668e55a1517d14facb4999a4c0c78d78
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Aug 13 16:14:02 2014 -0300

    Only send a full referrer URL when it's unlikely to be leaky
    
    Links and anchors within comments on public SRs will now send
    a full URL for the referrer, regardless of whether the navigation
    was https -> http.

commit ebdf16badedb2df1248edb5f49341a4b89c2cc60
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Aug 15 12:43:33 2014 -0300

    Add a feature flag to disable HSTS grants by default
    
    HSTS is great, but a pain when you have HTTP-only services running
    on your dev machine

commit 25a890d8edee2c4dbaee8d0052daa5bbbcbbff9e
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Aug 15 13:25:02 2014 -0300

    Replace `disable_require_employee_https` with a feature flag

commit 4dbf7cb2cfe470e92e39b8c6bdde578d28915750
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Aug 28 14:04:11 2014 -0300

    Update security preferences page

commit 8aa2312c94cac32f17958eeafb95939c0e2aaf8c
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Aug 28 13:41:04 2014 -0300

    Disable toolbar when using forcing HTTPS

commit 0b5eebac2dbf9051faeb16bfc7c50a00b02c08da
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Aug 14 18:30:48 2014 -0300

    Properly enforce users' cookie security preferences

commit 95b5a6601c7bb505e2a6c895d6b1b333d16735a0
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Aug 13 20:33:54 2014 -0300

    Don't try to pick up an HSTS grant if it's not likely to help
    
    This also fixes some nasty business with JSONP urls where
    `hsts_eligible` saw the "secure_session" cookie, but
    `c.user_is_loggedin` was forced to `False`, causing a redirect loop.

commit a825f1b844d10a4ca14a7a4299fde2ca091cf7fa
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Aug 12 20:38:47 2014 -0300

    Never try to send a user who's forcing HTTPS back to HTTP
    
    This fixes an issue where Safari would refuse to redirect to a
    `Location` with an "http:" scheme if an HSTS grant had been given
    in the same response.

commit 54957ee639908ff6b2b7ed95365766dc6d700a32
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Aug 8 16:16:59 2014 -0300

    Ensure downstream proxies don't cache enforce_https()'s redirect

commit 971f24f1c1dad99e5249f801f4f16e15d7b9b3b7
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Aug 8 14:47:35 2014 -0300

    Don't put responses with uncacheable cookies in the pagecache
    
    This deals with people getting sent someone else's reddit_session
    cookie when loggedin responses use the pagecache

commit 39160007d39fbd858c013fda1842abe2ffde2150
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Aug 8 13:20:12 2014 -0300

    Remove unused c.allow_loggedin_cache
    
    This hasn't been used on reddit.com since recent changes to
    how stylesheets are served, and loggedin responses cannot be
    safely cached by a downstream proxy anymore.

commit 597ecd6e20f79a4254e2e710ed80cbdc9084c110
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Aug 7 19:38:19 2014 -0300

    Remove a vestigial checkbox for pref_force_https

commit d4e737092f617ace9a25766e381051fd1def27aa
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Aug 7 19:38:55 2014 -0300

    Use the correct abort() in modify_hsts_grant

commit 1ba46be7104e36613ad2d57b0c032f533fada359
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Aug 7 19:04:27 2014 -0300

    Force HTTPS: Check the value of the 'secure_session' cookie

commit 6a51465e5e945e679d621e947afa7aa5eab8a1db
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Aug 6 05:54:13 2014 -0300

    Put the 'security' tab behind a feature flag

commit 1d148afbe11a21456464213942b776a64e325d97
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Aug 5 22:16:38 2014 -0300

    Set c.user when logging in
    
    This fixes an issue with PostController.login where we didn't know
    the user's HTTPS preferences at the point when they logged in

commit b4df9a6781489cdac9f40877ccb376c2fed6e3ce
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Aug 5 17:05:21 2014 -0300

    Respect the https_forced property when setting cookies client-side

commit fc053abab541c2f532482088a9a3b8e99fabefe8
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Aug 4 15:34:47 2014 -0300

    Merge HTTPS prefs page with OTP page, require a password to toggle
    
    This way we can invalidate all sessions session cookies that may
    have been sent in the clear, as well as ensure that people who
    can't remember their password don't get bit by the "remember me"
    flag not being tracked.

commit 9e20cc125a31b4a44342660165b08c000dbe82d8
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Aug 4 16:05:55 2014 -0300

    Allow forcing HTTPS upon employees

commit 7a4fa77a231315a6e39ce5bf6d7980b977cac9ac
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Jul 16 01:20:58 2014 -0300

    Redirect through HSTS granting / revoking endpoint on base domain
    
    Since grants / revokes only happen on the base domain for simplicity,
    we need to redirect through an endpoint on the base domain whenever
    we perform an action that might change a user's HSTS eligibility.

commit b70556a3ab5de10d6fb70266e2cafb34cd8f5e35
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Jul 1 10:58:22 2014 -0300

    Add support for forced HTTPS with HSTS grants
    
    Right now we only give HSTS grants when the user is on g.domain
    so we can easily revoke the grant. We also track changes to the
    forced HTTPS pref accross sessions and modify the user's session
    cookies as needed.

commit a5f61e9ed074d3e234478dd7546602f44cd65b38
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 10 11:50:24 2014 -0400

    Don't break existing users of POST_report.
    
    Continue to support sending the Thing's fullname as the "id".

commit 85a9223dced1ac12734a334400bb2a7aa8d10a28
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 30 13:15:21 2014 -0400

    Add report reasons for Links and Comments.

commit d2404e4108557bda84138f53f28177f42d5cf0c7
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 27 12:30:05 2014 -0700

    Make PromoteLinkNew subclass of PromoteLinkBase.
    
    Not needed at this point, but for consistency.

commit 7346abd83314f01b4084e1287aa1a3279fe57ebb
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 25 22:04:23 2014 -0700

    Update sponsored/roadblock page with new UI.

commit 74f845cc7552210cf8fa25e80a1bd55298aeb60c
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 25 20:46:52 2014 -0700

    Update sponsored/report page with new UI.

commit 724f1a1f438a910bb7a5e129cc8dd07bded01cea
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 25 14:26:23 2014 -0700

    Update sponsored/inventory with new UI.

commit 7aa0e2b56ee7eeb9a7bf885018f9fdc9b77290ec
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 27 11:14:39 2014 -0700

    Make min/max constraints in timing_field optional.

commit c1c653fac06c1141440f9e81a6f47c1d832e9e0f
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 25 14:17:58 2014 -0700

    Allow setting default targeting type for targeting_field.

commit 0e9c5cd2f18a74c490d7a591bd2a1d0e44710f22
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 25 12:43:35 2014 -0700

    Remove dependency on fill_campaign_editor from sponsored.js methods.

commit a045074435994d9f0d758d5f3662fc9229bb42d0
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 25 11:58:39 2014 -0700

    Make PromoteLinkEdit inherit from PromoteLinkBase.
    
    Add methods for getting form data to PromoLinkBase.

commit 788549415bd1ad932f57f5e8db89947486dcd6bf
Author: Matt Lee <matt@reddit.com>
Date:   Tue Aug 5 15:09:06 2014 -0700

    Allow updated UI on pages other than promoted/edit_promo.

commit 50d358de0bd981b877b3532acc65808d08c2d5b0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 26 11:59:32 2014 -0700

    Support collections on promoted/inventory page.

commit becce7f835a7a81e49b0e762446c7cd5afd96afd
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 27 15:22:03 2014 -0700

    Collapse creative editor  when opening campaign editor.

commit a193428007dc4b3250ab8d033877a6d231326c0e
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 27 13:40:02 2014 -0700

    Always enable the new campaign button when closing the campaign editor.

commit 9236d0ef49a603b4003a299c343d8685258a6351
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 1 23:56:37 2014 -0400

    default_thing_wrapper: Don't set rowstyle_cls, it will get overwritten.
    
    Builder also calls add_props, which completely overwrites the attribute.

commit 774c28ed7baee3ecc8801b27c37f268102caa08f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 1 23:43:13 2014 -0400

    Don't fire pixels or fetch trackers on requested ads.

commit 5243f25f4acf46fe9140c2ef376dd99b6d538a42
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 1 23:25:43 2014 -0400

    Allow all users to view a requested ad.
    
    Previously this was only allowed for sponsors or the owner of the ad.

commit 43f7c27d3106a54e62421396d65d24224e47dcfd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 2 01:20:29 2014 -0400

    Fix location targeting for sponsors.
    
    Also return 403 responses for invalid location targets, rather than
    setting location to None.

commit f3b1eab25f1030f48221b0a7c0d7c9f4cf2007ed
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Aug 22 15:36:08 2014 -0400

    Allow sponsors to location target collections at house priority.

commit b0ffed3ddd407683c4e8961a982e04d4ca632cf7
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Sep 2 12:05:21 2014 -0400

    Details, userpage:  Preserve referers

commit dcb727930ed741b3942839a943b1f2279099a9bd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Aug 28 03:45:30 2014 -0400

    Keep midcol spacing for deleted/removed comments.

commit ed1951823a030513b339895e4c4a950338349f2d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 27 15:32:30 2014 -0400

    Obey sort when fetching morechildren.

commit b497b4f962bc0bdaef370fc0f7c57600302839d2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Aug 21 21:42:55 2014 -0400

    GET_info: allow lists of things.

commit 2b58de12aa54df2ba0947a2b4d9a2b08e20c992e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Aug 21 21:34:15 2014 -0400

    api: Separate GET_info and GET_button_info.

commit 5361dd7d74a8907d68a36e2942b574e3b4b1cb74
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Aug 27 11:13:14 2014 -0600

    Add a simple admin tool for giving users creddits

commit 0f5ea4469230f560be525cf54d5b40fdefca3c50
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 20 19:49:49 2014 -0400

    Toolbar: make comment layout like the regular site.

commit 0a02ac7465b739d0269d2e140e8f75ebdeaaa684
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 27 13:56:04 2014 -0400

    Set domain_override for new promos.

commit 5d5c17581a9359972856ec1c1d4906dfa443b087
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 27 13:53:54 2014 -0400

    Remove the concept of trusted sponsor accounts.

commit 57f1623d3f887753807e00dd818f74a7b2daf559
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 27 13:49:58 2014 -0400

    Link: Add domain_override to defaults.

commit 6354355afcbd3a3e8338f2b2c25788234f9e4062
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 27 13:10:58 2014 -0400

    Add closing paren for domain override label.

commit 8c4c2b70b563bcb47cf9edda96eaf7711fe76c5f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 26 22:15:21 2014 -0400

    inventory: Don't penalize if all targets have been allocated.

commit 9361596d68ed45b3466e02204846a36d4b3a52f1
Author: umbrae <umbrae@reddit.com>
Date:   Wed Aug 13 17:43:32 2014 -0700

    Register hooks on app load rather than inline

commit 52f99bcaea83fa693d5909c3c66544ee01957e49
Author: umbrae <umbrae@reddit.com>
Date:   Thu Jul 31 09:36:20 2014 -0700

    PM new users a welcome message.

commit 29cab429de89e6ee91574ed6e612f0c6517104c5
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Aug 20 15:00:23 2014 -0700

    OAuth2: Manual token revocations
    
    Clients may now revoke tokens when they are finished. Though
    not required, revocation allows clients to "dispose" of no
    longer needed credentials.
    
    This implements RFC 7009

commit cefef7d8d21e35e8fbe1b53976a7acccecb3e060
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Aug 22 10:59:11 2014 -0700

    OAuth2: Don't call get_token with empty ID

commit 35918c08433ad86d7fb931bf7dfa15d5c0f7bcbc
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Aug 21 20:48:10 2014 -0400

    Show collapsed comment when numchildren is clicked.

commit 305f66b06e09e63c483fb4e3ed347c31b7575ede
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 20 18:47:53 2014 -0400

    Fix hiding/showing of tagline for comments collapsed for a reason.

commit f064a08b66275cc65cbdd778db31bfa3bf1b8d64
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Jul 31 04:07:35 2014 -0300

    Plug several leaks of (username, flair) pairs for deleted users
    
    Thanks to /u/rotorcowboy for the report!

commit 70bcb4b39b938f9ddb252a19e6802e2dc9b84ba9
Author: Gavin <gavin.19@gmail.com>
Date:   Sun Aug 10 11:13:15 2014 +0100

    CSS Filter: Add 'order' to CSS SAFE_PROPERTIES
    
    Allow the order property for sorting flex items

commit dc131319a6117f593dbc8e063c7c6e9936b3661a
Author: ArrestedDevelopment <ArrestedDevelopment@users.noreply.github.com>
Date:   Tue Jun 10 23:11:10 2014 -0600

    CSS Filter: Add 'will-change' to SAFE_PROPERTIES
    
    In the browsers that support it, this property will allow for GPU-accelerated animations.

commit 138e43e2b4b15b3be7930b3a03be95175f59c752
Author: ArrestedDevelopment <ArrestedDevelopment@users.noreply.github.com>
Date:   Thu May 29 18:22:45 2014 -0600

    CSS Filter: Add 'cubic-bezier' to SAFE_FUNCTIONS

commit c588a8cda1852edc5ab8e7c4c4b292f5dd9aa83e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 20 12:59:10 2014 -0400

    SitewideTraffic: Show top 250 subreddits.

commit 5f1d54871758fa588852de5fca726e616583c8ae
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 20 12:58:20 2014 -0400

    traffic: Split PageviewsBySubreddit for top and specified.

commit 2db5b6f858566c69dd074cec5dba6dda5bea21bb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 20 12:55:08 2014 -0400

    traffic.top_last_month: Specify how many results to return.

commit a9682556470bbd7627c7b4e6f6973d2406f8c266
Author: Neil Williams <neil@reddit.com>
Date:   Wed Aug 20 17:12:21 2014 -0700

    Media: Switch to SHA-256 for file hashing.

commit 4c787ad7a063cee3b1694bee1b283da72d9eccc8
Author: Neil Williams <neil@reddit.com>
Date:   Wed Aug 20 17:09:50 2014 -0700

    Media: Remove truncation of filename hashes.
    
    This was unnecessary and could potentially allow for easier collisions.

commit 478fac43a4ed62367a73ed56f43896337042893f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 20 10:45:37 2014 -0400

    POST_morechildren: Don't lookup comments in validator.

commit 49f27e68c963bc65a998eaea2ef7016c2b38ccc5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 20 12:35:44 2014 -0400

    PromoteInventory: fix dict.fromkeys mutable item issues.

commit 0a6d61157bbe520aa2a939360aec9e2d66cfb170
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 19 06:40:51 2014 -0400

    Cleanup comment_skeleton inherited templates.

commit a44c297734198c4d90bcbf23c88d5a52ccdfc04d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 19 06:40:40 2014 -0400

    Comment: Don't make duplicate collapsed/noncollapsed.

commit 6d4436a5e7696e5879a3ad7bc0f211e2d6bb89c5
Author: Neil Williams <neil@reddit.com>
Date:   Fri Aug 15 10:51:05 2014 -0700

    utils.md: Allow passthrough kwargs.

commit 88f0fd156d19c965099a3f506b571d1bb3c44332
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 18 13:24:23 2014 -0400

    Use scraper for promoted link embeds.

commit 236957c7ae3704a946d7ba912d2a1902103d02b6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 18 14:31:16 2014 -0400

    media: Give option to not upload scraped thumbnail.

commit 74c1166e86950fab1a845528148679745fef17d9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 13 07:24:42 2014 -0400

    Don't use a special cpm for country level targeting.

commit b33aa62dfefeb4025f53360effb9c252ea450ee3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Aug 9 05:06:56 2014 -0400

    Use the regular cpm when targeting the technology collection.

commit 6b8da18b073963be9cbe6154256ac03fd16825ee
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 13 09:59:06 2014 -0400

    Differentiate collections on inventory page.

commit d74b33e6db9612d413c3a13df2822d5fdf1256d3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 13 07:45:10 2014 -0400

    Define __ne__ for Location and Target.

commit 38c8ef13d7c2cb8c415fb67306cee3f6cab41ed5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 13 09:25:18 2014 -0400

    Don't filter NSFW content for rss users.

commit a5e49ae4b73bac6ac3cdc03ec6eead94beaf3fd1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 12 12:35:02 2014 -0400

    Revert "For initial rollout only sponsors can target Collections."
    
    This reverts commit b7c5c1773e441fbdfcd815eab8f7ec15a34256ab.

commit f202cc704b56782f27994328ef981d4874afe22b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Aug 8 04:09:49 2014 -0400

    reduce_targets: Don't let target impressions go negative.

commit 92a87fad9dd53694224464236e0b34231d327437
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 13 09:49:40 2014 -0700

    Fix interests label on edit_promo form.

commit 4667d357c3b95a0f46a663571b52084570251dd8
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 11 15:27:08 2014 -0700

    Release updated edit_promo UI and collections feature.

commit 5ce008ac885cf5422a7f0b3da0cc057685b27f14
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 13 09:01:02 2014 -0700

    Change text in edit_promo infobar.
    Adds announcement text for interest targeting.

commit ab07365c90f852764f745737c49b444a0bf00de0
Author: Matt Lee <matt@reddit.com>
Date:   Tue Aug 12 22:33:56 2014 -0700

    Add link to wiki page in collection selector.

commit 6eb7f70367e10bc820e815993c497287c2413b52
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 11 21:10:41 2014 -0700

    Render campaign editor summary client-side.

commit 7780a5c9a9acbcfc46c939fde8548fc67d73a622
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 11 21:40:59 2014 -0700

    Fix disabled collection selector bug.

commit f122a68f8162b45d583989d8cde9cc93d19f4967
Author: Matt Lee <matt@reddit.com>
Date:   Thu Aug 7 15:54:11 2014 -0700

    Sponsored.js cleanup.

commit e3147fdbbb9f65f38543d8e65bd3f8b9c8d5fb42
Author: Matt Lee <matt@reddit.com>
Date:   Mon Aug 4 15:15:58 2014 -0700

    Replace remaining references to 'ad_inq' with 'advertising'.

commit 6d89ab49d9f1ae01609f21a111d794ff90747df9
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 6 16:09:38 2014 -0700

    Change labeling of collection feature to 'interests'.

commit 697548a37e67ccee11b280427318759420fd4565
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 6 13:57:10 2014 -0700

    Disable geotargeting for collections.

commit 7271cf2484b4063d567ba81879aa78878f983e78
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 6 13:50:34 2014 -0700

    Add methods to enable/disable geotargeting.

commit 4c4d75d6aa6717f8d94481ea834b65c62b37d981
Author: Matt Lee <matt@reddit.com>
Date:   Wed Aug 6 13:44:37 2014 -0700

    Add method to get targeting type.

commit 37d65016b43be7407c70f9bfa6134b54bec14580
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 31 14:10:45 2014 -0700

    Style updates for collection selector.

commit 2a19fd137d89114a268c3cc160a08d58460cadfe
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 17 17:01:12 2014 -0700

    Use slideIn/slideOut instead of fadeIn/fadeOut.

commit a0ac4c18a74d7e88a84173682db3a3eb98c9ed7e
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 31 12:33:46 2014 -0700

    Fix server-side jquery actions failing.

commit 04b9b70270b044bebf1f63b84687bc3c0db96d75
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 31 14:05:57 2014 -0700

    beta: Redesign for edit_promo/new_promo pages.

commit 184185481556702bf826c4a0d378cb05bc9203d4
Author: Matt Lee <matt@reddit.com>
Date:   Fri Aug 1 13:23:36 2014 -0700

    Limit list of subreddit names in collection picker.

commit 6ddaa2161c3a696ed907c24c7981257ca67b2a86
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 31 14:00:11 2014 -0700

    Properly display COLLECTION_NOEXIST error.

commit c07d00dd1742a99a7dab3c6fb5f7653fb202a34d
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jul 30 13:38:59 2014 -0700

    Add prefix to inventory key to distinguish subreddits and collections.

commit f69f6452cecb3de706d234e4aeec1391badfe7ef
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jul 30 10:48:05 2014 -0700

    Include collection name in ajax request for inventory.

commit f8c020a46e248d68f005f158521d029a2354c7d5
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jul 29 16:51:38 2014 -0700

    Make collection UI available only to sponsors.

commit d5d4be76533d40f37be66b43a03beae39f35ed03
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jul 29 14:08:18 2014 -0700

    Use separate CPM for collection targeting.

commit 80e98836a2489bd59001ca01ea00bf52f4da7a5d
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jul 23 14:31:51 2014 -0700

    Reset to frontpage when form closed.

commit 6aaeeb6de3680d8222a450d68069cd0cd3fdc829
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jul 30 19:09:38 2014 -0700

    Add collection selector widget.

commit e2b2b302c9a15a49d524c164cf7041a2af00b05f
Author: Matt Lee <matt@reddit.com>
Date:   Wed Jul 30 11:58:20 2014 -0700

    Fix IE bug caused by missing comma.

commit 2e341c0169ac06a618b40f0a46ce8091828759b8
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Aug 13 10:31:38 2014 -0600

    Add /about/edited page for moderators
    
    This page shows the most recently edited items in the subreddit. Items
    are added to this page using the same conditions as deciding whether to
    show the "edited asterisk".

commit 5596ac08866cef7628597f308fe606c82cbef514
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 31 20:17:53 2014 -0400

    Skip over_18 promos depending on user preference.

commit 339fb49401f34daf6fb117ed97770c579d9443fb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 31 20:16:02 2014 -0400

    Link.keep_item: simplify over_18 check.

commit b6b638aff5b0ab7f42f82b28468956119f7322a1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Aug 8 18:44:08 2014 -0400

    DetailsPage: Load Link data.

commit 82e608d069c9d746fa4e8c094fea63f5bac5fb0d
Author: Andre D <Andre@andred.ca>
Date:   Mon Aug 11 12:17:06 2014 -0400

    upload: Stop hiding submit button.

commit 8d3cbcbc0fc283ec34c7c758ca139de038fa68fc
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jul 31 22:21:22 2014 -0700

    Add flooring when displaying user karma totals
    
    A floor of 1 total link karma already existed, this adds a floor to
    comment karma as well. It also starts applying them everywhere,
    including in the subreddit-specific karma breakdown.
    
    In addition, admins are now exempt from the flooring and can see the
    actual karma totals for users in all locations.

commit 82b870dc08bb6c2386359231ff0df62efbc5e374
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 4 14:32:31 2014 -0600

    Gold: add preference to auto-renew with a creddit

commit 40156763d334b75b4ca2419816ad711673394c92
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 4 14:31:27 2014 -0600

    admintools: Clean up update_gold_users()

commit b572eee9b0c888403087bc982ef85ef9f2d41b58
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 5 16:06:22 2014 -0400

    POST_edit_campaign: prevent location targeting a collection.

commit 60cecd54c8c3e58040578503e7b307ed6ed8cc67
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 5 15:44:34 2014 -0400

    POST_edit_campaign: Fix target error checks.

commit f240409317d6efe9c755bda0f3742dbcdfb68220
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 5 15:34:18 2014 -0400

    GET_check_inventory: don't allow collection + location.

commit 9b24ddbe49f1869890424ffd1cb9c269e84c74a8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Aug 7 16:29:02 2014 -0400

    inventory: Use the correct variable when reducing targets.

commit 660b45bcdb4483c884c882bfe2c14811fcfa4ac1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 5 20:47:50 2014 -0400

    Use data in NamedGlobals for random_reddit.

commit 05f962d9d1213674c26262d0940e04fa6418f9e1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 5 20:46:32 2014 -0400

    Store popular subreddits in NamedGlobals.

commit f3102d581e9d968e0dca7ecb371287045e99f2bd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Aug 7 14:28:37 2014 -0400

    Move get_promote_srid to Subreddit classmethod.

commit 218efc4699df356c0d5850084c6637d584e77173
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 5 20:16:54 2014 -0400

    Remove obsolete content_lang comment.

commit e9c1158d80af9d86af67bd21c28976ff1600d675
Author: Neil Williams <neil@reddit.com>
Date:   Wed Aug 6 11:34:28 2014 -0700

    Add a psuedo-selftext class for live thread embeds.

commit 5c08293d748d9b16365ed6b0e6585459f1f295aa
Author: Neil Williams <neil@reddit.com>
Date:   Tue Aug 5 18:43:19 2014 -0700

    Allow media embeds to indicate they don't need <iframe>s.

commit 27abb754b76f7b585e8d1c62adfd18266c59c742
Author: Neil Williams <neil@reddit.com>
Date:   Tue Aug 5 17:23:01 2014 -0700

    Allow get_subreddit_stylesheet_url to be used outside c.site context.
    
    For applying subreddit stylesheets to stuff not in subreddits (like
    reddit live!)

commit 0b78e55cba5c155b7f2b4925afb2825f4d833ee5
Author: umbrae <umbrae@reddit.com>
Date:   Fri Jun 20 10:03:21 2014 -0700

    Rebuild embed buttons for simplicity/speed

commit 95eb9d740627e049b22403bfbc7429bffb8a9e37
Author: umbrae <umbrae@reddit.com>
Date:   Sat Jul 19 19:49:41 2014 -0700

    Add a convenience method, `quick_time`, for timing with `with`

commit 40b864aa9bca49ede6d195c68f519e7db985c199
Author: umbrae <umbrae@reddit.com>
Date:   Sat Jul 19 18:44:24 2014 -0700

    IE: Always use latest rendering engine

commit 027504a28ecf88cd632e1c2c57b32cda9f206ca7
Author: umbrae <umbrae@reddit.com>
Date:   Thu Jul 17 13:36:33 2014 -0400

    Improvements to opengraph meta tags

commit b8d9981db726e9b660b71ae16bbe227f107ecc46
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sun Aug 3 11:18:25 2014 -0700

    Refactor ProfileBar and Account.all_karmas
    
    A couple of minor changes included:
    - no longer show the "renew your reddit gold" message if you already
      have an automatically-renewing subscription
    - don't show the "friends" button to logged-out users

commit 473495d7c57962eb6b0c4e20b6d074fde63121b0
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 28 09:51:45 2014 -0600

    Remove obsolete gold email

commit e646fea8224c6ef378131df593bd797a1be309f2
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 28 09:49:43 2014 -0600

    Remove obsolete feedback/ad_inq code

commit 57ca03653360626f14aa8beb5ff8a4938fa85c26
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 4 16:31:29 2014 -0400

    For initial rollout only sponsors can target Collections.

commit 6c4082ef8e3481acbe7adcc6896e0e7d6594e3a9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Aug 1 12:46:47 2014 -0400

    migration: Continue to support targeting "none".

commit 3f072f4052e6426fb7ec00ad732fc1ade9895e9f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 29 16:14:57 2014 -0400

    PromoteController: update endpoints to accept Collections.

commit 54a710b89e789e961ebd3f5aa803b92c86dd658e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 29 16:30:23 2014 -0400

    Add cpm_selfserve_collection.

commit e705db8f90c8c7fe9e8b47913ec43e5f5ee852e8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 29 16:14:15 2014 -0400

    Add CollectionStorage.

commit 166f9aed6639121f611b11e6ac4c6e54b255c1b3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 29 16:13:42 2014 -0400

    Add __repr__ and optional description to Collection.

commit 636a7fce7379d6722b38585d7ecb504fb94e0947
Author: Roger Ostrander <reostra@reddit.com>
Date:   Thu Jun 26 13:58:40 2014 -0600

    TryLater:  Use proper total_seconds function

commit 722fbf2181a99814f9efa9ef64312a08ea24cd0f
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Aug 5 13:56:57 2014 -0700

    Passwords:  Enable checks against other passwords

commit 26b20467735b7fcdc7acfb264ec677ba5c0ae8df
Author: Andre D <Andre@andred.ca>
Date:   Wed May 28 14:14:41 2014 -0400

    wiki: Fix event handlers.

commit ec603bb635f74e71330f2e96369e7a0365970c39
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu May 29 16:02:38 2014 -0600

    server_seconds_visibility: apply to gilding trophy

commit 816abbf92ee47a1fb8a29f2954b6e146418fceb6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 18 04:59:18 2014 -0400

    Use an algorithm to determine free inventory.

commit 1fdb57976b53cebc091bad8cf3f4ffcef49c5357
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Aug 1 15:41:49 2014 -0400

    get_campaigns_by_date: remove deleted campaigns.

commit 843594a9fb178b3b9e523d9c234ce0c3b92520ac
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 16 21:41:51 2014 -0400

    Stop pretending that get_predicted_pageviews is date dependent.

commit 7ec6864f86bbbc8ff107b91587a40b31c12136b7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 16 20:58:50 2014 -0400

    inventory.get_campaigns_by_date: don't separate campaigns by sr.
    
    Previously the campaign by date dict was contained within a by
    subreddit name dict.

commit 1fbe894dd43a5bac698273e5c8d8e03bcec71eaa
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 16 21:36:14 2014 -0400

    inventory: Delete unused get_predicted_by_date.

commit e023afb7e03307b80f5a9fca9096c7b82d6e2e76
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 5 01:08:31 2014 -0400

    get_campaigns_by_date: fix ignore.

commit 89093ad217f90c268210f24372527abe77c87e31
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 4 23:43:14 2014 -0400

    Avoid using '' for Frontpage subreddit name.
    
    Some occurrences haven't been detangled yet and are now noted.

commit 598455f60bc72e30372ba74ce22580203a7a61cc
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 5 00:12:46 2014 -0400

    srnames_from_site: PromoCampaigns are now targeted to Frontpage.name.
    
    They were previously targeted to empty string to indicate the Frontpage.

commit 164454a18af8fa0e76d844e74baea5b7e5aa590b
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Aug 4 20:28:15 2014 -0800

    Don't lookup SRMember for /reddits/mine/moderator if user isn't mod.

commit fe33a295a39653a6ad4f55d5aae7e28eb7a7966c
Author: Andre D <Andre@andred.ca>
Date:   Mon Jul 28 14:47:06 2014 -0400

    prefs: Use number input type for numbers.

commit 27218d347ff26583e21e084c4851f948ef0f84ef
Author: Andre D <Andre@andred.ca>
Date:   Mon Jul 28 14:43:18 2014 -0400

    prefs: Use the correct abort().

commit 8d033efafc92134094656847f10bfb75f6a18af0
Author: Andre D <Andre@andred.ca>
Date:   Mon Jul 7 15:25:26 2014 -0400

    policy: Add a compact wiki redirect.

commit 84d82879d9de55f9be49456b9a9fc76e05b1798e
Author: Andre D <Andre@andred.ca>
Date:   Tue Jun 10 14:17:45 2014 -0400

    wikifilter: Make reddit links go to compact when compact.

commit 1644cb4a0dcc1b1a1ae3c4c7c87b1051a3fbddb9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 4 11:41:00 2014 -0400

    Add Location.__eq__.

commit fba7b7b51d7cca189d75a8fcd9c179c3172220c2
Author: Neil Williams <neil@reddit.com>
Date:   Sat Aug 2 11:47:37 2014 -0700

    Configure babel to extract strings properly from Underscore templates.

commit e2dfde34ac8e44ceadf0bc8f67768a4592c68551
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 24 09:17:52 2014 -0400

    VByName: except tdb_cassandra.NotFound.

commit d40ad49a7932b3a4f169ad248e0f30b6623a05be
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 24 09:12:28 2014 -0400

    tdb_cassandra._by_fullname: Raise NotFound for single lookup.

commit 338a2686ae440e012753b3668381787d68cadb77
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 24 08:51:20 2014 -0400

    Use admin template AdminLinkInfoBar.

commit ea30e06310a616c3ff573cbe0b0e404104e1e790
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 24 08:19:13 2014 -0400

    Delete empty linkpromoteinfobar.html.

commit 1e540840fdce5805f1971d04eafeff417b6764fc
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 18 06:10:53 2014 -0400

    PromoteLinkForm: suggest fewer subreddits.

commit b6a207cf5f9c4aa26f9e51a4f1c25a483d9976e8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 18 06:10:25 2014 -0400

    SubredditSelector: optionally include user's subscriptions.

commit b0d52374b72dbc19c98706ddabb16a720466c3c8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 31 16:35:12 2014 -0400

    PromotedLink: don't cache_ignore embed attributes.

commit fc04340931ed10706a6c06843997a2f35ef572e2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 3 16:09:19 2014 -0400

    PromoCampaign: use target instead of sr_name.

commit aef99d608f0869a52eb2e44153ef99a0210a4c00
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 8 08:08:39 2014 -0400

    Add PromoCampaign.target backfill script.

commit a1f39c266720188279bc2f53d5c5cd862db4ad13
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 10 16:57:43 2014 -0400

    PromoCampaign: dual write sr_names and target.

commit c547334ef0cfff14d2cd1a27ddfcc8960915d7a0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 11 01:25:11 2014 -0400

    PromoCampaign: add target attribute.

commit 3c3acaa8c706f0b5b6b79b4f255d674e4c2ad565
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 8 04:47:02 2014 -0400

    edit_campaign: log location changes.

commit 19d98496e95473d5e4aa8efcdf301afc5b3f6d32
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 3 15:29:52 2014 -0400

    PromoCampaign: add setters for location and priority.

commit b914b29e4837e6c5556f7f29ec2aa7d0441f1c80
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 3 16:27:29 2014 -0400

    Add Frontpage to Subreddit._specials.

commit 72c4a445ef6961887f2c2d3755fb335df0d78fc7
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 24 15:18:06 2014 -0700

    /dev/api: Allow plugins to have documented APIs.

commit a8c0ab80e43cd4d44350578904e8b66573fad1d6
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 24 12:19:19 2014 -0700

    /dev/api: Remove more useless translations.
    
    The API docs are explicitly in English and _() at module scope doesn't
    work like this anyway.

commit 43cc5b1981f317526e659b427e2797682bea0de4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 28 14:34:33 2014 -0400

    LocalizedDefaultSubreddits: remove subreddits in set_srs.
    
    View._set_values only writes columns. To delete an existing column
    we need to use View._remove.

commit b437de867d8c2ddda0f1ae798ae16e850106040c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 10 14:25:25 2014 -0400

    Delete usage of content_langs.

commit 92f84ce7718fe841aa3b93945702bd0d0b322eeb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jun 15 03:10:20 2014 -0400

    Delete pop_reddits.

commit 7f7b952873b6ec4360d7f9540c7069851e1a155b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jun 15 03:09:59 2014 -0400

    Pick random subreddit using query offset.

commit fdf754117bb6fa186103a77d46f143bc98b611b0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jun 13 17:28:13 2014 -0400

    Delete SubredditPopularityByLanguage.

commit a0867a98aba5f923014902ec66567862b45d95bf
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jun 13 16:01:21 2014 -0400

    inventory: Use LocalizedDefaultSubreddits instead of top_lang_srs.

commit 7415823260d7f57cfa5d37c43c5de8d709b039c3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jun 13 15:58:13 2014 -0400

    Get defaults from LocalizedDefaultSubreddits instead of top_lang_srs.

commit acfa35043aabae58fdca9036c73403495cb65b34
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jun 13 15:57:49 2014 -0400

    Store global defaults in LocalizedDefaultSubreddits.

commit ddab6039ab39ff2db476c139da3342807a9658aa
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jun 15 02:53:43 2014 -0400

    Query: add offset option to jump to a specific row.

commit c7693a253cca00fe4f94d36d06ebada8c29e7639
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 17 16:56:01 2014 -0700

    Always use correct colspan when editing a campaign.

commit 23be6fa614d4c7514f19c5163630c4961cfb5c49
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 17 16:17:38 2014 -0700

    Fix styles for new markup.
    Revert before applying new styles.

commit 764664773bd12cc09ba024867805f976d338387e
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 17 16:53:18 2014 -0700

    Cleanup promoted page templates.

commit 73a93e29628ccb231854d371337696b8843fac8a
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 17 16:43:26 2014 -0700

    Use disabled state instead of hiding button on image uploader.

commit aba7da036797fbc782f78b05f989ee43088eca3f
Author: Matt Lee <matt@reddit.com>
Date:   Thu Jul 17 16:39:02 2014 -0700

    Use PromotePage instead of Reddit for edit_promo template.

commit 5e3d97a46c008d488ed193264c1d729d40051666
Author: Matt Lee <matt@reddit.com>
Date:   Fri Jul 18 11:35:22 2014 -0700

    Fix tabindex on login form.

commit 25c780dbf585548bc9082c4fe866c01f61553d7b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 24 10:26:40 2014 -0400

    Make editreddit routing rule more specific.

commit 62df5bece304d1322972f95012849c1dfd6edea2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 22 14:59:51 2014 -0400

    Link.add_props: set gilded_message only if it will be displayed.

commit f32cdaeb41f2f617d7b26a1ce107d66a37f2db0b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 21 09:55:24 2014 -0400

    Let sponsors view spam users' promoted pages.

commit 594b6bf554973ba970ee992cb0f27fb8bd16d072
Author: Roger Ostrander <reostra@reddit.com>
Date:   Wed Jun 4 14:45:45 2014 -0700

    Listingcontroller:  Optionally display banned userpages

commit 1d7566fdfefbd9d9dd7fe2e217a04d3130ca522e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 30 19:23:37 2014 -0400

    POST_update_pay: compare dates not full datetimes.

commit e343d3f935a6e7fa786b2768cd7defbdcc0da0cd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu May 29 08:04:08 2014 -0400

    Add country code to DebugFooter.

commit 4bdd3e57d64ab50ebf953e8d73955c7f95258d95
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jul 25 11:35:25 2014 -0600

    Revert "Show banned/deleted state with header background"
    
    This reverts commit 9e21d534676e715f13f140ed318b247e00238c96.

commit 7d1c8c3caa459cae5f04c60d3576c094ce0a7dd6
Author: umbrae <umbrae@reddit.com>
Date:   Mon Jul 21 23:30:34 2014 -0700

    Show embed help for embed-capable UserText fields

commit 9e21d534676e715f13f140ed318b247e00238c96
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 21 20:34:42 2014 -0600

    Show banned/deleted state with header background

commit 02ae3631a13bc3cdb585af19d60dc54c0e1a81fe
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 2 02:36:17 2014 -0400

    Delete unused GiftGold.

commit 44448ffd11374db30ca890dd4dcda819893f2d2c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 2 02:36:09 2014 -0400

    Delete empty templates.

commit 2c465a95a3cf7c872504f26923fb4e62b9759672
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 11 04:18:02 2014 -0400

    tp_manager: clean up and remove unused imports.

commit de038170c785d4876324045c209c2fc75978b50f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 11 16:30:37 2014 -0400

    Don't render cache null (missing) templates.

commit 271cf4056259264a0eed124703fa1743595d5b1e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 2 02:05:37 2014 -0400

    Use a null template for missing templates.

commit 65d15ecebfbf68cc70c211ed13026a9f3fd4b598
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri May 23 08:27:12 2014 -0300

    Verify permissions for the `after` parameter in listings
    
    This plugs an info leak where an attacker could test whether an item
    was present in a listing even if the user was not allowed to view it

commit 1f58905857f1810389e5cb3a7b445d085d1322d5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jun 10 15:39:14 2014 -0400

    builder: Lookup orig_items by _id.

commit 051c62792f404c588b0b8b6266b5418fcbd23ff1
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Jun 4 00:33:39 2014 -0300

    QueryBuilder.get_items cleanup

commit f1b2c14e5b72c5cd0e89720a83714b835afedccc
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Jun 5 11:00:42 2014 -0300

    Move Builder.get_items wrapping logic to convert_items

commit 94f6eadd4064831ed034d29361c16f10cc4baba5
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri May 23 09:00:30 2014 -0300

    Don't show 'next' button if there are less than `limit` visible items
    
    This clears up an info leak where an attacker could tell if there
    were more items than visible items on the last page of a listing.

commit aa233e11d701a2f606f6f4991a0c10aaefa1bca5
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri May 23 08:25:40 2014 -0300

    Don't set before or after to things that were dropped from a listing
    
    This stops listings from leaking the presence of things that a user
    may not view.

commit f7eaed779a42865a0f6523d08b619bbceae2fc49
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 21 13:05:54 2014 -0400

    Message: don't use sr_path in permalink.

commit 35e3ccb0b85dba973e12053752cab56bcf87f470
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 8 05:45:23 2014 -0400

    MultiredditMessageBuilder operates on a sr not a user.

commit 96122aff4e6b01f581119789cae1f63b1dece368
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 21 15:43:12 2014 -0400

    PromoMetrics: filter out subreddits with few daily impressions.
    
    These subreddits aren't going to work for advertising and might
    not be real subreddits.

commit 376cfa3df3d9905787ecffdc1ae9974717074bc1
Author: Andre D <Andre@andred.ca>
Date:   Tue Jul 1 12:36:57 2014 -0400

    pages.py: Cleanup model import.

commit 4e975e33ad415e953c81ab592636658d32c46772
Author: Andre D <Andre@andred.ca>
Date:   Wed Jan 15 13:43:08 2014 -0500

    Filters: Add /me/f/all (Gold) and /me/f/mod filter multis.

commit c5d44692d9a26b5d51291f75609ed5ceed25f2a3
Author: Andre D <Andre@andred.ca>
Date:   Tue Jul 15 22:25:55 2014 -0400

    api: Add missing public_description_html.

commit 259df8bbc9a5d8ad65dc90a444b4f28ffb2bc068
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 17 11:34:22 2014 -0400

    Translate usertableitem note submit button text.

commit 6958e918c2e6134aa96ad2cdc20f3adc878923e6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 17 11:34:07 2014 -0400

    Use onchange for usertableitem note.

commit d0dade6be06b3bffae2573cfbbe81a5ab5684cbb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 17 11:24:00 2014 -0400

    Make usertableitem note field more width accommodating.

commit 546e4fcf0e7e0a049cdd212cb02780e8f1091f45
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 17 11:23:42 2014 -0400

    Don't show status or errors on usertableitem note form.

commit ae1a9f9b83da4a6aa66c64bcda423f58263aec84
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sat Jul 19 02:06:36 2014 -0600

    Vote: don't recalc valid_thing if already False

commit 3f73c22a0a238e3277896f14de162ab1c51bf530
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sat Jul 19 02:02:13 2014 -0600

    Vote: exit processing early if vote is unchanged

commit 7e951a76ab2b029a2ee249709e27e881780d51ea
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jul 18 11:02:52 2014 -0600

    Vote: pass vote_info into valid_thing

commit 295d924b18c5aa1f90f26562128331b02cb62da6
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 21 02:18:14 2014 -0600

    Message._new: add hook to check whether to inbox

commit fb9938cd3fd4977c1ca5522b1bb9ea4341242dac
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jun 10 14:54:44 2014 -0700

    Messages page: don't show spam top-level messages

commit 45ad94a203a765dfa78493b024f3cc5783d716bf
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jun 11 14:05:19 2014 -0700

    new_message: Move get_sent update out of loop
    
    Updating the get_sent query was previously done inside the loop over
    inbox_rels, which meant both that it wasn't updated if inbox_rels was
    empty, and that it was (unnecessarily) updated multiple times if there
    are multiple rels.
    
    This also moves the CachedQueryMutator instantiation outside the loop,
    so we only use one instance if there are multiple rels.

commit 62bda0623e4904190053684ebb6ea3804689f45b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 14 17:27:49 2014 -0600

    API: add "distinguished" to messages

commit 172a8f8c38997fb122d150b3644575838f994cc7
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 14 18:50:45 2014 -0600

    Gold: support paying for one-time with creddits

commit e186f3719c275a16c95ad931e0a3f1dbb49630e1
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 17 08:39:51 2014 -0700

    Make OAuth app icon URLs protocol relative.
    
    The thumbs domains are now SSL-capable.

commit b1171240e7d328877b7afb53918891a180355540
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 17 08:30:44 2014 -0700

    Make thumbnail URLs protocol-relative.
    
    The thumbs domains are now SSL-capable. This de-duplication also brings
    explicit width/height to .compact thumbnails and gets rid of a bug where
    <img src="nsfw"> was generated in .compact.

commit 36e5ee43781c010de32e1aef39b09ec2dada650d
Author: Roger Ostrander <reostra@reddit.com>
Date:   Fri Jul 18 09:13:26 2014 -0700

    Userpage:  Show 'banned' notice if user is banned

commit 8eda5a8eb51f5852a251bda5e1a99438de209cba
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Jul 16 22:05:05 2014 -0300

    Don't allow changing the OTP secret when OTP is already enabled
    
    This fixes an OTP bypass where an attacker could request a new
    OTP secret and use it to bypass two-factor auth for "/adminon".

commit cf8c42cf89d5b9b046e0ea68d57e0c4bd8357cd4
Author: umbrae <umbrae@reddit.com>
Date:   Mon Jun 16 10:41:20 2014 -0700

    Gold Checkout Redesign
    
    This is a full redesign of gold checkout, including new resources for
    gilding and creddits, at /gilding and /creddits. Work done in
    collaboration by @powerlanguage and @umbrae.
    
    This is primarily a visual refresh, although some flow has changed
    (primarily that creddits now have their own endpoint, and there is a
    /gold/payment page for finalizing payment which is handier for
    analytics).

commit c172391bbdeb8fb3f9aeec9d2756af692f1e85b6
Author: umbrae <umbrae@reddit.com>
Date:   Wed Jul 9 16:03:14 2014 -0700

    Small feature: auto-restrict subreddit searches (flagged)

commit b413244514bb8071c23e3c669946311a7692c7d1
Author: umbrae <umbrae@reddit.com>
Date:   Mon Jul 7 17:50:05 2014 -0700

    Add first cut of feature flags via `r2.config.feature`.

commit c0bff7498bc6f464c3fc591b7c780bae19f278dd
Author: umbrae <umbrae@reddit.com>
Date:   Thu May 29 04:32:34 2014 -0700

    Support 'all' in compute_time_listings

commit b840c6e1978ac3e5ab663cb0e843e0bc1b4c525f
Author: umbrae <umbrae@reddit.com>
Date:   Sat May 31 05:51:14 2014 -0700

    Make time_listings defensive against bad URLs

commit c47c69729343a735115ace4b9b677ad0b49c9e0b
Author: umbrae <umbrae@reddit.com>
Date:   Sun Jun 22 20:28:30 2014 -0700

    Add optional controversial indicator to comment scores
    
    Conflicts:
    
    	r2/r2/lib/pages/pages.py

commit 68857e1a7dd74d7d8f1e3e7eec6b8f39fe1ab5f8
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Jul 15 15:05:35 2014 -0800

    Remove gzipping of static files.

commit a47349bdc26b331fcc51c1af98843d87d0709378
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Jul 15 15:15:45 2014 -0700

    Remove separate secure_static_domain logic.

commit 3052e0ef237f229066ac47bdb25c07cc249d656b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 23:16:50 2014 -0400

    Link.wrapped_cache_key formatting cleanup.

commit 1660618b28fce1d30eb9f3cb6b92281773adaf53
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 23:16:29 2014 -0400

    Remove date from PromotedLink render cache key.

commit 7a372e5405968177d7eb63de42043c671a16c7e2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 23:08:36 2014 -0400

    Link: be selective when adding ignore_reports to render cache key.

commit 7056365ee587f6e92e8ce8167197e63b8ebcfad4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 26 15:13:09 2014 -0500

    Comment: Use CachedVariable for num_children.
    
    This makes it so cached rendered templates are not invalidated
    when a comment gets replied to.

commit 64e1917a7d10955e6c9ef9cba887616f9b0b8297
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 02:22:01 2014 -0400

    Exclude media_object from link render key.

commit 19fb4df817f309c1944f9228900503c80e701dcd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 01:01:40 2014 -0400

    Add fresh to Link.cache_ignore.

commit 6d455a33f52cf860db85e8a0725fc2b027dd5ecb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 02:03:48 2014 -0400

    Add keep_item to Printable.cache_ignore.
    
    It's getting set by Wrapped.__getattr__.

commit 7ba3b6a0dd3f3a53a52efe93dd17ee8fddb9e3b1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 02:00:00 2014 -0400

    Add should_incr_counts to Printable.cache_ignore.

commit e03746d747f61b2e039a18d805b18f4538329565
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 01:57:39 2014 -0400

    Delete unused Link.urlprefix.

commit af8850ee2f3db68d264badf997affb279b3efa8e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 01:56:03 2014 -0400

    Add upvote_ratio to Printable.cache_ignore.

commit f1aab58014da0837ed6b59c0c1310e8de898fbb2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 01:11:19 2014 -0400

    Add reported to Wrapped render key item only when needed.

commit f5310fa28cd1486cb513db33c485e9f137b7bee9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 01:03:16 2014 -0400

    Use CachedVariable for Printable.rowstyle.

commit a542ae2abceb7fd18a4b9c6926ddd51315face56
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 01:02:26 2014 -0400

    Printable: cache_ignore num, it's handled by replace_render.

commit 3660aa5598e19b54d22e5064826c61bfd573f056
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jul 12 03:25:34 2014 -0400

    Fix Link.num CachedVariable usage.

commit 88b76b0221c75876775d47bb2504513f8a406bbc
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 03:28:02 2014 -0400

    Subreddit.wrapped_cache_key: don't double add _spam.

commit bfaa7beef516673377c1a278e66de08b9bd5ea8d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 01:00:43 2014 -0400

    Subreddit: cleanup description in render key.

commit f6d4c23c04097b5f1d8cd0a119667c40de826276
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 2 01:51:10 2014 -0400

    Don't render cache json templates.

commit ac31d02a3cc77fd34cef6445b3dcdf80373fbaa1
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Jul 10 20:06:23 2014 -0300

    Make sure deleted users show up as [deleted] in RSS feeds

commit de8f0c582267bfbbedb38510c5b517fe846d0fa0
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Thu Jul 10 19:07:37 2014 -0300

    Hide expunged selftext in RSS feeds

commit 021abc3f89b3f5e415bfaab5623917ce30dccdc7
Author: Andre D <Andre@andred.ca>
Date:   Mon Jul 7 14:06:09 2014 -0400

    wiki: Wrap table of contents child ul in li.

commit 23f8ef4213d6cd1b42af83801a6578bb68b088e3
Author: Jason Harvey <alienth@reddit.com>
Date:   Wed Jul 9 12:50:25 2014 -0800

    Remove unneeded execute permissions.

commit 0c3288baa3ed6db0e08f6f7ebd1b33f799ed9980
Author: John Eckhart <jeckhart@yodle.com>
Date:   Tue Jul 8 19:10:53 2014 -0400

    Remove reddit-ie6-hax.css and reddit-ie7-hax.css from the Makefile.
    
    The source files were removed.

commit cc93e5974e94dbff7c154a994abb16e740f07229
Author: Julien Desfossez <jdesfossez@efficios.com>
Date:   Tue Jul 8 15:42:08 2014 -0400

    Fix: URL type for geoip_location.
    
    Fixes this error message in the default configuration:
    reddit-paster: Failed to fetch GeoIP information: URLError('unknown url
    type: 127.0.0.1',)

commit 9fad18be835312abb6f1d3eb1a485a2b8768dea6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 7 14:48:16 2014 -0700

    Use ModeratorMessageBuilder when viewing a modmail permalink.
    
    Previously had been using UserMessageBuilder which does not include
    replies when viewed by moderators.

commit aea35319f5f4760986bd2c767ed22e3134b108e7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 7 22:52:03 2014 -0400

    Don't allow friend api operations on FakeSubreddits.

commit 6ac3be20321907e3a8bd9fe82412ec90153138c0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 7 13:22:49 2014 -0400

    CoinbaseController: return 200 response on webhook exception.
    
    Coinbase will silently disable sending webhook notifications if it
    receives too many 403/error responses.

commit f77ce9560fa95302f6751f530354e7a99aab0e95
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 2 16:26:33 2014 -0700

    populatedb: Use queue_vote interface for consistency.
    
    This reduces coupling to the implementation of votes.

commit 2947669c36a05b7e4ce4d42a8e2ffe38f4577828
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 2 16:05:05 2014 -0700

    Remove branches for skipping queuing when no AMQP host.
    
    An AMQP server has been required for reddit for a long time now and so
    these branches are stale and dead.

commit d5d6dff7d2e1af48cfd848be8d71e54ef8631df2
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 2 15:51:56 2014 -0700

    Remove unused ValidIP validator and is_banned_IP.

commit 0b05688632c4bfb3458328fee51c84ab575d7697
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 2 15:09:32 2014 -0700

    Drop logging of votes by "suspicious" users.
    
    This isn't used.

commit 7c1258363cb8c68ac750ece3d36098798f782935
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jun 24 10:26:41 2014 -0700

    Make S3 region configurable.
    
    Useful for reddit instances not in the US region.

commit 21041360e0eb3021d12e24a6aa848375b324992f
Author: umbrae <umbrae@reddit.com>
Date:   Thu Jul 3 15:59:12 2014 -0700

    Remove old IE hacks as they're no longer supported.

commit b8eca793e35d73759e2f0b186aa405acb72572ad
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jul 7 10:38:28 2014 -0700

    /dev/api: Document GET_spamlisting

commit 7fe74abcc65a2ad6e6df7053e31f9e815fffeb58
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jul 7 10:13:30 2014 -0700

    OAuth: Add spamlistings

commit 0d2a9cf947d93b84104b9feeebc87c1877fd9ebc
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Jul 8 11:09:07 2014 -0300

    Mitigate "Rosetta Flash" exploits for users with outdated Flash
    
    See http://miki.it/blog/2014/7/8/abusing-jsonp-with-rosetta-flash/ for details

commit 256e0719d171c5d842173bfd49fc4df154daf845
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue Jul 1 04:48:01 2014 -0300

    Add a crossdomain.xml policy to the robots controller
    
    This stops user-controlled sub-resources (like stylesheet.css on
    opensource installs) from being interpreted as crossdomain policies
    
    See: https://www.adobe.com/devnet-docs/acrobatetk/tools/AppSec/CrossDomain_PolicyFile_Specification.pdf

commit c106bb738ebf1f285fdd578afe77c7093580938f
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Jul 7 14:02:09 2014 -0800

    Exclude items from opt-out subreddits in top and controversial sorts.

commit 7d4168ac9a23f6b011e0b76ba731875506708700
Author: Jason Harvey <alienth@reddit.com>
Date:   Sun Jul 6 23:26:03 2014 -0800

    Allow subreddits to opt-out of /r/all.

commit f422e1b005abcdffb526cfc42d84bf1b1a69bec9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 2 01:33:13 2014 -0400

    Menus: fix cachable_attrs typo.

commit 35a93a3994a5018876c6021a75d86da083254d60
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jul 3 14:02:52 2014 -0400

    Fix PostButton.cachable_attrs.

commit 0f905c75ca38cd29e2ee19dc947e8fa3c6076cac
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 2 01:22:26 2014 -0400

    NamedButton: fix dest selection.

commit 6e35631a9b5ca1e0ab4ef52cfcdfd303a61136c4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 20:40:36 2014 -0400

    Add css_class to SubredditButton and OffsiteButton cachable_attrs.

commit adee8347e18a0f20eac57b90e5b7df739af644ab
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jun 22 16:08:19 2014 -0700

    Replace closure compiler with Uglify.
    
    Uglify is 2x faster than Closure Compiler at minifying our JS.  The
    resultant output is slightly larger than CC's when ungzipped, but
    slightly smaller when gzipped.

commit edc3c03d4f2ecbf93b7b78cd8dca58537d4bd9d7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 20:31:27 2014 -0400

    NamedButton: pass css_class to NavButton constructor.

commit f2367d4ae969e13e0f7eff130903958c7c2333de
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jul 1 17:42:27 2014 -0600

    Removal message: add date/time info in tooltip

commit d7af2a5b288da4354348ec42fcbd9c0eeea4554c
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Jun 11 15:14:40 2014 -0300

    Hide private SR details on RSS error pages

commit c42f86dac1de4cbf9575eafb2ebf848201a0b4e9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jun 27 03:24:36 2014 -0400

    menus: Clean up imports.

commit 9a3b904c5ab93267865aa2b294f177efae6a1db4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jun 25 19:08:41 2014 -0400

    Mark "admins*" text for translation.

commit 0d239e1f6ebbf0997186f8e39cd02ed032572cd9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 23 16:39:43 2014 -0400

    Delete unused heavydrop navmenu type.

commit cf5057e8cc8558844248910dbb709a6c26c8e081
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 23 16:36:52 2014 -0400

    Delete unused multicolumn navmenu.

commit 447a49ebda31589c989d74afb8ce9dae854ce11b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 23 21:43:12 2014 -0400

    Set cachable_attrs on all buttons and menus.

commit 284296ee20fa9ff9602bafa3b7fc375a5e219c1b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 23 16:31:36 2014 -0400

    Untangle menus and buttons.

commit 25ead65cf0ee5b12a12dbe1b07982b6f0472c6c6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 1 05:56:32 2014 -0400

    Delete unused selected argument in adminbar.html.

commit 93ee2babb305712ad3e22385514ede4a3c392456
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 19 23:57:37 2014 -0400

    Move setting can_flair from builder to Link.add_props.

commit 9a3e6accd417c91b733759cd6b9c7ec9e1752e46
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue May 6 15:20:05 2014 -0400

    Remove user and link flair from universal render cache key.
    
    Instead set as needed on templates that use flair.

commit d6f257401ab4671ae13f086f5953ecf0957da6b8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jun 20 00:45:15 2014 -0400

    Cleanup wrapped_flair.

commit f51b77a13960e329b606aa6b3344dad892a8ae59
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jun 20 00:09:27 2014 -0400

    User flair is disabled on FakeSubreddits.

commit fc47f863a5e56d4d387ff9a0734d9c34f05c771b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jun 25 20:43:05 2014 -0400

    Comment.add_props: only set full_comment_count on profilepage.
    
    This avoids invalidating render cached comments whenever the link's
    comment count changes.

commit 2120938be96de8a09832faf5f800620bbdf63abd
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 26 16:58:08 2014 -0600

    Messages: don't mark read when viewing one message

commit da610fe3798fdd26034ee45a6f69bed2ebf6f925
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 26 15:06:07 2014 -0600

    utils: Remove unused spaceout function

commit 53f8d3d959b5b9c1cfe5c2584bde0553d5e5a6f2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 26 18:54:22 2014 -0400

    Don't let users pay for an ad that has a too early start date.

commit 74fbe8fe460ad3fcb7ac064a0b80b8bdd214cfe0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 26 20:29:59 2014 -0400

    Reduce client side comment ratelimit.

commit 412bdf231239ac36244630e62cbad07d09afca11
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 23 11:32:51 2014 -0400

    Track render cache hits and misses.

commit dab96714bfc124385e5e1a22ebea2b3b00a3cdcd
Author: Lawrence Craft <lawrence.craft@gmail.com>
Date:   Fri Jun 27 23:29:16 2014 +0100

    Fix sort links on profile page.

commit a5e8661fba199198f1aca0cc8356cd149e0549dd
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jun 23 15:36:27 2014 -0600

    Contest mode: add infobar to comment page

commit b0bc3c4f2fc0380ecee2e60224e25c16a623df55
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jun 23 12:18:31 2014 -0600

    Contest mode: support score including only upvotes
    
    If a subreddit has the "contest_mode_upvotes_only" attribute as True
    (currently must be set manually), scores while in contest mode in that
    subreddit will only include upvotes.

commit 1c6128702f5198e3fa27d9a7040e7072ece3141a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jun 23 12:17:59 2014 -0600

    Contest mode: sort by "top" for moderators

commit e797df7a97567c883604274f0d5e3f5a30fb67b5
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jun 24 11:20:57 2014 -0600

    Prefs: fix "don't show me sites..." label

commit ffbbeff0627a02a474ae255203c06706de07fb72
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jun 24 11:13:36 2014 -0600

    Prefs: remove some obsolete i18n strings

commit 99b9048d6a9583cbcdab1a96bd2bfa108fe844bc
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 19 13:28:44 2014 -0700

    API: add upvote_ratio to Link if on permalink page

commit c0f04090ca0dd2af6eb04e9e935da76aaf126551
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 19 13:17:32 2014 -0700

    Change "like it" to "upvoted"

commit 7b034e29dddcbc45ac410e517839ccaf4d1793d1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jun 15 11:45:38 2014 -0400

    Don't render cache WrappedUser.
    
    It's almost always embedded in something else that's cached.

commit d1f4b40e540e977dc1be9dbd651434fda33316cb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 19 12:31:47 2014 -0400

    Don't explicitly render WrappedUser in printable.mobile.
    
    The mako_websafe filter will do that.

commit 8bb83da13fdc6795eb11895baa5275dde7499c41
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 19 12:08:15 2014 -0400

    Don't explicitly render WrappedUsers in comment templates.

commit 69240abeee0b01b13605b4b30916eec6f7ac68e6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 19 10:37:59 2014 -0400

    Let moderators include a message when banning.

commit cb1e1e4021d5917ae5f92e063ac8dcf45f56c77f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 23 23:03:30 2014 -0400

    _ThingSavesBySubreddit: Get more saved values.

commit ac836464200fdac1f2d646066977b5e8e35e7592
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jun 11 13:51:57 2014 -0400

    Add a notice when localized default subreddits are used.
    
    Also let users opt-out and see the global default subreddits.

commit 81ee37064708d166c78c3d8047ce9da408f231d8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 12 19:40:41 2014 -0400

    Fix if statements in prefoptions.html.

commit 51ff66a2712203cd373be165819b5a461f2eb48d
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri Jun 13 00:07:40 2014 -0300

    Add VModhashIfLoggedIn validator.

commit 3344ff05a1e1e1f86b7baa1cee903812ccfadd46
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jun 15 11:04:11 2014 -0400

    Don't render cache UserText.
    
    They are usually embedded in a Printable and will get cached
    as part of that entire object.

commit 7774e08ac436e99ff2ee5b28bdf348a95fd7a19d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jun 18 15:15:50 2014 -0700

    Unsafe UserText link_childs.

commit facd57bca307634fcbe5f6b697fc62083586859d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jun 15 10:32:28 2014 -0400

    Don't render cache PrintableButtons subclasses.
    
    This includes BanButtons, LinkButtons, CommentButtons, and
    MessageButtons. These buttons templates shouldn't be cached on their
    own because they'll be cached as part of the Printable template
    (Link, Comment, or Message) that they're embedded in.

commit 6d37398c41181922cb42745d27065fc5215176cc
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jun 17 15:48:37 2014 -0400

    Add Styled.template_hash.

commit 4fdf5c30fa874effb137fefe6468e08d0e9f876b
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Jun 19 16:05:30 2014 -0800

    Add "edit stylesheet" button to mod tools box.

commit fda52cfbb6f01224f6b19ab34b215d31a2ae56c8
Author: Matt Lee <matt@reddit.com>
Date:   Tue Jun 17 02:11:39 2014 -0700

    Move WikiPageIniItem from gold plugin.

commit 4ad980fc43ce4c9dab4edacd887a0d8f5d17222b
Author: Matt Lee <matt@reddit.com>
Date:   Wed May 7 12:39:57 2014 -0700

    Move advertising page from core to about plugin.

commit f823d37cf83b846c4c3d0efb9886e5e8f8401605
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jun 18 14:51:21 2014 -0700

    Link: don't hide new link scores for mods

commit d2368286dfc5138ddee912767fa75876cd1d1e48
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jun 17 15:42:33 2014 -0700

    "% like it": get value from compute_votes

commit 8c9ad4e2f600f4aa608ff1ee9ca0691b7d5373ed
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue May 20 17:15:00 2014 -0600

    Stop displaying upvote/downvote numbers
    
    This removes all displays of specific upvote/downvote numbers through
    both the site and API, and only displays score.
    
    Due to the API not previously including score for comments, all apps
    were calculating the score themselves by doing ups - downs. So as to not
    break everything, we now pass the score as the number of upvotes as
    well, and always say that there are 0 downvotes. This should result in
    still showing correct scores, but will make it look like nothing is ever
    being downvoted in any apps that expose ups/downs.

commit b049edc5c148b678ae4ec9d86e1612f7f46e81e7
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue May 20 16:56:22 2014 -0600

    Comment JSON: add score attr

commit 95be3639032e9989d1ce5ed678d76c8130516bed
Author: umbrae <umbrae@reddit.com>
Date:   Sat May 31 04:25:44 2014 -0700

    Controversy: be defensive against negative ups/downs (bad data)

commit 6ced69c7628a49948ac7248e3eb7fcd0bdb81286
Author: umbrae <umbrae@reddit.com>
Date:   Thu May 8 09:05:21 2014 -0700

    Update controversy algorithm to take magnitude more into account.

commit 1be0d1ee549c127cf04dd2b114d55b2fc1b55c1e
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jun 17 16:05:40 2014 -0700

    Query cache: allow non-thing first arguments.

commit 1218da2b14b3c44f4c1611e33c1f815803ea2990
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jun 12 14:46:50 2014 -0700

    Query cache: redo how sorts are determined for abstract queries.
    
    Abstract queries being ones that don't have a postgres query backing
    them.
    
    This allows for different sorts to be returned based on the parameters
    to the function rather than the sort being fixed at decoration time.

commit 43c4460e12ca3b119dd9843f00efe63f16864ccd
Author: Roger Ostrander <reostra@reddit.com>
Date:   Mon Jun 16 17:39:28 2014 -0700

    POST_report:  Only allow recipients to report messages

commit acc080ec3c9db6742619bbfee51f03882b38abf1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jun 14 11:57:44 2014 -0400

    Don't show "show replies" on profile pages.

commit 11579d0f4ebc2f71024282faa6260e858c6fa484
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jun 15 08:58:34 2014 -0400

    Cleanup GET_random and use Link.keep_item.

commit 1038e15274aee0db0418825085cae52f6e9d355d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jun 14 18:16:33 2014 -0400

    Use regular keep_fn rules for organic links in spotlight.

commit a6e94fdeb2a1748a24f07179791b8df9e446d25d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jun 17 13:07:29 2014 -0400

    Fix PrefApps's use of deleted Templated.call().

commit 01247b765681595c3d6b5df98353a944d0cebd36
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jun 15 08:39:08 2014 -0400

    Fix render_nocache call in JSPreload.set_wrapped.

commit 12610d00d7c2d25a9d16b42af6018c23485960df
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 30 16:47:10 2014 -0400

    Delete unused Templated.call().

commit 8b60023d62369848d54533a17ae187f370f22030
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 30 16:46:31 2014 -0400

    Styled: define template() to retrieve def from template.
    
    This lets us stop passing around attr everywhere.

commit 2181de254525a02c4beaacf2eed6aac3829fcfa0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 30 16:39:26 2014 -0400

    Wrapped: don't pass around attr parameter where it's not needed.

commit 69ed4ef5810c80858fa24eeb220af68d4bb881bf
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 18 19:33:09 2014 -0500

    Remove UserTableItem template hacks.

commit 733d90c8fbcab13a2857b189c892ba9d52c4da1c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 18 19:31:10 2014 -0500

    insert_table_rows: Operate on full html row.
    
    Previously had been using lists of html cells.

commit 480503782c0aca5c76e01c9bbf4f14ae09f839d5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 18 19:29:14 2014 -0500

    edit_campaign: Don't use insert_table_rows to insert editor.

commit fd8bce40f1ebf9a32cc532c3068b420951c1b5d5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 9 11:24:31 2014 -0400

    Replace empty_listing with add_child_listing.

commit 9411e2169e299e0dabc2de78249b6474ba0b9041
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 9 11:07:22 2014 -0400

    Set parent_name on listings for deleted comments.

commit a8760311ca2777e65a3bfe2a7b628988aa7bf3aa
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jun 10 08:31:44 2014 -0400

    Send a verification email on account registration.

commit 055e2350820eb24f9487d7177a279dbe66c84f38
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jun 11 17:37:56 2014 -0700

    Add hooks for new Link and new Message

commit 8eb844942f938ee9301151d714d7ccf0232dfa63
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri May 23 23:12:48 2014 -0600

    Subreddit: add hooks for add/remove moderator

commit 471175c75e94e77b8e0fde940386f4f9885a3b1c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jun 10 11:35:51 2014 -0400

    Display subreddit server seconds stat on gilded listing.

commit c18dcac467118add7cec6582c6984c47fa11b3d1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 2 17:33:34 2014 -0400

    Add subreddit gildings backfill script.

commit 9f2c8511bca2c9915b772de8c5f2113d74256610
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 2 16:20:36 2014 -0400

    Add Subreddit.gilding_server_seconds attribute.

commit fb32d88b8da1ced8cab733de8f09ab151b70b11b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 5 02:10:30 2014 -0400

    Move server seconds logic to gold.py.

commit 9f3540a9e96b85110c1f90c5c0944890024a936e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 5 05:07:30 2014 -0400

    Add optional infobar css class.

commit da6e1e9e734e4dcad6e2dc9303a4279fe7a39959
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jun 9 10:27:49 2014 -0400

    Set up some context variables when using an oauth controller.

commit 8946f7729e9a8900a24f50e092fe34a9210b22ba
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 6 14:34:58 2014 -0700

    DenormalizedRelation: add support for TTLs.

commit 8c9fc0ebcf4c17bfcafb4edbc9a3e5e198dc7a5d
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 6 14:32:32 2014 -0700

    DenormalizedRelation: add missing will_write decorators.

commit 92cf97281ecb7d25e67f306b6814290abb22b86c
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 6 11:41:57 2014 -0700

    Generalize .pretty-button to non-anchor elements.

commit d4dd684e11fe5bce80afcf670e0abb0936675070
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jun 4 10:27:23 2014 -0700

    CSS: Separate mod-specific styles from accept/leave box styles.
    
    This is for the subreddit moderator pages but applies to contributor
    pages in liveupdate.  The little moderator shield icon is the only
    moderator-specific style and so this is split up to allow the general
    part to be shared.

commit 6f1183bdeea60173bd0720847248fcf762b9beca
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jun 3 17:04:41 2014 -0700

    example.ini: Add liveupdate invite quota to example.ini.

commit 1e20f9fce6c279d4ea59d22bf02b05ec46006373
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 5 19:19:24 2014 -0600

    Replace gold_creddit_escrow with creddits_lock

commit bb6e9a0f9ed6348e6a49b79b02c0a9bfb860055c
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jun 4 18:02:29 2014 -0600

    OAuth2 API: add scope/endpoints for using creddits
    
    This adds a new OAuth2 scope, "creddits", and two endpoints that use it:
    
    /api/v1/gold/give/{username} (with optional months amount)
    /api/v1/gold/gild/{fullname}

commit 315f7f7a75b274dd8eae643b42ba5a8a92f65e0e
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 5 20:14:30 2014 -0600

    markdown_link_slow(): escape brackets

commit 0be106007009724bcc91dcc062f6d91e9e1355ae
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 5 20:13:13 2014 -0600

    markdown_link_slow(): use _force_unicode

commit 2c7d910cb29224a26a1524f88fe58f596b5417b4
Author: Andre D <Andre@andred.ca>
Date:   Mon Jun 9 15:08:33 2014 -0400

    wiki.compact: Add a basic read only view.

commit 6964599f2551e8b1c0e7ad904ef83bab12c389d0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 5 07:59:12 2014 -0400

    Add location to pagecache key.

commit e68a71502dc726905cea2647010a9302c73dfc5f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jun 4 18:45:25 2014 -0400

    Add location to SubredditTopBar render cache key.

commit ab7ddd6fefacb384dd10ec59fe2bb77158534b71
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jun 4 18:10:48 2014 -0400

    Let Subreddit.default_subreddits be called without request context.

commit 8932e310e16a9cb49ed60bc51c8d67d6aeece26a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 26 17:45:46 2014 -0400

    Add LocalizedDefaultSubreddits and hook into default_subreddits.

commit 476c0609743acf33251d77da6987113748a33926
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jun 4 18:04:51 2014 -0400

    Add get_request_location method.
    
    Sets location from Edgescape header or from the request's IP
    using the internal geoip service.

commit 0d32e09db1dc6bb56507928f8cc41d6286885317
Author: Mustek <imustek@gmail.com>
Date:   Fri Jun 6 00:16:16 2014 +0200

    Include the Number inputtype for pretty form.
    
    @reostra

commit 2ac46d032c3bb56230bc2c93f61ba2c974ff9128
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Jun 2 20:33:02 2014 -0300

    Add request.host to Wrapped's cache_key for SSL.

commit 936c52c86211310b13310156e4e2dcaf2677f6ff
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon Jun 2 20:14:56 2014 -0300

    Revert "Include reserved subdomain in render cache key."
    
    This reverts commit f1aefd25b07cab25c8066aec2ba802d38fb9e504.
    
    Broke RSS feed links and a number of other things in subtle ways

commit 4608b8df2bee51177706c4eae1a49400a7619129
Author: Neil Williams <neil@reddit.com>
Date:   Sat Jun 7 14:00:18 2014 -0700

    Revert "Add location to pagecache key."
    
    I shouldn't have pushed this up yet. Prerequisite commits aren't in
    place. My bad.
    
    This reverts commit 44e4803f412d33b00f9503d7fca43ded32d4a7e8.

commit 44e4803f412d33b00f9503d7fca43ded32d4a7e8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 5 07:59:12 2014 -0400

    Add location to pagecache key.

commit e282505deb0010c962d8e6882fa72088b9197c35
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue May 27 15:08:24 2014 -0700

    tdb_cassandra:  Add support for TimeUUIDType column values

commit dc68b167768ab3b02d95009ead7c650d706e535d
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue May 6 16:17:10 2014 -0700

    Trylater:  Enable temporary subreddit bans

commit 9599656ac82b41de6851679f6ad89c8221f3bcd8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jun 4 16:10:16 2014 -0400

    Add popular subreddits to top bar if user has few subscriptions.

commit 1e3964d182abdcfb7926362eb682e1578b37bf46
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 9 10:14:53 2014 -0400

    SubredditBar: Don't include popular subreddits if user is loggedin.

commit 0cd887bf99a8c71d4a7db2fcb5ee811f3e03e5c0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Apr 7 14:58:08 2014 -0400

    Delete unused Subreddit.is_subscriber_defaults.

commit fbb48b3c9d4d07f0727e65f62bc905a164b16a4d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Mar 27 22:24:33 2014 -0400

    Subreddit.add_props: only call default_subreddits when needed.
    
    Also some cleanup.

commit b14a0c145a5b23195a6c8b47addc8a5956d563f0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 26 17:59:08 2014 -0400

    Remove `limit` keyword from default_subreddits.

commit c9cf4637eb70fcba59fc685ebeeedb04bd6cceb4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 26 17:53:12 2014 -0400

    Remove `over18` keyword from user_subreddits and default_subreddits.

commit 3b7bd6a053736932a451bed60dd71e86ea27f3da
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Wed Jun 4 12:29:20 2014 -0700

    Fix "just now ago" on wikiview

commit b47dbb698c57791b0e3ae4c862a745dddc820538
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Wed Jun 4 12:27:40 2014 -0700

    Fix "just now ago" on usertableitem

commit 266eb76a9e450720d66684618d4966f4ba36e540
Author: ArrestedDevelopment <ArrestedDevelopment@users.noreply.github.com>
Date:   Thu May 29 18:37:17 2014 -0600

    Fix 'working-dir' in geoip.conf.

commit 671055ff9bb4a7ce2a962ee0406a3e41ed3320bd
Author: ArrestedDevelopment <ArrestedDevelopment@users.noreply.github.com>
Date:   Thu May 29 21:47:14 2014 -0600

    Remove '?' causing failed submission page redirects.

commit b04735c586e22e1c4fb5d3161cb16bf3293ed2a5
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 28 20:02:59 2014 -0700

    Move admin/sponsor/employee permissions to LiveConfig.

commit 56a8744d9cad6a296fe3bf841813f01c60b9ce38
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 28 17:23:30 2014 -0700

    ConfigParse: make choice-spec more consistent with dict.
    
    This allows "choice" to be composed with other types such as dict and
    removes the custom parsing bits in place just for choice.

commit 55cb63fd009b95c2556c776a2a397ae5d1d314ef
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu May 29 05:01:30 2014 -0400

    finalize_completed_campaigns: Fix query for paid finished campaigns.
    
    Thing._query doesn't filter as one might expect when doing a
    comparison of integer values becauase all data attribute are
    treated as strings.

commit e59c1b942c764f4ae75646b1a09f98d2572bcce5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue May 27 12:29:20 2014 -0400

    Check whether user can location target when editing campaign.

commit bad4a26e2dcca1ce451ccdb48063800063c2d86f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 28 15:02:33 2014 -0400

    promote: Construct urls with g.domain instead of get_domain.

commit b6c40456e4d985e5e29c1eed04a18e2d2f15716e
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Mon May 26 20:30:50 2014 -0300

    Don't reveal private sub details by hitting ErrorController directly
    
    RedditController will bypass a number of the c.site checks in pre() if
    it sees that c.error_page is true. An attacker may abuse this to render
    pages in the context of subreddits they couldn't otherwise access.

commit e159e888342b3c9366cd1898878ba1f1b90558f6
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sun May 25 01:09:49 2014 -0300

    Protect POST_spendcreddits from CSRF
    
    Previously no modhash was included and the passthrough doubled as
    CSRF protection. since `randstr()`'s output isn't cryptographically
    random, this introduced a CSRF issue.
    
    Add a VModhash validator and make passthroughs cryptographically
    random for extra safety.

commit 235e4e6add91c354735e68afa0a643e745f833a0
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue May 20 06:16:59 2014 -0300

    /buttonlite.js: Treat all requests as logged-out
    
    buttonlite.js will attempt to link to an existing submission if one
    already exists. This may leak whether a particular URL has been posted
    to a private SR that the current user happens to have access to.
    
    We normally circumvent this by setting c.user to UnloggedUser before
    outputting anything in a format that cross-origin documents may read
    (namely, JS.) buttonlite.js is a bit of a special case and marks itself
    as outputting JS inside the actual controller, so we have to handle the
    logging-out there too.

commit c6c51796cf00bd6977d1047ca98a1164500cd579
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue May 20 02:23:39 2014 -0300

    /api/flairselector: Fix permission checks to match Builder:wrap_items
    
    This brings the JSON API in line with the html templates, and plugs a
    private SR leak.

commit eb68c6b8567c563019605dd4b883e7ca07b6d258
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Tue May 27 22:48:32 2014 -0300

    Add c.secure and c.domain_prefix to CommentPane cache_key.
    
    This fixes people getting permalinks for en. while on www.

commit f1aefd25b07cab25c8066aec2ba802d38fb9e504
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Wed Apr 30 21:33:34 2014 -0300

    Include reserved subdomain in render cache key.

commit 25e20561d5bd2787fe9870af0ea52afedbc2f0d3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 28 09:28:06 2014 -0400

    sponsored.js: Correctly set/unset/check "disabled" prop.

commit 20f57a17eb1c3d6eca8cda56d25944bfa294bdf4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 18 08:13:06 2014 -0500

    Add GeoIP service.

commit ca0001aaacb25fa5e9159e47ae594e0f30d10eef
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Tue May 27 12:24:04 2014 -0700

    Bind flair submission form event to parent.

commit f048c2fdbce67af8a26c629e859db49b6d1cd5d3
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Tue May 27 16:12:56 2014 -0700

    Split redditstatic jquery by version

commit 0d1875cf70b6bc5e590102a7f4f7fe2e67f39d3e
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed May 21 15:41:13 2014 -0600

    WrappedUser: highlight banned usernames for admins

commit d0415a8f1cb5fef539940f5d731e28f80169d38d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu May 15 14:43:59 2014 -0400

    MultiRelation doesn't pass _defaults attribute to component Relations.
    
    Inbox and Vote were defining _defaults but all objects created from
    these classes are actually instances of their component Relation
    classes and have no way to access attributes set on the MultiRelation.

commit 076ab1b401e2d22aba8d84f7377d89695ea1205e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu May 15 13:45:57 2014 -0400

    Update new promo email to show 1 day grace period.

commit 71a212f0ff286a93e01084e8f97f01d3b994d9b2
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Wed May 14 13:31:51 2014 -0700

    Do not log certain client errors to server

commit 6e2a7c4c0460f8445f30b4389d551b9f36435f66
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Tue May 13 12:29:36 2014 -0700

    Send browser errors to logger and statsd

commit 5b9b07f1ed7cae8fb82faa61a616f9306441b942
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Tue May 13 12:29:15 2014 -0700

    Add patch to allow bad html in $()

commit bb19a1eb1048a07868b4203d6b2808a36e08e998
Author: umbrae <umbrae@reddit.com>
Date:   Wed May 7 20:38:24 2014 -0700

    Make `Subreddit.default_subreddits` defensive against lack of `c`.

commit 8752946c8ce373b404c85b3aad3b6ed9d4512511
Author: Matt Lee <matt@reddit.com>
Date:   Tue Apr 29 12:34:11 2014 -0700

    Update advertising page.
    Add Newsweek testimonial.
    Fix broken wiki link.
    Change order of testimonials.

commit 17913e25de29839ad0a73c1ddb05a4c9d39bc731
Author: Roger Ostrander <reostra@reddit.com>
Date:   Fri Apr 25 06:33:00 2014 -0700

    Admin notes:  Change old timestamps to hover-dates

commit 20bc58760d54a510ed0b5bfc0929fe1e7bf2c45c
Author: Roger Ostrander <reostra@reddit.com>
Date:   Wed Apr 16 17:50:18 2014 -0700

    Admin notes:  Add notes for users

commit 5dedacdb870f401de275510c556159bf861ab9bf
Author: Max Goodman <c@chromakode.com>
Date:   Thu May 22 16:26:35 2014 -0700

    Don't check import_private when running `paster standalone`.

commit 8020d3191fa86f194765f5680f0dea997d20fbfc
Author: Max Goodman <c@chromakode.com>
Date:   Wed Apr 16 16:54:53 2014 -0700

    Make private code import config and failures explicit.

commit 8a5f68533e19a603f157caad9077e29cf601ba57
Author: Max Goodman <c@chromakode.com>
Date:   Wed Apr 16 16:52:42 2014 -0700

    Move private-shadowed utils into separate module.
    
    This allows admin_utils to be imported at a later time than other code
    that depends on utils.

commit 0f73ef5edd907e54838b8c2b3acc3a61314ecd49
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Apr 15 13:11:23 2014 -0700

    Search:  Add a cheating check

commit 2c63c2399b0566e7d0b78dcfc5debaca2382517d
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Apr 14 11:53:08 2014 -0600

    Gold page: add short descriptions to options

commit 38e00232fe1a77150fd2f62686d83efd2a6cba26
Author: Max Goodman <c@chromakode.com>
Date:   Thu Apr 10 15:46:21 2014 -0700

    Minor trending comments link style tweaks.

commit 1c02d2e24ddf32199b8eca53949c4b5cc962fe31
Author: umbrae <umbrae@reddit.com>
Date:   Thu Apr 10 05:06:09 2014 -0400

    Trending: get newest *active* link.

commit d1881dc7500765efd664a7bade3085f2f3b69ca4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 21 11:33:42 2014 -0400

    Move comment deletions to commentstree_q.
    
    This will eliminate lock timeout failures.

commit e3be3f275183bbfdac7dc91e03054f616623fc58
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 21 13:25:16 2014 -0400

    Ignore "paypal_here" notifications.

commit 0993abe324066a5c98c327336658c005e09dd4c3
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sat May 24 19:40:40 2014 -0600

    Subreddit: Always allow mods to submit either type
    
    This makes it so that mods with the "posts" permission can always submit
    links or text posts, even if the subreddit setting would normally
    prevent users from being able to.

commit 4e1761c68864b27bf3b6ec716c68791d9816c7d0
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 15 22:45:50 2014 -0700

    JS: Add way to append language-specific data to LocalizedModules.
    
    This allows the plural forms expression and translated string data to be
    subsumed into this system rather than continuing to be special cases.

commit fc0808452eefb0e5856643bb74858e8d5bf40244
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 15 17:03:47 2014 -0700

    timetext: Factor out time formatting for overriding in children.

commit 9419e2e6b05340d7685fc0fa0a775f47a687a46b
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 15 17:03:33 2014 -0700

    timetext: Allow maxage to be set to zero to disable it.

commit eacae88bf9a183fa29060af6c7307d1855d0ce3e
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 15 17:00:06 2014 -0700

    timetext: Undo logic flip that broke times >1 day.
    
    During the move to core, timetext's chunk logic was flipped around as an
    optimization. This didn't actually work, though that's been unnoticeable
    in production because the maxage perfectly masked it.
    
    For a timestamp 32 hours ago, "1 day ago" would be the expected output,
    however "32 hours ago" would be displayed instead. This is because the
    chunk values are in seconds while they're compared against "count" which
    is the current unit-of-interest (hours, days, months, etc.)
    
    This reverts that logic to the original form which was how the python
    code works.

commit bc8cb49aa6d5c5bde9f3d40b110dcaa92aa76778
Author: Neil Williams <neil@reddit.com>
Date:   Sun May 4 19:54:11 2014 -0700

    Websockets: Remove escaping of data.
    
    This is not necessary and is inconsistent with the changes in JSPreload.

commit 3e954aad5406c207883d4619c2c93145c897e78d
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 15 19:28:29 2014 -0700

    TemplateFileSource: Unescape inlined templates when uncompressedJS.
    
    Since DataSource started being websafe_json'd when inlined in the page
    in reddit/reddit@013a29e221a4712c24f4982d8c32bba8da2e42cd,
    TemplateFileSource templates have been broken when uncompressedJS is on.
    
    This makes r.templates unescape the templates when in uncompressedJS
    mode.

commit efe14861ed092f6d457ea5e08cb5ac420db01b27
Author: Neil Williams <neil@reddit.com>
Date:   Sun May 4 19:50:44 2014 -0700

    Unescape data in Backbone.sync.
    
    Data put in JSPreload was escaped in
    reddit/reddit@013a29e221a4712c24f4982d8c32bba8da2e42cd to fix a
    potential </script> escape vulnerability.  However, this introduced an
    inconsistency where data fetched directly over HTTP from the API would
    be escaped while pre-loaded data would be unescaped.  This removes that
    inconsistency without propagating _.unescape calls throughout the code
    by moving the unescaping into Backbone.sync.

commit ccf85bb260ccade9e330b07e03a92a1d08a5139e
Author: Neil Williams <neil@reddit.com>
Date:   Sun May 4 19:47:55 2014 -0700

    JS Preload: Don't preload fetches with data.
    
    For GETs (which is all we do preload for), the data object is turned
    into query params in jQuery.ajax (i.e. after we've looked at url) which
    means we overzealously match preloads for resources with the same URL
    ignoring query params.

commit f5b13edf0a98d395be16f716ed54d98bd437e73f
Author: Neil Williams <neil@reddit.com>
Date:   Wed Apr 9 23:44:48 2014 -0700

    WebSockets: Add refresh event handling to core.

commit a3916c2633acd5d63b5c874607ad7646db891598
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Fri May 23 11:37:38 2014 -0700

    Add es5shim for old browsers

commit 52f334460c130a6d782621062786668b12c95ded
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Fri May 23 11:36:56 2014 -0700

    Separate jQuery versions for old IE

commit 50a467624e46a091ec5e8b6971b9167557801fa1
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Tue May 13 16:45:29 2014 -0700

    Upgrade jQuery to 1.11.0

commit af0ad364dd30354e5fad8ef6fa5813db9d13f9fd
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 22 15:33:35 2014 -0700

    Allow negative skew (device clock faster than server) in TOTP.

commit cedd0b4c083ae569c0ef5c2b22daf77995d0c19c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed May 21 11:05:30 2014 -0700

    Ratelimit: Support setting higher limits by client

commit d4ad214e4d4f61ea6f312548347aedd689e587a3
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Mar 17 11:05:17 2014 -0700

    Ratelimits: Ignore unavailable of ratelimitcaches

commit afd2de1ba0d9840aafb75c05dcb83d2c3ad85c68
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon May 12 10:04:04 2014 -0700

    [OAuth2] Add friendlier endpoints for friends
    
    PUT /api/v1/me/friends/{name} to add a friend
    GET /api/v1/me/friends/{name} to get info on that friend
    DELETE /api/v1/me/friends/{name} to unfriend

commit edaa3dba86532e242db84240e90a1a4c5bd0e4ed
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed May 14 11:50:26 2014 -0700

    /api/v1/me/friends: No need for backwards compat
    
    /prefs/friends for API consumers includes an empty
    list as well as the friends list, for JSON compatibility
    with the old format. No need for that here, so apply a
    minor shim to not have it.

commit c8ef40aef9eb58339710c1fa3073fd5c9d16d7e4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed May 7 14:34:33 2014 -0700

    [API] Alias /prefs/friends to /api/v1/me/friends

commit 4dba78ab8e294bb6ea0df559bf7e95eac0715423
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed May 7 11:57:58 2014 -0700

    Rename APIv1Controller to APIv1UserController
    
    All existing actions were user related.
    New API v1 actions can now be placed on new, specific
    controllers.

commit 85f9cff3e2ab9bb8f19b96acd8da4ebacc079f04
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed May 21 19:40:39 2014 -0600

    Scraper: add hook when thumb/object are applied

commit 3cb18ce93c50286748cb87e4ea9a9ff7b3359e14
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon May 19 19:16:11 2014 -0800

    Send password changed email regardless of verification state.

commit abf6f6e2c5102a87508c9ecf764c4ec62675fc54
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon May 19 19:13:13 2014 -0800

    Store a LastModified update on account password change.

commit 70b7c446c716c111f7bea8b0064391c79c88f4c0
Author: Alex Ordonez <ordonez.alex.pierce@gmail.com>
Date:   Tue May 20 05:55:10 2014 -0400

    Remove obsolete IE6sux and IEsux html comments.
    
    The reason for deleting these comments is to reduce costs by sending
    less meaningless bytes to users.

commit aed66f6c23198af8673e1f394e0dc71d2f2be619
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat May 17 16:12:43 2014 -0400

    Handle refunds for Stripe subscriptions.

commit 031f00c3e6d1a71116bb3ff37172df9159f75a7d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun May 18 00:48:50 2014 -0400

    POST_expando: check that a link was returned from `wrap_links`.

commit dc4bb72cc06d05cf04bc68b7e5b3a6ed213b40eb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun May 18 06:05:13 2014 -0400

    Move default selfserve budget to ini.

commit 190fc4e9b36101ec463014c0e9617df5b61678a4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue May 20 13:49:31 2014 -0700

    /dev/api: Fix duplicated notes about listing endpoints

commit ce8e884a48472a79e75552d128042d4c660a0b16
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue May 20 11:07:44 2014 -0700

    /dev/api: Fix POST_subscribe sr/sr_name param docs

commit 2e0627ece2527535161981a5a7a2ecf7dc0bd184
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri May 16 11:37:31 2014 -0400

    Handle cancelled stripe subscriptions from failed payments.
    
    Stripe automatically cancels a subscription the first time a payment
    fails.

commit 3fd8407606cff49a416c4f7f42ae63c1eb2b0920
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun May 18 01:03:44 2014 -0400

    POST_share: abort if there's no thing.

commit 7058edb2e3ccf2f93c39aada712513e93cf183d2
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 16 13:02:34 2014 -0700

    CSS Filter: Add outline-offset property to whitelist.

commit 43fb8e0a96c8f03f21e5ce671c836827e4b27c76
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Fri May 16 03:18:53 2014 -0300

    Escape HTML when rendering exceptions caught in ErrorController

commit 6ff383b1dccdd6539f643c57ae0804e0ce792d8a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu May 15 14:54:54 2014 -0600

    Report: don't block reports on archived items

commit b7b24d2e9fa06ba37ea78e0275dce86d95158e64
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Apr 21 19:17:53 2014 -0600

    Archiving: support custom age cutoff per-subreddit
    
    This consolidates the three previous globals of REPLY_AGE_LIMIT,
    VOTE_AGE_LIMIT, and REPORT_AGE_LIMIT into a single timeinterval setting
    of ARCHIVE_AGE, and allows individual subreddits to use an archive_age
    attr to override this default cutoff.

commit 1a2a51f338ea18a61e90e16ec1af8775e9034422
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue May 13 17:18:21 2014 -0600

    Suggest title: support og:title meta tag

commit 33116fdee20509642a67ac5de2455648bdad82da
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue May 13 22:32:54 2014 -0600

    Comment: hide gildings + distinguished if removed

commit e989a48ac3d19b948934be203bf68d7bad0104ce
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue May 13 15:06:13 2014 -0400

    Inbox.set_unread: Don't eager load things.
    
    They're never used.

commit 000c23db8d9f27038b8c9870d35af4b053018f1a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue May 13 15:01:14 2014 -0400

    Inbox.set_unread: retrieve data attributes and set new if needed.
    
    Previously the query had been not loading the Relation's data
    attributes so setting an object's "new" attribute was triggering a
    write regardless of whether the attribute was modified.

commit d17a3d92f7bb5bb88a53189754822fd882118227
Author: Neil Williams <neil@reddit.com>
Date:   Sun May 4 20:00:22 2014 -0700

    Turn off closure compiler error for trailing commas.
    
    The minified output will correctly have the trailing comma stripped for
    compatibility with bad old IEs and we can move on with nicer code as per
    the style guide.

commit 97f867d406f3f364ea9aa7882eecfd9d8575acb6
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon May 12 11:22:37 2014 -0700

    [API] Show number of gold_creddits user has

commit d12c2bd773003f26e6173cfe66e52bf9c0da51c5
Author: Andre D <Andre@andred.ca>
Date:   Wed May 7 08:57:15 2014 -0400

    ratelimit: Use 429 on login ratelimit.

commit c97079324a6df05ac5cd34b71729fba219857160
Author: Andre D <Andre@andred.ca>
Date:   Wed May 7 08:56:53 2014 -0400

    ratelimit: Do not ratelimit login if less than 3 seconds.

commit e4a2d3832841e1213a7fd9129584f9d049c96f8f
Author: Andre D <Andre@andred.ca>
Date:   Tue May 6 17:01:09 2014 -0400

    ratelimit: Fix login not having ratelimit seconds field in api.

commit 8ce79e97eedaeeb44f7c67b1822f5b54dc9295f5
Author: Andre D <Andre@andred.ca>
Date:   Tue Apr 22 15:02:12 2014 -0400

    /about/mod: Revert to old sorting behaviour.

commit 0eb138213504b7c0eac142c0404741991eb26f0b
Author: Andre D <Andre@andred.ca>
Date:   Fri Feb 28 14:27:41 2014 -0500

    site_admin: Remove mergability.
    
    This removes the prev_ fields in Subreddit.
    
    This fixes the problem of drift if there is an error
    between the wiki revision and Subreddit commiting.

commit 7b9153feb040b2baf619db28ec2fa0e3dd54e4d0
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue May 6 14:27:08 2014 -0600

    Subreddit settings: update allow_top label

commit efe7608de1be81de1fc88cec1bbd8929045c08c9
Author: Dakota Schneider <dakota@hackthetruth.org>
Date:   Mon Mar 17 13:16:24 2014 -0700

    Subreddit ban list JSON: Add timestamps

commit c72f08a15052bca1f85421c4beb6be43bc9c7952
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon May 5 16:42:37 2014 -0400

    Reset campaign to unauthorized state when its authorization hold expires.

commit db1f31af4efce5efb545a95a42dcaaf84faf582d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon May 5 16:08:52 2014 -0400

    Only put campaigns in underdelivered query if they were charged.

commit f153374897ad9b92223a3de9f2d29d954d9c3ef4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed May 7 03:02:42 2014 -0400

    Don't ratelimit comments by users on their own promoted links.

commit be1b4fb26526c2efd555635e16d9671414807cfb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue May 6 12:04:26 2014 -0400

    Thing: replace log_text with g.log.error.

commit 35b6090d4b83295af370015b851e8c0f3125121c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue May 6 12:00:36 2014 -0400

    Thing.__getattr__: don't be so careful about getting _essentials.

commit cab56cac7f6f0ed6355f99ef001100cd5e441978
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat May 3 15:19:07 2014 -0400

    Thing: Cleanup and simplify __getattr__.

commit 570923e074826f57dc0eabcb1b36d8427d91ecec
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat May 3 15:45:55 2014 -0400

    Thing: Remove commented out code.

commit 736467efcc8a9ec6fcc956760d50d81e8bf9562d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat May 3 15:44:13 2014 -0400

    Thing: Delete non-functional _asked_for_data.
    
    Was attempting to check whether Thing._byID had requested data
    attributes, but was always set to True by the constructor.

commit 43cda62f74a875c351c835108d4cd1baa96a635a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat May 3 15:17:57 2014 -0400

    Thing: Add __setstate__ method.
    
    Special handling for unpickling is moved out of __getattr__ and
    explained better now.

commit 480d72df2948be51f468ec7bcf5c23e324722629
Author: Alex Smith <CelestialWalrus@users.noreply.github.com>
Date:   Thu May 1 22:33:24 2014 +0200

    CSS Filter: Add some more properties.
    
    https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events
    
    https://developer.mozilla.org/en-US/docs/Web/CSS/image-rendering
    https://developer.mozilla.org/en-US/docs/Web/CSS/image-resolution
    https://developer.mozilla.org/en-US/docs/Web/CSS/image-orientation
    
    http://www.w3.org/TR/css3-grid-layout/

commit d8d04ade9abf7a5597035d59a57edf99330b833e
Author: Andre D <Andre@andred.ca>
Date:   Wed Apr 30 11:56:28 2014 -0400

    Fix "-->" appearing in IE<8 due to conditional comment syntax.

commit 2baea8d384fc405b275efe54066818e83461c6ac
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri May 2 14:56:57 2014 -0400

    Fix ValidCard validator.

commit 1afe26137bc9b019c51f89fbf8e8a1d712bfc5e8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri May 2 16:07:50 2014 -0400

    Add 'expired' noop event for CoinbaseController.

commit f8eb95297934a45a65c63696ae82542084475af5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri May 2 10:38:23 2014 -0400

    Use constant_time_compare for checking webhook secrets.

commit 70ed7c53cb9f6c935b238f55333f45448aef4966
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Apr 25 14:15:13 2014 -0400

    Add location to PromotedLinkTraffic table.

commit 8916206b4c277cdfa8b4101ed6e84751cd021589
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Apr 25 14:14:19 2014 -0400

    PromoCampaign: make location_str property.

commit d497cb2e48e5cfda451d022ffc5489c45c6ea80c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu May 1 01:26:39 2014 -0400

    link: Remove old TODO.

commit 6921f5ab035371afa66ff2488ee73993ab304145
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu May 1 01:26:10 2014 -0400

    Remove c.user.gold from render cache_key.

commit 90cfcaaecc56cf35e75824e69793fe596771d0d9
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 1 15:20:46 2014 -0700

    Update license headers to 2014.
    
    Ok, now I'm getting some angst in my commit messages like my
    predecessors had.  I understand now.  It's a terrible burden.  Why must
    the calendar progress?  Why must numbers increment?  The world is
    forever turning.
    
    The future is here.
    
    It is 2014.

commit fc607d09882bea3b4fe25a8115137c9c292908f8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 30 16:04:45 2014 -0400

    authorize: Don't swallow socket.error.
    
    Exception in make_request was being caught but then instead of
    handling it a generic value of `False` was returned, which would
    be treated as a valid response by the calling method.

commit b9790bfeca69f282cc422244f785b318a16ba80f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 30 15:33:05 2014 -0400

    authorize: Delete old TODO.

commit 0ac4d303456ecbddac03037fc8378bb16a449949
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 30 15:21:46 2014 -0400

    authorize: Don't include request in exception.
    
    This could leak information into our logs.

commit 88f2c264aa1bdf17144b94f0f40eaf72fe385efb
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu May 1 09:52:19 2014 -0600

    Gold payment form: update label for using creddit

commit a91323a64250bdcc730309b0e15d2db70f581da0
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Apr 30 17:14:42 2014 -0600

    Creddit reminder: only show when gilding

commit 3e118f01b3b4d45ad3683056a27b92b665d7d695
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Apr 14 10:55:18 2014 -0600

    Gold: Support purchasing codes by loggedout users

commit 18efbd48f7298a81e201f1b21c5c58fb2213d6a9
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu May 1 14:12:23 2014 -0800

    Remove `active` SQL view.
    
    This view is only used operationally, and is not germane to the app schema or design.

commit fd0645a7cb88111a310cc6d36d253d1ea1587ffc
Author: dredmorbius <dredmorbius@gmail.com>
Date:   Thu May 1 08:42:40 2014 -0700

    CSS Filter: Add "counters" keyword per CSS 2.1 spec for CSS counters.

commit 32586deef6ca533a6a229e61dde27d7de7b0a7cb
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Apr 28 21:32:54 2014 -0800

    Remove login_throttle() call.

commit c275ab25a0845f227b053fb88c673899d670ab16
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Apr 29 12:35:54 2014 -0400

    sponsored.js: Add error handling for get_check_inventory.

commit d81795689ae830edb310cea6504fea74c7f3235a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Apr 28 17:58:45 2014 -0400

    Use no location when targeting is disabled.

commit d61d970f44884024e379e054601d456bde7ba9d8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Apr 28 17:28:03 2014 -0400

    Only permit sponsors to check location + target inventory.

commit 499e4ac4990f053825cfacd246efe2fd966b8f14
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Apr 25 11:06:50 2014 -0400

    auth_transaction: Remove rotted test logic.

commit beed1bc8fd6ef51faf6b153feafc5ed97cc1b6eb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Apr 25 01:37:35 2014 -0400

    Cleanup POST_update_pay.

commit 6a1036142d867f92ebbc72999a6ffea3112f86d7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Apr 25 01:37:14 2014 -0400

    Handle AuthorizeNetException in edit_profile.

commit 157c827a7ce228272a7fd56547cc243a9e77e012
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Apr 28 10:45:49 2014 -0400

    promotelinkform: Increase default budget to $50.

commit f83f46936b525af1cf0ec7d8453638aef0e79f53
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Apr 25 11:32:27 2014 -0400

    Record rejection reason in PromotionLog.

commit b907de04bd4f725bb052b497c7f1ce2b56857466
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Apr 24 06:10:31 2014 -0400

    charge_transaction: Check error value from _make_transaction.

commit 41129145db4040043626c451359e54f6f7775087
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Apr 24 05:44:42 2014 -0400

    Disallow creating campaigns starting more than 30 days in the future.
    
    That can create situations where the authorization hold expires
    before being charged.

commit 1af36dad3f6af5875ef1f28a4ecd99b0ae46a639
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 23 14:34:38 2014 -0400

    emr_helpers: Avoid calling describe_jobflows() with no filters.
    
    Replaces a catchall call to emr_connect.describe_jobflows() with
    calls that specify states or jobflowid. This will reduce the size
    of the response, which AWS has warned could trigger 400 errors.

commit 8a52edc146c593ba62a808cb323a4e31a175f37d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 23 14:41:58 2014 -0400

    Delete unused describe_jobflows_by_ids.

commit 67eefd3a0514689787d206500e2db3e9dfeb1af5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 23 15:38:02 2014 -0400

    VLocation: strip out "null" values.

commit d23ee7ab9859f0849d25e1952b7f04219944738e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Apr 28 10:06:27 2014 -0400

    Retrieve deleted users with paypal gold subscriptions.
    
    They won't get any gold but the event is logged so the subscription
    can be deleted. Respond to paypal's IPN with a 200 rather than
    raising an exception so the IPN isn't retried.

commit 919fbca61aebdac9d48d9e6429b9c736500b2b46
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Apr 24 01:59:56 2014 -0400

    Add back POST_update for API clients.

commit 5e14ea3ad95fe4d3a25408b3589663a8dc51c7d5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 16 10:46:22 2014 -0400

    Separate forms for updating email and password.

commit 1b4b6ca0dad8f8c05afee422c2bfa19e12452aff
Author: Andre D <Andre@andred.ca>
Date:   Wed Apr 30 12:29:01 2014 -0400

    wiki: Fix sometimes not showing compare.

commit 5c4f27249b6fdbed9dd5f3ee1ad4a393d634848f
Author: Andre D <Andre@andred.ca>
Date:   Thu Apr 17 09:25:01 2014 -0400

    wiki: Fix showing extended on special pages.

commit c7ff1d0db249c64994ca58e026168f463ec9e1a9
Author: Andre D <Andre@andred.ca>
Date:   Tue Apr 29 19:06:11 2014 -0400

    friends: Fix missing VUser.

commit 5497d0367920904d57243290847f3a530041be61
Author: Andre D <Andre@andred.ca>
Date:   Tue Feb 25 16:13:09 2014 -0500

    redirect: Use our actual redirect.

commit b627f69a2a809cfb38834541c3ec1b9c3ed7755e
Author: Andre D <Andre@andred.ca>
Date:   Fri Apr 25 16:32:57 2014 -0400

    userlisting: Document endpoints.

commit c21dc313e714e02c90d0c89b35edb10d4b52a129
Author: Andre D <Andre@andred.ca>
Date:   Wed Apr 2 19:01:10 2014 -0400

    wiki: Correctly check wiki mod permission scope.

commit 1424a0a0b764b934747e9d5c59060147b02431ab
Author: Neil Williams <neil@reddit.com>
Date:   Tue Apr 29 12:28:12 2014 -0700

    Remove obsolete css_validator_messages.

commit 84cab4adfc62a2ffde8416d57ac02bf33705d03e
Author: Neil Williams <neil@reddit.com>
Date:   Tue Apr 29 12:26:28 2014 -0700

    CSS Filter: Bring back the size check.
    
    Woops.

commit 9afbde63a016902bf033a472f20ce1bf7f713f56
Author: Neil Williams <neil@reddit.com>
Date:   Tue Apr 29 11:57:25 2014 -0700

    Fix missed ValueError->WikiBadRevision translation.

commit b8beb8aa8bbf6535645396b31c96cf2faed14e8f
Author: Alex Smith <CelestialWalrus@users.noreply.github.com>
Date:   Tue Apr 29 20:51:23 2014 +0200

    Allow steps() function in stylesheets

commit 1c4d6311b3ffc7e82d4809e4ef154f6b3dfdaa00
Author: Neil Williams <neil@reddit.com>
Date:   Wed Apr 23 08:51:21 2014 -0700

    CSS Filter: unleash modern CSS.
    
    Properties, functions, and at-rules from the following modules are added
    to the safe lists:
    
    * CSS Color Module Level 3
    * Media Queries
    * CSS Backgrounds and Borders Module Level 3
    * CSS Values and Units Module Level 3
    * CSS Flexible Box Layout Module
    * CSS Text-decoration Level 3
    * CSS Transitions
    * CSS Animations
    * CSS Transforms Level 1
    * CSS Text Level 3
    
    As documented on https://developer.mozilla.org/en-US/docs/Web/CSS/CSS3

commit 6ded0ea83313ffd06df782ef8344fd7c69abbfe7
Author: umbrae <umbrae@reddit.com>
Date:   Thu Apr 24 15:36:05 2014 -0700

    Trigger a reflow on CSS preview so webkit browsers reset animations.

commit 291449a983bee7cfc11a913f65b929eac19563fb
Author: Jordan Milne <jordan.milne@saynotolinux.com>
Date:   Sun Apr 27 11:05:51 2014 -0700

    CSS Filter: add security test suite.

commit dce6b6d84f9651d0827ffbb0a221a99f3b898991
Author: Neil Williams <neil@reddit.com>
Date:   Tue Apr 22 16:18:23 2014 -0700

    CSS Filter: replace cssutils with tinycss2.
    
    The aim of this patch is to allow a mostly equivalent subset of CSS
    through as the cssutils-based parser did.
    
    The subset of valid properties represented in this are the entirety of
    CSS2.1 plus a handful of newer ones that are already in active use on
    reddit.
    
    Several IE hacks like the "filter" property, "_height", etc. are no
    longer allowed.

commit 6e97142cdcd7eeb179918c28075ae2525645b46e
Author: Neil Williams <neil@reddit.com>
Date:   Fri Apr 25 13:53:21 2014 -0700

    Disable subreddit stylesheets for old IEs.
    
    Their CSS parsing is so poor that the risk of exploits is much higher.

commit 1424f2eb502dfc8ccd7e23d1cbf683c460948ea9
Author: Neil Williams <neil@reddit.com>
Date:   Tue Apr 22 15:49:02 2014 -0700

    CSS Filter: move preview link/comment generation to r2.lib.pages.
    
    These functions, while used in the CSS filter UI, are view code and
    should be separate from the filter itself.

commit 02d5dca1d7993e5708748940945f4e3137128155
Author: Neil Williams <neil@reddit.com>
Date:   Tue Apr 22 15:40:21 2014 -0700

    CSS Filter: remove unnecessary save_sr_image wrapper.

commit 1ceb9f20d861671c76657510faad31844a0e634c
Author: Neil Williams <neil@reddit.com>
Date:   Fri Apr 25 11:57:47 2014 -0700

    Don't use general ValueError for specific wiki exception.
    
    It masks bugs.

commit 55a7b1ec8077edf6040fa1c84f9426b865f2ff8b
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Mon Apr 28 15:47:12 2014 -0700

    Update contact page.
    
    Add advertising and more contact options.

commit 723643433b2cfa861b5868e1b9dc8e5a01ffd129
Author: GrandfatherOfSaul <sonofzeror@gmail.com>
Date:   Sat Apr 26 12:27:51 2014 -0500

    Remove extra "ago" in comment's time seen through compact view.

commit 9845ed5f7f3cb8a400acd7c6fca1b627160eb6d2
Author: Techwolf <dring@g33kworld.net>
Date:   Fri Apr 25 16:35:10 2014 -0700

    Remove extra closing brace from "last edited" text.

commit 07d6eb399f1c179b727c2b863f3b6de91d8f30bf
Author: umbrae <umbrae@reddit.com>
Date:   Tue Apr 8 01:33:02 2014 -0400

    Clean up registration/login validation errors.

commit f93b5c42ed0969c55fe72d3a7812a6fdee381213
Author: Max Goodman <c@chromakode.com>
Date:   Fri Apr 25 13:53:30 2014 -0700

    Quantize listing dates to "just now", like in JS.

commit 6a27c1bf7805e75febe107093b414ead45588121
Author: Max Goodman <c@chromakode.com>
Date:   Fri Apr 25 14:15:25 2014 -0700

    Add iso8601 polyfill necessary for timetext in old browsers.

commit f7d0587cf8401b2778e616eae980589b760be44c
Author: Max Goodman <c@chromakode.com>
Date:   Thu Apr 24 18:37:34 2014 -0700

    Add /explore variant to next/prev suggestions.

commit 379fc9f5560b8fa7a82037fa9eb13b671bfa4626
Author: umbrae <umbrae@reddit.com>
Date:   Thu Apr 24 02:20:43 2014 -0700

    Allow certain media types to be expanded by default.
    
    Current need: liveupdate.

commit 013a29e221a4712c24f4982d8c32bba8da2e42cd
Author: Max Goodman <c@chromakode.com>
Date:   Thu Apr 17 01:30:35 2014 -0700

    Escape inlined JSPreload JSON data.

commit 7744fc72833ce0f262d60c333f7148cbf473344b
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Thu Apr 24 11:56:52 2014 -0700

    Move timestamp `live-timestamp` class for less whitespace

commit 73609acab7dd9ae65692de9a7381b9a32528eaf8
Author: Matt Lee <matt@reddit.com>
Date:   Fri Apr 25 11:59:10 2014 -0700

    Replace quote cycling with new static layout.

commit f4d838aea72ac751ca2d7e7453ffb055aa1ec16d
Author: Matt Lee <matt@reddit.com>
Date:   Fri Apr 25 09:54:06 2014 -0700

    Change ad testimonials.

commit b9a3d06a251fc0b8118e92836e0bed1d6f6dd19d
Author: Matt Lee <matt@reddit.com>
Date:   Fri Apr 25 13:52:30 2014 -0700

    Move help text to infobar.

commit 9d990e2b59cfc9c2491ee6d2333277d51483aa48
Author: Matt Lee <matt@reddit.com>
Date:   Thu Apr 24 17:05:51 2014 -0700

    Handle long target/location values better

commit 62757a937508add1fb8bfbcb0b89a27877c62ef9
Author: Matt Lee <matt@reddit.com>
Date:   Thu Apr 24 15:09:08 2014 -0700

    Clean up alignment on edit_promo page.

commit ecfc903488992ca92a3c0af0060022b1484237b1
Author: Matt Lee <matt@reddit.com>
Date:   Thu Apr 24 16:01:28 2014 -0700

    Hide 'cancel' button on edit_promo when there are no existing campaigns.

commit 1e150af2de48a0a0d483235536b608a0bafb918d
Author: Matt Lee <matt@reddit.com>
Date:   Wed Apr 23 11:13:59 2014 -0700

    Cleanup js and unused image.

commit fdc19edc171dd4654fa68c973d470d67e7c36752
Author: Matt Lee <matt@reddit.com>
Date:   Mon Apr 21 22:40:27 2014 -0700

    Migrate advertising page styles to LESS.

commit 40dc1bb6ffa3e188b277090a8f915898f4fc04e2
Author: Matt Lee <matt@reddit.com>
Date:   Thu Apr 24 12:12:48 2014 -0700

    Change URL to Ad. Manual download to point at S3.

commit 16abccafe56db0a8d6b209543cda074730f29e54
Author: Jack Lawson <ajacksified@gmail.com>
Date:   Wed Apr 16 12:11:54 2014 -0700

    Add live-updating to timestamps.

commit a8346c0b26040e03b3e4923da3278493fbaf3ab1
Author: Max Goodman <c@chromakode.com>
Date:   Mon Apr 21 14:25:03 2014 -0700

    Add scrollupdater.js.

commit cf7577ba001ec81c5dd56770af29009c06039bf0
Author: Neil Williams <neil@reddit.com>
Date:   Mon Apr 21 14:24:25 2014 -0700

    Add timetext.js.

commit fb65a0feeca27e283abef23ea7487c6f051d4e56
Author: Matt Lee <matt@reddit.com>
Date:   Tue Apr 22 19:26:01 2014 -0700

    Add link to download ads manual pdf to advertising page

commit 1b8811ab9503dbffb0c1e5e4d1c8a1d8bce3f748
Author: Matt Lee <matt@reddit.com>
Date:   Tue Apr 22 14:14:40 2014 -0700

    Fix links on advertising page

commit 053fe2505e8052a809b6a351cedf7fe3f1214188
Author: Matt Lee <matt@reddit.com>
Date:   Thu Apr 17 11:28:34 2014 -0700

    Update advertising page

commit b061209aaf727aded6a30866ff494d8e8901876c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Apr 20 08:42:35 2014 -0400

    Initialize datepickers when there are no campaigns.

commit 8c2e7a7e6ce5a23ecbfc509106afdf05673eeb64
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Apr 20 05:06:26 2014 -0400

    Change display wording from geotargeting to location.

commit e7e8ed4c88e3edbd6f5654ba0203a414aafbcdd6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Apr 19 18:46:41 2014 -0400

    Geotargeting: show the country name rather than just the code.

commit cd540cbf193d2eec702f19e61a3969a9151165a2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Apr 14 13:19:02 2014 -0400

    Make CPM prices in the ini file the absolute price, not additive.

commit 392a382dafc939ed8a985f155b9b374694a015c9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Apr 14 11:17:28 2014 -0400

    Allow different prices for country and metro level geotargeting.

commit fd604d802f7138fa82dcfa47d413d940a3fa01b7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 5 17:01:49 2014 -0500

    Campaign Editor: make padding of td the same as th.

commit 2af3f171839fe1d54951f80fc1cd215c460a1d00
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 4 15:28:44 2014 -0500

    Enable geotargeting for all users.
    
    Unlike admins they will only be able to geotarget on the frontpage.

commit 7f2f2f09fdeb664bfb8727cdce49efb6a697ca48
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 4 15:44:46 2014 -0500

    PromoteLinkForm: add a link to the FAQ.

commit ff3cd281cc80c2a7562f796cd44147606acad3b6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 4 15:27:58 2014 -0500

    PromoteLinkForm: remove notes.

commit 928aecd3110967198320859fd447da5b7f51bc5f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Apr 18 16:16:37 2014 -0400

    Fix layout of geotarget-notice icon.

commit 5fd838ac4dc1f150a3b231cdc396b4d0e7a69ae8
Author: Jason Harvey <alienth@reddit.com>
Date:   Fri Apr 18 01:31:22 2014 -0700

    Move zk auth data into KazooClient constructor.
    
    This ensures that reconnections after lost TCP sessions are properly
    authenticated.

commit ca4ba0b45b265ac2379aed93aee0a4bc87bb541e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Apr 8 03:11:22 2014 -0400

    Add a notification on comments page when promoted link is geotargeted.

commit a45375892490fe8a5bf5918f70ad660a2eb99580
Author: umbrae <umbrae@reddit.com>
Date:   Thu Apr 10 17:59:17 2014 -0400

    Add a preference for trending on the front page

commit 245cd4582f4b9fdb2f1afba52aeb160cacb87af3
Author: Max Goodman <c@chromakode.com>
Date:   Thu Apr 17 01:36:49 2014 -0700

    Add a little more spacing around trending subreddits list.

commit b83f9201607320b37b466f8176e60bf5386e8d49
Author: Max Goodman <c@chromakode.com>
Date:   Tue Apr 15 14:50:26 2014 -0700

    Fix trending bar alignnment for compressed links.

commit 8a21371deb38d7849672ce363115e9c0715a6085
Author: Max Goodman <c@chromakode.com>
Date:   Tue Apr 15 00:25:29 2014 -0700

    Ugly hacks to make trending subreddits align with links.

commit a1ea0e9ed020b68d9008ecb7c38436f78c9becf3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Apr 17 10:43:51 2014 -0400

    Clean up the layout for the adminnotes area.

commit 7e11695dad661727cb9c6631abe7e1234fb09418
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Apr 11 14:25:34 2014 -0700

    /dev/api: Put /api/store_visits in the API docs
    
    api_doc notes' plumbing was changed slightly so
    that VGold() endpoints automatically state that
    they require a gold subscription in the docs.
    
    "save" OAuth2 scope added to the store_visits endpoint.

commit b3bf59b4b6f1e7f17b86a5d5d2ef3e7bcf35d66f
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Apr 11 12:34:22 2014 -0700

    OAuth2: Expose several endpoints
    
    Endpoints getting "read" scope:
    * /api/search_reddit_names
    * /api/subreddits_by_topic
    * /api/recommend/sr/{srnames}
    * /subreddits
    * /subreddits/new
    * /subreddits/popular
    
    Endpoint getting "modconfig" scope:
    * /r/{subreddit}/about/edit

commit d6848c8d142397f8a4e96c3edda8de5e1ac1ef05
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Apr 14 11:16:46 2014 -0700

    [OAuth2] Don't send unnecessary modhash to OAuth clients

commit 4150c399eeafe090d58d06e22bdd76f02bfd513c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 16 11:09:00 2014 -0400

    Use a different inventory factor for default frontpage subreddits.

commit f214f11c2f9ec53bc1586383e45bc608c009203e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Apr 14 13:02:37 2014 -0400

    Use a MoreRecursion for too-deep child comments.

commit 9590c0afa768393577d8daefbcc25d444e86747a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 16 14:41:35 2014 -0400

    PromoteListingController: return 403 for non-sponsors on special sorts.

commit f973a6b1e03161323df54280b5b1aef0e1761aa9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Apr 15 16:57:51 2014 -0400

    Message: Don't check to_id when determining if an item is new.

commit ffd8600e8b92e094102b56d49286d2d809e3047c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Apr 15 17:30:29 2014 -0400

    Message.add_props: Delete obsolete incorrect comment.

commit 06d2e9b5b30be1414bc3ff4d92ce49758e051851
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Apr 15 16:34:01 2014 -0400

    POST_comment: delete unused `is_comment`.

commit 47d89dfa003e9c04be4f961fa0537846cb2fb95b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Apr 10 14:39:26 2014 -0400

    Move redditgifts_webhook to vault.

commit 38caa5d18a569293ca4c4bb298228970c70121d0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Apr 10 14:34:25 2014 -0400

    Move coinbase_webhook to vault.

commit aec5e33cb8c32b293d35cfe3886f1ee11bf2b7ed
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Apr 10 14:19:23 2014 -0400

    Move paypal secret to vault.

commit 1cb817c23ce57d8edaf119b48a6df2e0dc4a5729
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Apr 10 15:37:41 2014 -0400

    Move Authorize.net secrets to vault.

commit 3aece568d742f4a379d0428adf6df055cda1f42c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Apr 10 14:33:07 2014 -0400

    Move stripe secrets to vault.

commit 8e3aa67d74754d940860282176504d905d8ec18e
Author: Neil Williams <neil@reddit.com>
Date:   Tue Apr 15 16:46:30 2014 -0700

    WebSockets: websafe_json all payloads to prevent XSS.

commit 3f530b1a8cf2cd1686e5fca3a901ec16d143fd94
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Apr 15 09:21:20 2014 -0400

    Don't show duplicate links in house links listing.

commit 130cc6bee32395462f7e857073f498baec408859
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Apr 11 17:18:03 2014 -0400

    Makefile: fix typo in clean_names.

commit 44108dd8b1581c286859c2c9e1afaa82f1489118
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Apr 11 02:52:47 2014 -0400

    Delete RTL-specific styles.

commit da1896510675784be3fcd945056568b6826d18e8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Apr 10 15:27:00 2014 -0700

    PromoteReport: exclude end hour to avoid double counting.

commit 076b58327f58306e1d6468ca567a1f6c48208654
Author: umbrae <umbrae@reddit.com>
Date:   Thu Apr 10 17:14:04 2014 -0400

    Revert "Hide rank numbers on the front page."
    
    This reverts commit 3075ac1682d9ea343e3f2d604c0a43931f1ab6a6.

commit b50f91c53149671c4039ff1de4250ac0d5bc89c0
Author: umbrae <umbrae@reddit.com>
Date:   Tue Mar 25 17:12:57 2014 -0400

    Cassandra-backed trending subreddits.

commit 0c89540ab78115a90018e5d9fd85e2f2080aadbc
Author: Max Goodman <c@chromakode.com>
Date:   Fri Mar 21 16:48:23 2014 -0400

    Display trending subreddits on the front page.

commit 8947eee1c30dd5701bf6c580406beffa0e84eddc
Author: Max Goodman <c@chromakode.com>
Date:   Wed Apr 9 03:50:52 2014 -0700

    Line up links with and without thumbnails consistently.

commit dd5931d1764f16926b7e9d33407a1818a04ac496
Author: Max Goodman <c@chromakode.com>
Date:   Wed Apr 9 03:50:12 2014 -0700

    Move compressed links status to a body class.

commit debfb97fa73b502fffd5c05c8162b03f946835ed
Author: Max Goodman <c@chromakode.com>
Date:   Wed Apr 9 03:31:42 2014 -0700

    Move display sizing logic out of linklisting template.

commit 8c85eb1fd38afc5001b0a8beab43998503fd7d5b
Author: Max Goodman <c@chromakode.com>
Date:   Wed Apr 9 03:21:31 2014 -0700

    Add /r/ to subreddit name for links in listings.

commit d3b0593db5ae944a1a8308ae5d3f97878597f02b
Author: Max Goodman <c@chromakode.com>
Date:   Wed Apr 9 03:18:46 2014 -0700

    Hide rank numbers on the front page.

commit dcff90aa0c7736783cf34b706f5d41b72997f20d
Author: Max Goodman <c@chromakode.com>
Date:   Wed Apr 9 20:11:52 2014 -0700

    Track whether a subscription is the user's first in breadcrumbs.

commit d4dce83ee7219f4d197fccd90acd5b561ca6f037
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Apr 7 10:07:30 2014 -0700

    Remove hit count info from search

commit 35b988c9262c79f2891a84606070f6d6b755cf9b
Author: Roger Ostrander <reostra@reddit.com>
Date:   Mon Apr 7 19:21:42 2014 -0700

    Admin notes:  Include notes for subreddits

commit ac4312343307b30339aacb746a703e4f010c761d
Author: Andre D <Andre@andred.ca>
Date:   Tue Apr 8 14:52:42 2014 -0400

    docs: Fix json api type on oauth endpoints.

commit b99a747eb0ff11aeff531e83b8e33f66d4f08b9e
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Feb 18 12:56:32 2014 -0800

    LinkInfoPage:  Include 'noindex, nofollow' for spam links

commit a63b4c3c81ec06ad3b54c4c1df4ad7a8a44bc73b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Apr 7 16:10:00 2014 -0400

    Delete VBid validator.
    
    Logic has moved to PromoteController.

commit 16585041c85ce7d672540459bfb497d0084f6897
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Apr 7 15:59:04 2014 -0400

    Remove maximum bid restriction for sponsors.

commit 5f912258da08d8334e43e1c9f978ebca090636d3
Author: Neil Williams <neil@reddit.com>
Date:   Fri Apr 4 11:16:08 2014 -0700

    Add some safety checks to award modification / creation.

commit bbf15c1d1daebcb0bd802e53212d9058ff4c2632
Author: Andre D <Andre@andred.ca>
Date:   Thu Apr 3 13:46:13 2014 -0400

    wiki: Only show 3 lines of diff context.

commit aefd1031a1ef69d0a116c92977751ab020645d1f
Author: Andre D <Andre@andred.ca>
Date:   Tue Apr 1 12:27:29 2014 -0400

    modmail: Only add to inbox if you dont have permissions.

commit 1e2d9e779fdef15f44313fc9f1204fd2e6adfff5
Author: Andre D <Andre@andred.ca>
Date:   Tue Apr 1 14:43:42 2014 -0400

    save: Use i18n.

commit 36bb6298db5683f18067cfd2c0db19192f78ec90
Author: Andre D <Andre@andred.ca>
Date:   Mon Mar 31 14:50:11 2014 -0400

    thumbnails: Set og:image on links with thumbnails.

commit f8ffa3810d9c7cd4b3e47377d2cd0f01418c8cb1
Author: Andre D <Andre@andred.ca>
Date:   Tue Feb 25 18:26:59 2014 -0500

    submit_text: Error on too long.

commit 2330f0cecdd57bbb1a3bf57f453cddcd8e0f6848
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Apr 1 15:43:27 2014 -0700

    Admin notes:  Include translation targets for IP addresses

commit 3f7c0269160bbf22b904d7d9efcb83be314f5ebd
Author: umbrae <umbrae@reddit.com>
Date:   Wed Apr 2 12:56:19 2014 -0400

    Make chosen maxwidth available for MediaByURL cache

commit 088479691a622ade2e869fd7f14b37be93ef4555
Author: umbrae <umbrae@reddit.com>
Date:   Wed Mar 26 10:57:28 2014 -0400

    Scrapers: Allow differing setting of widths

commit 3c5e24b0d134f08aa87fedc4bc3e02fe4d5de680
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Apr 7 10:43:03 2014 -0400

    Update promo slideshare url.

commit a635c9cfd36e83f817c42520250a979f3f1f9b39
Author: Andre D <Andre@andred.ca>
Date:   Thu Apr 3 15:54:09 2014 -0400

    karma: Add karma list api endpoint.

commit faefd7bba1435e7cf52540251283e93d59d5354d
Author: Andre D <Andre@andred.ca>
Date:   Thu Apr 3 15:27:26 2014 -0400

    trophy: Add trophy listing api.

commit 9babd2e558e02103aad0ff58cbc9d2bb14dfe0ea
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Apr 3 13:05:46 2014 -0700

    /dev/api: Reorder decorators so 'view code' points to the right place

commit 7f35e59a655d591fdf53ae1a9aa913b342bd1d9a
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Apr 3 13:03:45 2014 -0700

    Refactor "allowed_scopes" -> "required_scopes"
    
    This makes it more clear what the parameter does.

commit ecb85f04530d316f55c909d165e75edf15ecb6ad
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Mar 28 13:37:51 2014 -0700

    /dev/api: Fix docs for /api/v1/me/prefs

commit 1cafe49b5d151706b284224c196a9a2a2aebe945
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Mar 28 11:40:44 2014 -0700

    OAuth: Allow use of captchas
    
    Add support for "scopeless" oauth 2 endpoints,
    set captcha endpoints to be scopeless.

commit 573433a4a2c7a4353335fd2d6970c8a7f7d9b575
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Apr 3 13:22:21 2014 -0700

    OAuth: Fix APIv1Controller's handling of missing tokens

commit 5a39d8a5a1faca2af43bac890d85c92fc5454ffa
Author: Jason Harvey <alienth@reddit.com>
Date:   Wed Feb 26 17:21:11 2014 -0800

    Do not incr_counts for links if item.is_author.

commit 331fab6b7fbc290f158dbe578ba257c92dd704ac
Author: umbrae <umbrae@reddit.com>
Date:   Wed Mar 26 13:35:43 2014 -0400

    Scraper/Websockets: Small cleanup of debug messages, dev config.

commit db27522eb66f462eb0ea20c6c4f54fea121504d2
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Mar 27 13:12:46 2014 -0700

    /dev/api: PATCH endpoint with JSON model support

commit c413a2e2f19d2cb414ea02eaa50f58286b645f01
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Mar 27 13:11:57 2014 -0700

    Add PATCH /api/v1/me/prefs endpoint
    
    Allows partial update of the user's preferences

commit 3ea509d4c088bbcc63455ece472fa994f19bc0ce
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Mar 27 13:23:10 2014 -0700

    Refactor /post/options for re-use
    
    * Create a var with the validators
    * Don't always grab langs out of request.POST
    * Refactor validation to a separate function

commit f72982b914670a66e4d94c5119f613beb426be29
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Mar 27 13:07:02 2014 -0700

    OAuth2: Add /api/v1/me/prefs endpoint
    
    Returns the logged in users preferences
    Supports a 'fields' parameter for limiting the
    response to the desired fields.

commit 79765e2cd33be1018a94b1f89c5a25d8f38f406c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Mar 4 13:42:49 2014 -0800

    Don't double ratelimit error responses

commit 3cc98960093822f8228a2243244fea9adabf69b4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Feb 27 14:59:13 2014 -0800

    Add stats tracking to sitewide ratelimiting

commit 326d3328250ca6e6f1c6989568649ba594f1d01c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Feb 27 14:58:32 2014 -0800

    Add sample_rate param to Stats.event_count

commit 1ba62d43ca1687a627956302db8b914ff9aa3888
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Feb 27 10:41:07 2014 -0800

    Ratelimits: Recover if the incr fails
    
    For a miniscule number of requests, the old value
    in memcache will fall out after the call to `add`,
    but before the call to `incr`. This change recovers
    from that scenario.

commit c347805646e955d1b3a1414884b777052f543d3c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Feb 27 09:51:18 2014 -0800

    Be consistent with cache_chain names

commit d19cd901f13ea593282f511a3a81a2e6cd58ad1e
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Sat Mar 29 08:58:58 2014 -0700

    Add goldloggedin as a user type in GA custom variable.
    
    This change will let us segment users by gold membership.

commit dab16c14580574c89f1e7ba887810b6e68819c3e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Apr 2 18:26:06 2014 -0400

    Handle 'Failed' and 'Denied' PayPal IPNs.
    
    These are noops and can be ignored.

commit 17fcb723fc5aabb358911d25e57520ff82e9817d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Mar 21 18:31:34 2014 -0400

    fetch_trackers: allow up to 100 ids.

commit 691d00d39f147e5cf03921db7d70a20b30b48431
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 5 15:38:26 2014 -0500

    Add PromosController for showing listings of live promos.

commit b1ddf7eac68af92d8b1f107e9af07bc0574ed23e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Mar 21 12:57:02 2014 -0400

    Make CampaignBuilder compatible with LinkListing.

commit 9ab04143c8a08779a9f3cc0d13ffdc3e5cc64c05
Author: Neil Williams <neil@reddit.com>
Date:   Tue Apr 1 14:24:25 2014 -0700

    install-reddit: Install plugins about, liveupdate, meatspace by default.

commit 38348a27e867ff5fc8f0a0b3ac17aaa1553b3158
Author: Neil Williams <neil@reddit.com>
Date:   Mon Mar 31 16:29:22 2014 -0700

    install-reddit: Add some helper scripts to the install env.
    
    These reduce typing to do paster run and paster shell by taking
    advantage of the standard location of run.ini.

commit 11ac60fa606b627bb0a7f87802e417fe0571ae55
Author: Neil Williams <neil@reddit.com>
Date:   Mon Mar 31 11:58:23 2014 -0700

    install-reddit: Focus on dev-environment installs and reorganize.
    
    Production installs should work pretty differently and I have a few
    plans for that.  In the meantime, this simplifies away a few of the bits
    that were ill advisedly trying to help production installs and changes
    the installer to be better suited to the modern environment with plugins
    etc. by putting all code in a src/ directory.

commit cc7b9f86e5fe63a7fb319bb6bfcc83f1efdcb544
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Mar 9 14:58:37 2014 -0400

    POST_subscribe: return errors rather than silently fail.

commit d942c806d89d27e2c82a1ed3a0594e685eb5a64c
Author: Roger Ostrander <reostra@reddit.com>
Date:   Mon Feb 17 11:01:09 2014 -0800

    Domain Notes:  Keep and display notes for individual domains

commit debf587e6864a6e19848bc10be472c7f51d24ecd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Mar 27 10:40:55 2014 -0400

    Show a warning message when a user changes the bid of a paid campaign.

commit 47a84541f45ae3310d29d54d2d55f6c20500fcf5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Mar 27 07:57:09 2014 -0400

    Send an email when a campaign's transaction is voided.

commit b4dbc7b4953f8f141379a025ea37d7066a03d86d
Author: Andre D <Andre@andred.ca>
Date:   Fri Mar 28 12:49:36 2014 -0400

    messages: If you are the original sender of a modmail, always inbox.

commit d78a707b33d0e5d553142ef73d858fabc97af73b
Author: Andre D <Andre@andred.ca>
Date:   Mon Mar 24 16:06:22 2014 -0400

    wiki: Add an emergency admin delete.

commit cac03393fb1fb6809e944772e2d0b4f6f92139b0
Author: Andre D <Andre@andred.ca>
Date:   Tue Mar 25 15:36:08 2014 -0400

    saved: Add new categories to list as you save.

commit 4ab1826ee9324d497148ec2b423d601745f53cd3
Author: Andre D <Andre@andred.ca>
Date:   Tue Mar 25 15:21:15 2014 -0400

    saved.js: Remove extra show() call.

commit d0864ca0b72df8ab43eaa8fad72e0095348947ee
Author: Andre D <Andre@andred.ca>
Date:   Tue Mar 25 15:20:36 2014 -0400

    saved.js: Save right away.

commit ad4e2977a4d1175066d6c9dfbb726c81e21b4625
Author: Andre D <Andre@andred.ca>
Date:   Tue Mar 25 16:31:38 2014 -0400

    stylesheet: Add reason field.

commit 2043e5ea641bed1339441e186d13274dd05f5765
Author: Andre D <Andre@andred.ca>
Date:   Wed Mar 12 20:02:01 2014 -0400

    saved: Fix being unable to open dropdown.

commit 1dcaae402bfc6a1d884932e9bdd0fbd525bd577c
Author: Andre D <andre@andred.ca>
Date:   Fri Jun 7 23:48:20 2013 -0700

    user/about.json: Do not include private values in json.

commit c5db88ff888aa26611b04fccf9e74ae3b3b7880c
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Mar 14 16:07:56 2014 -0600

    Userpage sidebar: move mod list above AdminSidebar

commit e6d3b9dc9391e438cce5e8482e305b153ed1aaed
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Mar 7 17:26:14 2014 -0500

    CommentTreeStorageV3: remove check for comment id of -1.

commit 5c5f181e69625ab7db567b687f70fd9359bb4576
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Mar 7 17:25:47 2014 -0500

    CommentTreeStorageV3: move special no parent id to class attribute.

commit 42291074d343e8c6ce1e0359719b0c754429fa89
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Mar 7 12:10:17 2014 -0500

    CommentTreeStorageV3: C* without counters.

commit d4c4ff9348e44264650a27bb8f0bdab76ee54cc3
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 12 13:49:43 2014 -0700

    Permissions: fix serialization of superuser permissions.
    
    JSON serialization of a superuser permission set would return {all:
    false} because of the way __getitem__ works.

commit 2d1a5e54950ddd4793bfebf868a85da28e3ebb7d
Author: Neil Williams <neil@reddit.com>
Date:   Mon Mar 10 13:39:44 2014 -0700

    Refactor permissions system to be more reusable.
    
    These changes are necessary to allow plugins (such as liveupdate) to
    reuse core parts of the permission system.

commit 5f063a094a397829b8a4292130c58a013b4ef782
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 24 13:52:08 2014 -0400

    Make it possible to unset Account.cpm_selfserve_pennies_override.

commit a5697d5c36ca89fa43a98706beea14546e8733b6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 19 15:42:07 2014 -0400

    PromoteController: abort if link or campaign are missing.

commit a1632d761f04e2cbd99b9051dd6b4e9e96f5e3c5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 18 17:56:38 2014 -0400

    POST_promote_note: websafe new notes.

commit bb31bd5d8fc7ab85f6b529ef42a23456121e154b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Mar 21 17:07:34 2014 -0400

    UserController: check item._deleted rather than item.deleted.
    
    Comment.add_props can overwrite comment.deleted to be False even
    when comment._deleted is True.

commit 3c2a582c9d204677fd1092018c2312cf34aa974b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 18 17:31:58 2014 -0400

    Check that campaign belongs to the specified link.

commit 619b16be3d12adf452fbffbe8a401cb8c4e109db
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Mon Mar 10 14:55:16 2014 -0700

    Make explore page settings sticky.

commit bd75868584814f12f5d986b3a91a6ccb0c3c71fd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Mar 15 19:30:40 2014 -0400

    Delete selfserve summary emails.

commit 906678a149c90a597bceeb3ec96cad2b5a80ae43
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 12 19:46:51 2014 -0400

    PromotedLinkTraffic: convert history from generator to list.

commit b4baaed6fd080536ab2a6d4d7eed93f71db5dcd3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 12 03:53:19 2014 -0400

    Don't modify traffic dates if there is no traffic history.

commit 8738b124146c0159c51575b2b56a69d99ba3972b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Mar 12 02:35:31 2014 -0400

    Add sort to live_promos routing rule.

commit ea6b7de98c0225b432eac4eb7de72a4f8748598f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Feb 10 23:38:25 2014 -0500

    terminate_campaign: Set link to finished if it has no live campaigns.

commit ca0e53f613b0133d3b71eb2c069310a220efaf71
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jan 12 04:55:05 2014 -0500

    PromotedLinkTraffic: better handle campaigns that end early.

commit 41fdbce89ba0141c5ad703b5f91cd700299c0f8b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Mar 6 15:01:15 2014 -0500

    POST_request_promo: skip hidden items.

commit fe1296a8b5f9ee06eb1fba9a3e2ea4babc7072c7
Author: Roc King <ownwaterloo@gmail.com>
Date:   Fri Mar 21 07:42:41 2014 +0800

    install-reddit: add the missing s command in the sed invocation which modifies the environment of cassandra.

commit 204079eca62442e28e88496fc398cfac881b2a35
Author: Neil Williams <neil@reddit.com>
Date:   Mon Mar 17 16:02:32 2014 -0700

    install-reddit: Add hacky patch to fix C* stack size issues.
    
    Recent updates to the JVM have caused Cassandra to start failing due to
    the stack size being set too low.

commit b3f0b3fcc23d895d9f9318eaf07f786055b30813
Author: umbrae <umbrae@reddit.com>
Date:   Fri Mar 7 18:39:24 2014 -0500

    A little pep8ing

commit b0ce0c940ca93bbd16607e8681f064ecdba6096b
Author: umbrae <umbrae@reddit.com>
Date:   Thu Mar 6 11:58:09 2014 -0500

    Remove now-unused portion of newwindow user pref

commit 27165756242158173c7b7044b25ca6ff46657c68
Author: umbrae <umbrae@reddit.com>
Date:   Thu Mar 6 11:56:50 2014 -0500

    js-based targeting for user links, markdown text, moderation log

commit ec5bb39648bc1ff8cd6829a9282efc6d931bb0af
Author: umbrae <umbrae@reddit.com>
Date:   Thu Mar 6 11:47:05 2014 -0500

    Logic for js-based targeting of links

commit f7de033bb22538ae771a056d922bdb47924445bf
Author: umbrae <umbrae@reddit.com>
Date:   Thu Mar 6 11:29:13 2014 -0500

    Add listener for may-blank, may-blank-within classes based on JS config.

commit b7f75fe30da41251acbceaaaac5ffbe732cacdbd
Author: umbrae <umbrae@reddit.com>
Date:   Thu Mar 6 11:26:17 2014 -0500

    Add new_window preference to global js config

commit 27156cf9d8b81883f6aea0b855c9f085cee61453
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Mar 6 16:00:14 2014 -0800

    reddit_base: Include class name in request timer key.

commit 2d213d201e2cad983947e303be8b90ef80063f2f
Author: feras <feras@localubuntuvmdne.com>
Date:   Fri Feb 21 19:50:28 2014 -0800

    JSON: add link_url to comments on profile pages
    
    Adds the ability to get the original url of a link from within a comment
    comment object in the JSON response

commit 9160aa63414c4f371c5b882ceb806e454f1855a3
Author: Andre D <andre@andred.ca>
Date:   Thu Oct 10 00:42:24 2013 -0400

    saved: Add ability to save into categories.

commit 910badb568eb56b32d4c3ebf3aa677d03e2bc0fe
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 10 06:48:28 2014 -0400

    Add comment_tree_utils.c to gitignore.

commit 9e4fd9c50c0c77ca4f2df6a718406202f1caf06d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Mar 10 06:47:15 2014 -0400

    Remove builder.c from gitignore.

commit 15f84fb6a15728b6a3b02c0e2c0293ebf8d171a2
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Mar 6 16:48:56 2014 -0700

    /r/friends: pick friends based on commenting also
    
    Previously, get_important_friends would exclude any friends that hadn't
    submitted anything before. This change makes it so that people that only
    comment will be included as well.

commit c9afabfa1ce29ab3bf8ce4316c07ae1c9bebc445
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Mar 5 12:33:49 2014 -0700

    VSubmitParent: validate thing type

commit 3b28ff52bc8bf1744a163cd6d4ad06c97cad96ae
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Feb 11 14:19:03 2014 -0700

    Gilding: add support for gilding submissions

commit aff92cc6fa17a56bc87f76d8cca2ae3e37702e80
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Mar 6 15:00:31 2014 -0800

    Attach event listeners in db manager instead of app globals.
    
    Makes it possible to create an engine without event listeners if desired,
    occasionally useful in scripts.

commit 4bb9fa3e88222884c299400078b4456465f273ea
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Feb 24 17:34:59 2014 -0800

    Remove HotController logic which is duplicated elsewhere.

commit 3df268e1168f78cfea213b651c6f852cad705af0
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Feb 19 05:52:21 2013 -0800

    Only allow voting on Comment and Link types.

commit c5dbd142726a2959ff44131bf136776bce98c908
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Aug 13 12:09:13 2013 -0700

    Remove defunct functions.

commit 6fbbc9fcf7ba7fc71152ea2b72418e51e5af1fb5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jan 15 23:44:42 2014 -0500

    Give all /promoted pages meaningful titles.

commit fc77bbc2e01c235e9d11f624b207efffaafe1eee
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Mar 6 13:40:59 2014 -0500

    Create and cleanup PromoteListingController.

commit 49fe4180c0c40d4937485cc5ad308341e5561774
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 16 01:04:31 2014 -0500

    Move promote api methods to PromoteApiController.

commit d686819f11b5680d3c59b8c42498322e8fcd3713
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Mar 6 13:47:09 2014 -0500

    Delete unused GET_link_thumb.

commit 891099ff328750a5bef15a55debd7429e933baae
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 16 00:34:49 2014 -0500

    Delete obsolete /promoted routes.

commit b1d960122c8aa33a1469242fed3a037a03df0631
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Mar 6 07:25:35 2014 -0800

    Allow users to toggle sendreplies state on existing links.

commit 5f462279a1e3ebbca6afd479bb702786808192fa
Author: Jason Harvey <alienth@reddit.com>
Date:   Sun May 19 14:47:13 2013 -0700

    Remove gold-gate from sendreplies feature.

commit 868e37bfb09481b0e963e152bf3d258ad66278d0
Author: Jason Harvey <alienth@reddit.com>
Date:   Sun May 19 14:25:33 2013 -0700

    Add sendreplies checkbox to self-serve promotion form.
    
    Defaults to checked.

commit ac4795bc52749672decd4b31e9ef890c1e55dbca
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 4 16:18:11 2014 -0500

    PromoteLinkForm: Display a summary of the promotion.

commit e5d292204db735155b49f0226254315f3be9fd2f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 4 14:30:05 2014 -0500

    Restrict promoted link style removal to saved links.

commit 4dbe9a3e178741508c88fd6e0d63fc671079f6f5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 4 02:12:20 2014 -0500

    Remove special styling for promos on profile-page.

commit 1cba3fccecf817b3113f7515b2d387456b6e0599
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 4 01:54:12 2014 -0500

    Allow promotions on user saved listings.
    
    Also clean up logic in UserController.keep_fn.

commit eae81ace6e6b8ec5db348284f16560491d273579
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 4 01:41:26 2014 -0500

    UserController: move skip statement.

commit 95b906b33635066e7354b7bd0238ca68d3e09aec
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Mar 4 01:40:28 2014 -0500

    Delete dead code RecommendedController.

commit fa83c92339cc8b77029ba86e6bb731f5382f35db
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 27 12:44:11 2014 -0500

    Set children on MoreRecursion objects.
    
    This ensures that the json representation will have valid name,
    id, and children.

commit 601684a18bd34708049ead4dedea527f3d55deea
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 27 11:57:58 2014 -0500

    morechildren: Pass num to CommentBuilder constructor.

commit 5a29a9518eec80b294fb7092de2619db665090a0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 14 13:58:14 2014 -0500

    CommentBuilder: more timers.

commit 600700e3d7c54b90944e2698fabf53a3803f8af3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 14 01:30:09 2014 -0500

    Cleanup builder.py.

commit 09cd363714c77971384e64446f7a367a8cb41008
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 14 01:26:57 2014 -0500

    CommentBuilder: take num as a constructor argument.
    
    This follows the pattern of all other Builders.

commit f0c48da490212d8e12216afd21e8ad767106ae03
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 13 18:47:08 2014 -0500

    QueryBuilder: cleanup prewrap_fn argument retrieval.

commit d74b70e02700a50c308a53dc2146f942a4d74d8a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 13 17:34:40 2014 -0500

    builder: fix up imports.

commit ecf986608a6cb82efc613da468e1c21745b69aee
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 14 02:33:57 2014 -0500

    Move get_num_children to cython file.

commit f7196166387c8404b3a64e1c414360d59d4b015c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 14 02:08:50 2014 -0500

    Add a timer around get_num_children.

commit 2a4408be85f742a9d3b6d7a630e94fd550234149
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 13 17:08:51 2014 -0500

    Combine _builder.py into builder.py.

commit eea4b765736feeb594d08c13b1091a057975939b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 13 16:58:03 2014 -0500

    Un-cythonize _builder.

commit 1da1da9efeb3c2af59a4ab357659d1d04ea33e29
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 13 16:51:25 2014 -0500

    CommentBuilder: remove typing.

commit 91bf31438ec38ff5b79ba86eb0ba59c84a61ff7a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 28 08:08:09 2014 -0500

    Change tab wording from "self-serve advertising" to "advertising".

commit 23c0f978020e13092bbcb43f7b575b7c68ef7890
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 28 08:05:06 2014 -0500

    Change wording from "budget" to "total budget" in campaign editor.

commit 1c14acac08ab14221b6ac08bb7881fbaa11b63c5
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 27 19:07:52 2014 -0800

    js i18n: Add a plural no-op function.
    
    This is for marking plurals for extraction while not actually
    translating them at the time they're marked.

commit b6323fa314d4f6bd7dbe256c4e0595c99126228b
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 27 11:18:34 2014 -0800

    WebSockets: allow the caller to choose when to start connecting.
    
    This allows the caller to fully set up event handlers etc. before the
    first 'connecting' message is fired.

commit 0de32efc295f3635b658e9c1589a51caeec707e5
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 27 11:15:59 2014 -0800

    WebSockets: add some jitter to retries.
    
    If the websocket server gets restarted or goes down temporarily, we
    don't want everyone to be retrying at exactly the same time even though
    we have exponential backoff.

commit aa2e045b1a42da77f43e14c7fecbfcda66d8430a
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 27 10:36:07 2014 -0800

    WebSockets: increase maximum retries to 9.
    
    This increases the total time it'll try to reconnect up to 34 minutes
    from 17.  Experience with a couple of issues with stunnel have shown it
    takes a few minutes for everything to settle back down and we do want
    everyone to get reconnected eventually without having to refresh.

commit c9ad15aa540678c4ffc674cf8300315472c8fa5d
Author: Max Goodman <c@chromakode.com>
Date:   Thu Feb 27 19:03:28 2014 -0800

    Fix dead code references to controller "abort" method.
    
    These are not the aborts you are looking for.

commit 959240ab9ce7a27a6371fe75e3e623feed279848
Author: Max Goodman <c@chromakode.com>
Date:   Thu Feb 27 19:00:59 2014 -0800

    share emails: Prohibit sharing posts the user cannot view.
    
    Thanks to a report by Jordan Milne (/u/largenocream).

commit 2a285f8f6aa33f1d8227d052b86c98da95162103
Author: Max Goodman <c@chromakode.com>
Date:   Thu Feb 27 18:41:23 2014 -0800

    emails: Foil some basic header injections.
    
    Thanks to "Jordan Milne (/u/largenocream) for this suggestion.

commit d59c209c562292eb19f21eb11ffe7a366c839b3c
Author: Max Goodman <c@chromakode.com>
Date:   Thu Feb 27 17:57:03 2014 -0800

    emails: Reject sending emails with header parse errors.
    
    Thanks to Jordan Milne (/u/largenocream) for
    backing up our email queues^W^W^W^W^W bringing this to our attention. ;)

commit 5cb1f2e68dd1afd79fa28934368c61dfa231e80d
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Feb 26 13:48:32 2014 -0700

    Subreddits: prevent contradictory status changes
    
    This change makes it so that is no longer possible to ban a moderator,
    or add a banned user as a mod/contributor/wiki-contributor.

commit d4933303465b29f3fb28922aa9e47e13583c1181
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Feb 20 13:03:04 2014 -0800

    Use a normalized sort for rising on front page and multis.

commit 060de64a57e94b8bb625d7451d81ac9d10cac410
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Feb 20 13:08:09 2014 -0800

    Refactor calc_rising() and adjust rising algorithm.

commit dd67f3ae8352ece3f38483f281c68d0a5fd25e0b
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Feb 20 06:37:54 2014 -0800

    Add a should_incr_counts attr to wrapped things.

commit d2ccc40733fdfc91796aaeb327e3e935a99d0247
Author: Neil Williams <neil@reddit.com>
Date:   Mon Feb 10 14:57:26 2014 -0800

    Automatically delete password hashes of deleted accounts.
    
    The password hash is no longer necessary once an account is deleted (and
    after a period of time for safety in case it needs to be restored)

commit 89762c93f0834a165c29128896b9b2075e099fb0
Author: Roger Ostrander <reostra@reddit.com>
Date:   Mon Feb 10 11:37:46 2014 -0800

    Add TryLater: a system for scheduling events.

commit 44a8dd6b1d54d2b3296a73e50bf7c17cbde00586
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Feb 13 13:09:34 2014 -0700

    Other discussions: only count public subreddits

commit 3b6dcc9f1f1bdeb3d3a4d6762dbe465a4d63aaff
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Feb 11 16:28:58 2014 -0800

    Adjust min_compress_len to 96B for srmembercaches.

commit 814ee55ecf431001c6a59a0bfd7dec78185e1373
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 31 22:20:45 2014 -0800

    SRMember: Stop writing to the main cache pool.
    
    All done!

commit 09a402edc35d7340f109f4fb96be9e8c193d7e7e
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Feb 12 16:34:35 2014 -0700

    POST_report: add hook

commit 7b24dacd77ae2b9a591bf6d582f76a19ea4bc6c9
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Feb 13 16:47:46 2014 -0700

    compute_time_listings MINID query: order by date

commit 2b830943576d0dfc2fb009c63dbc236940213c4c
Author: Jason Harvey <alienth@reddit.com>
Date:   Wed Feb 26 11:43:43 2014 -0800

    Add styles for "updated" links in footer.

commit 11e739e1c675a77bc5ed4753aab4e4f82afa79c8
Author: David Ehrmann <dehrmann@reddit.com>
Date:   Fri Feb 21 14:38:55 2014 -0800

    Add a cache by URL to the media scraper
    
    Pull media embeds and thumbnails from a cache when cache use was requested
    and cached media are available.

commit 34fd7f89ca32edf9cdd0289f6e5f09cf5b858928
Author: David Ehrmann <dehrmann@reddit.com>
Date:   Wed Feb 12 14:53:40 2014 -0800

    Make the rescrape API work with the caching media scraper
    
    This is a temporary workaround until a new scraper_q request message
    type is added that forces a rescrape regardless of the current cache
    state.

commit 6cfa691fe55c8e8683680dd5f78ac764f6aa88b2
Author: David Ehrmann <dehrmann@reddit.com>
Date:   Fri Feb 21 14:39:29 2014 -0800

    Modify handle_timeout to support **kwargs

commit 79d6e0848177c79e282f126a842ee61794abcfb5
Author: David Ehrmann <dehrmann@reddit.com>
Date:   Mon Feb 10 14:54:26 2014 -0800

    Move code for handling unicode issues in embeds into link.py
    
    media.py should have minimal (if any) knowledge of having to UTF-8
    encode dicts before storing them on Things

commit 52127187ac6cb68341b1fea51d6653ff791f7466
Author: David Ehrmann <dehrmann@reddit.com>
Date:   Tue Feb 18 11:38:28 2014 -0800

    Prevent a TypeError when Content-Type is empty

commit fd61e80f5b16f28e161c2edf36761492f93f5145
Author: Neil Williams <neil@reddit.com>
Date:   Tue Feb 25 11:46:20 2014 -0800

    Ensure comments get queued for processing even if rendering fails.
    
    This is a hacky fix for comments failing to render causing incorrect
    comment counts.

commit 86265bfe481a345bb3080f04b8389be5278692f0
Author: Andre D <Andre@andred.ca>
Date:   Thu Jan 16 15:51:59 2014 -0500

    r.ui.Bubble: Default to anchor-right logic.

commit 2379a24f53269c16c003a25a6148713b7b576717
Author: Andre D <Andre@andred.ca>
Date:   Thu Jan 16 15:34:01 2014 -0500

    Fix /explore bubble having two anchor- classes.

commit 33430d7d850ba994939af0eeee5c3b6818ec91a4
Author: Andre D <Andre@andred.ca>
Date:   Wed Jan 15 13:51:45 2014 -0500

    multi: Fix js error on sr name hover.
    
    Should also fix the bubble not showing up in general.

commit 811db5937e19b3bf26eede4891277efea8c15eda
Author: Andre D <andre@andred.ca>
Date:   Tue Dec 17 15:01:35 2013 -0500

    comment.compact: Implement missing show replies contest mode functionality.

commit a83f03cf7f958f5ac8bf33d7cb1d39a7c4cc4734
Author: Andre D <andre@andred.ca>
Date:   Tue Dec 17 14:43:18 2013 -0500

    register.compact: Fix unstyled email field.

commit 4031911b3d36ecb80565bd518d93517333a1f331
Author: Andre D <andre@andred.ca>
Date:   Tue Jul 16 20:57:39 2013 -0700

    VDestination: Add extension to default destination.

commit 2542e693e7ab8b25fedc88536440a8aadedd8bbb
Author: Andre D <andre@andred.ca>
Date:   Tue Jul 16 19:22:04 2013 -0700

    logout.compact: Fix logout redirect.

commit 0ce026b6c123cec690140fd2bde862ac48a48180
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 25 14:20:11 2014 -0800

    Remove debug logic from OAuth2ResourceController

commit 084f5736ce9b5f256daa2ea16148b5a997956563
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 18 17:35:55 2014 -0800

    Add formal ratelimiting headers
    
    Three headers can now be included for API requests:
    
    X-Ratelimit-Used: Number of requests used in this period
    X-Ratelimit-Remaining: Number of requests left to use
    X-Ratelimit-Reset: Approximate number of seconds to end of period
    
    Additionally, 429 responses can be returned for requests that
    exceed the ratelimit.
    
    Ratelimits are per-IP normally. OAuth clients will be
    limited per user-client combo.

commit c918fdc587f531aa3e18864b7667d7355f61d88c
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Feb 21 17:42:16 2014 -0700

    Messages: keep messages to/from private subreddits

commit 6a6201723f6265d0f9818b952e5745eb130964dd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Feb 24 17:45:00 2014 -0500

    Relation._fast_query: Return None for relations that are not found.

commit 62c8f2d34e3b09ccad9670d959b43e90a0c8e562
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Feb 24 14:36:31 2014 -0800

    Add responsible disclosure link to CONTRIBUTING.

commit d2583b941b01730004c44b406ab32506b0be9111
Author: Andre D <Andre@andred.ca>
Date:   Thu Feb 20 12:09:56 2014 -0500

    UserListing: Show date on all lists.

commit 74663dbb8f8a63ca645cb33ffc6d67ccad29e869
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 12 18:05:19 2014 -0500

    Use an intermediate time recording for "build_morechildren".

commit d0803cdda07d03d904318c8daf606f3c3054ad67
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 13 01:34:57 2014 -0500

    NewController: simplify keep_fn and fix docstring.
    
    Docstring no longer accurately described method's behavior.

commit acccbb8dfbd01f6a47f3eaa09c7863a9443dc378
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 13 00:52:02 2014 -0500

    load_subreddits: Don't load 'contributor' SRMembers.
    
    Used for Comment.add_props to see if user can reply to a comment.
    That can be looked up if/when it's needed. Also used for
    Builder.must_skip to check if the user can view but only if the
    Subreddit is private, so also can be looked up when it's needed.

commit 4f9bbc8fb211196d2042b3a5700aa4a1d1e45395
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 13 00:40:05 2014 -0500

    _fast_query: Delete unimplemented timestamp_optimize option.

commit 0da12af82e5d36259d4bc56ecb0e1a7ead9d6cd3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 13 00:34:51 2014 -0500

    Relation._fast_query: Fix data and thing lookups.
    
    Don't retrieve data or thing_data in sgm miss function because that
    is used only to lookup and cache (thing1_id, thing2_id, name): rel_id.
    Also switch to using _byID_rel so we can actually honor the thing_data
    and eager_load kwargs.

commit 42466db9dd3c9e65b2d752864598f64e0bc865e7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 13 00:22:43 2014 -0500

    Relation._fast_query: Delete TODO message.

commit 0181d4fbc87d1a98365ff714e8ccf3e2ec9c6573
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 12 20:55:45 2014 -0500

    load_subreddits: Don't load things on SRMember.

commit 0213927a498af1655a1b8d28d0f1f6a8ad93d703
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 12 20:54:26 2014 -0500

    load_subreddits: Don't load subscriber SRMember.

commit aa48e9b46c5be9f3eb5b4a306c07348f556262bc
Author: Andre D <Andre@andred.ca>
Date:   Wed Feb 19 17:00:28 2014 -0500

    UserListing: Skip deleted users.

commit 1c91e67a683a0833d8eaaa2c50f80b105aeb0bdc
Author: Andre D <Andre@andred.ca>
Date:   Wed Feb 19 16:02:19 2014 -0500

    about: Fix /edit and /traffic for logged out users.

commit d74b0baa858a1fa0d66cd5efa820645ee366d097
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 11 19:25:39 2014 -0500

    Delete traffic viewers.

commit 8df7d74af8f1eb4773d1d8b77f6e74ca80780cfd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 11 19:25:56 2014 -0500

    Delete Userlist.

commit 9ecb228d538d359a34a4d43fe6e507a4ea5fb67e
Author: Andre D <Andre@andred.ca>
Date:   Thu Jan 23 20:11:16 2014 -0500

    /about: Paginate banned and contibutors.

commit d54e284b749eac3820ad4ea5189cf110b87a2474
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Feb 20 17:17:47 2014 -0700

    RSS/XML: actually fix broken default header url

commit 549e26df0d029db8b87437f74519c2212512cab5
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Feb 20 14:16:45 2014 -0800

    Don't recommend banned subreddits.

commit 286379e81a9fcfc0e0d23a18a0c3241e423ce95e
Author: Max Goodman <max@reddit.com>
Date:   Mon Feb 3 13:30:27 2014 -0800

    install-reddit: Explicitly disallow installing modules from PYPI.

commit a25d502d154cd9481cf2402847f4c795c935318b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Feb 19 17:49:36 2014 -0700

    Message icons: no orangered on mark-read pages

commit 1003e73bf11fa9935b978af2079d7c57e16e0531
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Feb 19 16:34:03 2014 -0700

    Password reset: ratelimit by IP

commit 60c18aec8a27c10554318433c379de7b742c159f
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Feb 19 20:09:08 2014 -0700

    RSS/XML: fix broken default header url

commit ebae642bf2e4145b7cbf5665e394d80360d9aead
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Feb 19 13:49:46 2014 -0700

    Password reset email: update wording

commit 3393dc07a913c6a5a96f729076ce8abe22c856b9
Author: Neil Williams <neil@reddit.com>
Date:   Mon Feb 17 17:34:51 2014 -0800

    Add MessagesByAccount index.
    
    Useful for quickly finding all messages ever created by an account.

commit 77fe0dfa3c52b170d95ab0aad2e568cef96e1160
Author: Neil Williams <neil@reddit.com>
Date:   Fri Feb 14 16:29:33 2014 -0800

    Require credentials for private subreddit media embeds.
    
    By knowing the ID36 of a link, it is possible to see its media embed
    because the embed request is served off-domain and as a result can't
    verify the user's cookie.  To fix this, we add an authentication code to
    the iframe URL for media embeds and require its presence for all embeds
    in private subreddits.
    
    This makes required the credentials which were added in an earlier
    patch.
    
    This fixes an information disclosure vulnerability reported by Jordan
    Milne (/u/largenocream).

commit a6063c58434d5d4ff3717a05b989220a51fde412
Author: Neil Williams <neil@reddit.com>
Date:   Fri Feb 14 16:28:35 2014 -0800

    Start adding credentials to media embed iframe URLs.
    
    By knowing the ID36 of a link, it is possible to see its media embed
    because the embed request is served off-domain and as a result can't
    verify the user's cookie.  To fix this, we add an authentication code to
    the iframe URL for media embeds and require its presence for all embeds
    in private subreddits.
    
    This starts appending credentials to private subreddit embeds such that
    when the latter half of the fix is deployed all apps are already
    generating appropriate embed URLs.
    
    This is part of a fix for an information disclosure vulnerability
    reported by Jordan Milne (/u/largenocream).

commit 45c663e18e2950243c46479c1bb0db22b903c13d
Author: Neil Williams <neil@reddit.com>
Date:   Fri Feb 14 15:52:23 2014 -0800

    Use HTML5 doctype for MediaEmbedBody.

commit 902288c9e39b975b6e896856b31c93f71f9fdb1a
Author: Neil Williams <neil@reddit.com>
Date:   Fri Feb 14 15:01:20 2014 -0800

    GET_oldinfo: prevent info leak via redirect to permalink.
    
    Given the ID36, it was possible to get the title-slug and subreddit of a
    submission in a private subreddit.  This adds a missing permissions
    check to fix that.
    
    This fixes an information disclosure vulnerability reported by Jordan
    Milne (/u/largenocream).

commit 240140ee59f56cabf9cd2b3a3470eecd5089f611
Author: Neil Williams <neil@reddit.com>
Date:   Fri Feb 14 14:18:27 2014 -0800

    /gold: Ensure user should be allowed to see a comment.
    
    This fixes an information disclosure vulnerability reported by Jordan
    Milne (/u/largenocream).

commit f8bf988006b1a86a5b055b6d917cc590dca2344f
Author: Neil Williams <neil@reddit.com>
Date:   Sun Feb 2 17:24:08 2014 -0800

    Move ip_hash to secret vault and rename it to "true_ip".

commit 3aacf8dc05b4e9662c2da602e73570110a21a0ba
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 14 03:45:18 2014 -0500

    CommentTree: stop storing num_children.
    
    CommentTreeStorageV2 will continue to store num_children as the
    column value, but it is not read.

commit 4534e5e05e812d12f680067c4bf2477ddd07ef99
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jan 26 07:24:02 2014 -0500

    CommentTree migration: handle permacache entries without num_children.

commit 29e11d7692fe26300a405eef918e837218a52024
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Feb 14 05:10:28 2014 -0500

    CommentTree migration: stop using tree.num_children.

commit b21124432d0574ab3fb67939fc5a59d8edf5bf0c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Feb 17 18:14:05 2014 -0800

    OAuth2: Give /subreddits/search 'read' scope

commit 172163327c334f91cf916609803f555ec2356587
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Feb 17 12:18:33 2014 -0800

    OAuth2: Don't lose redirect_uri query params

commit b1e97e8bff0c0bfaa035e0a9ea16a4cd58630476
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Feb 14 15:42:23 2014 -0800

    Bring OAuth2 into the core controllers
    
    This makes it easier to avoid issues with running pre()
    functions multiple times (multiply subclassing was causing
    problems) and makes it so all resources are blocked from oauth
    access unless explicitly enabled (instead of randomly allowing
    access as a "logged out user" to endpoints that aren't part of
    an OAuth2ResourceController)
    
    Conflicts:
    
    	r2/r2/controllers/apiv1.py
    	r2/r2/controllers/oauth2.py

commit d368e31cb4843c25c19c040a70faca63c79ba7b4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 18 01:04:03 2014 -0500

    Ignore 'mispaid' notifications from Coinbase.

commit 8db9e76ab0d7cf8652735315ca3f918333f61b1e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 18 01:53:53 2014 -0500

    Fix link to gold subscription page in error message.

commit ed1f165756b709b949b710b3a6cbb4d8e051499b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Feb 14 13:53:18 2014 -0700

    Gilding form: add reminder message for creddits

commit 3ed6a33ab8cdf2f271a97c3438b07926cce1c4f3
Author: Neil Williams <neil@reddit.com>
Date:   Sun Feb 9 12:47:27 2014 -0800

    Comment score hiding: allow users to see their own scores always.
    
    It's just frustrating not to be able to see your own score and the
    bandwagon effect isn't really relevant in this case.

commit 0e7dee096fff6fc7f5ac45da2040fc51c734796a
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Feb 13 17:16:04 2014 -0800

    Trim the message tree when it reaches a certain size.

commit a06b9682d219a5f2009d7d0da77b59d10d99ea3a
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Jan 13 12:19:34 2014 -0800

    Pass fullname on deleted things if we can ban.

commit f66c9e7f0c1ed5e37002693594489d1c2ba55845
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Feb 13 21:10:18 2014 -0800

    Add missing commentvisitsbox.xml template.

commit 0e647695d3fe49816ebbb1d104da0f8b853c99d4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Feb 13 15:53:01 2014 -0800

    /dev/api: Show /api/flairselector docs

commit 667a863fafa714355e9cfbc8e828509b46ce288d
Author: powerlanguage <josh.wardle@gmail.com>
Date:   Thu Feb 13 10:35:51 2014 -0800

    Add jobs link to footer

commit 1a117fffbdf94ed764ffdc8284d3453324b0a49d
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Feb 13 11:52:18 2014 -0800

    Remove extra "is_mod" from AccountJsonTemplate
    
    It's already in the IdentityJsonTemplate subclass

commit a059ef106f46b9355accb205e19756b5c00ad111
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Feb 13 11:50:40 2014 -0800

    OAuth: Include mail status in /api/v1/me
    
    Will only be included if the current scope includes
    "privatemessages".

commit 5cf4ee5535cf8358b85a08c010899f519ffa41bc
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 11 13:28:09 2014 -0800

    OAuth: Add @extra_oauth2_scope decorator
    
    When in an OAuth context, decorated functions
    will only be run if the context includes the designated
    scope.
    
    When not in an OAuth context, the function is run normally.

commit 6e08b49780ec6ce873d2c40ce013e6f68f180626
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 11 13:24:20 2014 -0800

    apiv1.py: Fix whitespace issues

commit b610af74389a44bd4365f7d6792ec95985ebe047
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 11 13:22:55 2014 -0800

    OAuth: ApiV1Controller must check_for_bearer_token

commit 4258d1c036aa850ab091346e5fda3cfbff53b9e4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Feb 13 14:11:22 2014 -0800

    OAuth2: /api/v1/access_token: Use proper user ID

commit 2de5f2d3ec56fdd7609e253db54a4b9fca41d92c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Feb 12 11:43:24 2014 -0800

    OAuth2: Add personal "flair" scope
    
    Allows token bearer to manipulate user flair, and
    the flair of his submitted links
    
    Give /api/setflairenabled "flair" scope
    Give /api/flairselector "flair" scope

commit 4ae88aae4093af3495e99dd773d21dec4d7b9977
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 11 17:30:35 2014 -0800

    OAuth2: Add 'report' scope (works for 'hide' too)

commit 6ae5866162105321dd04329d666c181ba5b97cf0
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 11 17:23:07 2014 -0800

    OAuth2: /user/<username>/about gets "read" scope

commit d308e9f65342aeea916253a6e000b10ca407d500
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 11 17:19:05 2014 -0800

    OAuth2: /api/submit_text get 'submit' scope

commit 3511b08110ce6d10214ece6e782340ad23a76c2d
Author: Neil Williams <neil@reddit.com>
Date:   Wed Feb 12 21:42:42 2014 -0800

    Combine and generalize the time listing precomputer scripts.
    
    Previously, the subreddit/domain and account precomputers were separate.
    This merges the two and improves their portability in the process.
    Because of the increased portability, the precomputer can now be added
    to the install script by default.

commit 5fae84cbd01d794a174b7606752de350ea2ccfda
Author: Neil Williams <neil@reddit.com>
Date:   Wed Feb 12 21:16:39 2014 -0800

    Put media_domain warning on stderr to protect MR jobs.
    
    For simple installs of reddit, g.domain == g.media_domain.  If this is
    the case, the app will print a warning at startup.  However, this
    warning was printed to stdout which meant that any jobs (such as the
    mr_top stuff) using the output of a reddit process would get this
    warning in their data streams. Bad times.

commit fc33bd301bfb6e8c9be69a499f54cca6ffe7cb9f
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Feb 12 18:07:11 2014 -0800

    Parameterize g.domain in DomainSR title.
    
    The domain is not "reddit.com" on other sites. This also fixes the issue
    of doing concatenation of internationalized strings which is a bad idea.
    Fixes reddit/reddit#968.

commit bfe526d13cfe702bb397af0d24a896537fa42a70
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 11 03:47:24 2014 -0500

    PromoteLinkForm: update infotext with link to Mike's slideshare.

commit a3153d61dd89d83f29ec4840ad7e2e13c9359494
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 6 16:12:09 2014 -0500

    Make advertisers and sponsors have same start date restrictions.

commit 1f87b93e7f9a249630a946a06dd80fcac1d6e659
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 6 16:10:12 2014 -0500

    VDate: Use business_days argument.

commit 470efd24c4061d58efe855d1ea65f9860b92c2bb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Feb 13 15:24:58 2014 -0500

    validate_blob: Add new 'code' goldtype.

commit 93283123ad517e405f21972aa6546574cb1cd0b3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 5 05:11:19 2014 -0500

    CommentBuilder: children of MoreRecursion are not used.

commit bcbf9c18ce9779333c9321e91332ecd57da6d457
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jan 27 06:10:25 2014 -0500

    CommentBuilder: cleanup MoreChildren building.

commit 6734096d9543ac4defa410e71c249a4730e2e17a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jan 26 22:07:15 2014 -0500

    CommentBuilder: cleanup selecting comments to show.

commit 1123b6ff6a43401f0309b042ff27db286608d222
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jan 26 21:55:56 2014 -0500

    CommentBuilder: clean up use of MoreRecursion.

commit 83e5b38a829e708bb94565035dd0e4c5150fe6ad
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jan 26 20:35:15 2014 -0500

    CommentBuilder: use heapq to keep sorted list of candidate comments.

commit faa1404f46a2f9127717de4c37a2e397f80a8f72
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jan 26 06:39:14 2014 -0500

    CommentBuilder: calculate num_children on the fly.

commit a128c60a88eaee0987bed72ecf753dbd5508be83
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jan 25 15:45:32 2014 -0500

    CommentBuilder: use better variable name wrapped_by_id.

commit 7d0a71fd43cea94f46939e49ba13aa24f80d167a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jan 25 15:24:01 2014 -0500

    CommentBuilder: don't log when there's an empty candidates list.

commit 0e5b1b7bd7da195e4faf7febbaa1ca684ac64ad5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jan 25 15:18:14 2014 -0500

    CommentBuilder: don't import TimeoutExpired.

commit e72a21d0f0169ed3104f710f5bedee3df82db5f9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jan 25 15:17:24 2014 -0500

    CommentBuilder: move sorting/updating candidates to its own method.

commit 5637618379077dd999c05f22f4ec5a20d41606bd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jan 25 14:36:53 2014 -0500

    CommentBuilder: cleanup logic for selecting candidate comments.

commit a4874c5a9609a12cd307055501496600ebdc2fbe
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jan 25 14:22:56 2014 -0500

    CommentBuilder: delete debug_dict.

commit 5515aa7f07d3cab272fa8ba1f81e7a69d59c0a6f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jan 25 14:18:23 2014 -0500

    CommentBuilder: separate `comment` and `children` handling.

commit 633c25049048c59dfb6045763650eff27a364cfc
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Feb 10 15:08:16 2014 -0500

    VOrAdminSecret: don't check modhash on GET requests.

commit e8318400e407666ce90da2e20f4791bdf92dc084
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 5 11:02:07 2014 -0500

    terminate_campaign: immediately update promote status to finished.

commit 9ac361323e98047cf46bd822aa23f890ffe28ed2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Feb 4 05:35:00 2014 -0500

    CommentBuilder: add timers.

commit c32c63661c87b18c7d1ea1eb0d78ca4a687405d3
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Feb 3 16:46:54 2014 -0800

    Missing RequirementException import

commit 347fb8bc5f4c40a645f6a200963c593462102c40
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 31 22:16:45 2014 -0800

    SRMember: Start dual-writing to a dedicated cache pool.
    
    This is one of the most heavily hit rels currently and the hope is that
    pulling it out to its own pool will make the main cache more effective
    for everything else.  It may make sense to move SRMember to a different
    model such as a C* DenormalizedRelation in the future.

commit 264f872ca40849f2e57834de66f217920348e43a
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 30 21:04:12 2014 -0800

    media: Make hooks for adding scrapers into the mix.

commit 342709da38a68e83dc479049d253ea00f39a9cd4
Author: Roger Ostrander <reostra@reddit.com>
Date:   Thu Jan 23 16:14:37 2014 -0800

    POST_submit: add hook for when banned domain submitted.

commit 4ba1a10c6d77d0e88617ab5db985d8f0fe8dc0f5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jan 22 19:52:39 2014 -0500

    CommentTreeStorageV1.add_comments: write parents first.
    
    When assembling a comment tree it's necessary that all comments
    are present in parents. Writing parents first ensures this.

commit cc7c23c8f332527bedbbe86164af126e3afd7373
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 16 14:01:31 2014 -0500

    Set default geotargeting country correctly.

commit e6744c880a291d3bc315b871ed74577a785235e2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 16 12:40:56 2014 -0500

    terminate_campaign: pass location to edit_campaign.

commit f23025edf631c1e22df8c6777102e41b164b717b
Author: Jason Harvey <alienth@reddit.com>
Date:   Wed Jan 15 12:18:02 2014 -0800

    memcache: Reduce compression threshold for rendercache.

commit dfdc5600c4682fc6bd683a8fb472262bf8a94330
Author: Jason Harvey <alienth@reddit.com>
Date:   Fri Jan 10 21:43:30 2014 -0800

    Pass fullname on deleted things if we're admin.

commit 1ecb6c6a613c00e0a8bda56f2e5dcefef91506b6
Author: Andre D <andre@andred.ca>
Date:   Tue Dec 17 16:33:06 2013 -0500

    wiki: Remove recursion and fix wiki page list filtering.

commit 47a677aba1a2079292e5361eecdc4394cf072d7b
Author: Neil Williams <neil@reddit.com>
Date:   Tue Feb 11 11:49:26 2014 -0800

    /tb/: Check permissions before redirecting.
    
    When the user is not logged in or has the toolbar disabled, the toolbar
    endpoint will turn a link ID36 into a redirect to the submission on
    reddit.  This redirect includes the slugified title of the post as well
    as the subreddit it's in which could lead to a leak of information from
    a private subreddit.
    
    This fixes an information disclosure vulnerability reported by Jordan
    Milne (/u/largenocream).

commit 497751dc96d27d0cc7a74d65a9df068eb98ae929
Author: Neil Williams <neil@reddit.com>
Date:   Tue Feb 11 10:59:18 2014 -0800

    /api/generate_payment_blob: Check comment viewing permissions.
    
    This is not strictly necessary as /gold/creditgild is where the
    information leak actually occurs, but checking here should help prevent
    future leaks of the same type.
    
    This fixes an information disclosure vulnerability reported by Jordan
    Milne (/u/largenocream).

commit 4d9e6b29b3db98fd7223e787bd51a44771d8776a
Author: Neil Williams <neil@reddit.com>
Date:   Tue Feb 11 11:28:02 2014 -0800

    /gold/creditgild: Check comment viewing permissions.
    
    Previously, it was possible to generate a payment blob for a comment the
    user does not have permission to view (in a private subreddit or
    deleted) and then use the creditgild form to see the author and content
    of the comment.  This adds a check to creditgild to ensure correct
    permissions at display time.
    
    This fixes an information disclosure vulnerability reported by Jordan
    Milne (/u/largenocream).

commit 510aafede70a4ea1fb250385e681931f5a581515
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Feb 5 14:45:43 2014 -0700

    User lists: highlight row on hover

commit 441ce8fe19da32d26b878f963a65a7de8f2adb88
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Feb 3 16:16:32 2014 -0700

    Flair list: restrict access to mods (flair perms)

commit fadfbb6a820946ef6942249f64bb21712ef58848
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Feb 10 11:53:51 2014 -0800

    Allow "script" apps grant_type=password
    
    Only application devs will be permitted to use password grants,
    to discourage widespread use. Password grants are intended
    to be a convenience for bots & personal scripts, to encourage
    use of OAuth tokens and ease transition to OAuth2.
    
    For more info on password grants, see:
    http://tools.ietf.org/html/rfc6749#section-4.3

commit 3c49e94f97bbbedcd70e66f6ad4ecf8fa26d1bd5
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Feb 10 11:51:12 2014 -0800

    Add app 'type' field to app create form
    
    This will allow for differing handling of permissions based
    on application type.
    
    * Web app: Web-hosted application. Can keep a client_secret
    
    * Installed app: e.g., android app. Client secret is not so secret
    See also: https://developers.google.com/accounts/docs/OAuth2InstalledApp
    
    * Script: For simple scripts and bots. Client secret is assumed secret.

commit 58c66fbbcf5f937ee1171416e28c08eff20bc9ca
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 6 22:37:38 2014 -0800

    V*OrAdminSecret: check modhash if secret token not used.
    
    It is necessary to do this check in V*OrAdminSecret as we cannot (and
    should not) require a modhash when the secret token is being used
    because this would break API compatibility and isn't necessary.
    
    This fixes two XSRF vulnerabilities reported by Jordan Milne
    (/u/largenocream).

commit 94d69f59aba69cd3c8d47bad63a95d8c61b9d349
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 6 21:41:11 2014 -0800

    Remove obsolete /api/frame and /api/noframe endpoints.
    
    These endpoints don't appear to have been used since
    reddit/reddit@a07c576d1a8a548d8b22516304c64152d5eb89a0 and I have
    verified via haproxy logs that they are not ever being called.
    
    This fixes two XSRF vulnerabilities reported by Jordan Milne
    (/u/largenocream).

commit 1cbc59a1c572e9c40bf0476b4c8ff2b0e0e8abae
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 6 21:40:56 2014 -0800

    Add some missing VModhash checks.
    
    This fixes nine XSRF vulnerabilities reported by Jordan Milne
    (/u/largenocream).

commit e27f7d3285d1970949230989661f16763eb0c3a6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Feb 5 11:24:38 2014 -0500

    paypal subscription: cleanly exit on duplicate transactions.

commit 0feb71228aab02b6831034e64dec5c5ec8d691f2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 16 17:04:51 2014 -0500

    Delete update_promos_q.
    
    A cron job is sufficient because promote.make_daily_promotions()
    is all that needs to be run.

commit 9dff58335da98ae3db65c247241db834fe6de9a6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 23 13:46:12 2014 -0500

    Delete unused Link _saved and _hidden methods.

commit 4082b76a24b76851eb3934cdb2ea251bb3247104
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 23 13:45:38 2014 -0500

    Delete SaveHide.

commit c9ab064c2a49172571c24aaf031f8c0d6ebbe366
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Feb 3 16:41:29 2014 -0700

    Gold purchase amount dropdowns: reduce choices

commit 0a183a1ec24061e1a2dc47a99234fa2a860f691d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Feb 3 10:53:34 2014 -0500

    _min_daily_pageviews_by_sr: get_time_points takes datetime arguments.

commit 92eea5fe180610743e63bf36102002009366cbbe
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Feb 3 11:28:25 2014 -0500

    ipn: protect against exceptions raised by send_system_message.
    
    /u/reddit's inbox can get full.

commit de11fbad59dbd62ddfb2948bcffc5c6f7296a10c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Feb 3 11:11:48 2014 -0500

    IpnController: cleanly exit if payment_blob is locked.
    
    /u/reddit's inbox was full causing IpnController.finish to fail
    on send_system_message, but after dishing out the gold. Temporarily
    ignore "locked" payment_blobs.

commit bf246afa8dc1dd637b35223d8ee3d9a7e8904474
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Dec 20 16:42:00 2013 -0700

    Gold: support buying and redeeming gift codes

commit 3072b6e8f3674250346778a69c222f75b6d0c90e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Nov 25 16:39:17 2013 -0500

    CoinbaseController: add support for discounted prices.

commit e0cc4b1834b722785dab398150513d21f7137c98
Author: Neil Williams <neil@reddit.com>
Date:   Mon Feb 3 19:05:59 2014 -0800

    Fix reference to RTL stylesheets.

commit 4292e17004f650d1e2c7381f53a2060940d4c6c7
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jan 28 11:53:33 2014 -0800

    OAuth2: Give /api/morechildren "read" scope

commit c446ef23f38e915cfe0934fe8a4ab9e5ea103e4f
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jan 28 17:59:43 2014 -0800

    /dev/api: Add short docstrings to wiki API endpoints

commit 5f75aa4f31340e5533060cba713a5c6f876e9c3d
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jan 28 15:00:13 2014 -0800

    /dev/api: Correct wiki URLs

commit 5b75c402e26c05993dc5af1fe7eb393dd0bb3872
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jan 28 09:19:35 2014 -0800

    Add OAuth2 scopes to WikiController endpoints

commit ad3ffa0cef4af7c17d1b6206648b593eec954d65
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 27 17:34:50 2014 -0800

    Remove route for non-existing /api/wiki/create

commit 5e1df19a6228fd21fea736b75b8047e695077274
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 27 16:35:55 2014 -0800

    /dev/api: Add missing wiki endpoints

commit 18050f2cb20cb33fa60b65e3af2940c3f4714c28
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 27 14:59:00 2014 -0800

    Add modwiki and wikiedit OAuth2 scopes
    
    modwiki: Perform moderator-level wiki actions
    wikiedit: Edit wiki pages where you have permission to edit

commit 3f5fdf6c92713a69ffb2d3a67e21fec24b597832
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 27 13:49:00 2014 -0800

    Add "read" scope to /random

commit 6a1f1d7d2957ca35d4837c66bf3174ea0fdb47c6
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 31 20:21:00 2014 -0800

    thing: Make it possible to use different cache pools per type.

commit 0dad5e1ccd4686fefea2d91618e79588417b6a1e
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 31 15:38:20 2014 -0800

    thing: Remove dead code.

commit bc7b9382bb9b689f79a292de55da1bbffdb79594
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 31 15:37:37 2014 -0800

    thing: Clean up imports.

commit 943a1c16d6e6968a76989ce54adcfc116507bfd9
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 31 15:20:02 2014 -0800

    Get rid of r2.config.cache.
    
    It's just a strange alias for g.cache.

commit 8636f1be3ed9edd173726a562a48797ee8543005
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Jan 30 14:05:36 2014 -0800

    comment_tree: Double MAX_ITERATIONS.

commit ca272316e2617d26caaa32c505bf947bffd421db
Author: Andre D <Andre@andred.ca>
Date:   Wed Jan 29 10:07:13 2014 -0500

    toolbar: Fix embed for offsite subdomains like blog.

commit 49d25b7767918f6259f6d15b75abd1620438d37c
Author: powerlanguage <powerlanguage@users.noreply.github.com>
Date:   Fri Jan 17 10:39:28 2014 -0800

    /rules: Fix broken link for child pornography definition.

commit 453a876b30472e0d945dd0033c7f94edfe1ea1fb
Author: Andre D <Andre@andred.ca>
Date:   Thu Jan 23 11:41:12 2014 -0500

    /contact: Add a link to /r/ideasfortheadmins.

commit 6934846b528cc7789e9d75df9371804a9a4ff402
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sun Jan 26 19:43:50 2014 -0700

    User page: add moderated subreddits to sidebar

commit ea9cbe8c2e1128b84f7306796a2d22da07a744df
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jan 23 15:41:52 2014 -0700

    User about.json: return 404 for spam users

commit 769386958081ee405611c620657dee3f549796eb
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 24 12:47:12 2014 -0800

    example.ini: Reorganize and document configuration options.

commit b38412fc174a6955206de327cd4bf17571f2efc9
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jan 26 12:54:47 2014 -0800

    CSS Editor: add a gilded comment to the preview samples.
    
    This should make it a little easier to style gilded comments.
    
    As requested by /u/Tiante in http://redd.it/1vw52s.

commit 8395f24fc8e41530b59404573fef13bcfcd93997
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 23 20:26:07 2014 -0800

    Add client-side code for websockets and add message types.
    
    Message types allow dispatch of different payload types to different
    receivers.

commit 0ac25c360843826b0d930f45d93b7de1148fe4df
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 27 10:50:19 2014 -0800

    Fix unicode issue in /s/ redirect

commit 088ca2894a31b1b058e9ba57adbb2c037e3dc1e8
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 27 10:12:10 2014 -0800

    minor import cleanup in toolbar.py

commit cb692abe469b38482e497de7f2c62fd86bd8ec7e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 27 10:09:03 2014 -0800

    Remove one layer of redirection from /:urloid

commit e8eb760079a386c06b86454b07a4203c5a4891ed
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jan 24 11:40:43 2014 -0800

    Redirect /s/ to /submit or /tb/
    
    Much code removed, as we no longer need to
    handle /s/ generating toolbar views

commit 53822fea075f84e17eeca0c170de9c59ee3d15ea
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jan 24 13:59:11 2014 -0800

    Fix 'Disallow:' clause

commit 7c3d21ad0272e91f254f28108aec19c7c5c0af44
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jan 24 10:42:40 2014 -0800

    Remove old restriction on msnbot

commit dc6e320efca789c4387aa070e71758b1537abbd4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jan 24 10:39:21 2014 -0800

    Disallow crawlers except on www.(g.domain)

commit 38264c8b6b01f21cdd18a1ca7ddcb6826ed3e409
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jan 24 09:58:38 2014 -0800

    Move robots.txt out of static
    
    Stage 1 of allowing dynamic robots.txt based
    on subdomain, so we can disallow on non-www.

commit 686f69a4b675aa60c5ca81bd44a69c1d1a96a469
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 23 18:20:24 2014 -0800

    Remove old authorized_cnames configuration.
    
    CNAME support was removed a while ago, this was just cruft.

commit 369c69a4a8745ccb9de355cbcccf51ab24826cd7
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 23 15:11:00 2014 -0800

    Remove unnecessary configuration of PNG/JPEG optimizer locations.

commit b493c7f98475b69d7260e510f2f9bdc9b5589d3f
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 23 15:05:30 2014 -0800

    Remove pointless stylesheet filename configuration.

commit fc22d687b1f5d8bac650eb8f4d7da914168f3c86
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 22 17:21:46 2014 -0800

    Remove some unused configuration options.

commit a6813242285afbda5e78c8ba045f73ad819fc069
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 15 16:01:34 2013 -0700

    Remove obviated workaround for babel bug.
    
    This bug is no longer an issue since we upgraded to Babel 1.3.

commit cb01aafcfd7ffd727b1a08cb9155ff5dcf619c72
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Jan 16 08:31:45 2014 -0800

    Explore page settings.
    
    Adds checkboxes to control what kind of content appears in the explore tab.

commit f78857266b263172bedc43938bfc9c8d8d1ffd82
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jan 7 12:19:53 2014 -0800

    Add integration with websocket server "sutro".

commit 7cee17a418e0449ece0c19ff4f3a86c2424320cd
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 8 11:55:56 2014 -0800

    install-reddit: Only bind the stunnel-internal port on localhost.
    
    This prevents connections directly on that port from outside.

commit 5ead01ca50c313c0c2ca607510710fed90ff5f55
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jan 7 08:57:57 2014 -0800

    install-reddit: Move netcat to proper group of packages.

commit 0fda7910d3a49cc8e3d2a88438213c0620d17a79
Author: Roger Ostrander <reostra@reddit.com>
Date:   Wed Jan 15 13:05:21 2014 -0800

    Hooks:  Enable public access to the hooks dictionary

commit 184079068cbbee78f4ca0e20ce4ea496beb0b231
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jan 22 01:25:49 2014 -0500

    GET_submit: sanitize_url before checking for url existence.

commit 770ea6b69ff4f6987f99c1145890819b0d47c14c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 20 11:13:29 2014 -0800

    Clean up /prefs/apps view of OAuth2Scopes
    
    Re-styles the /prefs/apps view of app permissions
    so that the new, longer lists of scopes won't overflow.

commit 0ace7030c6ea1fb9a072508caf32d34bdfb0004b
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 20 11:12:16 2014 -0800

    Be more explicity with merged OAuth2Scopes
    
    In order to present a precise picture of an OAuth2Client's
    overall permissions, a dictionary of OAuth2Scopes with
    the exact, per-subreddit scopes is passed.

commit 61df59cf2c6b9d004f003158bec0e2f128c16840
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Jan 15 16:38:20 2014 -0800

    Show only one entry per app on /prefs/apps
    
    This changes /prefs/apps to show one entry per OAuth2Client,
    with a combined scope showing the cumulative scope of all
    tokens granted to the app.
    
    Previously, /prefs/apps had one entry per access or refresh
    token. This was generally redundant, as the revoke action
    would revoke all tokens for the given app.

commit a7878232f5689287e914ce6c1d76d4e3462c35fd
Author: Andre D <Andre@andred.ca>
Date:   Wed Jan 22 11:51:15 2014 -0500

    POST_block: Do not check inbox if user is a mod of the subreddit.

commit 13cde008d8eb4c6b0913e581e5a5fd53a104f8e6
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jan 21 12:31:36 2014 -0700

    Sidebar mod list: don't count deleted users

commit d26d9b3ca7ae5d1bf9b077b2793bf884e32476b0
Author: Andre D <Andre@andred.ca>
Date:   Fri Jan 17 17:07:24 2014 -0500

    flair: Cleanup form submission.

commit 8b982b8644a9cd8ba061220b4024a33c87590da5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jan 21 12:46:17 2014 -0500

    GET_submit: sanitize_url before building listing.

commit 5c294c3a4d832b5405fd1abf429f855f310cee9c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jan 16 05:05:29 2014 -0500

    inventory: Fix logic for determining location overlap.

commit 6072f9f51551209c349aaba1b234eee214e048c0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jan 15 19:30:21 2014 -0500

    Disable 'region' input when not applicable.
    
    Was sending a null value which wasn't being handled correctly
    by the VLocation validator.

commit dd78c62417931b4d03a6876ea1eb7f8421e4396f
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 8 19:12:29 2014 -0800

    Use is_moderator_somewhere for moderatorship checks.
    
    This should be a much lighter weight check than checking
    reverse_moderator_ids on every request.

commit cfc462b5f66a466ea0f407cf1754b468858d83de
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 16 12:34:34 2014 -0800

    Pass return values on from {add,remove}_moderator.
    
    This was causing modship PMs not to be sent.

commit 8ad42f9d5f067958da828a3ab43ff12bb5a95f58
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jan 13 10:23:48 2014 -0500

    sponsored: Show campaign editor before filling it.

commit be9b6281947d7de86558082a9dd4ec3b1834e3db
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Dec 11 23:42:24 2013 -0500

    Geotargeting is for sponsors only.

commit eb75b6075a08660b38b1b67c9aa8ae9547e26ae3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 27 15:56:06 2013 -0500

    get_campaigns_by_date: return dict with all srnames and dates.

commit 93f29d98f23f135a3b3e5ac0bdbfc0106dbc82e4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 27 11:15:20 2013 -0500

    Add geotargeting for selfserve advertising.

commit 90cafd99337df3697c14b4080c4a1e5f3d09001c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 27 15:57:14 2013 -0500

    Add inventory functions for geotargeting.

commit 5ab7e0232a2e4feddf0cbf48d627b6052c329572
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 27 11:11:52 2013 -0500

    Add LocationPromoMetrics.

commit f7be48bcf2b7dc8737515efc63b0901e0e278cda
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 27 11:11:18 2013 -0500

    Add locations to app_globals object.

commit 138a4c95c6058c12ea07999b0bf6b7b732516245
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 27 11:10:05 2013 -0500

    Add VLocation validator.

commit 7f2e9b34d6e2eebad4bf7ea2dad20c25ab34a6ba
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Nov 16 12:18:43 2013 -0500

    Add Location attribute to PromoCampaign.

commit 2f4e5a21253819f7d127c01705f08bb7075f4cc8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Nov 21 16:35:04 2013 -0500

    promotelinkform: remove cpm form input.

commit 932baf6ea0ed0ce2f067b0dc6d67f20be184aa30
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Nov 21 16:30:25 2013 -0500

    sponsored.js: Fix handling for 0 inventory values.

commit 394eff40598ec6d7648631338518661c9b05b4f1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jan 13 08:49:22 2014 -0500

    toolbar: Use wrap_links correctly.

commit 1090350a8d48f7b1abbe6aa5c3c41db770498025
Author: Kristofer Rye <kristofer.rye@gmail.com>
Date:   Mon Dec 30 14:47:45 2013 -0500

    lib/strings.py: Fix a spelling error
    
    The past tense of the verb "verify" is "verified," not "verfied."

commit dd41521b6ad580bd3c205cb36b30a16b7caed1a5
Author: Max Goodman <max@reddit.com>
Date:   Fri Jan 10 15:29:41 2014 -0800

    Add X-XSS-Protection and X-Content-Type-Options headers.
    
    As suggested by reporter Shahmeer Amir.

commit 4bf612f7c1ffd0e351b4ede5ac0fba3491e6b011
Author: Max Goodman <max@reddit.com>
Date:   Thu Jan 9 14:25:05 2014 -0800

    Don't log users out in the verify email flow.
    
    Fixes logout CSRF reported by Mathias Karlsson.

commit ecec1e5051f7d9bcb4011601dec615a9941d2c12
Author: Max Goodman <max@reddit.com>
Date:   Wed Jan 8 14:27:34 2014 -0800

    Don't log in / log out in the password reset flow.
    
    This prevents using valid password reset tokens to force a logout CSRF,
    as reported by Mathias Karlsson.

commit c1ef147ad206002fb8d15f0667de45cef08fef28
Author: Max Goodman <max@reddit.com>
Date:   Wed Jan 8 14:33:10 2014 -0800

    Add username display to the reset password form.

commit ee5659e0500311e3f4b3668080584754f1bcc5a1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jan 12 12:49:49 2014 -0500

    Fix path for ModMinus.

commit ed6eecea00fad8f9649e4259fbca5094969a0dda
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Dec 18 07:14:29 2013 -0500

    Improve handling of changes to finished promoted links.

commit 6374ac87c44ca8d08044d35250b9640d8e4bf517
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 24 14:34:03 2013 -0500

    Suppress numbering on promoted links.

commit 13198477e66627676de02b830099b55cc9771cda
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 24 12:22:38 2013 -0500

    Show sponsored headlines on all link listings.

commit e13ddac2ba989d171d64c06077093d505c3afe39
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 24 12:16:11 2013 -0500

    Delete FixListing.
    
    Not needed since cached queries are always used.

commit 50d35de04b928836b7ee955c8a26f197e24ab01e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jan 12 13:04:59 2014 -0500

    Make hot score continuous.

commit d8e4156825fa832c85bc359e6962c88ee2d381e6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jan 12 13:04:27 2014 -0500

    CachedResults: never skip inserting an item if it's already stored.

commit 5e249f4773e7e87c2f3e262d32ef0bd538b55aa2
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 8 19:10:00 2014 -0800

    Make all moderators have a modmsgtime attribute.
    
    This attribute can serve as a handy indicator that a user is a moderator
    somewhere and can therefore replace the more costly modship lookup in
    reddit_base.

commit 91a83a636826cf3d6fc1cad2e3b2f888e91e523a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jan 11 22:55:46 2014 -0500

    Ignore case when building list of subreddits with saved things.

commit 1d0a9f39507ce443b6069dd63640289301b05c4b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jan 12 08:52:46 2014 -0500

    Only demangle_url if there is a url.

commit c13923cd2faef002db3f0e05fc14db375f6c6756
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 24 20:16:02 2013 -0500

    Delete link_from_url and filter_links.

commit 20419241df5bb3d7e546c47b84cdaa449992874c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Dec 19 09:26:53 2013 -0500

    VUrl: Don't check for already submitted url.

commit 299366c473309211a68ab552dc76c193588c2b88
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Dec 23 18:15:50 2013 -0500

    hot_links_by_url_listing: Return a listing of links for a given url.

commit 0e8410c0c0dc88bcc1bb30aae4421ca5b16c15aa
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Dec 19 09:15:24 2013 -0500

    Link._by_url: always return a list.

commit 7a2d23765335a213238c68d6bdaa34187a60c0b3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jan 12 07:49:58 2014 -0500

    AllMinus/ModMinus: Handle case where base_sr doesn't exist.

commit fb19fc689df289be3bd95f1cec58eecccd51d7ce
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 24 15:22:54 2013 -0500

    Allow subtracting subreddits from /r/mod.

commit 3dfe25840758bde67f4f9a42aec77061f18a1271
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 24 04:16:16 2013 -0500

    is_charged_transaction: refunded is still charged.

commit 7cadf9fc7a47b6da460bf3a0be44a8523eefeabc
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Jan 2 13:04:21 2014 -0800

    Update link LastModified if link or thread comment is removed.

commit c9448d5360be81861ded804d7571718698e73aed
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 8 14:24:57 2014 -0800

    Add timer for authentication step of RedditController.pre.
    
    Somewhere in the base-pre step is going slow, this should help narrow it
    down.

commit 5b370eb422e0669fdf0cd492a27a03b1471bc15d
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 8 11:30:50 2014 -0800

    /dev/api: Add uses_site to /api/info.
    
    You can specify the subreddit to clamp results to that subreddit.

commit e8e2b3fc646adccc1a8ccc749ac47ca0ae8cedc3
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jan 6 13:47:46 2014 -0700

    randstr: Allow specifying valid chars directly
    
    Removes the "really_random" argument from the randstr util function, and
    replaces it with an argument that allows specifying the character
    choices instead of just having the two options available.

commit 79ddb15072dbb22c63f455a26d654579683ef210
Author: Andre D <andre@andred.ca>
Date:   Fri Dec 6 15:57:22 2013 -0500

    oauth: Add an authorize.compact support.

commit e21b1863aa598cd324c1d0605982d1007eb24e9e
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jan 3 16:36:11 2014 -0700

    Links: allow re-queuing for scrape if unsuccessful
    
    If the scrape of a link fails for some reason, this will add a "retry
    thumb" button to the link, which will re-add it to the queue to try
    again. This will appear to similar people as the "nsfw" button - either
    mods of the subreddit, the submitter, or the sponsor for a promoted
    link.

commit 0ac994bad9075518033faea346e5496a07d52dd0
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Dec 30 03:01:14 2013 -0700

    Sent messages: don't hide removed messages

commit c806017af86ff01e1ba440a2048eb9e4449e1360
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Mon Dec 30 13:47:33 2013 -0800

    Filter private subreddits from the explore tab.
    
    Private subreddits are filtered out of the recommendations but could show
    up in the rising links.

commit 13fd5ed51acece634b3faface1e758e7cda496d7
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Dec 23 14:41:34 2013 -0700

    UrlParser: tolerate port attribute being unset

commit 644d2da84054f1e65fedab5d47f861811f8c0175
Author: Max Goodman <c@chromakode.com>
Date:   Fri Dec 20 14:53:20 2013 -0800

    Finagle README.md logo image position on GitHub.

commit 18624371fe728d49cf0b046a3040cfc6a81e0327
Author: Roger Ostrander <reostra@reddit.com>
Date:   Wed Dec 18 17:18:16 2013 -0800

    Signup/login:  Enable account spotchecks

commit f5db68a80f4297546b34493df52f29c0697ee9f2
Author: David Ehrmann <dehrmann@reddit.com>
Date:   Tue Dec 17 14:32:54 2013 -0800

    Never mark comments by promoters on their own promotions as spam

commit 95da24e94c0beed4b084cee0d986b4e29c00e90e
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Fri Dec 13 18:57:23 2013 -0800

    Don't fade comments in RES nightmode.

commit 4ab1d14babc9836f642183610f17d281828b2c33
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 17 14:37:32 2013 -0500

    Don't show promos without paid campaigns in "future_promos".

commit 19be2d267dcdfdd83ec355f291160d6fbc578b0a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 17 15:56:04 2013 -0500

    Only sponsors can unmarknsfw on promoted links.

commit 6571a697a37eb84123aab0b552c052166686c53b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 17 15:00:21 2013 -0500

    Add override to prevent setting promoted links over_18.

commit 48288b2177a2eab135c0f3b01071cdef66bb398c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 16 04:53:44 2013 -0400

    Let sponsors safely terminate a live campaign.
    
    This will set the campaign's end_date to now so all traffic and
    billing information is retained.

commit 59ec220dd06dd9eb3f7c4f22930768059724a888
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 16 18:48:39 2013 -0400

    get_time_points must return valid traffic times.

commit b0c6e4884068239cd2957d3349951fb211af8030
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 16 18:27:30 2013 -0400

    to_datetime: only convert datetime.date objects.
    
    When d is of type datetime.datetime isinstance(d, datetime.date)
    returns True.

commit 595999ddfa14bccf963e63a2b8e83c2591d683fd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 17 12:39:42 2013 -0500

    edit_campaign: record more details in PromotionLog.

commit 61fa8895a8e546c027a256a35128a1a593febfc8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 17 10:46:40 2013 -0500

    Unset trans_id when voiding a campaign's transaction.

commit 536434030b89290110732526534c5a81a53cfc02
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Dec 16 22:31:52 2013 -0500

    Use correct check for live campaigns when editing bid.

commit faca1d1a052db63b4235c84c809e005852974573
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Dec 13 21:12:37 2013 -0700

    reddit_gold table: index on secret non-unique

commit ce17aea0fcba183c44da6d68564dcc06c00ac5e4
Author: Andre D <andre@andred.ca>
Date:   Sun Aug 11 19:52:29 2013 -0700

    wiki: Add option to remove wiki pages from list
    
    When combined with a mod only page, this allows users to delete and
    undelete pages. This also allows users to "move" pages by unlisting
    the old one.

commit a2aae81077f187bfa2e29fb4f11890d3459f1ac9
Author: Max Goodman <max@reddit.com>
Date:   Fri Dec 13 11:36:38 2013 -0800

    policy pages: Handle periods in heading ids.

commit 7774fc8d3fe6436c4e9a8a065037234a8b5058ee
Author: Ben Newhouse <ben@bubbli.co>
Date:   Tue Nov 26 12:24:42 2013 -0800

    scraper_q: Add gzip support.
    
    Helpful because Amazon S3 doesn't support switching between gzipped and
    non-gzipped content so often times resources are uploaded directly
    gzipped with gzipped headers. Because all modern browsers support gzip,
    S3 always serves gzip and it's not generally a problem. Urllib, however,
    doesn't support gzip so gzipped resource currently fail to decode when
    scraped.

commit 4729b88f5e7d35bc8604f404fa95cadc8ec65c39
Author: Kevin Ji <kevin.ji@outlook.com>
Date:   Thu Dec 12 23:12:33 2013 -0800

    Fix typo: hel -> help

commit a17328dcfd58c58d6a44319323218512d6803cef
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Dec 4 12:06:26 2013 -0800

    Gold revenue: support longer-term memoization

commit 82a3a80f096fadb6697c53a5945556974e1135fd
Author: Max Goodman <max@reddit.com>
Date:   Mon Dec 2 11:25:43 2013 -0800

    Revert "Add temporary Secret Santa sidebar link."
    
    This reverts commit 73a4e09ed360020b0fd7bef8aa4b948668bb7abe.

commit 787cae2bcc044a2c15336c423554d08ecec1b5a0
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Nov 26 09:52:09 2013 -0800

    Gold goal: cast to float for percent calculation

commit 59e4551709d84e73b902d0d6504ac0ee927792df
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Nov 26 00:39:46 2013 -0800

    GoldRevenueGoalByDate: cast value to int

commit 36d7ad8e50e3bb08289f0a519d97cb4e8d96628b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Nov 26 10:25:28 2013 -0800

    JSON: add saved to comments

commit 1c8fa745bc24b5e923d64ee613e2ffefa1d5ac69
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Dec 11 20:35:48 2013 -0500

    get_campaigns_by_date: Don't lookup transactions if there are none.

commit 4a6103963e67b49e619832c4f4d911366985fb5a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Dec 11 17:08:32 2013 -0500

    Don't mention the gold lounge after a completed paypal purchase.
    
    User may have bought gift as a gold and not have gold themself. The
    user receiving the gold will get a PM once the transaction is complete
    and that message will let them know about the gold lounge.

commit 1caaf029e3c07544fa8885734c2a7c6efd0d8f80
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Dec 11 06:49:13 2013 -0500

    keep_fresh_links: skip promoted links.

commit c15f4af2feeb13d224abca0485fccc5b2e103bd4
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Dec 12 07:41:46 2013 -0800

    Make explore headlines the usual size.

commit e6d5182d3ae4a001874a3c885d67fdabda4af050
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Dec 10 12:43:01 2013 -0800

    Fix font size in explore taglines.

commit f19044756600f40a001751f6a8cf6daa1aca9d27
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Wed Dec 4 13:03:32 2013 -0800

    Fix recommend url in API docs.
    
    Automatically generated url doesn't match the true route.

commit 50f130af69aae7ec99baaeb3fb05baccf98676e5
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Dec 5 08:24:29 2013 -0800

    Fix explore page title style.
    
    The "explore-page" css class was removed at some point but it's needed for
    correct placement of the "Explore" title (since this page doesn't have hot,
    new, etc tabs.)

commit aae622d56ee18e1e25f9f1d63ffb2a134523bf7f
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Fri Dec 6 08:40:30 2013 -0800

    Update recommend endpoint and validation.
    
    get_recommendations was recently changed to accept id36s instead of subreddit
    objects for the omit list. This change updates the recommender api endpoint
    to match. It also makes the VSRByNames() validator return an empty dict in
    case of error so it's safe to call .values() on the result.
    
    Note: Fixes the broken "more suggestions" link in multi recommendations.

commit d847228dcada82a1e2716acf9c2c77d6f66256fe
Author: Andre D <andre@andred.ca>
Date:   Wed Dec 4 19:36:58 2013 -0500

    /dev/api: Document /by_id.

commit 3e74706a20cdf16ccbf11943d9983f94f08ce72e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 10 12:58:18 2013 -0500

    Allow sponsors to approve unpaid promoted links.

commit 25cab88345a353c23f4235f0ef10034b89d26f30
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Dec 11 05:15:18 2013 -0500

    PromoteReport: don't fail when there are no links.

commit 4950837f49d596d4a10185f29ae254c455217b62
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Dec 11 06:26:52 2013 -0500

    Fix typo in POST_freebie variable name.

commit 924b244e65868b317e86903a238b35db29072643
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Dec 11 06:19:14 2013 -0500

    RenderableCampaign: Fix freebie logic.
    
    Don't let users change the bid of a freebie'd campaign and
    make sure to show the "freebie" span.

commit 5d5c1622e556c46fc68892bf2ec2bf345bc3e216
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Dec 9 12:36:28 2013 -0500

    paymentform: clean up translations.

commit dea804036844248a2a505d462c3b8db9bec52428
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Dec 1 12:42:41 2013 -0500

    sponsored.js edit_campaign: use _.each to fill form inputs.

commit 1ae3fd0791a4ae653871ac1432bf1ba534142f0a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Nov 1 14:28:44 2013 -0400

    promotelinkform: clean up usage of id36 and fullname.

commit 50cceae977603066f285100f0b80438c153f67fe
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 10 02:09:38 2013 -0400

    Typo in PromoteLinkForm.

commit 29f53f21632444186aca67afd030274bf928f623
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 3 07:27:28 2013 -0700

    Update styles for edit campaign table.

commit 4ba7d3f7dca81fe8f53d0b9149eb6f29ecf1be7a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Aug 23 11:11:04 2013 -0400

    RenderableCampaign is a real templated thing.

commit 20c14d477ecc998c5bdbfda88c8d79ca4c9aea10
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Dec 10 21:51:03 2013 -0800

    Fix missing comment trees when comment count == batch size.

commit 6c013e1d633f7301678a64f5f27bf95ad8cb542f
Author: Neil Williams <neil@reddit.com>
Date:   Mon Dec 9 09:11:12 2013 -0800

    scraper_q: Don't require a restart to fetch new services.
    
    I've received multiple requests from people to confirm why their site
    isn't scraping properly despite being set up with embedly. The reason is
    the scraper_q wasn't restarted recently and therefore it was still using
    an old service list.
    
    Since the service list is memoized, it doesn't really matter if we
    "fetch" it on every iteration. This also allows the lookup to be moved
    out of the higher layers of the queue which shouldn't have knowledge of
    embedly down to the correct place.

commit 6872f77de7408fbb8fb789e30fbdc23c2afd384e
Author: Neil Williams <neil@reddit.com>
Date:   Mon Dec 9 13:33:16 2013 -0800

    /dev/api: Use markdown for overview text.
    
    This improves styling consistency and makes the source easier to edit.
    Yay.

commit 6b2cc95ba2c8fa6d344b870ba505dbff60cf26cf
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 6 15:18:09 2013 -0800

    /dev/api: Fully document the "subreddits" section.

commit 89af42e64df5d1f902737c2287d1d6cf79239f25
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 6 15:17:41 2013 -0800

    /dev/api: Improve documentation for GET_comments.

commit e87fa2a8dbb5d23038fbfe62119366497633e276
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 6 15:17:11 2013 -0800

    /dev/api: Document how listings work.

commit cc3949a3f51611df15b7a9dac387970be418a103
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Dec 5 04:14:53 2013 -0500

    Don't auto-accept a link when created or edited by a sponsor.

commit 2a05f171612e1f959d7eb60e4d7070707d51412e
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Jun 6 14:23:01 2013 -0400

    No intermediate storage step in mr_process_hour.pig.
    
    Made possible by upgrading pig to 0.10.

commit e316a29fba9b1d4112fa14cc1b9f450e6373b44f
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Jun 6 18:44:13 2013 -0400

    Don't use memory intensive bootstrap action.
    
    Amazon says not to use it with AMI versions 2.0.0 and later.

commit 02aaf0db79f72757d4893791147717a0a934dfba
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Jun 6 18:27:40 2013 -0400

    Use hadoop version 1.0.3.

commit a03b9d7de703fc456a826f652e820b5a5d9464cd
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Dec 3 12:05:53 2013 -0500

    all_live_promo_srnames: Eliminate memoize expiration time.

commit 6055429ce0b65a764a2a62e5e78f3a1961cf4231
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Dec 3 12:19:01 2013 -0800

    Not all dialects are in need of translators
    
    This change causes language dialects to not be
    marked with a (*) on the prefs page if the base,
    generic language is sufficiently translated.

commit b116aff0f624fed8ea3f5755a3a91e3d209db36b
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Fri Nov 15 06:01:40 2013 -0800

    Remove sr_discovery from example.ini
    
    Internal promotions can now be run as house ads, so this variable is no
    longer needed.

commit 87aa75df59df0101eb7f0fa7f680498f036ff825
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Wed Dec 4 11:29:11 2013 -0800

    Show recommended content in /explore
    
    Shows a mix of content from:
    - subreddits recommended for the user (based on subscriptions and multis)
    - rising threads
    - items from discovery-focused subreddits
    
    Listing items emphasize the subreddit name and have feedback controls.
    
    The AccountSRPrefs class builds a user preferences model on-the-fly from
    subscriptions, multireddits, and a record of recent user feedback.
    
    The AccountSRFeedback column family stores a user's recent interactions with
    the recommendation UI. For example, it records which srs the user dismissed
    as uninteresting, and keeps track of which srs were recommended recently to
    make sure we don't show the same ones too often.
    
    Each type of feedback has a ttl after which it disappears from the db.

commit 1619fe1cc138aad3d9c6bce625096d76029b4d5c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 13 07:08:29 2013 -0500

    authorize: Add exception handling to is_charged_transaction.

commit 316b60547fb722d3d661066ee96203f34cc60924
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 13 06:57:11 2013 -0500

    PromoCampaign: add default value for trans_id.

commit 9f28b03a764a1692b96b5875a7480f75b61a2599
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Nov 8 09:06:52 2013 -0500

    Update all_live_promo_srnames when needed.

commit 24324b642a16efbb175e624dbbfb4e499afbfcc6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Nov 8 08:12:58 2013 -0500

    promote.py: Delete unneeded wrap_promoted and sponsor_wrapper.

commit 10338889f5ae0cc089a788184544ac9244ce2017
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Nov 8 08:03:08 2013 -0500

    promote.py: remove unused imports.

commit dda49c68ad5468fdef9081da0f1eab6787806cbf
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 6 21:24:37 2013 -0500

    Basic support for house priority campaigns.

commit 5caf5502dd6b6e3d557adee42b982be93efc01c9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Nov 3 11:04:49 2013 -0500

    make_daily_promotions only runs for current time.
    
    Specifying an offset would cause the wrong campaigns to go live.

commit 534e7e5d39e77e1ac296e8f1b84d689efa55bfb8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Nov 2 14:28:25 2013 -0400

    promote: cleanup.
    
    Consolidate duplicated logic and make methods more direct. There were
    many monolithic methods that did many things and were called all over
    the place when the desired action was just one piece of the method.

commit 943b8e2dd615d4d0837f667e776ea57f0fdf4f3c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Nov 3 00:24:28 2013 -0400

    Don't worry about everything failing in promote.

commit a9899b2b96ce027663eeb169afd89d39426794f3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Nov 2 13:59:44 2013 -0400

    Cleanup house ads query.

commit 9a083c3fb2aede6fc715e26b7b78d49f88f1a9b2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Nov 2 23:21:51 2013 -0400

    Delete LiveAdWeights.

commit 37d85260c81a12cd6fabd2f6160e914de04189d0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 30 16:30:38 2013 -0400

    Stop using LiveAdWeights.

commit 2567163c27a3fc703d5c195efc57b74ff8f35959
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Nov 3 00:10:10 2013 -0400

    make_daily_promotions: delete test mode.

commit 9c1bbd71949c9af9b995ed21275203a7fea24bea
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Nov 2 23:31:10 2013 -0400

    PromotionWeights.get_campaigns can filter by link and sr_names.

commit d3171db97fc998a99bfe79d6c50138bfc0b27f20
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 30 20:07:07 2013 -0400

    promote: Delete unused functions.
    
    promotion_key, fuzz_impressions, campaign_lock, complimentary.

commit ac25e39dda668e4260e76085fee1b18222ede837
Author: Neil Williams <neil@reddit.com>
Date:   Mon Nov 25 11:55:15 2013 -0800

    pagecache: Degrade gracefully if pagecache.get() fails.

commit 311d876896fb2d5210c8176c784e2ae2c78c45f3
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Oct 28 12:57:48 2013 -0600

    Comment: handle deleted account for link_author

commit f9336c9f42ecc332a87d1af5fb78f0454dd8cf01
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Oct 28 12:18:34 2013 -0600

    JSON: add link_author to out-of-context comments

commit e1bb2f702d42820d70c4091ce9fa2f5b95741c8c
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Nov 20 13:16:19 2013 -0800

    Daily gold goal: store in cassandra

commit 2afadc97716fda3e5878c9c439ebc8aa71921af1
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Nov 22 09:47:39 2013 -0800

    Use correct cache for modmail permalinks.

commit f79949ae60941a1894eabff0f234469f7df08ad5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 13 19:18:14 2013 -0500

    Don't link subreddit creator if they're not a moderator.

commit bad6963ae0b3963ebc37fef69d0b5efb75e51aea
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 20 09:10:21 2013 -0500

    ipn: clean up aborts.

commit 65c8ad2787f586cbf1261b455d587a3d8d816f8c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Nov 21 00:21:16 2013 -0500

    all_gold_users: retrieve spam users.

commit ae8359c4bd84a4ad48541b613a5fe136d2f4f8b9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Nov 21 00:13:41 2013 -0500

    accountid_from_paypalsubscription: find spam users.

commit ac8f971c15b7678a2769634fd860e424f5e1d81e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 20 12:21:09 2013 -0500

    Fix typo in promo email.

commit 138ae0e3af98535dead6404a5b2069f2d690d008
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Nov 19 11:18:00 2013 -0500

    StripeController: pass the form to cancel_subscription.

commit 3b947ccbff95474ec93a1db481929a787a6eacde
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Nov 19 11:09:01 2013 -0500

    StripeController: create customer then set subscription.
    
    `create_customer` does address verification and we choose not
    to make any charges if the verifications fail. We need to wait
    until after that verification before creating a subscription.

commit 9eaa928b7fcee5b3fb404e9ab3ee8b815585ef7f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Nov 19 10:13:12 2013 -0500

    StripeController: give 404 response to charge notice with no buyer.

commit 4fe8c5d427cc4036358469eec9ab8b2a4f68de93
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 21 22:34:45 2013 -0800

    Allow media embed content to be framed, as intended.

commit bf5350fbe8b7ef716b10844d5a0608e90ed2fcbb
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 21 15:18:23 2013 -0800

    Use HTTPS for password reset emails.

commit 1ed4ac3848ad086fea613cdfe0a0b877b9fe9f09
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 20 23:38:16 2013 -0800

    toolbar: Fix frame sizing with comments pane open.
    
    Since iframes are "replaced elements" they don't auto fill space when a
    left and right absolute position is specified. The hacky solution is to
    add a container <div> which we can size appropriately and then fill with
    the <iframe>.

commit f0bd94c528040141fdfbac4797e4ac67288ddd46
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 20 23:15:51 2013 -0800

    toolbar: Add 'allow-same-origin' to fix AJAX within frames.

commit b2a4888496668ff17fc55717f5f634ad146d7f58
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 20 23:10:37 2013 -0800

    toolbar: Match reddit subdomains due to framing restrictions.

commit e76936aae3a1b7e274f9e992806dfecd6e6c7c30
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 30 14:09:12 2013 -0700

    Blanket X-Frame-Options: SAMEORIGIN policy.
    
    Thanks to /u/saurabh_nemade for bringing a content extraction redressing
    technique to our attention.

commit bb8f4b1b57274ca7723c8a0ffee6fcfccf5f7ff8
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 20 14:13:25 2013 -0800

    password reset: Validate token before affecting user session.
    
    Thanks to /u/largenocream for reporting this.

commit 00df060e4777f13d0db4b708516297ef32bd9233
Author: Max Goodman <max@reddit.com>
Date:   Tue Nov 19 23:47:02 2013 -0800

    multis: Add missing VModhash to PUT_multi_description.
    
    Thanks to /u/largenocream for reporting this.

commit 2e9383e582635ebb0af619e8ae54b9bc5212cb9f
Author: Max Goodman <max@reddit.com>
Date:   Tue Nov 19 23:43:49 2013 -0800

    Remove dead client side cnameframe parameter.
    
    Thanks to /u/largenocream for reporting this.

commit 54548ee34c96b4be903c0772f625828ac21cf18d
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 30 17:10:39 2013 -0700

    js.py: Handle languages for which translations do not exist.
    
    This helps when testing language subdomains that aren't translated
    locally.

commit dfe83592462f90251aeb53aa9d73d0e097a1af19
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 20 13:33:28 2013 -0800

    Prevent policy page date from wrapping mid-line.

commit 3b0bf9d755f3620525bc4671961d1a7c42ec1d17
Author: Andre D <andre@andred.ca>
Date:   Tue Nov 19 17:49:06 2013 -0800

    Fix vulnerabilities in setting friend and ban notes.
    
    Thanks to /u/largenocream for reporting this.

commit 9f5a48f97f33bfd90f6ee201d1758277ffaa7360
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 19 16:57:12 2013 -0800

    Don't allow non-admins to even generate admin cookies.
    
    They weren't usable due to the checks in reddit_base, but it's safer to
    not even generate 'em.
    
    Thanks to /u/largenocream for reporting this.

commit 7547315410632c412e583001a5bda8b0597797fc
Author: Max Goodman <max@reddit.com>
Date:   Tue Nov 19 16:32:59 2013 -0800

    Count CORS request origin stats.

commit 15dceb4f62d2116ac1f0f989e4c996fb9491bb1f
Author: Max Goodman <max@reddit.com>
Date:   Sun Nov 10 20:36:01 2013 -0800

    Allow CORS requests for unauthenticated JSON resources.

commit cb24083a32628b39e8c38a664a9692701ebcdd40
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 30 15:47:12 2013 -0700

    js.py: Remove LocalizedModule dependency on strings.py.
    
    Since strings now get sourced from gettext-style markings rather than
    strings.py, this is no longer needed.

commit 75719fdde496da02b5c019911f7a977984a7aac6
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 6 00:49:12 2013 -0800

    Remove old dragonage static files.

commit 9e6deebb6f9af2f2847ec76acec447db3448e981
Author: Max Goodman <max@reddit.com>
Date:   Fri Nov 15 03:19:07 2013 -0700

    Add temporary Secret Santa sidebar link.

commit ba55a6e68f32184ff897f20681fcbc96d0225825
Author: Max Goodman <max@reddit.com>
Date:   Fri Nov 15 03:18:24 2013 -0700

    Parameterize SideBox link target attribute.

commit b557e1297e997205bd1bc9c1be56312db8d54a8a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Nov 19 07:53:46 2013 -0500

    StripeController: add handling for charge dispute events.

commit 954b8b1147e8f022d6a1516940f974756451cf6d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Nov 19 07:45:41 2013 -0500

    GoldSubscription: use correct check for paypal subscription.

commit 0a623d87c49536b0f00eede80508b61cdeeee799
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Nov 19 05:39:50 2013 -0500

    StripeController: don't raise exception for recent charges.

commit 5943242ad724c3b9232d7922b541e8d873a05661
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Nov 18 11:30:37 2013 -0500

    analytics: run on comments pages for promote links.

commit 794f4175b47d5a24e30629614d85672d651b0672
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Nov 18 16:44:32 2013 -0500

    PromoteReport: PromoCampaign end_date is not inclusive.

commit 4f63023747fb0d0b8e558d7c96a5fb3bd1d017e2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Nov 18 16:24:15 2013 -0500

    get_total_run: Fix handling for house campaigns.

commit ccf4c9c2c4fa1fe1e3e170152430362206e589d7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Nov 19 01:48:03 2013 -0500

    Gold: redirect to subscription page if use tries to resubscribe.

commit b9d932d2339eb9df9664187187f5565c4ba93fee
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Nov 19 00:51:36 2013 -0500

    Don't allow multiple gold subscriptions.

commit 64bffb29034307fb4f3d56417e8ba82f168d1ca2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Nov 17 09:30:48 2013 -0500

    StripeController: don't cancel subscription if the charge was attempted.

commit dcecc09aa64c95946147654a183f0592e074b9e6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Nov 17 04:55:18 2013 -0500

    ProfileBar: attribute is 'paypal_subscr_id'.

commit 42bf5b2cedf8c40ef2563638fbc91460111a0aed
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Nov 17 04:30:27 2013 -0500

    StripeController: handle charge.failed with insufficient information.

commit 0d0ac728ebb09d26ba001471471ae7710b02e56d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Nov 17 00:45:56 2013 -0500

    StripeController: handle exception when customer isn't found.

commit 210dd1b3fe48d483cedeeb7683a584a8e5afd2b5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Nov 16 23:47:19 2013 -0500

    Store stripe customer id in Account.gold_subscr_id.
    
    We need to do lookups of Account by stripe customer id and
    gold_subscr_id has an index. Previously was using a new attribute
    stripe_customer_id which didn't have an index and lookups were too
    slow.

commit 1784c6056297586d59dd7cc6c5afd7659cd355f1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Nov 16 13:00:22 2013 -0500

    GoldPaymentController: secret code must be unique.
    
    create_claimed_gold attempts to create a row in the gold table and
    will fail if secret is not unique.

commit d6e2425284724f3ffd331043641744fbc31d403c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Nov 16 12:48:34 2013 -0500

    StripeController: fix typo in cancel_subscription.

commit b824f808103083280da0b8d8b5848d114d7cba18
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Nov 16 12:27:06 2013 -0500

    StripeController: handle case where description is None.

commit 5dc0e7e367b0705d14454dfe06a4017ea47cfdd9
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 7 12:09:07 2013 -0800

    Factor activity fuzzing out of Subreddit.get_accounts_active.
    
    This allows liveupdate to reuse the same code.

commit 0e7758db89b65e412275654058320f934cfe48c2
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 7 12:08:08 2013 -0800

    Remove unused util `interleave_lists`.

commit c3c2f200fcdb8f30e9b8d1755f67bc791a8c544e
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 19 12:36:01 2013 -0800

    read_secrets: Don't transform INI options on output.

commit f7c2ebb6efbfd172a22a2c249160c2e61293ef05
Author: Francesco Frassinelli <fraph24@gmail.com>
Date:   Tue Nov 19 19:30:15 2013 +0100

    Added missing netcat dependency
    
    netcat is needed (tested on Ubuntu 12.04.3 LTS x86_64)

commit 336608366358dd2cfe05650cb0528df62158cc7d
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 15 10:34:57 2013 -0800

    Create a vault for secret tokens and move some into it.
    
    This is intended to reduce the number of critical secrets stored in the
    INI file.  An initial subset of secrets is moved into the vault to test
    things out.

commit 342ad244096fb12104cf03ce3297a96148e7c952
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 15 10:33:03 2013 -0800

    Factor out INI file parsing into util.

commit 484ac3b8507e8aac8b264c4d84fdc4563415c9c5
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Nov 15 02:22:41 2013 -0500

    CassandraCache: convert 0 time to None ttl.

commit 7a0b633c736c68e00c4c10f22ee38b0466357bc4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Nov 15 04:25:41 2013 -0500

    GoldSubscription: convert pennies to a float before doing math on it.

commit 2315e77e6d973e4fc56eb997f0fd50f4495be2a1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Nov 15 03:29:56 2013 -0500

    Raise NotFound if full name type is not thing or relation.

commit d2d325ce7f4f5be21b9dec0341640d9e7ffba21b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Nov 15 03:37:39 2013 -0500

    CreditGild needs a value for period.

commit 929e1db472e0d63e277e6914f0a9c2f58cc05408
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Nov 15 03:06:41 2013 -0500

    Need to use hasattr to check for stripe_customer_id.

commit 5c6427266872d820486072eada1a6958a754282f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 31 14:20:53 2013 -0400

    complete_gold_purchase is a classmethod of GoldPaymentController.

commit 1a03651deeed02ded54bf7b047246e0c7464268a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 24 09:03:08 2013 -0400

    Don't allow multiple gold subscriptions on an account.

commit 19d99684557fb43ca204146119d195df4f59d8e4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 24 08:11:39 2013 -0400

    Don't PM users with gold subscription about expiration.

commit 89ffb73378c126ef924ea702ee5a4d986abd313a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 31 14:48:03 2013 -0400

    Renable submit button on all stripe exceptions.

commit a0d39d680eafe59e6cb7e2b4869e5522f1a22690
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Oct 18 17:28:56 2013 -0400

    Stripe gold subscriptions.

commit 8db4d6721ab8ff2f20256fdc6fc22e992d1ab709
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Oct 25 14:42:52 2013 -0400

    Show a status message immediately when user submits credit card.

commit e20e9eb7a081ce0f94877d062b15fa070cf4d78a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 24 02:37:52 2013 -0400

    ipn: move state to Webhook object.

commit 89f6f1ad9c1babbf520b83c49fa27f509bb5d0ef
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 13 14:50:27 2013 -0500

    Delete cython versions of normalized_hot.

commit 82a1e0dde7ca8355201cdb193b590ae04da37d2f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 13 14:45:45 2013 -0500

    find_preview_comments/links: use sr rather than c.site.

commit 380140f0aa35c243fc1c0313c9f85f9eccf7b30a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 13 14:42:03 2013 -0500

    Use sgm to cache each subreddit's normalized_hot links.

commit 1f4682ce8ab3f6876d844a6f9fa67b88d8887f0e
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Nov 14 10:35:01 2013 -0800

    set_subreddit: Protect against IDNA encoding errors.

commit c827dea143f74a6dcc0bfd070427164d203d2ce0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 13 21:39:16 2013 -0500

    Add timer around normalized_hot.

commit bdfecf27c54f73b65d452f6e166c721405a1dd04
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Nov 6 20:57:46 2013 -0500

    sgm: use the time parameter.

commit 683c88baf844ad4d5a64c566e8e3690044418e96
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Nov 7 12:20:44 2013 -0500

    Count clicks on the "comments" link for a selftext promoted link.

commit 5b0f8f3efd9303ea39b4ba7414026d99c5f406b0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Nov 7 03:33:42 2013 -0500

    Promotion_Summary: comment explaining campaign accounting.

commit 1f5dbcb6f438b3acaf309d6c2b378fbc3294b23d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Nov 3 08:50:17 2013 -0500

    Promotion_Summary: subtract refund_amount.

commit 27986fc2bf28c1bb5697a45249e5920e607ab38b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Nov 2 17:32:27 2013 -0400

    PromotionWeights: delete get_schedule and bid_history.

commit c5ce5f851dab3cb5266f77e5e1d21be15c9185e1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Nov 2 17:09:40 2013 -0400

    Delete unused promote.traffic_totals.

commit fe93947f858b0a7a5f9f5ca98d8a90b8d26ea69e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Nov 1 10:24:27 2013 -0400

    Move inventory multiplier to INVENTORY_FACTOR constant.

commit 3281b27ae98489757675dc9ca5c1b84c6a35bd8c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 31 09:57:20 2013 -0400

    Better handling of ignore in inventory methods.

commit 55ac9f7aedb167908e42d73a72c7d06684af1df1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Oct 18 07:45:36 2013 -0400

    PromoteInventory page.

commit f4a03851ea79f58ca2ae54ac70082a2221b2cfcb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Oct 18 06:27:01 2013 -0400

    inventory: split out get_predicted_pageviews.

commit 0db61fcc9b8f8bc1338bc9d84cb456165e20a550
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Oct 18 08:07:31 2013 -0400

    inventory: get_campaigns_by_date method.

commit c48b98554f0100583a1201fc0ed7b8a19cc10a4c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Oct 18 01:33:43 2013 -0400

    PromotionWeights.get_campaigns can filter by sr_name.

commit 0dce9b97a7f262a4e623b2af1718ba76e894ddfe
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Oct 18 08:01:57 2013 -0400

    Delete Promote_Graph.

commit 0a652a9513cc3e83ad3c947f1d895351eb06bccf
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Oct 18 00:49:12 2013 -0400

    Stop using Promote_Graph in Promotion_Summary.

commit 19af2d5f33e8f302fc9aae212467d5e5fb7f96ea
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Oct 18 00:57:16 2013 -0400

    Revert "Promo admin tool"
    
    This reverts commit 301512551aca1231f7bc3cbd7bca96720415ef35.

commit 7e14f379211bf13eed4143d6e5f0405ae24e3bf9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Nov 3 17:41:42 2013 -0500

    Remove Google Checkout.
    
    The service is being discontinued.

commit d9611d6c58025328cdde284987b15de754d8c29f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Nov 7 23:18:15 2013 -0500

    Rename variable in stripeResponseHandler.
    
    The error span is named 'status' and we don't want to overwrite it.

commit 1daefe4ad706437982105d0a211932fbd7cff8aa
Author: Neil Williams <neil@reddit.com>
Date:   Mon Nov 11 11:40:48 2013 -0800

    gold progress: Use Pacific time.
    
    Additionally, this adds a function for fetching revenue by day in batch.

commit e97767715df343a3f7bf2b2d548ba3d3d901aa09
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Nov 7 16:56:53 2013 -0700

    Gold goal: allow employees to see actual goals

commit c4e3c9fa351c421736e9bb97e8c43330ebfb31d8
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Nov 6 20:18:03 2013 -0700

    Gold goal: switch to dynamic goal
    
    Previously the goal was simply a static amount, this changes it so that
    it is set to 110% of the average revenue from the previous 7 days
    (disregarding highest and lowest revenues). To prevent too large of
    swings due to "spikes", the goal is restricted to no more than a 20%
    change from the previous day's goal.

commit 9a135ac3790bf3e7920dc2b3645ed2b7021b3c02
Author: powerlanguage <powerlanguage@users.noreply.github.com>
Date:   Mon Nov 11 10:08:34 2013 -0800

    contact us: Add password/username recovery detail

commit 18a57c3f40d3a723d086fdcca353c822cc913f88
Author: Roger Ostrander <reostra@reddit.com>
Date:   Mon Nov 11 11:13:19 2013 -0800

    JSON: Don't include spam settings for non-moderators

commit ec845b9d9e181dd43c58a08e1fbe343e75a21a8d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Nov 7 22:14:03 2013 -0500

    PromoteReport: use promote.charged_or_not_needed.

commit 370314ed1dde6f14f98f0e772e6ca8fdd5ec465e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Nov 2 17:56:13 2013 -0400

    Show house campaigns on the traffic page.

commit 2f5d8cd4faf5cf601a2ac6607a57b4e2d2ed2da8
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 7 00:06:39 2013 -0800

    Add a middleware to sanitize response splitting attempts.
    
    Thanks to Jordan Milne (/u/largenocream) for reporting this and
    joyent/node@3c293ba27250f1885efa8d8db8e75d3ea033c206 for inspiration for
    this solution.

commit 909ce5fefb682d682a3c531fb9b499328de478fd
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 22 17:42:04 2013 -0400

    submit_text: Solve race condition issues by aborting old requests.

commit 533d3765d7a8a3a5cc90d9da5b5dd0cb74927cd7
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Nov 5 14:25:33 2013 -0800

    Subreddit Creation:  Display defaults for spam

commit 969ee4cc46fa8bf48943fc78a3551d89c19650ff
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Nov 1 09:15:46 2013 -0400

    Only run analytics stuff in an organic listing.
    
    Prevents counting impressions and clicks on pages where the ad is being
    managed.

commit 98e874a97d224f06dc9ad375599c68d5232dbcd3
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 30 15:24:01 2013 -0400

    Show self-serve advertising button on traffic pages.

commit c47a6ad28e10d4171e6dec835cbdf27397b42d01
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Oct 29 11:35:28 2013 -0600

    Yesterday's gold goal: tiny alignment tweaks

commit bbda62606ed1d556bac5f62578a9ef67a148b4ef
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Oct 23 16:55:56 2013 -0600

    Daily gold goal: add countdown to end time

commit 34584683557e2fd9965b9d3a9873907b59d0a90a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Oct 11 19:43:41 2013 -0600

    Gold: move about/partners to plugin

commit c4d053b80231fc0b039dfc97a4ba0c9d00a29487
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Oct 22 14:20:46 2013 -0600

    Gold pages: update buy gold link

commit dcf6281afb525759fd8b8d4fbd1ef9af58ad9e24
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 17 17:23:37 2013 -0700

    spotlight: Advance to next item if an ad fails to load.

commit 4eb7d56ed0572848df7fccd03bdbf8cedc9af3a1
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 17 16:46:50 2013 -0700

    spotlight: Increase promo timeout to 1s.
    
    500s isn't seeming to cut it... :(

commit 142b80e806fec55d1f51c3338c0dad3f5d6243c2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 17 05:22:35 2013 -0400

    Clean up logging in promote.

commit a7aceacf80103375428ec46f61f25f3b1133e17f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 17 02:42:01 2013 -0400

    Record promote status changes in PromotionLog.

commit 8ac9ddc8374fcf801da600c9209d947352a9fae7
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 7 16:54:18 2013 -0700

    compact: Add cake icon CSS sprite.

commit bbe3f1283c4d0e7b55a806073684e5c37578cba6
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 4 15:29:18 2013 -0700

    Increase specificity of compressed links midcol sizing.
    
    To match/override the new rules in linklisting.html.

commit a4ff508ba567230dd45273d700fb577ca97a1bf7
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 4 13:38:59 2013 -0700

    Increase rank/midcol width selector specificity.
    
    This style was applying to comments, making their voting arrows wider
    than necessary. Comments don't actually need to be lined up anyway.

commit b919760015d993312c3c3fa9a7f29efd78813591
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 3 16:55:19 2013 -0700

    Hide link rank number on comments and profile pages.

commit eab526c06025d376383910266756d9f52fc3ec3d
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Sep 24 18:20:53 2013 -0700

    Track subdomains in GA.

commit 2a41ff7e3a48d37878335bfbf5fa042b5646e113
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Nov 3 16:54:17 2013 -0500

    Remove Google Checkout from gold payment options.

commit 817f8d66c251e263d52eeebb952858219e870eb5
Author: Neil Williams <neil@reddit.com>
Date:   Mon Nov 4 11:30:41 2013 -0800

    Add hooks into comment/vote endpoints.
    
    This stuff is needed for the server naming subreddit overrides.
    
    Would love to see it replaced with custom Thing subclasses in the
    future.

commit 633ed54a2d727ebd3c5e4cc7136c1e61a1ec0f6d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 31 18:08:26 2013 -0400

    Campaign 'override' attribute can't be boolean.

commit 30663ba798aa73cbbde4fc28728c12e21aa8201d
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Oct 31 18:38:11 2013 -0600

    Listings: use default limit if no pref_numsites
    
    Currently if the user's pref_numsites value is None (very old accounts
    that have not changed their preferences), listing pages return all
    items, and any hot listings with a sticky crash. This uses the default
    page size if the user has not set their own default.

commit 4c775ff2d1bec6b841dfeff27229e18399e6b55c
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Oct 28 13:40:53 2013 -0600

    Deleted link author: add right margin

commit 95ab8367a71ae1240d7bcd8052fa37ae242e0eef
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Oct 28 17:11:03 2013 -0600

    Gold goal popup: add yesterday's progress

commit 3cfa44b29eef4eccc1c2edcb4efd19e338506189
Author: Roger Ostrander <reostra@reddit.com>
Date:   Mon Oct 28 12:52:28 2013 -0700

    Vote details:  refactor out decoding

commit 64b174962525a3f5211f6658cb7f21a7273f9865
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 30 16:26:49 2013 -0400

    get_promo_traffic: Handle case with clicks but no imps.

commit 736008f269a542353212a50dd3c61d3fe2223ea1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 17 16:13:06 2013 -0400

    Delete sr_discovery_links.

commit c4e1678bba5ff5669dcc9f32f2fa1e6c716087a6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 17 16:08:50 2013 -0400

    Update make_spotlight docstring.

commit 11cdea4c974160defcaad43878bf1e9c9c8c32ec
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 17 09:35:02 2013 -0400

    Set default bid when creating new campaign.

commit a35a4d1a1daae0bf798cd742d0c8565ad9dcf035
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Oct 11 18:10:38 2013 -0400

    Remove input names from promotelinkform so they aren't POSTed.

commit ff1eb45b6ae4fc5abf19de355a156773ad1b87ca
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Oct 11 08:42:05 2013 -0400

    Add priorities to PromoCampaign.

commit 261bc5825cbf5b4db47eda830017eb91b3540ee9
Author: Max Goodman <max@reddit.com>
Date:   Tue Oct 29 15:07:29 2013 -0700

    Clean up unused gold partners string.

commit 4e93247f9a7ce74d2edafd801d93e7a122df6ed5
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 30 14:37:47 2013 -0700

    Listing suggestions: don't suggest the multi you are on currently.

commit 7fd33a2a97206b16357f6623045ad4c994a601c7
Author: Max Goodman <max@reddit.com>
Date:   Tue Oct 29 17:43:47 2013 -0700

    Reserve space for the spotlight box on /r/all to reduce flicker.

commit f1e9c1d1a3e3f14a6466aa864e7c5eb240a4cb88
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 17 18:03:17 2013 -0700

    spotlight: Only display loading placeholder on the front page.
    
    Subreddit listings often don't have targeted ads, so the previous
    default behavior of reserving space usually caused flicker.

commit 1d44701a0e8755cde5575b40f89089915b97ce27
Author: Max Goodman <max@reddit.com>
Date:   Tue Oct 29 15:59:19 2013 -0700

    Remove obsolete .cname body class.

commit 81f79121861f5e7c623afaef426fd7ffe6f4f555
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 17 17:57:54 2013 -0700

    Fix mutation of parent extra_page_classes in BrowseController.
    
    This caused the controller to eventually accumulate both the .top-page
    and .controversial-page classes for every request since the parent
    class's structure was being mutated.

commit e0ef19433dcea9c7eb498e0783c556979af096f3
Author: Neil Williams <neil@reddit.com>
Date:   Mon Oct 28 16:18:18 2013 -0700

    Pull debug footer out into its own template.
    
    This allows plugins to override it.

commit c0a5264023a868cb243dd8373633df0cf931cb82
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 25 02:19:20 2013 -0700

    Add hook for triggering actions upon distinguish.

commit 2af8fe670320779936722226fa80493b7bb181f8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Oct 18 13:49:48 2013 -0400

    promote: create Decimal from string not float.
    
    Creating a Decimal from a float results in precision loss.

commit 38c8faf140cb756cbec45cdd146bab56da2ab6a9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 22 03:18:26 2013 -0400

    Don't memoize campaign_history.
    
    campaign_history is used to look up traffic for links in batch
    and the return can be too large for memoize. The query is fast and
    only used by admins so not memoizing it shouldn't be a problem.

commit 1e29502b9bbb4376b823a8d3ff8ffeca9047553d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 24 00:52:21 2013 -0400

    Fix typo in refund emailer.

commit 2a94a7e7d8b0f4ea560332a88f748aeb04da0765
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 25 03:18:24 2013 -0700

    Hide focus outline browser styles on link titles.
    
    Now that link titles have tabindex, several browsers outline them when
    focused. Let's override that behavior so that they act the way they did
    before the tabindexes.

commit 5154319f901a1072b34124b9d0a8d2007f5ea88f
Author: Neil Williams <neil@reddit.com>
Date:   Fri Oct 25 15:59:49 2013 -0700

    Add "clicked" back to JSON for clients relying on it.

commit a2b7967133b8686b3bb2d411f63a2eca785f18ca
Author: Josh Wardle <josh.wardle@gmail.com>
Date:   Fri Sep 20 16:50:09 2013 -0700

    Feedback page update

commit db119b9197f65fbc99794f11d669df4d7188dc07
Author: Neil Williams <neil@reddit.com>
Date:   Thu Oct 24 15:22:35 2013 -0700

    POST_store_visits: Add VModhash requirement.

commit 30c1df3a8f6d2cdd1913062cc118dc6608752305
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Oct 10 19:40:09 2013 -0700

    Add anchor-top-left class for idn-help bubble.

commit 9ea230760b1d40cffc03d97726148f05313e6136
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Sep 24 15:31:50 2013 -0700

    Show IDN on domain listings when appropriate.

commit 727fe14c2ee0cffac8bd90e7794bd915e4783086
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed Oct 9 16:48:07 2013 -0700

    r.ui.Bubble: Don't position a Bubble off screen.

commit ebe1f7a9faa5e355ec4664e866be5d0b8e3b3aac
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Sep 23 15:29:18 2013 -0700

    Remove obsolete selfserviceoatmeal.html

commit 1c4b0de3780077562743ad9728bdeea8c0247631
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Sep 23 14:50:36 2013 -0700

    routing: Remove route for /doquery.
    
    This should have gone in 5f916f5812e7c3920d0cb968470280d1198e1fff.

commit 703336a3d84d1ec30b6551bd1ec75b9ac3f9c1a9
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 24 11:59:13 2013 -0700

    Add frontend for new gold feature: "remember my visits".

commit ff002a4bce7a79f4746f5ba3235580816ef85e51
Author: David King <dking@ketralnis.com>
Date:   Thu Oct 24 11:57:48 2013 -0700

    Add backend for new gold feature: "remember my visits".
    
    Store and mark what links users have already read, even between
    computers.

commit a54d977db5910ce3c4c9f61f2ed2d3c0f7389d07
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 24 11:53:35 2013 -0700

    Add tab index to listing links.
    
    This makes it slightly easier to browse listings by keyword.

commit 98fcc996ed1698c535c4f7563ed324f495f917fd
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Oct 22 17:59:16 2013 -0700

    Make public multis visible again.
    
    Moves route for viewing what you've gilded after the multi route so it
    doesn't catch multi urls.

commit 7872ff802fd643a2272acaaf164a71c9ed2a9dcf
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Oct 9 15:32:28 2013 -0600

    Userpage: add /gilded/given
    
    Shows things that the user has given gold to - currently only viewable
    by the user themselves and admins.

commit 05c06df9475437e8b0027bfacbe61f4ad3078ec1
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Oct 9 15:30:27 2013 -0600

    Userpage gildings tab: start writing
    
    Includes backfill script to be run before the other commit that actually
    adds the tab

commit 6c62017040d37029a9bd684ecc30be2dec804566
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Oct 16 12:54:46 2013 -0600

    Wiki revisions: convert UUID to string

commit a74c8a4ba12989f0dd94b76a52873956247f7805
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Oct 8 14:44:50 2013 -0600

    Gilded icon: link to subreddit gilded listing

commit 0d9d2c111a4457d811e3665b7dc09242907106e4
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Oct 10 13:17:38 2013 -0600

    Comments: always set subreddit_path

commit 83961185fb948de9f269940092523b0bbad95bfa
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Oct 8 15:14:11 2013 -0600

    Frontpage: /comments from subscribed subreddits
    
    Previously, going to /comments on the frontpage would show the same as
    visiting /r/all/comments. This switches to showing only comments from
    the user's subscribed subreddits.

commit 076bf8d12ce2f3a353b906727f527e5c35a9615c
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Oct 17 12:53:26 2013 -0600

    Comment sort menu: fix extra padding

commit 8fbf68870119825083a4cbe0b31230348396404f
Author: Neil Williams <neil@reddit.com>
Date:   Sun Oct 20 21:10:43 2013 -0700

    gold progress bar: Add fallback color and gradient for Safari.
    
    The progress bar was blank on older iOS and Safari 6. This should
    provide a proper gradient for those browsers as well as a flat fallback
    color for anything else.

commit aaf1e51abb6414a2cf680281e1c87e21cb0281ee
Author: Max Goodman <max@reddit.com>
Date:   Sat Oct 19 11:06:48 2013 -0700

    write-live-config: Update to reflect PluginLoader API change.

commit 75f548b941854a29a1a09037a6c5eebc96f7d4b5
Author: Neil Williams <neil@reddit.com>
Date:   Fri Oct 18 22:13:25 2013 -0700

    Remove old goldvertisement config.

commit 134b09a79aacb9b2b7fc68cb9ca2398e884d6ea2
Author: Neil Williams <neil@reddit.com>
Date:   Fri Oct 18 22:11:43 2013 -0700

    Replace goldvertisement with daily progress bar.
    
    Many thanks to @chromakode for design and copy.
    
    The old goldvertisement live config is left in for now so that old code
    continues to function during rollout.

commit 48aed9f88f8e987c7a260605fd2050e1dd1cec45
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 18 22:08:25 2013 -0700

    Add images for goldvertisement progress bar.

commit c814bb8e6b9da0b387c69829da235695d07e600d
Author: Neil Williams <neil@reddit.com>
Date:   Fri Oct 18 22:12:50 2013 -0700

    r.ui.Bubble: Add anchored-top-centered bubble mode.

commit 10e2ab8b421a6b562958656798b3f56ca40a82f7
Author: Logan Hanks <intortus@reddit.com>
Date:   Wed Oct 16 16:52:41 2013 -0700

    Use constant_time_compare to check oauth2 secrets.

commit 5901ead1069e7e76f5fb7a9773968f7efa308ca2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 15 15:08:56 2013 -0400

    Redirect users to their original destination after verifying email.
    
    Particularly useful for redirecting back to /promoted for selfserve
    advertisers.

commit 50e5931cc3a0a53f8b90db6ba93c515e96c299c9
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 15 14:46:40 2013 -0400

    Note about tricky redirects in PromoteController.GET_listing.

commit f5f3fa40430810d0d3d403130ef2942289c37fa0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 15 14:46:18 2013 -0400

    Give the user a message when they verify their email.

commit 799f3bf3f968e7a834b384ba8597c45bb2daae64
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 16 06:10:37 2013 -0400

    get_sold_pageviews: filter out campaigns with voided transactions.

commit 96f35ab496c50967f72e17fc866ef56e33492b10
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 16 05:51:19 2013 -0400

    Only count booked inventory from paid campaigns.

commit 5ce5d303e3481877c8e082989ae5c606a131948a
Author: Jason Harvey <alienth@reddit.com>
Date:   Wed Oct 16 17:07:38 2013 -0700

    Fix: ensure input element exists even if it initially has no value.
    
    reddit.js will insert a value in this element, so it must exist. Without
    it, things like message replies break.

commit 21d4f41476236852fc91abfa876cf96e3f4fcc38
Author: Jason Harvey <alienth@reddit.com>
Date:   Wed Oct 16 12:11:56 2013 -0700

    Fix pre-existing info leak on deleted comments.

commit 2f0fa46e897cbc278b0c7c4a73850fd81563fc70
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Oct 8 12:42:37 2013 -0700

    Remove comment ID references for deleted comments.

commit 53a24a98496e708b6895b5976618b1aab8c404cb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 2 13:20:41 2013 -0400

    Update campaigns when a link that should be live is approved.

commit 545d07ce31e0f6c4be5e49b0cf6b5e749ac6b618
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 26 13:59:24 2013 -0400

    Make widths consistent in the promo-form.

commit 0d8c24b28ed061b3b93911fdd00a745f6a6c9181
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 26 13:23:30 2013 -0400

    Textarea for promoted link selftext is rounded.

commit b5a94475d7fc427ba5b4e5610aedb9a452f7e1ac
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 26 13:22:46 2013 -0400

    Class for UserText textarea.

commit e291d0a59220baf6447f44ce1c383e3c97599e10
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 15 13:52:44 2013 -0400

    Allow sponsors to change nsfw status of promoted links.

commit 22ec6dcfbc64ddd56c4f84c1859da8bcb173c31d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 15 19:49:49 2013 -0400

    Timeout for r.spotlight.requestPromo.

commit dbadf7d9d06367bee67da9657672beac2fd166ba
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 15 13:22:25 2013 -0700

    Set the site when requesting a promoted link.
    
    This lets us do over18 thumbnail hiding correctly.

commit cc3af6e8ff687b0d4e42925e345679975afe4365
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Oct 10 05:56:43 2013 -0400

    Use lang_override for all "en" variants.

commit 2f46f9012323c2f1a4893f2451a3b5b3a30102d6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 9 12:29:23 2013 -0400

    Separate language used for translation from page language.

commit 3e846946bef097281b834bdc111f7027946ccfef
Author: Neil Williams <neil@reddit.com>
Date:   Fri Oct 11 15:41:57 2013 -0700

    Make ListingChooser full-height on short pages.
    
    The JS check in ListingChooser.initialize only takes care of the case
    where the list of multis is longer than the body. However, when there
    are very few multis *and* the page content is short, you get a weird
    truncated listing chooser. This fixes that by setting a min-height on
    body which works because html is already height: 100%.

commit 5cd9d0099e20fbcab7c8f49400d737ad42bd7565
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Oct 10 15:51:06 2013 -0700

    Add max_depth parameter to CommentPane cache key.

commit f8ec402dba706f741a859e51ef5886355c323f8c
Author: Neil Williams <neil@reddit.com>
Date:   Fri Oct 11 11:05:40 2013 -0700

    install-reddit: Ensure consumer-count.d is owned by the right user.

commit 8bdc62314a970d27f6aef86adc427186e421ca08
Author: Neil Williams <neil@reddit.com>
Date:   Fri Oct 11 10:58:29 2013 -0700

    scraper_q: Gracefully degrade to thumbnail-only when no embedly.
    
    Between the local filesystem media provider and this change, scraper_q
    is workable after a default install now.

commit b9f146d1e5aca9526c843faf0e07447cdf19de83
Author: Neil Williams <neil@reddit.com>
Date:   Thu Oct 10 20:30:16 2013 -0700

    /prefs/apps: Make app icon URLs HTTPS friendly.

commit 8ea249eea49b9f46fd4d248dbefd36c0ddbae9d2
Author: Neil Williams <neil@reddit.com>
Date:   Thu Oct 10 20:27:04 2013 -0700

    POST_setappicon: Use VUploadLength.
    
    This endpoint was missed when fixing file uploads after the
    request.post -> request.POST deduplication fixup.

commit 8f7db4f3da0b0cf03f2a94b7276169d8bdae46af
Author: Neil Williams <neil@reddit.com>
Date:   Thu Oct 10 20:15:14 2013 -0700

    Media Provider: Add "filesystem" provider for local nginx.
    
    This media provider is for simple single-server installations where an
    HTTP server running on the same machine handles serving of the static
    media files.
    
    An appropriate setup with nginx is now the default in the new install
    script.

commit 5cbea9cdf401f1602394c16b2a8384205962032d
Author: Neil Williams <neil@reddit.com>
Date:   Thu Oct 10 19:11:05 2013 -0700

    Factor S3 media uploads out to new provider system.
    
    This introduces a new "provider" system which allows core pieces of
    code to be swapped out for different hosting setups.

commit 71099cdf02d4b17eb64b576b758d9a2817023a4f
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 9 16:10:04 2013 -0700

    Linkify user names in gold server seconds box.

commit ba5d54c3990c641d8e41aec3f6ff143e7e056779
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 9 16:07:29 2013 -0700

    Embolden gold server seconds metric.

commit daf5f8df274edebfc2c259e0d9b020c4d4babaa6
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 9 16:01:36 2013 -0700

    Make gold expiration / gold server seconds boxes consistent.

commit 91930028beeffee57445c79a594d0f766ee0a7f5
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 9 15:54:25 2013 -0700

    Tighten up gold server seconds box layout.

commit a9da42be3eb51c60829aa0faf4bbad47d9a1ad86
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 9 15:48:30 2013 -0700

    LESSify gold server seconds styles.

commit 84fe26ed1ee2c751488c15485275b005f3cbb5c4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 9 19:05:51 2013 -0400

    Gold gifts don't record pennies, calculate them from days.

commit 9bd172a32accb20f7a1bcc97bc694d6bc625ff4e
Author: Neil Williams <neil@reddit.com>
Date:   Wed Oct 9 14:13:04 2013 -0700

    /about/stylesheet: Add a link to revision history in the wiki.

commit fd6cbff5817409e277e7c98a47c270b37b837d10
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 30 17:09:08 2013 -0700

    /about/stylesheet: Remove "show default stylesheet" option.
    
    The main stylesheet is written in LESS now and so the raw CSS that's
    visible on site is not very human-readable nor is it terribly useful.

commit e59925e5d64a23b210b844e220bcd5fe4efd8ccb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 9 14:34:29 2013 -0400

    ServerSecondsBar: filter out postcard gold.

commit e1ef6f3a358bfc7672a557ad3f1ae764f2b7104f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 9 02:20:07 2013 -0400

    Show gifts received by the user in ServerSecondsBar.

commit 8c9b31d24423dd278208645fd7ae1b0ec9aa445a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 8 20:24:38 2013 -0400

    ServerSecondsBar can be made public.

commit 57d17b4060ed85fe4e4d4876a3fd188d27f1e946
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 8 19:59:47 2013 -0400

    Higher precision version of format_timedelta.

commit 5202a824c6509309bd415f13f8ee3297f62de281
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Sep 27 01:53:48 2013 -0400

    Show how many server seconds the user has paid for.

commit 53c6a41e4925d3367824d20dad8f1671eb4eb307
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 1 14:41:11 2013 -0400

    Update Babel to 1.0.

commit 1406a36ee25fd5a72a6382e9ce1e417be7f0321a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 1 12:18:21 2013 -0400

    gold.py: lookup transactions by user.

commit e43c7f4f62a0c44aa8f90dc8ae6e66575cf4e03b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 1 11:36:48 2013 -0400

    Bid: add charge_amount property.

commit e6f010b90ce2ac19a98f26e7e59557440665f779
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Oct 7 15:21:04 2013 -0400

    Fix another corner case in promote.accept_promotion.
    
    Campaign that has been charged but won't go live until the future must
    be updated. Also added a comment for the other corner case.

commit 9fcf488269a6bdf5ce0c849455677a5a27dab8f8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 8 14:48:14 2013 -0400

    get_billable_amount round down to nearest penny.

commit 61e4e4a849812d9b61b37e99b0caa511f5412693
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 8 12:05:07 2013 -0400

    refund_campaign handles refund calculation.

commit 7a515b0f989d92e4ba84dd85356fa60d3e91be70
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 8 11:30:10 2013 -0400

    Pass billable_impressions to refund_campaign.

commit 9c6bdd63681e8f00832ddb919c8ebd0cdb0f7e56
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 8 11:26:38 2013 -0400

    Fix typo in refund_campaign.

commit db53124d473b567aa137e559e6edf01dc736709b
Author: Andreas Damgaard Pedersen <andreas.damgaard.pedersen@gmail.com>
Date:   Tue Oct 8 22:37:19 2013 +0200

    /dev/api: Document usage of gilded userpage tab

commit 847ee8ffec21ec3e62e12384308c3820064e11bd
Author: Kevin Steck <kevinsteck@tumblr.com>
Date:   Tue Oct 8 16:34:26 2013 -0400

    Fixed a bug if the <head> isn't in the first 1kb.

commit 4f1a5fdf192e70bfeaaf4e17c884cf492a595eec
Author: Matic Žgur <mr.zgur@gmail.com>
Date:   Tue Oct 1 14:24:03 2013 +0200

    compact: Fix .cover to be overylayed over the whole screen.

commit 9019e77fa8fa93b84b39c56961f3d14efcc88c94
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Oct 9 11:51:07 2013 -0600

    Gold partners: update Homejoy description

commit 24081ca7cda9fae1374e020a5bb73d7df9c591e2
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Oct 8 15:13:55 2013 -0600

    Frontpage: support /gilded

commit 4f1e173da239c45539baf373b899a210b9c8a442
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Oct 8 15:07:56 2013 -0600

    /r/friends: add gilded tab

commit 1fd197869e41b8f9cbabb6427bc3c6edcc45f6b3
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Oct 8 14:52:17 2013 -0600

    Domain page: remove gilded tab

commit 96fdb4dcb517af4878903b5182c87f14611a71ac
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Oct 7 16:50:13 2013 -0700

    Cleanup temp files if dying due to replication lag.

commit 1bba953dc78c96f25243d3ed2134058f9afb4d44
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Oct 4 15:17:16 2013 -0600

    Userpage: add gilded tab

commit 23bb9ad3393d0a33c9b80efc04372e2833b751aa
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Oct 3 20:19:18 2013 -0600

    Subreddits: add gilded tab

commit 7722a73d1511439f6084e24d0acb15c2caa8024d
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Oct 4 15:15:35 2013 -0600

    Userpage gilded tab: start writing
    
    Includes backfill script to be run before second commit to actually add
    tab is deployed.

commit a72430538bfd609cd79c4ce8fc0a71f1b1a1ac15
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Oct 7 10:34:46 2013 -0600

    Gold partners: October update

commit ab63ba22a1d14282df7675e583c4be9ba22e0c02
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Oct 7 09:48:48 2013 -0400

    Reword pref option to show self-serve advertising tab.

commit c6bd60ef0a00660d848c6af3107210a0c210d1ed
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Oct 7 13:29:38 2013 -0400

    No non-admin Promote_Graph.
    
    Page was confusing/obsolete with switch to CPM.

commit a51f4576f39d100534ad094a92883fd5220f385b
Author: Neil Williams <neil@reddit.com>
Date:   Sun Oct 6 22:07:49 2013 -0700

    configparse: Defer timeinterval_fromstr import until runtime.
    
    timeinterval_fromstr is implemented in Cython. ConfigParse is imported
    in various plugin __init__s. This causes makefile issues on clean
    builds.

commit fd5292457c52a3a4df78016a6139534c7f8669d0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Oct 2 03:08:53 2013 -0400

    Add SponsorSidebar.

commit 9cb14a15a80449b1e21b72abc59b850a2cf9bde8
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 1 19:07:35 2013 -0700

    Remove unused r2.lib.utils.reporting.

commit f2cf180597a1357fc6bc82ffd3b9780db4936023
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 1 19:04:15 2013 -0700

    Remove remnants of legacy stylesheet systems.

commit d81b953053c59aa80f56473bcdf4e8595cd5c255
Author: Neil Williams <neil@reddit.com>
Date:   Fri Oct 4 10:33:15 2013 -0700

    Revert "upload_static_files_to_s3: Don't list the whole bucket to find changes."
    
    This reverts commit c67d688c9da437a87e8cf2fa1f94aa32be4de29f.

commit 1116847b5c707e0d30bb0a9fc107b9fa6474e527
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 3 16:51:04 2013 -0700

    Fix midcol sizing on subreddits listing.

commit 51fc3101d74aeff4068f79a8f2d2db2582390bd6
Author: Max Goodman <max@reddit.com>
Date:   Mon Aug 19 18:33:09 2013 -0700

    Line up rank and midcol elements using a <style> element.
    
    This is a hack to scale the .rank and .midcol elements consistently
    across the spotlight box and link listings. We don't know the maximum
    link score length until we get to the link listing, at which point we
    output a <style> tag to space things globally on the page. It's horribly
    ugly, but maybe not as ugly as the style tags and jQuery measurement
    hacks it replaces...

commit e041c348cd8951d933df9d76492a358feb53b06d
Author: Roger Ostrander <reostra@reddit.com>
Date:   Thu Oct 3 12:04:31 2013 -0700

    JSON:  Include spam_* settings for subreddits

commit 16ad702fe01082c18f1d8e2fa20887ca16ccce7c
Author: Roger Ostrander <reostra@reddit.com>
Date:   Mon Sep 23 16:25:50 2013 -0700

    Builder:  Do bulk domain-ban lookups

commit 45a6dc3573775c78b98d0e30eb55ab8f8acbd4b1
Author: David Ehrmann <dehrmann@reddit.com>
Date:   Thu Oct 3 11:57:45 2013 -0400

    Update link to self-serve advertising rules on new promoted link page

commit 3341b2049e3cdab39c0254d3a1743c13cfcebfc2
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 25 19:08:48 2013 -0700

    Add suggestions for next areas to browse in next/prev line.

commit 97ee5639e53632c5a548b28421532ea71d5c9725
Author: Max Goodman <max@reddit.com>
Date:   Tue Oct 1 18:10:10 2013 -0700

    /dev/api: Document POST_search_reddit_names.

commit 0e3fdf1462a3020e26ea12dc889317329fe52042
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 2 13:36:26 2013 -0700

    toolbar: Restore frame name attributes.
    
    This fixes the comments pane opening in a new window on Firefox.

commit 359f4987de4361bec1b5c80ecb2bc627e3391d36
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Oct 1 20:44:52 2013 -0400

    Allow sponsors to create promoted links as other users.

commit 8096fb3a1d41e670e58bc8bee2eb3b3c3961b903
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Sep 30 14:20:26 2013 -0600

    Subreddit routing: add /about/sticky redirect
    
    Redirects to the subreddit's current sticky post

commit fbfe49442d8d0e3aabdb8864be28397d31b48a20
Author: Roger Ostrander <reostra@reddit.com>
Date:   Sun Sep 29 15:09:59 2013 -0700

    Pages:  Disable 'approve' button for spam accounts

commit 55241e4b161bf575c4cd46171a0b2a9fce3285e5
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 27 14:16:07 2013 -0700

    Remove invisible numcolmargin reference in compact.

commit feba33d374f65fed76e46578ad443d7516c09b92
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 25 18:00:03 2013 -0700

    LESSify .nextprev styles.

commit f99c41f4341ca3c1b9f9b569abd8c8a98162110f
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 27 20:34:42 2013 -0700

    toolbar: Add sandbox attribute to prevent JS redirection.
    
    Thanks to Mathias Karlsson for suggesting this change.

commit 54fbe84fe67a0558bf7f87e3f85f260b5966c3ed
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 27 20:33:35 2013 -0700

    toolbar: Convert inner frame to using iframes.

commit b547a11d007699fd91f3798781cb565fc78fe976
Author: Max Goodman <max@reddit.com>
Date:   Mon Sep 30 16:09:46 2013 -0700

    Fix validating uploads post-"storify" removal.
    
    Refactoring out the old "storify" function and duplicated request data
    params changed the semantics of file uploads. Uploads are now presented
    as cgi.FieldStorage values to our validators, and need to be referenced
    by their `.value` property to get the data.

commit e692b01b01da83e6f3f54b64b3fae3799d9e9ebc
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 18 14:02:26 2013 -0700

    Clean up lowercase duplications of request.GET/request.POST.

commit ee2c0028d758dd5829566f389c3e22c685d7cda1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 30 15:04:54 2013 -0400

    Sponsors can create campaigns a year in advance.

commit a9fdaf9c9c2bd56b567eee1bd020d6c97a1d52fe
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 26 13:21:30 2013 -0700

    Normalize multi URLs generated by share button.
    
    This ensures that share button URLs don't carry over subdomains.

commit 1c052d1c6f54717547c5fc2465a7bde2f64b7122
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 25 17:28:59 2013 -0700

    Generalize over18 page wording.

commit cff04cde11b646a04bb04f15544699aa7ec31fce
Author: Max Goodman <max@reddit.com>
Date:   Tue Sep 24 18:28:08 2013 -0700

    Super quick-n-dirty JS module error catching.

commit 29a2d2dc6164b4ae3df2283c400158a3c98a0270
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Sep 26 15:34:01 2013 -0600

    OAuth "read" scope: add search/related/duplicates

commit c20db7e11d6bbcfc79830f96a4dee99f078cd4e0
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 26 23:04:29 2013 -0700

    Use `cythonize` to manage translation of .pyx -> .c.
    
    This removes the need to run `make pyx` before running setup.py on an
    initial install which had stopped working due to various imports needed
    for the makefile. Additionally, cythonize is capable of tracking
    dependencies the cython files have, such as external headers or other
    cython files.
    
    I had to upgrade setuptools to distribute to get v0.6.16 which is the
    minimum required to properly use `cythonize` due to a bug in setuptools:
    
    https://bitbucket.org/tarek/distribute/issue/195/

commit ad08a19060c339c6425356ffe626d5be8f7272da
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 26 23:39:45 2013 -0700

    setup.py: Ensure we get WebTest <= 1.4.3.
    
    The 2.x series of WebTest requires WebOb >= 1.2 which won't work for us.

commit a035d8b9e29e0266026182a39a87e5593a273bf3
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 26 23:03:00 2013 -0700

    setup.py: Remove obsolete line.
    
    This should've gone away in 8b7b3a307b03d8ac8323c84d1adcf759fb9fb4d5.

commit 89a56de538d21ef61495382aef3d82c0ea1b66a9
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 26 20:09:40 2013 -0700

    setup.py: Include a dependency link for PyCAPTCHA 0.4.
    
    PyPI only has versions for Python 2.3 and 2.4. Modern installs that
    don't use our PPA to get a debianized copy of this library fail when
    trying to resolve the setup.py install_requires dependencies. This fixes
    the problem by using a reddit-hosted tarball of the 0.4 source (taken
    directly from the source SVN repo).

commit a9f6ecf4a01652cb97318ca0abe9fa6aeeb6a8df
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Sep 27 14:47:08 2013 -0400

    VDate takes a timedelta offset rather than datetime.

commit 4be8c03273abcc8c20ad4b084b990c5a0559d03d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 26 13:00:22 2013 -0400

    Typo in POST_edit_campaign.

commit 804d03748825f2be26c24f7330d4d6bedd1fd701
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 26 14:53:05 2013 -0400

    Only call campaign.void hook when deleting a campaign.
    
    Not necessary to call when only voiding a transaction.

commit be14b19c55563333141ed2dbdc48a2cca18f4687
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 25 17:05:58 2013 -0400

    Use g.min_promote_bid in spotlight box message.

commit e65b059d36b2dcdc564332b37e03c9c11941caa4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Aug 9 14:49:33 2013 -0400

    Admin listing for reported promoted links.

commit 7e52cf0e0988fa639bf62e33698b48f000cabb73
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Aug 9 14:49:19 2013 -0400

    Accept reports on promoted links.

commit bf0fd5dc24860cc1f0252ed009f221aa53694f49
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 16 07:27:12 2013 -0400

    PromotedLinks can be selfposts.

commit ed18fc5b2139440b24ca96a481b264eaf0132a37
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 25 01:49:38 2013 -0400

    Delete g.countries.

commit 48623ffd2c3dd4acd4bcd8991b49172846db5d62
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 25 01:15:03 2013 -0400

    Just let the user type in their country.

commit 8cf4eaea0ea76acb58e59b7f61ee13e27f226e46
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 25 01:04:26 2013 -0400

    Open selfserve to all countries.

commit f8f05b12aa1dc7917d6db2f5c72d3d31887b7f76
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Sun Sep 22 17:50:48 2013 +0000

    Make recs api return objects instead of strings.
    
    This format will make it possible to add extra info to the recs later
    without breaking clients.
    
    (In response to a suggestion from /u/radd_it in /r/multibeta)

commit 92da469504677fec53d8c814a24defafe3008be7
Author: Max Goodman <max@reddit.com>
Date:   Tue Sep 24 17:24:22 2013 -0700

    Simple multi "share in explore subreddit" button.

commit 4d17b328017d21975211f43045a6c77eabd01eb0
Author: Neil Williams <neil@reddit.com>
Date:   Tue Sep 24 18:47:39 2013 -0700

    Fix /stylesheet.css redirect for new-style static stylesheets.

commit 6d1a5340b314656856362de80ec99339b269a6bc
Author: Andre D <andre@andred.ca>
Date:   Wed Jul 31 14:44:07 2013 -0700

    submit: Add text to submit field for rules.

commit 8260159252a92429bdf47002ed5c615c5ac85c5a
Author: Andre D <andre@andred.ca>
Date:   Wed Jul 24 14:46:02 2013 -0700

    utils.js: Add an LRUCache object.

commit b884ef23cc78892630f23fb98e4f05579b750ac6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 24 12:42:26 2013 -0400

    Future date limit on creating campaigns.

commit cac9702cc488217d71c0591453f508c83b9001da
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 24 12:42:06 2013 -0400

    min_promote_future is an int.

commit 186541adc6b69a08e636a8c180d5c3ce9711c9a0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 24 12:41:28 2013 -0400

    PromoteLinkForm: separate start and end date.

commit 798acac87ed97311a47471360d3f0691c1afaf5c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 24 12:23:14 2013 -0400

    Move error_fields into datepicker.

commit 1e524aeb60888b7900faf4cb769c0d9e418e9b86
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 24 12:21:13 2013 -0400

    VDateRange better separates start and end dates.

commit 03cd28a7812e4f6f6412ed66dc554d6a53a3676f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 24 11:15:56 2013 -0400

    VDate: rework to use earliest and latest rather than future and past.
    
    More flexible and easier to understand.

commit 2f1746aaa04e769ded46f753b2f014c338562e06
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 24 02:47:57 2013 -0400

    POST_edit_campaign respects business days.
    
    This makes the validator consistent with the logic used in
    PromoteLinkForm.

commit af171d94ff15cf15f732852ea3595fc9cb178a4e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 24 02:47:01 2013 -0400

    Remove unnecessary options in VDateRange usage for roadblocks.

commit b319b576aaf91685177a983738e4d27bc2959fcc
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Sep 23 14:13:02 2013 -0600

    Edit SR: cast wiki rev IDs to strings on conflict

commit e66b786288c36b9714c743e609c2a1355260560f
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 24 16:50:18 2013 -0400

    multis: Disable multi showcase subreddit by default.

commit 6badac60b16cc46c6eb5ac34852aff02e58be8cd
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 16 18:59:00 2013 -0700

    install-reddit: Add HTTPS to the default install.
    
    This is primarily to show how to set up reddit with HTTPS as well as to
    make it possible to test HTTPS content. The default installation uses
    the snakeoil cert and is therefore unauthenticated. A properly signed
    certificate must be used for actual security.

commit c9013c4438c878c92b633e9ca2ee0f8844154fe6
Author: Neil Williams <neil@reddit.com>
Date:   Fri Sep 20 19:27:18 2013 -0700

    Make is_local_addr accept localhost.
    
    This is useful for minimal installs where the proxy lives on the same
    host as the app.

commit d930799df371b04902287444de6fe1e156a0ede9
Author: Max Goodman <max@reddit.com>
Date:   Mon Sep 23 16:34:04 2013 -0700

    Give GA 500ms to send out gold flow tracking pixels.

commit e5a0e1b36494c085c0f2628f8692b1d72413bc0a
Author: Neil Williams <neil@reddit.com>
Date:   Fri Sep 20 15:41:03 2013 -0700

    thing: Don't commit to memcached until committed to postgres.
    
    This prevents a situation where we make a change to a Thing, write it to
    memcached, then fail while committing to Postgres.

commit 7c9d9742d5c0c478af4b0bd20a428a99becbb207
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 20 16:48:11 2013 -0700

    compressed links: Add class non-destructively.
    
    For compressed links mode, augment the render class instead of replacing
    it. This fixes an issue where compressed promoted links in self serve
    listings didn't get the "promoted" class.

commit 758602686098cec7b251068ccfa687a838ba416e
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 20 20:34:43 2013 -0700

    Make multis require over18 if a constituent subreddit does.

commit f2614b5e6f54180ee6388258ec66de964c63d831
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 20 20:34:05 2013 -0700

    Move over-18 intersitial outside of subreddit context.
    
    This way subreddit sidebars aren't visible until you confirm your age.

commit 3939e7c62df487286a7c045d2a79850d2e8c49fd
Author: Neil Williams <neil@reddit.com>
Date:   Sat Sep 21 18:21:59 2013 -0700

    /dev/api: Fix erroneous GET_listing.
    
    This isn't actually a routed endpoint but an artifact of code reuse.

commit 0463da9c80c3252c0b7a83601cc103982bb5756e
Author: Neil Williams <neil@reddit.com>
Date:   Sat Sep 21 01:04:50 2013 -0700

    /dev/api: Document the "moderation" section.

commit 3f44e020329c29a103420e445538eec767f82b2d
Author: Kruithne <kruithne@gmail.com>
Date:   Wed Jul 17 01:27:07 2013 +0100

    Corrected minor typographical errors.

commit 9d541ea0c9c4e13acb5e43ac78ba0ab97537fd74
Author: Neil Williams <neil@reddit.com>
Date:   Fri Sep 20 22:47:31 2013 -0700

    /dev/api: Make "one of" lists use <code>.
    
    This increases consistency with the rest of the docs which put tokens in
    <code> markers (which formats to a monospace font).

commit 69e908fa62a5ed65bcdd6af428a458f26f13583d
Author: Neil Williams <neil@reddit.com>
Date:   Fri Sep 20 22:36:06 2013 -0700

    /dev/api: Move POST_accept_moderator_invite to moderation section.
    
    Since that's where POST_leavemoderator lives, it seems more symmetric.

commit 2392ad9a86afea6718e93c6739f2e6a55674226c
Author: Neil Williams <neil@reddit.com>
Date:   Fri Sep 20 22:22:18 2013 -0700

    /dev/api: Fix URL path for GET_moderationlog.

commit de4301d24dea228fbe4bd1ce5ed5d8eaa39db034
Author: Neil Williams <neil@reddit.com>
Date:   Fri Sep 20 22:17:47 2013 -0700

    /dev/api: Document the use of c.site.
    
    For POST requests, this is done (preferably) by the "r" parameter. Other
    requests use the path prefix /r/{subreddit}. Since c.site is a global,
    it's hard to actually see if it's used by methods, so this uses an
    additional manually added parameter to the api_doc decorator to indicate
    when c.site is important.

commit 50c3ab53538e491d22292356a6788cfdae5aa16f
Author: Neil Williams <neil@reddit.com>
Date:   Fri Sep 20 21:16:21 2013 -0700

    /dev/api: Add a note about modhashes on OAuth.

commit 24729503f9b212c30064b237bb292b21ef7d1bd5
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 12 17:39:12 2013 -0700

    Remove cup_info system and reimplement cake days more simply.
    
    This removes a hardcache multi-lookup on every builder'd page and
    simplifies the system for cake days.
    
    Cups for the nightly "best *" awards are casualties of this, but they're
    little known and probably won't be missed.

commit 531c1bd5466d2a299ed6c50349fbd6e932704b17
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 23 13:31:03 2013 -0700

    Clean up missing line deletion not merged out properly.

commit 67658a90b61e739af70634f10fe178abb44aa472
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Sep 23 14:39:23 2013 -0400

    Increase promoted link inventory.

commit c9696da9a9cd752bf86fe3883f57ba81bcfdcc30
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Sep 20 12:56:30 2013 -0400

    Update promoted link emails.

commit 6f2a5b700dd759c65f69e24d19cccce46318fa76
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 19 19:21:19 2013 -0400

    Return empty dict if metric_name is not found in PromoMetrics.

commit acd485e1bc9f6a95761943e4fb2f9c822c338de2
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 19 11:20:06 2013 -0700

    Add default for new cake system.

commit 34377138badd445f2dd1254dddb866bd44208c2e
Author: Roger Ostrander <reostra@reddit.com>
Date:   Wed Sep 18 16:13:55 2013 -0700

    Email:  Use non-hardcache ban fetching system

commit 31459b18f73329064743bdceadc35410f69b3eef
Author: Chris Lexmond <chris@chrislexmond.com>
Date:   Wed May 1 19:50:25 2013 -0400

    OAuth: add new "history" and "save" scopes
    
    history: gives access to voting history, saved and hidden
    save: allows save/unsave for submissions and comments

commit 026514271162f46252cd4359b91eb682cb8465d2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 18 15:22:59 2013 -0400

    Make analytics selector more selective.
    
    Promote_Graph rows use 'promotedlink' and 'promoted' classes to get
    the same styling as promoted links. Their destination urls were getting
    rewritten by analytics.js which was treating them as real promoted links.

commit 411e281c807dfc9a81a503fb20688684deb3ad16
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Sep 17 18:38:21 2013 -0600

    Gold partners: add link to /r/goldbenefits thread

commit 2085520a3261f67318f91fb2c40fbfa6dab6bf87
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Sep 17 16:50:50 2013 -0600

    "Your comment was gilded" message: update text

commit d356c32a43b25111aa57337b249ccd318bce890c
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Sep 17 11:58:48 2013 -0700

    System Messages:  Send out 'moderator added' notifications again

commit 76c8a6e7d7328de542c862585fd564e26a4864f6
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Sep 12 11:06:55 2013 -0600

    Automatic gold messages: add "bottlecap" phrases
    
    This allows defining a set of phrases on a wiki page, and whenever an
    automatic gold-related PM is sent, a random phrase is selected and
    appended to the message.

commit 08d1095edd6e99a786faeca65108fd151b6c5371
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 9 14:23:04 2013 -0700

    Only display secure media objects when on HTTPS.
    
    Not all links that have media objects will have secure media objects, so
    a subset of content will have embeds when accessing the site over HTTPS.

commit 52765b7c53e9c6e55dcac8a544fdac948b265352
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Sep 6 10:49:03 2013 -0600

    Gold partners: update iFixit logo / Rover title

commit e0d27579c8b6c919a7263e55bd5fb9726f5b44e3
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 20 14:42:44 2013 -0700

    Add .compressed class to items in the spotlight box where appropriate.
    
    This was causing promoted links to display with the 2 line tagline
    formatting even though they did not have a thumbnail.

commit ec5eea9b710d1af82c1ccf71ef22b8ce4bce7ac4
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 20 14:03:50 2013 -0700

    Increase specificity of compressed link styles.

commit 5b37320724dec7c509724906878949dea0ee30f3
Author: Max Goodman <max@reddit.com>
Date:   Mon Aug 19 17:09:30 2013 -0700

    Normalize thumbnail heights.
    
    The font size of the a.thumbnail element was causing inconsistent
    vertical spacing across browsers. This tweak attempts to replace it with
    a consistent 2px bottom margin.

commit 33adc2e4ae846e2d79371b6d056c6d3edb222b97
Author: Max Goodman <max@reddit.com>
Date:   Mon Aug 19 14:38:21 2013 -0700

    Allow interest bar to size naturally.

commit 5f7576a718d840527f729aef3373ba3b6e80c9d7
Author: Max Goodman <max@reddit.com>
Date:   Mon Aug 19 14:27:34 2013 -0700

    Tweak minimum spotlight box heights.
    
    This adds specific heights for compressed and non-compressed links.

commit 3e699d52533bf18a78e709970046cb5845a75bb8
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 19 11:30:15 2013 -0600

    Gold partners: add UPS

commit 83d03f17a18a221f87e8bc0fa000e24d16963279
Author: Max Goodman <max@reddit.com>
Date:   Fri Aug 16 16:11:53 2013 -0700

    Prevent text wrapping artifact upon left bar collapse.

commit 3c9810f80e3204ee53fc8f22d005fe2cda4f0d11
Author: Neil Williams <neil@reddit.com>
Date:   Wed Sep 18 14:46:48 2013 -0700

    Allow pixels on c.secure pageviews.
    
    The pixel system is now HTTPS-ready so we can use pixels safely on
    c.secure requests.

commit e53564637292948565eb6439e17a09d9c178705c
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 19 16:34:27 2013 -0700

    Switch to a packaged version of LESS.
    
    Assuming the package from our PPA is used, this upgrades to LESS
    v1.4.2.1 in the process.

commit 91176e53ad9fa5710e839f540de8b73086fc256f
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 19 16:35:02 2013 -0700

    reddit.less: Remove inchoate rule that doesn't work.

commit 8a4b6faace9b946394233e7dc45224dda781fb61
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 19 15:34:22 2013 -0400

    Don't send adServerClickUrl.

commit e3945794c1929c8bcd6e4cb360c2e5beacd3a927
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 18 15:00:06 2013 -0400

    Per user CPM overrides.

commit 1ac1bd4693e01be63bc7a7ebeaedd37ff1834c65
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 18 12:24:40 2013 -0400

    Add hook upon to fire when editing a campaign.

commit ea9481fc54c20271352b970f7b81096860c0ca91
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 18 00:19:40 2013 -0400

    Remove unused sample_promoted_links.

commit 9c9ba4ab4ab8070f62522099d1c24d087e9174ab
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 17 16:06:41 2013 -0400

    Send subreddit names in POST_request_promo request from Spotlight.

commit 7e15f2e3abaf0e56cefbf7b9bf947b8dfe4aa4fc
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 17 17:20:44 2013 -0400

    Increase promoted link inventory.
    
    Was using a very conservative estimate to get started, also because
    during the beta pageviews were not available on the frontpage.

commit 81b5844bfbbff9f96b29e71d436a90d1fdbecb34
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 11 19:52:38 2013 -0400

    Check inventory on freebie and pay.

commit 388fa19224779b2320145dd8b101adb28629ac07
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 11 15:15:50 2013 -0400

    RenderableCampaign: wait to convert bid and spent floats to strings.
    
    Comparing the string values can give incorrect result when checking
    if a campaign is underdelivered.

commit cf40ae190661bdfaf915a6a5ec81fc3708df0166
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Sep 13 06:28:27 2013 -0400

    CPM is new message.

commit dd2be333d803985218b56d3fb94b84e79dca4f18
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Sep 13 06:43:36 2013 -0400

    fill_campaign_editor: clean up form disabling on errors.

commit d239be0abca63f6b03cb54e756f9f8c54152436b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Sep 13 06:43:13 2013 -0400

    Add back minimum-spend div and fix styling.

commit 06c15469f41180d3eb34f0987619ce387b43134b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 10 17:23:27 2013 -0400

    Use correct selfserve wiki url.

commit f50452cb4317229127ca681fb8fba0d523b7d68d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 10 15:59:42 2013 -0400

    Hide roadblock error message when inputs change.

commit d5dacda6d8d16882541709d26eb0f22a0404362b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 11 16:26:23 2013 -0400

    VBid to validate promoted link bids.

commit 3b35f147f2d0ce3a24fb9535bd6ab95895b60604
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 10 07:36:37 2013 -0400

    When calculating maximum bid round down to nearest whole penny.

commit a2f23e93ff39517e098c9c0c880c569132e6b827
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 5 03:39:10 2013 -0400

    Allow users to enter desired budget or desired goal.
    
    The fields are dependent (impressions = budget / cpm) so changing
    one updates the other.

commit dad5fb74015c5a9df63d7be7a03660edd08e4776
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 5 02:31:55 2013 -0400

    Show maximum allowable bid when input bid is too high.

commit 50ec6045f2e6eddae5b599631987a025a7eeeaeb
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 28 19:03:19 2013 -0400

    Check for booked inventory to exclude on the client side.
    
    Real inventory values (predicted inventory minus booked inventory) are sent to
    the client. When checking available inventory on the front end while editing or
    creating a campaign we calculate how many impressions have already been booked
    for that campaign (if any) and add that into the real inventory value.

commit d386fb7071cf6e61b2270947a5c58db1002490a8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Aug 22 17:03:50 2013 -0400

    Campaigns can be pending in addition to being live or complete.
    
    Campaigns are charged 24 hours before going live, so checking whether
    a campaign is complete requires more than just checking that it's not
    live.

commit a4263a699149f113dca4b1577c71ace8def0203f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Aug 10 17:29:40 2013 -0400

    Send an email when campaign is refunded.

commit d1dbfb270c63390672026fde68799230b8bdcdf6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Aug 10 17:15:42 2013 -0400

    Manually refund underdelivered campaigns.

commit a972551e1bf25ecd5b99dcf58d27dd18b8623332
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 21 09:34:20 2013 -0400

    Hook fires on each new charge, not once for entire charge_pending.

commit e27cbd183b4de21548d4939545669904d2fe806c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 20 12:15:46 2013 -0400

    PromoteLinkform: switch up the wording for targeting.

commit 43e7ecd04817848a150967584cca4d49edeed97e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 20 12:12:57 2013 -0400

    PromoteLinkForm: show total available impressions.

commit 1f5f98fbc0c22495fb12abfc40195c31086572a1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 20 11:13:48 2013 -0400

    PromoteLinkForm: wording change for creating additional campaigns.

commit 3f4ac47b16e93fb114bdaddacaec9e826057098a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 20 11:10:43 2013 -0400

    Simplify oversold message.
    
    Only show the total available for given target and dates, rather than
    breaking it down by date.

commit 421dd824b0d9e5eb100c0774e66ec9803214236d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 19 17:31:02 2013 -0400

    Exclude reserved inventory for current campaign from inventory check.

commit ac6657832aebad6065261b3ed74e83be8134f095
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 19 13:07:36 2013 -0700

    finalize_completed_campaigns: be careful with cpm attribute.

commit dfef592449f3a036404f12db9d4482e88f1632ab
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 19 15:54:53 2013 -0400

    finalize_completed_campaigns: typo in links lookup.

commit e6bfc29316d397a881bdf60d7d08ab294436303c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 14 16:39:52 2013 -0400

    Use a very conservative estimate of ad inventory.
    
    Inventory is estimated using traffic to GET_listing. This is a pretty good
    estimate based on historical trends (compare subreddit traffic to impressions for
    promoted links targeted to the subreddit). It seems safer to start out with a low
    estimate. This is especially needed because the CPM beta will only show promoted
    links on the subreddit listing, not on multireddits or the front page.

commit cb4b6032836905ba8d101c88b5975eedd4f4ddf7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 14 11:31:07 2013 -0700

    Increase minimum height of Spotlight to make reflows less frequent.

commit 162aac4912aaa9fa0ea428b28e686213df8fe42a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 19 04:35:52 2013 -0400

    promote.py whitespace.

commit 2fa369e76e91fd35f4718636f40ae981a44f7756
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Aug 9 17:23:11 2013 -0400

    promote.new_campaign cleanup.

commit 85c80a7d5593fc8bcd6a75d9c694e6242aea7627
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Aug 8 13:08:09 2013 -0400

    PromoteLinkForm cleanup.

commit 0671511de9e795f7b24a5a13c41597e84b07e85b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 6 16:28:45 2013 -0400

    POST_edit_campaign cleanup.

commit d2ecb5db894964d1ee87b1a71ee3ec322fbe431b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 19 04:21:12 2013 -0400

    sponsored.js cleanup.

commit d11a16dee88db2850d3c82b4482ed77db2967fda
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Sep 19 04:19:37 2013 -0400

    SubredditSelector searches optional.

commit c6419bf21d86f3265438a5de1ced0887b1ccdfa6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 6 15:42:47 2013 -0400

    Typo in sponsored.js for resetting campaign_id36 to blank for new campaign.

commit d8d433c8114b13f8aa8a4956d61d866e6317beae
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jun 3 18:04:48 2013 -0400

    Add translations to promotelinkform.html.

commit 81a5dc36a12dc59147f92f0209c7d329f015f962
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue May 21 14:45:40 2013 -0400

    Add hooks for selfserve related events.

commit 5967acfa8302eeff53717b8fbe11bdb743fd089d
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue May 21 14:50:37 2013 -0400

    Use an ad server to select promos for spotlight.
    
    Replaces client side weighted random selection.

commit 7423c17b39c3b7d128b8d653cc5e3933d9712c09
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue May 28 15:14:56 2013 -0400

    Separate live and complete on promotelinkform.

commit c72e43c03c20fac738eb9f525e5e3d702528f04a
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed May 8 16:59:58 2013 -0400

    Delete unused update_box.

commit 6b8e323e2682c86a31fcff6e982f08aa720f0dff
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu May 9 12:26:31 2013 -0400

    Delete update_bid.
    
    It did too much and was called in several templates where it did nothing.

commit 62bd4e6b8e0d45040af80339276902744b82b1af
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue May 28 14:06:34 2013 -0400

    Display spent portion of a campaign's budget.

commit a0c4a904e26995f751dd0a249e3acd5716146182
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue May 7 14:14:25 2013 -0400

    Sell campaigns by CPM.

commit 0d7736ac39d555d54a64800d3472b0631e799a1d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Aug 8 12:27:09 2013 -0400

    PromoCampaign: add ndays property.

commit 704902b6f5541d28f1834cb82909386a86f3f1dc
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu May 30 10:52:49 2013 -0400

    Add method to check for missing traffic hours.

commit f8dd9e224cd6a9b93f4f4add0c2147be3be575c6
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jun 3 13:56:31 2013 -0400

    Methods to check promoted link inventory.

commit 7a85c3c2bb9550b3d2e75055d6ac728a1c2e0202
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Aug 10 21:04:24 2013 -0400

    inventory: make _min_daily_pageviews_by_sr safer

commit 4b76634aa4ba4cf1ddce5c3cd1cd97229d2aaff0
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue May 28 14:05:25 2013 -0400

    Move get_traffic_dates from trafficpages to promote.

commit 776755b9df25ab9e01b859d92780f2e7988dd27c
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri May 24 14:46:51 2013 -0400

    Refunds for authorize.net transactions.

commit 2be7bf01e8c0b84e5f238082b3af30432f9cbfb6
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue May 28 11:50:19 2013 -0400

    Record charge amount in unused Bid.charge attribute.

commit e65985295ef1e5eb2d48012fe422103e8f129886
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue May 7 12:40:17 2013 -0400

    Delete GET_inventory.

commit 1fa811596352a809eb1df7c0ff889108ee3579a6
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon May 6 19:30:54 2013 -0400

    Delete PromoteLinkFormCpm.

commit e8c6862936de3798fdb8ce9b09ade2d35d5b1c77
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon May 6 19:15:10 2013 -0400

    Separate templates for creating and editing promoted links.

commit 8b8127038073cb79d76ef224e283c4691cd13587
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue May 7 11:57:44 2013 -0400

    Remove unused arguments from PromoteLinkform.

commit 972f922ba3781e4d0f689da7343b079e6803c890
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue May 7 10:23:56 2013 -0400

    Move bid logic out of template.

commit 015ffe5d83afa1df912942fca9a2a6bcc8bdbbda
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon May 6 19:06:48 2013 -0400

    Break up monolithic promotelinkform into functions.

commit 6df2fc3b6397496898eb9f2749e595b5b0273a6d
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon May 6 18:11:52 2013 -0400

    Typo in promoted link thumbnail display.

commit 87bee2cc9df11aa51e5c21d41b3cccda553b119e
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon May 6 16:05:36 2013 -0400

    Delete unsupported maximum_clicks and maximum_views options.

commit 8e8883b4405cfa057c8bae1bb7e42fa77f9f5aa4
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Mar 14 16:32:51 2013 -0400

    Whitespace cleanup in promotelinkform.html.

commit f0c080a46f80a9ec81e2d35989a3b2f2c07a9c71
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Wed Sep 18 08:39:03 2013 -0700

    Fix secondary sort in recommendations

commit 4023a719a84668f711a893b4e843705969d31296
Author: David Ehrmann <dehrmann@reddit.com>
Date:   Fri Sep 13 14:20:01 2013 -0700

    Update /ad_inq for the self-serve CPM rollout.
    
    - Remove link to theoatmeal's explanation of the self-serve ad system
    - Update the copy in the "control your budget" section of ad_inq

commit 8a7e8d224d77f6d17eee4277843461b6c7da6018
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Sep 10 15:04:24 2013 -0400

    ModAction: Read from ModActionBySRActionMod.

commit 544e4994a5c0dedad9ccf2383ef02f5313cb1fd4
Author: Andre D <andre@andred.ca>
Date:   Sun Aug 4 21:41:19 2013 -0700

    ModAction: Add a migrate script.

commit 88906eff2f51769a2dbb2fb6f9642f546ffff799
Author: Andre D <andre@andred.ca>
Date:   Sun Aug 4 21:40:58 2013 -0700

    ModAction: Add a view of Action and Mod.

commit 23bee034ffe156bed67127d0549f4f865894901e
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 11 19:54:13 2013 -0400

    ModAction: TTL of 120 days.

commit 4fe0e158ed467c67d9cfffeb8c41b882411ba898
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 12 18:55:09 2013 -0400

    Delete old roadblocks.

commit 67c71b0870e4b347a472bbc7a332f2c7c3bda66c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 12 18:49:49 2013 -0400

    Read roadblocks from Cassandra.

commit 201d0d05a99bdef218ad59039841d62e404086ea
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 12 18:56:55 2013 -0400

    Migrate roadblocks to Cassandra.

commit e9008e3ad19474f38b14371d6f804f0fe902ee59
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 12 18:37:50 2013 -0400

    Cassandra view class for roadblocks.

commit d7213ee9b43b4d0b4c2f050aa69253861a66f39d
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 12 17:53:55 2013 -0400

    Get more roadblocks.

commit ae534d7f31409cb54ab1b0b772eccecc8575c7c4
Author: Neil Williams <neil@reddit.com>
Date:   Tue Sep 17 13:54:40 2013 -0700

    Proxy the new stylesheet properties to DefaultSR.

commit 2a9b140cc7d362486b2fa21aeb69076b491879a2
Author: Max Goodman <max@reddit.com>
Date:   Mon Sep 16 18:02:38 2013 -0700

    Add util for generating client side S3 HTTPs URLs.

commit f851b366d11fae421dbba225f6d7ddd08602a6c8
Author: Max Goodman <max@reddit.com>
Date:   Mon Sep 16 17:00:42 2013 -0700

    listing chooser: Clean up all localStorage collapsed settings.

commit 46b36dbc2bfe1534da2da4a0261fe017b0228176
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Jul 30 16:26:52 2013 -0700

    Add subreddit suggestions UI to multi page.
    
    When user edits a multi, a box below the edit control shows a list of
    subreddits recommended based on the items already in the multi. A "more
    suggestions" link pages through the list, showing a list of subreddit
    discovery links after all suggestions have been dismissed.

commit 2083e88100e1a542bc72040fe0e1b03f81f84f39
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Sat Jul 13 14:02:00 2013 -0700

    Enable fetching recommendations for multiple srs at once.
    
    This change allows you to pass a list of srid36s and get back recommendations
    for all of them at once, which is useful for multireddit suggestions.
    
    A function that accepted a single subreddit id as an argument and memoized the
    results was removed and its functionality replaced by sgm caching, which sets
    multiple items in memcache at once.
    
    A source prefix is added to the row key so multiple sets of recs can be stored
    in the same column family.
    
    Adult items are filtered unless one of the original subreddits was over_18.
    
    Recommendations for a set of subreddits are merged and sorted by the number of
    items matched. (User feedback showed that people perceive recommendations as
    incorrect if they don't match the "theme" of a large multi, and recs that
    match several srs in the multi instead of just one are more likely to fit the
    theme, so we show those first.)

commit c0d63cf803a5b7aa020340ddb9f6bff85bb07de8
Author: Neil Williams <neil@reddit.com>
Date:   Tue Sep 17 10:59:55 2013 -0700

    Start writing HTTPS-friendly subreddit stylesheets.
    
    This does several things to subreddit stylesheets:
    - stores them on the thumbs buckets rather than the main static bucket.
      (this was not desirable before on reddit.com due to CDN configuration)
    - enforces a new restriction of custom (%%style%%) images only in
      stylesheets to make secure urls easier to resolve. existing subreddits
      are grandfathered in for now.
    - writes, if possible as above, a second stylesheet that references
      subreddit images over https.
    
    At some point in the future, the thumbs buckets should be directly accessible
    on HTTPS via the same URLs which would remove the need for the second
    stylesheet to be created and uploaded. The custom image rules and other changes
    would still be good.

commit 5705be4b63afe2f39675a0adc8f44e1f1a44a05c
Author: Neil Williams <neil@reddit.com>
Date:   Tue Sep 17 11:58:54 2013 -0700

    /stylesheet.css: Don't attempt to redirect to `None`.
    
    Caused when a subreddit has a static stylesheet, but not a secure static
    stylesheet and /r/whatever/stylesheet.css is accessed over HTTPS.

commit 4281b967c4e079bde13a9563e9f5a804818420a9
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 16 15:39:57 2013 -0700

    subreddit images: Make image preview in editor HTTPS friendly.

commit 48b4784490aba969e73e5f1b98d7f6ff8c677096
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 16 15:38:57 2013 -0700

    subreddit images: Remove some cruft left over from the old system.
    
    All images in the new system are guaranteed to be proper URLs by the
    migration and way the new system works.

commit c48b9d487175e2ef784826cd47fe65ebde406964
Author: Neil Williams <neil@reddit.com>
Date:   Tue Sep 17 10:58:37 2013 -0700

    Prepare for new subreddit stylesheet system.
    
    This adds the necessary URL-generation stuff so that subreddits cut over
    to the new stylesheet system will be rendered properly.

commit 1e61c874c2e89cc117fe77c9817be75da08be935
Author: Max Goodman <max@reddit.com>
Date:   Mon Sep 16 14:23:12 2013 -0700

    Report JS errors during base initialization.

commit 641ef7ccf9fec546c48d8255e8791e0f68b8d3ee
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 13 16:15:27 2013 -0700

    safeGet/safeSet: Don't bother if store.js is disabled.
    
    For IE with localStorage disabled, store.js can raise exceptions if you
    attempt to use it when it is "disabled" (cannot select a backend).

commit 2b245079d2da5740ae0056f4767a824dff70b89d
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 13 14:42:26 2013 -0700

    Add missing error status code to VPrintable.

commit b89faa152b16dab649c5c13a15a27f54b9710246
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 6 17:22:29 2013 -0700

    Catch and log errors setting local storage values.

commit 22a5328422b8b89a2a1732d9c8c96714f44b019a
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 6 17:19:57 2013 -0700

    Web frontend logging.

commit 8a0b7b1a7bebcb33929f2f4e0235e79bc5913323
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 6 17:18:51 2013 -0700

    Generalize strict validation error abort method.

commit 244592e47ab0e3b1d661500bf4b6105b68fee093
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 12 14:44:56 2013 -0700

    Add 429 status code to VRatelimit.

commit e933ab305b912bb17d6c23251013e5dec0f59c15
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 12 14:45:25 2013 -0700

    Add param documentation for VPrintable.

commit 74ab8cd6137ba6db2a2f76c92067140225f49d8b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Sep 12 13:10:38 2013 -0600

    Gold partner codes: track time of claim

commit 32e181387b0dd9c38753a58c1a1a4d3d509d1291
Author: Scott Johnson <wscottjohnson5@gmail.com>
Date:   Mon Sep 9 00:55:02 2013 -0400

    Add 'allowfullscreen' attribute to expando media embeds.

commit c866ee9f0135a9e9dd75b48a39262cddf4a41230
Author: David Hu <davidjhu@gmail.com>
Date:   Mon Sep 9 23:46:48 2013 -0700

    admintools: add missing stub for `bans_for_domain_parts`

commit c46309c338d7179b0051f7bbf6f537c85649e650
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed Sep 11 16:48:11 2013 -0700

    sanitize_url: Convert unicode domain names to ascii.
    
    Previously, unicode domain names were only checked for validity, and the
    coversion was dropped. This can cause problems down the line where we expect
    URL's to be ascii.

commit b87d87f9a528e093700d4728dadd9bdd68fb1644
Author: Neil Williams <neil@reddit.com>
Date:   Tue Sep 3 11:32:27 2013 -0700

    Determine c.secure status based on X-Forwarded-Proto header.
    
    Previously, c.secure status was determined based on the domain used.
    This allows for the status to vary independently of domain for greater
    flexibility.
    
    Note: it is critical that the load balancer strips any X-Forwarded-Proto
    headers that may've been sent by the client.

commit 552e9828ab5b20321f7b1c973392083a0bd1acad
Author: Max Goodman <max@reddit.com>
Date:   Wed Aug 28 16:29:20 2013 -0700

    Make request.fullurl reflect the c.secure url_scheme change.

commit 01582db9e67a6c495195e2dd373458b79eebdf8f
Author: Max Goodman <max@reddit.com>
Date:   Wed Jul 24 15:41:29 2013 -0700

    Move CHEATER error into a flag.

commit f32c951cf2213bd945fb0bb94597105aa0f63fdf
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 4 18:38:16 2013 -0700

    Remove obsolete .wired views.

commit 24eb06ab07e918d1f1a62e4be54c6cbb7252bec6
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 4 14:31:01 2013 -0700

    See you later RewriteMiddleware.
    
    This appears to only have been be used for obsolete .js URL forms of
    widgets.

commit 226245797abae1e36fef1d200eb7f6a035d71ed1
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 5 17:21:26 2013 -0700

    Collect simple vote count stats.

commit fcb49ce518eb9a99cbee3f2edd1f13f415bee3d9
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Sep 9 12:20:31 2013 -0700

    health: Use one second for the timeouts.

commit 006add6a650ed921bfe041459ed3333bfbbb090e
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 9 14:21:23 2013 -0700

    Make scraper_q start fetching secure media objects.
    
    These are media objects that can be embedded safely in an HTTPS page.
    Only a handful of services support this through embedly right now, and
    that list is hardcoded until embedly's service API is updated.

commit eb6369f72c03c5e68240e32362fad24c3424b71c
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Aug 27 17:41:42 2013 -0700

    Add health check for caches.

commit 1e1e75482dbbd83be61c7c50748658f24a94f383
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Aug 27 16:12:37 2013 -0700

    cache: Remove obsolete PyMemcache implementation.

commit 707cafd8b47d532f5e280d21452b31de544b087e
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Aug 27 16:10:25 2013 -0700

    utils: Remove obsolete cmd_utils module.

commit 2566f25a2677f3445d91034d5ddbbd3609ad0046
Author: Max Goodman <max@reddit.com>
Date:   Tue Sep 3 15:54:58 2013 -0700

    Add tab to listing chooser for multi explore subreddit.

commit a71bc6626c335fd63f44b8e894b15c8384d63898
Author: Max Goodman <max@reddit.com>
Date:   Tue Sep 3 15:19:40 2013 -0700

    Add gold perks listing chooser tab.

commit 3d0e1971bf16feedd996127cf607c153440edac0
Author: Max Goodman <max@reddit.com>
Date:   Tue Sep 3 14:19:41 2013 -0700

    Move sample multis list to live config.

commit df2d7e91c0a9517ccec4bb93b6065a58ced6f67d
Author: Max Goodman <max@reddit.com>
Date:   Fri Aug 30 16:13:05 2013 -0700

    Add explanation on how to hide default listing chooser display.

commit 07366ac83e797303e774b25200b44ceb0aa8f197
Author: Max Goodman <max@reddit.com>
Date:   Fri Aug 30 16:12:55 2013 -0700

    Move left bar collapsing to server-side preference.

commit 980113c89e7aab7742fc16c7356d222533b845c7
Author: Max Goodman <max@reddit.com>
Date:   Fri Aug 30 15:46:23 2013 -0700

    Remove semicolon.

commit fac604ddb7f3de35d1723716856d1f03454137bd
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 4 19:29:32 2013 -0700

    Recommend X-Modhash usage in the API docs.

commit 3775c6779645a1b2d50cc0eca25a639c071ada1c
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 29 13:54:44 2013 -0700

    Update contest mode help tooltip.

commit 3962494ab846931d9e31d5303c8482cea5c4c795
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 5 12:05:30 2013 -0700

    Use HTTPS for all communication with embedly.

commit 88bac49402d307c443fe46a11d77bad82cf902d8
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 5 11:37:25 2013 -0700

    Fix media embeds on promoted links.

commit 252437da170d2505a0c8dab7b40b1c6687f695da
Author: Neil Williams <neil@reddit.com>
Date:   Thu Aug 29 10:50:21 2013 -0700

    Overhaul scraper_q processing.
    
    This is primarily about removing the dead old scrapers in favor of a
    streamlined oEmbed-based system.  The new embed.ly scraper uses their
    Service API to determine which URLs can be scraped through them. This
    removes the giant list of domains and regexes in the code and makes the
    scraper_q proc always have the latest list of scrapable domains.

commit ee5f8e188bf7e56ec7f7588603782bbab34fee03
Author: Andre D <andre@andred.ca>
Date:   Wed Jul 31 11:31:20 2013 -0700

    redirect: Use fullurl instead of url.

commit 2bee0529d426b455e14f72547435ac0f866e9870
Author: Andre D <andre@andred.ca>
Date:   Wed Jul 31 11:30:58 2013 -0700

    middleware: Add a request.fullurl.

commit 3dab78c514a4361c9d2ae47ac286a1402c847bf4
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Aug 21 15:43:40 2013 -0600

    Mod log: add support for sticky/unsticky

commit ac83d83cbfebb879b08e1b8e50f5b68d214d5870
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Aug 28 14:12:17 2013 -0600

    Gold partners: Add Rover.com and SOL Republic

commit 6be986b315775edc2dd77e23bc41d5a27520f06a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 26 17:33:17 2013 -0600

    Gold partners: remove i18n
    
    These offers change occasionally, are only available in the US, other
    parts of these pages aren't i18n, and phrases like "10% off" cause
    issues with Babel, so it's just a lot simpler overall to drop this.

commit e85287f9d2899cba638266960af37b69bfe4b6de
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 27 17:13:58 2013 -0700

    Update post expando buttons.

commit a1d3e94760c72d13e71e622f9dcb693636d57b67
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 27 15:55:11 2013 -0700

    Remove unused poll expando icons.

commit 1d76adf7f78d3ba6a54ac7b0071629a70d971dca
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 27 13:39:58 2013 -0700

    Only allow admins to modify system_user's multis.

commit d63d930182f15cda8703c8f3c64d20a20a5b0c97
Author: Roger Ostrander <reostra@reddit.com>
Date:   Wed Aug 28 11:28:31 2013 -0700

    Messages:  Queue yourself no matter what API endpoint used

commit 4f2097d08db420d3747543cb824d781720200c9a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Aug 21 13:12:32 2013 -0600

    Spam filter settings: add "all" level
    
    This level makes it so that all items of the chosen type submitted to
    the subreddit will be filtered initially. This is useful for subreddits
    that want to be extremely strict with their submissions, as well as for
    many subreddits to be able to go into "lockdown" in the case of a raid
    or something similar.

commit efe9359f524b19048a11d1d6548a60806f85aa35
Author: Arianna Story <ari@ariannastory.com>
Date:   Fri Aug 23 02:03:05 2013 -0400

    Fix very minor wording error
    
    Changed "the last you hear of us" to "the last you hear from us." Surely they'll hear of reddit again.

commit e09bde86869cd67dbaba0461fca9a9a7ef9ec7e9
Author: Josh Wardle <josh.wardle@gmail.com>
Date:   Wed Aug 21 16:39:08 2013 -0700

    Language change to reddiquette on rules page

commit 0b4ac87a17d6afe0ac1f52043713493df850a378
Author: Neil Williams <neil@reddit.com>
Date:   Thu Aug 22 00:13:49 2013 -0700

    ImagesByWikiPage: protect against c.site not having _id36.
    
    This appears to be happening in some rare corner cases because of the
    wiki-embed in the registration form.

commit 5341ceee093f3b3305281eac63863febd8f2090b
Author: Max Goodman <max@reddit.com>
Date:   Wed Aug 21 18:32:17 2013 -0700

    Fix subreddit header attribute name.

commit d696c8cf8c3a4396a155d1aa8151203b79a3e641
Author: Max Goodman <max@reddit.com>
Date:   Wed Aug 21 18:31:59 2013 -0700

    Add comment explaining subreddit JSON private attrs list.

commit c565694c99dca744b8b766eb30f7a9d33ef84ab4
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 20 16:47:34 2013 -0700

    Restrict access to private subreddit data via the API.
    
    Thanks to a report by Jordan Milne.

commit b1dc27284712471901cb1323e0b18eac3b62784e
Author: Max Goodman <max@reddit.com>
Date:   Wed Aug 21 13:45:19 2013 -0700

    Force logged out state for .wired/.js/.embed.
    
    Thanks to Jordan Milne for pointing out this oversight.

commit fac84e86c3ed36305aae18c4c6d0c5a4e3a00b24
Author: Neil Williams <neil@reddit.com>
Date:   Wed Aug 21 15:31:34 2013 -0700

    /api/delete_sr_image: Ensure valid name submitted.
    
    Previously, if an invalid image name were passed to this endpoint, it
    would fail because VCssName would return an empty string and we'd never
    check for the validity of the value.
    
    Fixes reddit/reddit#883.

commit 8d4ba3971b32b468df200c89e649aa6dee842bae
Author: Neil Williams <neil@reddit.com>
Date:   Fri Aug 16 23:54:35 2013 -0700

    Stop writing subreddit images to old model.

commit 77c658b6ce00360bdc7c1fca5abddd61f9e33bf4
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Aug 21 13:36:33 2013 -0600

    API: Change "type" to "subreddit_type"

commit 903acd7e211d02d3324112bcb64a466d82e11056
Author: Neil Williams <neil@reddit.com>
Date:   Fri Aug 16 23:53:07 2013 -0700

    Cut subreddit stylesheet image reads over to new model.

commit cc5d31630cff72595a97a35fb999f3d86ddce3f7
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 19 11:40:07 2013 -0600

    API: Add more subreddit attributes
    
    Adds comment_score_hide_mins, public_traffic, submission_type,
    submit_link_label, submit_text_label, type, user_is_banned,
    user_is_contributor, user_is_moderator, user_is_subscriber

commit a7aa31d16d59444963fd67e7c6424be39372d29a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 19 12:20:22 2013 -0600

    jsontemplates.py: data_attrs cleanup
    
    Switched to better multi-line format/indentation, fixed whitespace,
    added trailing commas, and alphabetized all attr lists.

commit 2c6d347b80dcdb7ebebd72567598fca76f2b6029
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Aug 20 15:18:50 2013 -0600

    Link hiding: don't hide own posts due to low score
    
    Also refactored logic of this section to be a lot simpler.

commit bd9aa09402a78ba3c8db1302483a3a01748064ad
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Aug 20 17:01:30 2013 -0600

    Approval checkmarks: initialize approval_time

commit 8fe9623329786b2bde03d3736012f2e7da9d07a4
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Aug 20 16:56:53 2013 -0600

    Domain media info: ensure media_object is a dict

commit 5f6ba13aaf3d14496a05f845f245cc3d1fe6005a
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Jul 30 16:53:42 2013 -0700

    Subreddit options:  Include more fine-grained spam controls

commit 0b7bc86ea498f0ccb5204fe61ba4abccd174d30c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Aug 20 12:42:32 2013 -0400

    Selftext promoted links need full url for click redirect.

commit 4303841341caa4bf3c20ffb109a58cf289e94a9f
Author: Neil Williams <neil@reddit.com>
Date:   Fri Aug 16 16:18:43 2013 -0700

    Add ImagesByWikiPage model and start dual-writing.
    
    This model will initially be used to transfer subreddit images (used in
    the stylesheet) off to a new system, but is intended to be used for
    per-wikipage images in the future as well.

commit 052c661f288aa2d4c2134d5bac39599861a82310
Author: Ricky Ramirez <rram@reddit.com>
Date:   Fri Aug 16 16:10:46 2013 -0700

    Add employees to example.ini

commit 47cab1313e50a10cda50aa0cd0bcf9df513b1b53
Author: Neil Williams <neil@reddit.com>
Date:   Fri Aug 16 00:10:00 2013 -0700

    Make CommentButtons's show_distinguish respect employee flag.

commit fb8818e9d20f389e097927321e0112ad9304fba0
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jul 25 16:18:28 2013 -0600

    Flair toggle: Add a <label> tag

commit acfa8a232f09aa77b7c306947de533913e72c1ca
Author: Neil Williams <neil@reddit.com>
Date:   Thu Aug 8 11:37:09 2013 -0700

    r.utils.pyStrFormat: Replace more than one format parameter.

commit 7e6cbc47b74ef8597f888c33792adc59c85f807c
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed May 29 01:07:16 2013 -0700

    Domain area: add new user pref to show extra info
    
    If enabled, shows additional info in the domain text when it's
    available. Initially, this includes the source subreddit for internal
    reddit links, and anywhere that the media_author_url or
    media_author_name info is available through embed.ly (such as YouTube
    channels, Twitter authors, etc.)

commit 182953e0072a0135b61bae6060e478b70a2c2c76
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jun 21 15:16:14 2013 -0600

    UrlParser: support subdomains in get_subreddit

commit 983be398d20fce6b2aad72ec8a3dc205621d2d29
Author: Andre D <andre@andred.ca>
Date:   Mon Aug 12 02:07:08 2013 -0700

    preview: Preview stickied link.

commit d2a3074ee87096b5cf9129c67f8aedfa3e2d24c4
Author: Andre D <andre@andred.ca>
Date:   Mon Aug 12 02:06:46 2013 -0700

    preview: Do not sticky previewed links.

commit b6505618901b057c832a58c9c32504023d16fa07
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Aug 8 12:01:28 2013 -0600

    API doc: Add set_subreddit_sticky/set_contest_mode

commit dd925f4a0450e2c196843b7295b6820f3b41fd52
Author: Ricky Ramirez <rram@reddit.com>
Date:   Fri Aug 9 12:16:24 2013 -0700

    account: Protect employees against logged out users.
    
    UnloggedUser raises a NotImplementedError for name.

commit 641c21f4cbd78c0d77e3e4cb00eed1137e75314b
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Aug 8 17:27:49 2013 -0700

    Allow employees to see sitewide traffic pages.

commit 0fabf570d1cccf9c53b29a2a9f8328cf66773e42
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Aug 8 16:40:41 2013 -0700

    Allow employees to gift gold for free.

commit ad2d41f7e7bd5d2006bbb0bedebd0333cf66cd1f
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Aug 8 14:21:02 2013 -0700

    Allow all employees to distinguish as admin.

commit 75da61704baa8a71933c307bbb875cfd40d7f621
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Aug 8 14:04:06 2013 -0700

    account: Add employee property.

commit 5312dc36f26a9058b05c46f745addce39ae21eb8
Author: Tristanx <tristt@live.com>
Date:   Thu Jul 25 17:10:10 2013 +1000

    Fix error fields in flairlistrow template

commit 5147a112763a52fbea1469d48933fecdb7532af0
Author: Tristanx <tristt@live.com>
Date:   Thu Jul 25 17:05:16 2013 +1000

    Also preview linkflair in flairselector

commit d00dc8d3a8ada30846a47e7884a7d43485aaa8ee
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Aug 7 16:50:38 2013 -0600

    Tikkit terms: automatically show if linked to

commit 0a88e507731aee941eca6d78249ae5cccbadd328
Author: John Drinkwater <john@nextraweb.com>
Date:   Tue Jun 18 11:35:40 2013 +0100

    Fix the detection of meta name=og:image thumbnails

commit 3bc028c71279fa74cefb4a17feb9553b2ca06eac
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 19:34:51 2013 -0700

    wiki: Add formatting help to edit page.

commit 57c573903f57b697d0ccd9655c9084a75bc0aebe
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 19:26:19 2013 -0700

    formattinghelp: Move markdown help into a function.

commit 8e40ee343091d9ddcb59482812147900c5bb9059
Author: Andre D <andre@andred.ca>
Date:   Mon Jun 24 15:36:34 2013 -0700

    subreddit: Move _base into a property. Fixes _base properties not updating until after app restart.

commit 922975897697a7aac5d7eb63051693652b2d0826
Author: Andre D <andre@andred.ca>
Date:   Mon Aug 5 05:09:16 2013 -0700

    multis: Correct GET_my_multis doc url.

commit 7e178899fa5810bb855d6b1c3a9ea07e4cb9af05
Author: Andre D <andre@andred.ca>
Date:   Mon Aug 5 05:07:57 2013 -0700

    multis: Correct api_doc order.

commit 2a5bd5cff9ed6d4a56fd8b69e24b317d7a13d913
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 20:30:06 2013 -0700

    wiki: Add throbber on edit.

commit 86eedb90435c4382a4e956b36b6cdf4eb76bf742
Author: Andre D <andre@andred.ca>
Date:   Mon May 13 13:38:22 2013 -0700

    wiki: Disable save button during wiki page edit saving.

commit 850a07c8cc81b42c03d7865d78cf26b633a9d967
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Aug 7 12:28:01 2013 -0600

    Stickies: set with a button on comments page
    
    This replaces the need to enter the sticky's permalink on the subreddit
    settings page, and adds a new button for stickying/unstickying next to
    the contest mode button.

commit e0889c4ea728387b913edf8a4666617c487655ee
Author: Andre D <andre@andred.ca>
Date:   Wed Aug 7 12:05:02 2013 -0700

    wiki: Replace "/" in body class with "-".

commit 3735a63f24cd9d236da042604c40529879434a71
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed Jul 24 17:50:02 2013 -0700

    Allow ratelimited user agents to have individual limits.

commit d663066c034b816c9dc8c488b7e55a5495336ffd
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 25 00:26:45 2013 -0700

    Add full gettext support to the frontend.
    
    This replaces r.strings with a new i18n system based on Jed. Messages
    are extracted from the JS source directly. Plurals are supported as
    well.
    
    The string formatting built into r.strings is now moved onto
    String.prototype.

commit f1534b52d92164d54dab365ed542350a2f4f04f0
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jul 31 11:16:08 2013 -0700

    locate_static_file: Reverse search order.
    
    This makes plugin static files more consistent with other parts of the
    plugin system where the ordering of g.plugins is meaningful.

commit 4aa1f713f6bbf0fb358c60dde44a231da9d48952
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 5 19:55:24 2013 -0600

    Gold messages: update wordings

commit d7759c9dcebebefd5c88d82e5ffac2498b636142
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 5 15:42:05 2013 -0600

    Subreddit settings API: add sticky_permalink

commit 689a4d8c328c6afd4a563385f1860ed58af6ccd4
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Aug 5 14:16:30 2013 -0600

    hot list: show full page of posts even with sticky

commit 0c490e4ecf879904e7f8eb6287329e28c7962337
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jul 27 00:55:32 2013 -0400

    Use AdminLinkMenu on LinkInfoPage.

commit 9fa7e0b515804bde927baf4e6402c16c6ea7638d
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 29 14:45:07 2013 -0600

    Subreddit settings: add ability to define a sticky
    
    This allows subreddits to define a single self-post from inside the same
    subreddit, which will be "stuck" to the top of the subreddit's hot page,
    with distinct styling. Outside of viewing the subreddit's hot page
    individually, the post will behave as normal. It also can only be hidden
    by the user manually, and will not automatically hide due to being below
    their score threshold, or being upvoted/downvoted with one of the user
    preferences that normally hides posts they vote on.

commit 5cdd6f7530c49bf0bc31db5e180b3bd2f188f932
Author: Andre D <andre@andred.ca>
Date:   Tue Jul 30 11:53:40 2013 -0700

    about/moderators.json: Include permissions.

commit 19395afbd78c3a15b71bb4f4e85ce144352cf768
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 29 21:58:39 2013 -0600

    exclude_banned_modqueue: apply to unmoderated as well

commit 639dab92d49f7aede5550faa69ada7faa01b9726
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 12 09:05:15 2013 -0700

    Don't create votehash attribute on each thing.

commit 4408f479a70e1428e223e01f6c02388354d5887a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 26 01:04:26 2013 -0400

    Generalize votehash from organic to vote_info.

commit 1936ed6b5fb58926e346caecad857d0114a581a0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 17 00:17:59 2013 -0400

    DenormalizedRelation/View: replace opaque with kwargs.

commit 2339b83111fc93509bd4900a20604d4d52b88b60
Author: Andre D <andre@andred.ca>
Date:   Wed Jul 24 13:39:01 2013 -0700

    _by_fullname: Fix tdb_cassandra Thing implementation.

commit 81683b2d976fa203d0baadbc35025ec79ac49669
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 10 01:54:05 2013 -0400

    XML support for modaction.

commit 06d33dfc08ff8252a488b011c3a1b758c1427389
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 10 06:44:58 2013 -0400

    PromoteReport: add link url to csv output.

commit 6844a60f0fd5243dfc989580930d85697d74f9f8
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 10 06:33:34 2013 -0400

    PromoteReport: show total clicks and impressions by link.

commit 1efb1d6aae0b3b83bc3814a1b7157af0067c5814
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 10 01:52:22 2013 -0400

    GET_moderationlog: add "private" extension_handling.

commit e99e5b0fb949512ce2df118366d4010fd52ffe5f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 8 11:51:55 2013 -0400

    Add moderator listings to rss feeds.

commit 652df50026d0f37db1c1382469dd2bb70e152418
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jun 24 11:02:02 2013 -0400

    Cleanup goldthanks messages and clarify delay for google checkout.

commit 79624db06fde3bca2574d245ff06bb560291c569
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jun 18 12:32:36 2013 -0600

    Add "golden tikkit" style for messages

commit 6abcb0d5253610dd8871e2c4617953843c0b5352
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Jun 18 21:03:38 2013 -0700

    Ratelimit:  Disregard exempt users

commit f734be79b2fb52509806ddba4a8df99e838b60ce
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Jun 14 19:42:16 2013 -0400

    Don't make a traffic tabmenu item on LinkInfoPage.
    
    Route was broken and there's a link to traffic on the Link.

commit 84c6d101a4f9da3ade6e368e25f2a63a45851f3f
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 15 17:25:05 2013 -0400

    Allow promoted links on restricted subreddits.

commit c28d7481568b177d01d41329def0401723585042
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 26 03:13:01 2013 -0700

    Persist url path and query params in /me/m/ redirect.

commit 8e48fae1424838a663574eba3c8fd09dbbeaf05c
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 26 03:12:41 2013 -0700

    Persist url query params through /u/ redirect.

commit 0baba4bb54a456096c036012b2d3409a59a32acc
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jul 25 22:30:56 2013 -0600

    Post buttons: Allow wrapping on smaller screens

commit eb5fb72d6337561c52eeb269f5342ad9e4bdc36a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jul 24 11:15:48 2013 -0600

    Mod tools: move above list of subreddits in multis

commit 38ae79be7ec919553a6bcb329ba574366e4b05cd
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jul 24 14:12:33 2013 -0600

    Mod log: remove final public 'ham' usage

commit 337b5979b98267cbc1fcb0807f0c7c1bbcf34ba3
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sun Jul 7 17:59:54 2013 -0600

    Ignore reports: hide button for removed items

commit 5b922f14aa2a95c2ace296be09598ba413fd5d68
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jul 24 14:03:19 2013 -0600

    Mod buttons: normalize labels

commit 5c3b86b3963ac8016a96efa30b1603c8debe3b3e
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jul 23 14:09:15 2013 -0700

    Fix injection vulnerability and jquery path in applying link flair.

commit fdf072b38a33ab50b0dc6fa46e07ceff7b3363ed
Author: Max Goodman <max@reddit.com>
Date:   Wed Jul 24 15:08:03 2013 -0700

    Allow 2-character language subreddits to be added to multis.

commit 70b05812b0c030ddc5039b83f816e7e00336f10d
Author: Max Goodman <max@reddit.com>
Date:   Wed Jul 24 13:52:48 2013 -0700

    Raise exception with details for RedditErrors missing status codes.

commit ab26338550153c9febe122b9b44b38dd8f4d3637
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 23 18:00:05 2013 -0700

    Fix missing interest bar.xml template stub.

commit ba95f535474f0634eb93a08d0103f0614542af4a
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 23 17:59:34 2013 -0700

    Add missing title property to SubSR.
    
    Fixes AttributeError on /reddits.rss.

commit e7ecfa180cdf57302e7ea8c24b4f9e008a8ae2eb
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 23 17:19:35 2013 -0700

    It's helpful to return Deferred objects you create.
    
    Fixes making hoisted logins from the front page.

commit bf93f3c65e8ba8307a052b4c38f1351578548ada
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 23 17:06:51 2013 -0700

    Fix missed user_path refactoring.

commit c54f15cf8901520b3037d3c6a21c18cfac0a0e1c
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 23 16:23:31 2013 -0700

    Obscure personal multi referers behind /me/m/... URLs.
    
    This makes browsing multis you own go through /me/m/multiname insead of
    /user/username/m/multiname so that your username is not visible in HTTP
    referer headers. Sadly, this makes copy-pasting multi URLs more
    cumbersome, but until we can block referers another way (https?), it's
    the simplest option we could find.

commit 46428502d29edc0530143362e1d3733c6537b9fb
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 23 13:46:44 2013 -0700

    Fix submit page for .compact.
    
    Sadly Ack didn't list .compact files during the SubredditSelector
    refactor.

commit b5a3dd203629c47e37d0b3983570529d6bfc5147
Author: Max Goodman <max@reddit.com>
Date:   Mon Jul 22 16:00:15 2013 -0700

    Only display public multireddits in user page sidebar.

commit 6e4f2d8d15748566deefe4e9c0ad7ec0df298158
Author: Max Goodman <max@reddit.com>
Date:   Mon Jul 22 00:49:13 2013 -0700

    Fix the column widths of the user page multi list.
    
    The width of em units were varying across platforms wrt the box size.

commit 00a8ea3fd5f73c71514cfe3ff01645cdf08b427c
Author: Max Goodman <max@reddit.com>
Date:   Mon Jul 22 00:23:27 2013 -0700

    Add hover tooltip for ellipsized multi names.

commit 0e0b0aa218c7bac3a5eea3c04e4b858bd102fe8a
Author: Max Goodman <max@reddit.com>
Date:   Sun Jul 21 19:39:44 2013 -0700

    Use background attachment to position sidebar grippy image.
    
    Fixed positioning was causing the grippy image to bleed out of the
    sidebar when scrolling horizontally on small viewports.

commit 977076e92c118560e32a5803aa26bc974b8d928b
Author: Max Goodman <max@reddit.com>
Date:   Sun Jul 21 19:39:29 2013 -0700

    Fudge the height of the page for long listing choosers.
    
    This is a hack to ensure that the listing chooser is entirely visible on
    the page until we can improve the positioning/scrolling of the listing
    chooser sidebar.

commit 814ae1e1e0cb2ae29b35dd3a6ac964a47b2e1ca7
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 19 02:50:18 2013 -0700

    Listing chooser collapse grippy usability improvements.
    
    * Increase thickness of grippy.
    * Grippy icons with arrows pointing in the direction of show/hide.
    * Invisible extra width for easy targeting.

commit 880a636d30f47699b885cbafdbcd23874ae8412c
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 19 03:26:56 2013 -0700

    Consolidate listing chooser LESS code; shorten variable names.

commit 7e4ba7c9872b168ba6f5dc72798691ce36a68550
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 19 00:00:49 2013 -0700

    Make user page multi list multi-column and summarized.
    
    Borrows a modified version of r.ui.Summarize, originally written for
    another project by @spladug.

commit 7ffe7332e4cfd998b36aaec0a7997d9cccbbb9eb
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 19 00:00:01 2013 -0700

    Make reddit-init.js a LocalizedModule.

commit 11721d6630f7ddacf172fab1890a9449ce35fe09
Author: Max Goodman <max@reddit.com>
Date:   Thu Jul 18 23:59:44 2013 -0700

    js.py: Only include permissions strings if referenced.

commit 843e968052f7c5dad353b3123a3d4a72d2fbe830
Author: Max Goodman <max@reddit.com>
Date:   Thu Jul 18 22:19:15 2013 -0700

    Prevent inner form throbbers when parent element is working.
    
    This keeps the copy and rename form throbbers from showing when an
    operation is in progress on their parent form.

commit 570724107b8a01fcef395528f29ddd3fa6ebfbb7
Author: Max Goodman <max@reddit.com>
Date:   Thu Jul 18 22:02:00 2013 -0700

    Treat empty inputs as non-errors in two wiki validators.
    
    If VLength (or its subclass) gets an empty input, by default it will set
    an error state. This error state now has a code param, which causes wiki
    code to treat it as fatal. This change disables the empty error in two
    places, when appropriate.

commit 6d82ec79f757df7c77a82784e1db5780569eaaba
Author: Max Goodman <max@reddit.com>
Date:   Thu Jul 18 00:30:35 2013 -0700

    Set multis to private after copying.
    
    One more time with feeling. :)

commit 737384513c0c2d7ebc734d9f157d15c91b49f2ec
Author: Max Goodman <max@reddit.com>
Date:   Wed Jul 17 15:53:44 2013 -0700

    Add more verbose JSON validation errors.

commit e994fa6a8a55d728f734699a500a604b85916123
Author: Max Goodman <max@reddit.com>
Date:   Wed Jul 17 15:51:41 2013 -0700

    Properly distinguish JSON parse errors from empty values.

commit e195ee070665fc170edce9ca8b5f0f71f7ab420a
Author: Max Goodman <max@reddit.com>
Date:   Wed Jul 17 15:24:13 2013 -0700

    Rename BAD_JSON -> JSON_PARSE_ERROR.
    
    I intend to prefix JSON related errors with 'JSON'.

commit e03cb367d366f36d9a33503ec277c55beffa8248
Author: Max Goodman <max@reddit.com>
Date:   Mon Jul 15 16:15:52 2013 -0700

    Fix multi copy ownership setting.

commit 3d97fa7a2a0f694349da2e3b2fe71a06919d65b0
Author: Max Goodman <max@reddit.com>
Date:   Mon Jul 15 14:41:26 2013 -0700

    Add HTTP status code to VSubredditName error.

commit 4df1ae542e026ab64bc054c8ebed6e27da1d269c
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 12 16:39:31 2013 -0700

    Add multireddit subreddits to the submit page.

commit 7dd403178bd76fdae123fbe280194675ca5b9099
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 12 16:01:22 2013 -0700

    Remove obsoleted g.default_sr special case.

commit 242e13df585154a85d253fe6325290403f5c7a37
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 12 15:49:10 2013 -0700

    Factor out global state from NewLink view.

commit 294e5412b9de876c3fd70605e8b09cff272d97b1
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 12 15:02:35 2013 -0700

    Whitespace.

commit 659cecec9722180e47c55f893557d75e648c1554
Author: Max Goodman <max@reddit.com>
Date:   Thu Jul 11 18:10:11 2013 -0700

    Simplify and consolidate subreddit selector view code.

commit 22aba6cd14ce1a6e37f1dd39307783a7292e8205
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 9 15:17:28 2013 -0700

    Validate multireddit subreddit data properly.
    
    Fixes spurious "name" properties being stored in sr_props data and
    consolidates batched subreddit checking logic.

commit ccf50bad1bd300c4e007f9d2fe32e402f7d11943
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 9 15:16:09 2013 -0700

    VSubredditName -> VAvailableSubredditName
    
    yessssssssss

commit 1cd4cc9179255104321d846b82f8548bc9cab4a0
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 9 14:36:46 2013 -0700

    JSON validation: let's get serious.

commit 36b7679d7cb5b806c269f1327707b064c7a8fd48
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Jun 27 14:23:34 2013 -0400

    del_srs: sr_props is a dict of sr_id: dict.

commit 5ae42365afa370e36d8b144505caac946e26af0b
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 9 12:16:56 2013 -0700

    Accept data parameter for multi sr data PUTs.

commit df03e621c0e40b3e5dc1a6dac70b289fe1defea4
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 9 01:46:50 2013 -0700

    Don't base copy/rename API URLs on the "from" multi path.
    
    Since "copy" and "rename" are operations rather than resources
    underneath the multi, let's put them in the root of the API namespace.

commit e816a284939d66c9ba12dc2f4d4df1f4f291240d
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 9 01:09:38 2013 -0700

    Add REST API for descriptions; copy API call; cleanup.
    
    This adds a bona fide special copy operation to simplify API use and
    handle copying sub-documents like descriptions.

commit 2d5c409d6c56285fce0739b69dfc41e90542c01b
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 5 15:24:49 2013 -0700

    Add status code to VOneOf validator error.

commit e0ac203cecf194d5ff9c8ab26ad923ab3a7e73a0
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 5 15:24:26 2013 -0700

    Add VValidatedJSON validator for checking schema'd json data.

commit 483b868aaa2ed3a726720fa16a501435a096fd17
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 5 15:06:47 2013 -0700

    Be strict about validation errors having status codes.
    
    Hoping to avoid a silent non-handling of an error causing a security
    issue someday.

commit 23a4cdc9653100ddea0314098cca174278cd78df
Author: Max Goodman <max@reddit.com>
Date:   Fri Jun 14 03:01:41 2013 -0700

    Add auto description attribution to copied multireddits.

commit fb57f0789d48aca09bfb9f1e2fc9c49e9c372259
Author: Max Goodman <max@reddit.com>
Date:   Fri Jun 14 02:52:04 2013 -0700

    Basic markdown descriptions for multireddits.

commit a559fb7c0fb8c6989966db9e2504be8308ef0cd9
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 13 02:02:02 2013 -0700

    Fix case sensitivity in "hot/top/new" tab menu highlighting.

commit 44349ec2f2351f761d1144c013c2ff313498e515
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 13 01:29:21 2013 -0700

    Add missing loading indicator throbbers.

commit 91e4c6742d95e95790030bd25fd0afbdab4755ab
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 13 01:18:51 2013 -0700

    Multi renaming.
    
    Adds an api call for renaming a multi while preserving metadata.
    Abstracts MultiCreateForm to handle renaming.

commit 90c38d9902728308453f7e043738cffc675606a8
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 13 01:46:35 2013 -0700

    Always override validator param docs with specific instance docs.

commit 869885b2dbb8db31e809608845db33e5cc690fc3
Author: Max Goodman <max@reddit.com>
Date:   Tue Jun 11 13:40:39 2013 -0700

    Only spawn MultiCreateForm once for the copy expando.

commit 2ed755e8c514db4b89bb4d9244ceae04cf723319
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 5 16:16:00 2013 -0700

    Fix duplicate bubble race condition when hiding.
    
    While a bubble is animating the hide, it's possible to show another
    bubble within a bubble group. Then, when the hide animation completes,
    `hideNow` would be called, clobbering the group state set by the newly
    shown bubble.

commit 4ab51600ef74f9fa90150864985a5724078661bf
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 5 15:57:09 2013 -0700

    Only create multi categorize bubble for subscribe buttons upon hover.
    
    This prevents creating a ton of bubble views on pages with lots of
    subscribe buttons like /reddits/mine.

commit 47711af35816f245f564e8a398117c2ff81add4b
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 5 15:55:39 2013 -0700

    Ratelimit multi subscribe bubble render calls.
    
    Since a single render call renders all items, we only need to call this
    once, after all items have been added.

commit 14b62169a5ec644006ced25ebe0122190ed44bc6
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 5 14:58:16 2013 -0700

    Force parsed subreddit name to be a string.

commit 90bec0324a7428a9ea8e4874cabac18f9400e02f
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 5 13:05:32 2013 -0700

    Use canonical username casing when generating multi URLs.

commit 51e7c0abbc179c0a716255ceee8fd8b322e252df
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 5 13:04:56 2013 -0700

    Handle multi paths from route URLs case insensitively.
    
    This fixes multi lookups for users with capital letters in their name.

commit 71cadef1bf8817181b0a090b1a4991c8da52a391
Author: Max Goodman <max@reddit.com>
Date:   Tue May 28 11:46:11 2013 -0700

    Add title attribute to categorize bubble '>' multi links.

commit d96416a3d244acab5c23e45ba58473e70cbbafa1
Author: Max Goodman <max@reddit.com>
Date:   Tue May 28 11:41:14 2013 -0700

    Change template param names to lowercase_underscore style.
    
    Just for aesthetics.

commit 54a9f3bf4f11bb808df0f12b26212639ca8096bf
Author: Max Goodman <max@reddit.com>
Date:   Tue May 28 11:34:57 2013 -0700

    Add subreddit count to multi sidebar.

commit 7132efa249263fd61b6f82005994c092ffad19e5
Author: Max Goodman <max@reddit.com>
Date:   Fri May 24 14:42:20 2013 -0700

    Ensure that promoted link trackers are fetched in bare page loads.

commit b073d7cef76c0a77b83fee5602885e0c9c5b9a21
Author: Max Goodman <max@reddit.com>
Date:   Thu May 23 23:53:22 2013 -0700

    Replace the entire .content div when loading bare content.
    
    After I moved the ?bare param handling into Reddit, listing choosers
    started getting included in bare page renders. This change moves the
    related code into Reddit where we can more easily separate it out for
    bare page purposes, and out of the .content div.
    
    My fault for mixing metaphors here in the first place -- view
    organization doesn't belong in controller code, and the listing chooser
    doesn't belong in the same compartment as main page content.

commit fbaa4ad90ff2ff651efc872edc7a87e0994c32f1
Author: Max Goodman <max@reddit.com>
Date:   Thu May 23 22:36:36 2013 -0700

    Whitespace. Getting peppy.

commit 8f693004fd88f3d1d6d80041e7b63ae978b87f53
Author: Max Goodman <max@reddit.com>
Date:   Fri May 24 01:48:36 2013 -0700

    Don't animate the listing chooser until the page has loaded.
    
    This should fix the collapse animation playing upon first load.

commit 7f03388a54862b37709a11d16b9b9e7d8a282de6
Author: Max Goodman <max@reddit.com>
Date:   Thu May 23 15:19:17 2013 -0700

    Accept multi names 2 characters long.

commit e937eef00d9bdb785375484acd53cc913f38170f
Author: Max Goodman <max@reddit.com>
Date:   Thu May 23 15:04:37 2013 -0700

    Use cursor pointer for right sidebar textual buttons.

commit 733fc4e9cfe9b9075dc00391fae1e8371c48ffee
Author: Max Goodman <max@reddit.com>
Date:   Thu May 23 02:39:51 2013 -0700

    Space details sidebar privacy radios from actions slightly more.

commit a619f35185208e89cc5db9d7ec4d49cdcae08b5a
Author: Max Goodman <max@reddit.com>
Date:   Thu May 23 02:36:51 2013 -0700

    Animate left sidebar collapse/expand.

commit 4004441ba4ac6de7abb320785d260ea43c9cc53d
Author: Max Goodman <max@reddit.com>
Date:   Thu May 23 02:35:19 2013 -0700

    Widen and darken listing choooser grippy.

commit ac1b29eb5c0008f2282f197fa9e6df534a658d1d
Author: Max Goodman <max@reddit.com>
Date:   Thu May 23 02:13:24 2013 -0700

    Generalize bare rendering into Reddit page class.
    
    This fixes some controllers (spam listings) not handling bare requests.

commit 7b4134db37c1ada28eb1cef601ff9fcef7eb9a62
Author: Max Goodman <max@reddit.com>
Date:   Wed May 22 23:36:44 2013 -0700

    Fix escaped entities in create multi invalid character errors.

commit 91fed180be5a883970ad14f037832c482656d115
Author: Max Goodman <max@reddit.com>
Date:   Wed Jul 17 23:40:27 2013 -0700

    When copying multis, pre-fill and select the name.

commit b7a094e66aff57c06f0960e4c1d3e3f10cb34932
Author: Max Goodman <max@reddit.com>
Date:   Wed May 22 14:03:32 2013 -0700

    Work around silly LESS transparent color issue until ours is upgraded.

commit ac88d48cad39329927fae848e13d956b26a7cfa8
Author: Max Goodman <max@reddit.com>
Date:   Wed May 22 04:31:07 2013 -0700

    Remove preference to disable listing chooser.

commit fe799f350a04f1bdb6c56bc29f87f0aadbd4782c
Author: Max Goodman <max@reddit.com>
Date:   Wed May 22 13:25:10 2013 -0700

    Minor listing chooser collapse styling tweaks.

commit 60c0fe5b7ccb28225009b20c913beace263103e2
Author: Max Goodman <max@reddit.com>
Date:   Wed May 22 04:29:10 2013 -0700

    Quick'n'dirty listing chooser bar collapsing.

commit 7511f9d29a94ff372bdb35ef3645552f9c8fc602
Author: Max Goodman <max@reddit.com>
Date:   Mon May 20 18:53:35 2013 -0700

    Improve sidebar subreddit list sorting behavior.
    
    It turns out Backbone fires the 'sort' event after adding new models to a
    collection. This allows us to reorder the views in the DOM in one batch
    rather than having to insert elements into specific offsets in the DOM,
    which breaks when 'add' events are out of order from the collection.

commit 57acac7ab0af7c140baedb85e6c31f56358fddb4
Author: Max Goodman <max@reddit.com>
Date:   Mon May 20 18:33:01 2013 -0700

    Fix multi details sidebar collection initial fetch and render.
    
    The switch from collection reset -> set caused the change handler in
    MultiDetails to immediately fire off a refreshListing.
    
    This change causes the collection contents to be loaded before the
    instantiation of the view (due to preload), and makes the view handle
    initial rendering of the collection contents in its constructor.

commit eeb1d6f2ea22ff3444e8961088d3110e13b0973e
Author: Max Goodman <max@reddit.com>
Date:   Mon May 20 18:23:01 2013 -0700

    TooManySubredditsException -> TooManySubredditsError.

commit 87375a12197e94c75f7f41d77755ea8f1db0da69
Author: Max Goodman <max@reddit.com>
Date:   Mon May 20 17:01:16 2013 -0700

    Return a more apropos error for blocked multi creation.

commit c38de1bcaf356d85be88a573f7cdabbc1aaa52ae
Author: Max Goodman <max@reddit.com>
Date:   Mon May 20 14:31:06 2013 -0700

    Add support for batch adding subreddits to a multi.

commit 0060fca40aebaeb59427705197969c26cd67c4e9
Author: Max Goodman <max@reddit.com>
Date:   Mon May 20 14:28:32 2013 -0700

    Add client-side "tup" util function.

commit 85e72f5b359b0a65dce7f86c9c361a2d61a8f65c
Author: Max Goodman <max@reddit.com>
Date:   Mon May 20 14:21:31 2013 -0700

    Use "smart update" for MultiReddit subreddits; add back parse flag.

commit afeb76cc8a3e37a963b3d39648391b562607b1c4
Author: Max Goodman <max@reddit.com>
Date:   Mon May 20 14:21:04 2013 -0700

    Update LabeledMulti._srs Subreddit objects when adding/removing.

commit d4afe5bbc949c6f5d0b68c500139906a3becc0b0
Author: Max Goodman <max@reddit.com>
Date:   Mon May 20 14:19:32 2013 -0700

    Remove unused LabeledMulti.create "sr_props" parameter.

commit 82deae6e77c6a5ca4a610d6922eacd10996d8fc3
Author: Max Goodman <max@reddit.com>
Date:   Sat May 18 19:49:57 2013 -0700

    Return 201 status in multi API when something is created.

commit 1b66b59f28397e78d7794735c8f8c5183ae502d9
Author: Max Goodman <max@reddit.com>
Date:   Sat May 18 18:54:19 2013 -0700

    Remove unused multi sr list item class.
    
    Fixes unintentional styling class name conflict with ".sr-arrow".

commit 765087b4b742a50f83b1aa809d9c2dfafc033c01
Author: Max Goodman <max@reddit.com>
Date:   Fri May 17 17:21:49 2013 -0700

    Add REST create method that errors if a multi already exists.

commit 1ac24bf9e6e8bf5a466be553721a955da3e6959f
Author: Max Goodman <max@reddit.com>
Date:   Fri May 17 16:26:08 2013 -0700

    Modularize multi API JSON formatting function.

commit 655bff522de50428a312edce1ee0b642ea0b0f78
Author: Max Goodman <max@reddit.com>
Date:   Thu May 16 17:33:50 2013 -0700

    Consolidate multi creation forms and don't clobber existing multis.

commit c41c7e6cc5ba62d41ff7487593287112a6e87519
Author: Max Goodman <max@reddit.com>
Date:   Thu May 16 16:07:13 2013 -0700

    Return a Deferred from preload to mimic jQuery's $.ajax interface.

commit ef5cc6091037b4a9231a90e4bdd52e262dc33286
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu May 16 09:15:29 2013 -0400

    When adding to multi check for special subreddits and bail out.

commit 91c7213b76060d80b63af85a9120455fec065d54
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed May 15 18:09:33 2013 -0400

    Safer check for a Subreddit object in sr_props_to_columns.
    
    Fixes FakeSubreddits not being handled.

commit 107af02595039f7e79a0f5b50fad54a6292957fc
Author: Max Goodman <max@reddit.com>
Date:   Tue May 14 13:09:49 2013 -0700

    Use escaped form of _.template substitution.

commit 35669220efd079f1f534270c6e4d08ac3e91b2cc
Author: Max Goodman <max@reddit.com>
Date:   Mon May 13 19:31:55 2013 -0700

    API docs fixes (make route param name styling consistent).

commit c0e03687d502e07539f8bc6725e6b4778674583d
Author: Max Goodman <max@reddit.com>
Date:   Mon May 13 02:03:59 2013 -0700

    Add "awesomeness goes here" bubble to empty multis.

commit 4ec9b5d43d400f3108313a59f08685b75270db90
Author: Max Goodman <max@reddit.com>
Date:   Mon May 13 00:51:05 2013 -0700

    Focus add subreddit box after multireddit creation.

commit 1cfd16ed97e246d5c606d6e5f4808df07a4a9f51
Author: Max Goodman <max@reddit.com>
Date:   Mon May 13 00:32:24 2013 -0700

    Reduce min height on multi bubbles to remove blank space.

commit 38486af879ec10132d9d8daa18ac0c775ff1e221
Author: Max Goodman <max@reddit.com>
Date:   Mon May 13 00:28:08 2013 -0700

    Handle read-only multireddit status on the frontend.

commit f3ea04aef0c716511e7b4457756420bf086b8ab2
Author: Max Goodman <max@reddit.com>
Date:   Mon May 13 00:05:20 2013 -0700

    Add intro widget to listing chooser with sample multireddits.

commit 3748013c14dc1999a81a7fbd4b72ca27b54146cb
Author: Max Goodman <max@reddit.com>
Date:   Sun May 12 03:55:15 2013 -0700

    Switch to flexible page name positioning for wide logos.

commit 662de9425cbd77bda94a81b620a7dcd2877bc33f
Author: Max Goodman <max@reddit.com>
Date:   Sun May 12 03:25:55 2013 -0700

    Prevent listing chooser tabs from line wrapping on hover.

commit 290c461cd93747ba4e8bc704ce808d478253365e
Author: Max Goodman <max@reddit.com>
Date:   Sun May 12 03:19:39 2013 -0700

    Wait until multi creation finishes before updating the frontend.
    
    This prevents displaying erroneously named multis.

commit 5cfb5fc4f9546de82f1467553f707839c2385d1a
Author: Max Goodman <max@reddit.com>
Date:   Sun May 12 03:16:23 2013 -0700

    Add input for creating multis in categorize bubble UI.

commit 1134dce4b84bff799d1176a396a7f372a930e821
Author: Max Goodman <max@reddit.com>
Date:   Sat May 11 22:28:00 2013 -0700

    Properly handle not found multis in VMultiByPath.

commit b85db4f99f5f901ea644a96a78979ccdb0ef234e
Author: Max Goodman <max@reddit.com>
Date:   Fri May 10 16:40:15 2013 -0700

    Add MinimalController request begin hook.

commit fb9a4f5b4751e311349bdac5f9e8d7c08e8de9e4
Author: Max Goodman <max@reddit.com>
Date:   Fri May 10 16:37:58 2013 -0700

    authentication: Don't depend on RedditController cookie objects.
    
    This enables code reuse outside of the RedditController timeline (such
    as in the beta mode plugin).

commit f78ffab2e6033bc76c1a95cce601d73a6010cd2b
Author: Max Goodman <max@reddit.com>
Date:   Thu May 9 15:29:26 2013 -0700

    Make copies of multireddits private by default.

commit fdbb0b8c98265b21b4a36aad2dd040e4e89cac9f
Author: Max Goodman <max@reddit.com>
Date:   Thu May 9 03:11:41 2013 -0700

    Improve accuracy of listing chooser selected matching.
    
    This fixes the "front" tab being selected when viewing other users'
    multis, among other issues.

commit dfd97d13d500423ac187992d048c8a79e875158a
Author: Max Goodman <max@reddit.com>
Date:   Thu May 9 02:29:22 2013 -0700

    multi API: Revert to array of subreddit data; return data on PUT.
    
    I've decided to return to using an array for multi API subreddit data
    since it more closely resembles a collection of objects.

commit adb37a1225e362d66ebf53dafc5892e9e21118bc
Author: Max Goodman <max@reddit.com>
Date:   Wed May 8 16:11:42 2013 -0700

    Fix error line wrapping glitch when hovering listing chooser create tab.

commit 8007496321d08ef454a9a3c73cf6e297212a0597
Author: Max Goodman <max@reddit.com>
Date:   Wed May 8 16:10:19 2013 -0700

    Improve error messages for invalid multi names.

commit a5479b0ac912169f2318e78abfd894af38b63d4d
Author: Max Goodman <max@reddit.com>
Date:   Tue May 7 18:24:48 2013 -0700

    Add moderator tab to listing chooser.

commit b9d0558cc3bac42969da7c995d232d92a3faab60
Author: Max Goodman <max@reddit.com>
Date:   Tue May 7 16:28:36 2013 -0700

    showWorkingDeferred: handle null Deferred object.

commit 7b92f4b506269e985aba9dce73818340d797ca45
Author: Max Goodman <max@reddit.com>
Date:   Tue May 7 18:06:20 2013 -0700

    Only preload GET requests.
    
    This fixes multi deletion through the frontend.

commit 352eb675db97f9b2af8a8833803144029a4dd5ea
Author: Max Goodman <max@reddit.com>
Date:   Tue May 7 16:28:21 2013 -0700

    Fix broken preload expiration function.
    
    >:(

commit b12cafd377906299f9503be8d1a13f32b570b5d5
Author: Max Goodman <max@reddit.com>
Date:   Tue May 7 16:14:05 2013 -0700

    Auto-focus the name field when showing copy form.

commit 9759934f7a267bcf718c0581314f10de1bae4cf9
Author: Max Goodman <max@reddit.com>
Date:   Tue May 7 15:43:34 2013 -0700

    Add multireddit copying to the frontend.

commit ac04ea450487a416adc17baf16d35d52ac0337bc
Author: Max Goodman <max@reddit.com>
Date:   Tue May 7 15:59:22 2013 -0700

    Add multi tab hover slide animation.

commit 80813ce073c0491ae7aa4f9289667be26ba882d5
Author: Max Goodman <max@reddit.com>
Date:   Tue May 7 02:07:00 2013 -0700

    Only show multi info bar subreddit categorize bubbles if logged in.

commit 6516e74c40a113f87d6b2747f7a6b16965c36db5
Author: Max Goodman <max@reddit.com>
Date:   Fri May 3 02:56:13 2013 -0700

    Allow batch setting multi subreddits via the PUT api call.

commit d923cdfca05268be149afc02bd6ea5dff53aa105
Author: Max Goodman <max@reddit.com>
Date:   Fri May 3 02:55:47 2013 -0700

    Use similar sr_props data structure across client and API.

commit f1ad4375d105fd77a0c4b2219b1e73908f057b51
Author: Max Goodman <max@reddit.com>
Date:   Thu May 2 23:30:25 2013 -0700

    Increase subreddit count limit accuracy when adding subreddits.

commit 358f25c6d87eda6f80553f599c76fac36b50df4f
Author: Max Goodman <max@reddit.com>
Date:   Thu May 2 19:47:46 2013 -0700

    Count subreddits (not properties) in the multi subreddit limit.

commit 7a7f1b9311c91d3fab6cd052b470ddbf569b1cbe
Author: Max Goodman <max@reddit.com>
Date:   Thu May 2 19:45:58 2013 -0700

    Accept subreddit objects in multi add_srs/del_srs.

commit cf70e146c16ccfffe7ff32fd88d6011af484c468
Author: Max Goodman <max@reddit.com>
Date:   Thu May 2 19:23:36 2013 -0700

    Don't automatically commit model when adding/removing multi subreddits.

commit 4baf05d70e76d91c109ec36c70217b69687000bf
Author: Max Goodman <max@reddit.com>
Date:   Thu May 2 18:23:08 2013 -0700

    Reduce listing chooser z-indexes
    
    Fixes the "my subreddits" menu showing up beneath listing chooser tabs.

commit ab5700c1f722bf5e24d70615cec8a311acfa32e2
Author: Max Goodman <max@reddit.com>
Date:   Thu May 2 18:07:07 2013 -0700

    Remove absolute positioning for top tabs.
    
    This was causing the "more" menu to be ppositioned without taking the
    tabs into account.

commit 3657e2f93de6ece1615df0a8897ba0fdc3e04aeb
Author: Max Goodman <max@reddit.com>
Date:   Thu May 2 17:27:54 2013 -0700

    Throttle /api/multi/mine fetches.

commit 19482c6a0bd3e53900acaca4d2e4a05dc4edddeb
Author: Max Goodman <max@reddit.com>
Date:   Thu May 2 17:27:34 2013 -0700

    Add global multi model cache for model object sharing/reuse.

commit 66a1a837aaa84334e88fbee012c990eddbeb33b1
Author: Max Goodman <max@reddit.com>
Date:   Thu May 2 16:50:03 2013 -0700

    Move multi right bar items into own view; add subscribe bubbles.

commit 79b98a46325f2bac8487cb71d9c4d12d9b4511e4
Author: Max Goodman <max@reddit.com>
Date:   Thu May 2 16:13:44 2013 -0700

    Camelcaseify "sr_name" template param.

commit adc9f0fc36096b6437df855ee48b86eebc046e79
Author: Max Goodman <max@reddit.com>
Date:   Thu May 2 15:39:32 2013 -0700

    Add status code to VSRByName errors.
    
    This makes it easier to treat them as fatal in on_validation_error.

commit 00ba19dedb71dff70ae54291d1790eab26944de1
Author: Max Goodman <max@reddit.com>
Date:   Thu May 2 14:38:39 2013 -0700

    Add search pages for LabeledMultis.

commit a3381ab2387d49af4ebf0faae7f4a2a8ac7def56
Author: Max Goodman <max@reddit.com>
Date:   Tue Apr 23 22:02:44 2013 -0700

    Move more stylesheet properties into BaseSite.
    
    This fixes stylesheet usage on FakeSubreddits.

commit 79c5508c4935e481a9a1d20c1853076238bd095e
Author: Max Goodman <max@reddit.com>
Date:   Thu Apr 18 01:11:04 2013 -0700

    Strip /r/ and r/ from subreddit names entered into the sidebar UI.

commit 97cc413aae6012a8b4c064993842b1a5132bf45f
Author: Max Goodman <max@reddit.com>
Date:   Thu Apr 18 01:00:10 2013 -0700

    Index multireddit subreddit lists by lowercase name.
    
    This prevents dupes with different capitalization.

commit 7b65747702d8ab3e347105ecf1c6f2bab9ca536d
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Apr 14 11:28:20 2013 -0400

    Add LabeledMulti routes for rising and randomrising.

commit 8c7bbb3ec4740df3f50941a5f16a6e7425247780
Author: Max Goodman <max@reddit.com>
Date:   Sat Apr 13 03:06:17 2013 -0700

    In multi subscribe bubbles, sort checked multis to the top.

commit 5829b50148e01cd90797e03264bdc5845f3bc9fa
Author: Max Goodman <max@reddit.com>
Date:   Fri Apr 12 16:44:03 2013 -0700

    Sort multi and subreddit names alphabetically.

commit 95c3d83d411ab130dced40cd68ca6c348be1eadf
Author: Max Goodman <max@reddit.com>
Date:   Fri Apr 12 15:52:24 2013 -0700

    Listen to correct event to update subscribe bubble when data loads.

commit bb5a6f11008b8e4fd99b283dc040640a53043940
Author: Max Goodman <max@reddit.com>
Date:   Fri Apr 12 14:41:07 2013 -0700

    bubble: Stop appending to parent element when hidden.
    
    This avoids unintentional styling of bubble content within the parent
    element when it is supposed to be hidden.

commit 490d981adce30c7c56fafb6eb2f24104d4580947
Author: Max Goodman <max@reddit.com>
Date:   Fri Apr 12 13:53:42 2013 -0700

    Allow a static domain to be specified for subreddit stylesheets.
    
    Since the S3 bucket we upload stylesheets to is not necessarily the same
    as the rest of the statics, it is useful to be able to specify this
    static domain separately.

commit 20132aa12322ae2ed61e07328930938b54a88176
Author: Max Goodman <max@reddit.com>
Date:   Wed Apr 10 20:24:58 2013 -0700

    Add comments/moderator/misc minor listings for LabeledMultis.
    
    Adds the following minor listings:
     * comments
     * gilded comments
     * moderator util listings
     * modlog
     * messages

commit 229ee6f7a3469ac227911c358fb3477a0fc6d784
Author: Max Goodman <max@reddit.com>
Date:   Wed Apr 10 20:16:10 2013 -0700

    Allow admins to view and edit multis not owned by them.

commit 68d247388fc7d866a67d9cf1f16e7aa0bebd3213
Author: Max Goodman <max@reddit.com>
Date:   Wed Apr 10 17:39:39 2013 -0700

    Only show the listing chooser on html pages.
    
    This fixes a listing chooser template error on non-html styles.

commit 46a44572334a08a3037c95608bc4ea6f9afa2114
Author: Max Goodman <max@reddit.com>
Date:   Wed Apr 10 17:12:57 2013 -0700

    Explicitly set errors in VJSON, with error codes.

commit 6779827936d0231fe36bc7b9b25d58e1eca6929c
Author: Max Goodman <max@reddit.com>
Date:   Wed Apr 10 17:12:26 2013 -0700

    Remove default RedditError code.
    
    This conflicts with the wiki's notion that error objects without codes
    set aren't fatal.

commit 269c3c392a646572ad3cc819371f9a03e33ff10e
Author: Max Goodman <max@reddit.com>
Date:   Mon Apr 8 23:34:59 2013 -0700

    Add simple URL-based multireddit title.

commit 19e6e4e7a10e8fb8743f67efee58d49da9985fd7
Author: Max Goodman <max@reddit.com>
Date:   Mon Apr 8 17:10:54 2013 -0700

    Fix creating multis for users with capitals in their name.

commit c7ffe74d0d8f153204dc99722206ab6238363efd
Author: Max Goodman <max@reddit.com>
Date:   Mon Apr 8 16:10:11 2013 -0700

    Clean up Subreddit _defaults whitespace.
    
    Doing this in a separate commit for clarity.

commit edbf16e9206053d1fa0c08e8c1370a1be3dda6c1
Author: Max Goodman <max@reddit.com>
Date:   Mon Apr 8 15:57:33 2013 -0700

    Add _defaults dict to BaseSite and fix the MRO.
    
    Making default values actual properties overrides the _defaults
    __getattr__ logic in Things. Also, I needed to fix the ordering of the
    parent classes so the Thing __getattr__ overrided the one in BaseSite.

commit fedb7edd10eba693eea5c9248b8b757f9a06ca8b
Author: Max Goodman <max@reddit.com>
Date:   Mon Apr 8 15:56:48 2013 -0700

    Add multi title property.

commit 1c91e4db7f828d3853976c455c3679eea2959849
Author: Max Goodman <max@reddit.com>
Date:   Mon Apr 8 15:23:31 2013 -0700

    Remove unused (?) default property.

commit b60e681514f3deec85d54f13ba937bae34703cdc
Author: Max Goodman <max@reddit.com>
Date:   Sun Apr 7 23:04:14 2013 -0700

    Show working indicator when refreshing listings.

commit c63921810520ee66a351bfbbd9bab0d526364c6b
Author: Max Goodman <max@reddit.com>
Date:   Sun Apr 7 22:54:50 2013 -0700

    Switch back to only returning listing in bare request.
    
    Including the extra behavior in content() means depending on the listing
    type we get different DOM structure, which makes replacing the content
    on the client side difficult. We probably don't want to change ad out
    with every multi update anyway.

commit 31a1e1435014854a9f855fd5bd60ba689a25bf79
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Apr 4 22:10:41 2013 -0400

    Update docstring for view_of.

commit 7934eca333677294a6cb44a1a1aba37ce13d6cea
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Apr 4 21:57:17 2013 -0400

    Use iteritems in add_srs.

commit 637e4b001c679061d356db00bf98ee9dd633c734
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Apr 4 21:56:37 2013 -0400

    Specify cassandra consistency levels for LabeledMulti.

commit c0ae5a45e758dcba040332a6ccb0a3763f79dafc
Author: Max Goodman <max@reddit.com>
Date:   Thu Apr 4 19:38:55 2013 -0700

    Add column validator for LabeledMulti date field.

commit 877bed49d682409d99eeaeb10e1ae8a1590d4101
Author: Max Goodman <max@reddit.com>
Date:   Thu Apr 4 18:51:18 2013 -0700

    Add missing emulateJSON setting.

commit dae0da7f2f95b473306aee459d1796d6032e83c4
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 02:15:29 2013 -0800

    Move front page "saved" tab to listing chooser.

commit 44632a67fdc0f502fdb7ce879b1949049167b6da
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 01:17:39 2013 -0800

    Add a list of multis created to the user page sidebar.

commit c28e756c42b9c7e5fce8faa46a783c048a2db786
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 14:50:50 2013 -0800

    Combine multi traffic into one name until stats system is smarter.

commit 6bc10248f5f8e485ff796165f11da15be8867250
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 00:26:12 2013 -0800

    Redirect /u/foo/m/bar to /user/foo/m/bar.

commit b4b8df9d401254fae9b6102ed374a0ae5953cfa5
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 01:49:59 2013 -0800

    Multi frontend: listings, sidebar, and editing UI.

commit c564d161596090c09a7631587e1b7fbe7eed75d2
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 8 16:48:23 2013 -0800

    Increase sprite distance to ease padding sprited elements.

commit 7cdee62f8e8ff2571bde3b14e7c8c26d5a7aac4f
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 01:55:39 2013 -0800

    Move multi / all info boxes above submit button.

commit 3f5b26bb488c19f291856d41f3f4c3289dc8f2cc
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 01:20:52 2013 -0800

    Check if url starts with subreddit path before adding.
    
    Fixes add_sr behavior for multi URLs.

commit 386e6dda398a80316e3dee1639f236b9967a3b4a
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 01:10:12 2013 -0800

    Add case to menu selected matching logic for multis.
    
    Since the multi name doesn't get stripped from the internal URL path
    like for subreddits, we need to check for them slightly differently.

commit 9613d65d6ec95d1bcc3223d77372ee54f553615d
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 8 22:45:51 2013 -0800

    Move subscribe button into own template / add sr name data attr.

commit a531bc76dfcee4d3efd51a94356c897d4f8799c2
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 8 23:01:41 2013 -0800

    Use $.Deferred to control working indicator display.

commit c6483246d72b027005fcbc7c9ac5c1f62870c6d1
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 8 22:58:09 2013 -0800

    Add "bare" request param for reloading listing content in-page.

commit 38802df7ff1ca71b86e3ca3c8858ac5b91ac8ae3
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 8 23:06:24 2013 -0800

    Move space compress defaulting into responsive() helper.
    
    This allows calls to responsive() without "space_compress" set to
    default to the global setting.

commit 2c4553fd24ccb053dcf07d53b2ecb402b3996975
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 22 00:35:31 2013 -0700

    Add utility for sending wrapped things in js_preload.

commit 90dc3e877b3248d2a84d1f24c48d23bb66e9cd5c
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 8 04:07:45 2013 -0800

    Make space for admin bar by adding body top margin.
    
    This may hopefully help interactions between absolutely positioned
    subreddit elements and the admin bar.

commit fc6724530b8de55b1d36be815f0414d953f39f86
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 01:36:55 2013 -0800

    RESTful API for multis.

commit 1d5b3d745125ca7d73fb428ade2124c6296cae0f
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 04:11:00 2013 -0800

    api docs: Filter overridden base parameters.

commit cbef2f3daefde8c0e047e0b3deafad609e89e624
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 00:07:21 2013 -0800

    Add support for PUT and DELETE requests.

commit b2b15a79b53833780c2761291df5049a32807740
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Mar 9 01:37:00 2013 -0800

    Subreddit by name validator.

commit 30c9134771bbf615255137a0640882070068bc1c
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 02:43:57 2013 -0800

    Tweak flair preference lookup to not break on multi ids.
    
    This method gets called in the cache key for wrapped things. The integer
    restriction breaks on multis, which have string ids.

commit 32c9b5ed8485f58df25a58d657105b87fcef762c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Mar 8 03:27:39 2013 -0800

    Add model for labeled multireddits.

commit 9b150c5dbbce2498f4a355351233165f81f6998c
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Mar 22 12:07:38 2013 -0400

    Add destroy_() method for tdb_cassadra.Thing for deleting rows.

commit 51ff5e6049370a4ec54a83923d32e48c0faa3fde
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Mar 22 12:09:47 2013 -0400

    Generalize view_of decorator for use on tdb_cassandra.Thing objects.

commit 4bdcf06ab20c4cb74eec0c5c0974bfca08360cdc
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 8 03:12:26 2013 -0800

    Refactor FakeSubreddit to not inherit from db-backed Subreddit.

commit 59d8c68e949aa7b84f408f27078860c98d577704
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 00:21:28 2013 -0800

    Add Cassandra thing _date property for use by JSON templates.
    
    Cassandra things name their date property "date", while tdb_sql things
    name it "_date". This property alias allows the existing JSON template
    code to access the timestamp without caring about what type of thing it
    is.

commit 0c42fa96c6680cd0e191d2204bbc35a598071c07
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 00:45:07 2013 -0800

    Do not override reddit_http_error explanation if provided.

commit c3e804ff13cba3b5e5eaa0ef4699ac2c59346fdc
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 00:44:52 2013 -0800

    Default RedditError status code to 400.
    
    When threading validator errors through to reddit_http_error, it is
    useful to be able to assume that status code is a valid number in all
    cases.

commit 6f26ba0ef56332990fab3c9339ac238cdf87c7b5
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 00:24:26 2013 -0800

    Accept modhashes sent in X-Modhash header.

commit 66c158bd5653e2b1f26a7ef39e0f00ad2fc90b6f
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 19 13:47:42 2013 -0700

    Handle beta cookies in the cookie classifier.

commit e1de4097f3afaf713d4a9ca24568971643f66097
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 19 14:55:37 2013 -0700

    Use full destination URLs in intermediate redirects.

commit 571f8f70f6350ff04eb94a8bda9f0511ca745b64
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 19 14:45:59 2013 -0700

    Use canonical URL for logout POST.

commit a3c8867525428af38ab54ad0474740ddbfdf8066
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 18 22:43:52 2013 -0700

    i18n: Extract messages from all installed plugins.
    
    This makes "make i18n" extract messages for translation from all
    installed plugins as well.

commit 928e51e886869a2bec0381826b4936fa44363653
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 18 22:26:32 2013 -0700

    i18n: Work around bug in babel's "extract_messages".

commit e408d2903d0cec5971a7b0401ad242db297de164
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 18 21:45:24 2013 -0700

    setup.py: Remove unnecessary babel commands.
    
    These are defined by default when babel is around. No need to
    specify them manually.

commit 48dfdfc3f36f3474ccd92896defd300b4285cc84
Author: Roger Ostrander <reostra@reddit.com>
Date:   Fri Jul 19 15:31:56 2013 -0700

    Domainban:  Stop depending on zookeeper

commit d0463930f42a0e2bfd041a48772011b852b39108
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jul 18 16:00:12 2013 -0600

    Full comments link: add comment count

commit c4fa6d3290766c0adbf6e94a49f503430fd40028
Author: Andre D <andre@andred.ca>
Date:   Mon Jul 1 15:51:56 2013 -0700

    by_id: Ignore missing Things.

commit 1c4ef53b4e4342d28a17845de4ebc2779c6d9289
Author: Andre D <andre@andred.ca>
Date:   Mon Jul 1 15:51:50 2013 -0700

    Thing: Allow by_fullname and by_id to ignore missing Things.

commit 9b037e0a8fbadc3c35274745890a69e65ec457dc
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 16 17:30:20 2013 -0400

    Stripe: more informative error message for unrecognized event types.

commit ab980f1ad345b26d1d1cc8c48e23f0c6c9179cda
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 16 17:29:54 2013 -0400

    Add stripe event type 'balance.available'.

commit 8673878bbee30f154f25de55501d1216ec59cb75
Author: Andre D <andre@andred.ca>
Date:   Fri Jul 5 16:21:54 2013 -0700

    moderation: Add missing modaction text for description field.

commit 53012785d99d9a26a9e24a0962c162213e7304e6
Author: Andre D <andre@andred.ca>
Date:   Fri Jul 5 18:03:05 2013 -0700

    messages: Fix dest username leak on deleted users.

commit 8c4732418dbe09e06f3fb0f7c911fd16386d7944
Author: Andre D <andre@andred.ca>
Date:   Mon Jul 8 12:04:18 2013 -0700

    subreddits/mine: Show moderation permissions in json.

commit 31dbc3c4012622bf13ce7ff0e752a50e871b1d4b
Author: Andre D <andre@andred.ca>
Date:   Tue Jul 9 10:07:41 2013 -0700

    modlog: Allow filtering by multiple moderators via url.

commit 9fc32970918ffb710933993fe5d4d7fb0d8cc0f9
Author: Andrew Shu <talklittle@gmail.com>
Date:   Wed Jul 17 13:21:23 2013 -0400

    random special subreddits: retain querystring in redirect

commit 3996eb185e711cce7891992ad6e237bed9075dd7
Author: Andre D <andre@andred.ca>
Date:   Wed Jul 17 11:57:39 2013 -0700

    wiki: Only show infobar once.

commit 9fc49316253bb445fd037e1bc03b65cb60fd2455
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed Jul 3 18:48:01 2013 -0700

    cloudsearch: Removed obsolete desired_things function.

commit 281b434f14c9225a22fde5f413d896f18a3ee7d0
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed Jul 3 14:52:33 2013 -0700

    cloudsearch: Resolve things lower in the stack.
    
    This allows us to use the safe_get function which is very helpful should there
    be database corruption. *cough*whoops*cough*

commit eb919c2933477e776cf8e5b3a3470abbd9cc04da
Author: Max Goodman <max@reddit.com>
Date:   Thu Jul 18 15:32:10 2013 -0700

    Remove update notice from footer privacy policy link.

commit 26e4f2c6ff3e3e677309c1a72fb9efdb8647a42e
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Jul 22 13:31:33 2013 -0700

    thing: Catch KeyErrors in _by_fullname.
    
    A key error will happen if the thing type is invalid.

commit 111459785dc6208ddf3f8540aabeca0e654e3b29
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Jul 18 12:05:55 2013 -0700

    Allow a maximum of 50 pending mod invites.

commit 0572c2e62f576c5282ceb3163e4c184d1ee0460c
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jul 18 14:15:13 2013 -0600

    gold remaining: always show days

commit 48365cccf600a95ff9282ea2ab1e2ecec54bc5d0
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jul 15 13:58:17 2013 -0700

    redditfooter: Fix domain comparison for "Powered by reddit" logo.
    
    "myreddit.com" would incorrectly have not shown the license-required
    banner.

commit c6fd29978813b5ec98b621a211df5b2ec88055c3
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jul 7 12:09:30 2013 -0700

    POST_expando: gracefully fail when called on link with no child.
    
    Previously if POST_expando was called on a link that has no link_child
    (i.e. no selftext or media object to show in the expando) it would cause
    an exception.
    
    This catches the bad case early and aborts with a 404.

commit 8b69aa163567fa868b09700e4fa1c475ee8f2e44
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Jul 18 12:14:46 2013 -0700

    scraper: log.warn -> log.warning
    
    log.warn was an unsupported alias

commit 342ae0d7ca1006a6c2b908bbb02bd5712f544f80
Author: Andre D <andre@andred.ca>
Date:   Tue Jul 16 18:41:29 2013 -0700

    srsettings: Expose public_traffic setting via json.

commit fcd89dc007a5a73db900ed7d11a39ac0ce44207c
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jul 16 15:54:30 2013 -0700

    cloudsearch: Decorate cloudsearch_q with stats.

commit 833b717dd5c83c346bcf8d8320f37763196476ba
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jul 16 14:56:44 2013 -0700

    cloudsearch: Send stats on cloudsearch adds/deletes.

commit cfd5acf7aa7abbe0e9d942a4dc3f634d66b588ce
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jul 17 14:37:10 2013 -0600

    FakeTrophy: add trophy_url

commit e70813aba79003b85ea1984b7f84dcf365d03b2e
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jul 16 16:05:46 2013 -0700

    Revert "Added check for UTF-8 to make sure postgres creates db"
    
    This reverts commit d841be78be91eaccb2ca3b553298161fb849a5c5.

commit 5430a4c4ead4ef26ee027d970578927932b7f99a
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Sat Jan 7 18:24:37 2012 -0800

    Add option to make subreddit traffic stats page public

commit 692f0c12d734f617b3f0963928fc281ee07f07d1
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 13 12:48:35 2013 -0600

    New comment highlighting: switch to a dropdown

commit 6f82b27ec8109112086deea8e0815df4dfb0c049
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 16 03:54:49 2013 -0400

    New stripe event type 'customer.card.created'.

commit d48e260b3d229678358f939b59e694d93d577401
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jul 4 00:01:09 2013 -0600

    configparser: Replace days with timeinterval

commit 840ab37de317c086cf1bdc5b2f3da511783e3c0d
Author: Kruithne <kruithne@gmail.com>
Date:   Mon Jul 15 18:11:07 2013 +0100

    Corrected typographical error.
    
    Corrected a minor typographical error with the API comments for the delete_sr_img POST function.

commit 1e9c2521c18cc249bec42d1fef164b475a9f59d4
Author: Tristanx <tristt@live.com>
Date:   Sat Jun 22 13:43:25 2013 +1000

    Update title attr when editing flair text.

commit c8981259a6e0fb78346b81adcaab2b33f6d88c0b
Author: wal-f <wal-f@github.fake>
Date:   Tue Jun 11 21:49:02 2013 +0930

    compact: Fix gecko support for buttons.

commit 8e7f30d46d3915b57faede6ae36341cf22bb7cc4
Author: lebeauc <lebeauc@gmail.com>
Date:   Wed Jun 5 20:34:34 2013 -0300

    Add ts3server as a valid link scheme
    
    We already have Mumble, so why not TS3? :)

commit be37def4dca76b55792344088d9f1352aa8efa62
Author: max <max@v131.(none)>
Date:   Fri May 31 02:04:23 2013 +0500

    Fix misused import in front.py.

commit 9d66b9442a1ae1558f06e89f983074bb12552fde
Author: Andre D <andre@andred.ca>
Date:   Wed May 15 08:39:13 2013 -0700

    register.compact: Add css for username availability.

commit 44d0d809f7574bc8c91bd4a4c1c02ffd85fda97a
Author: /u/rolmos <rolmos@ureddit.com>
Date:   Mon Jul 15 13:42:44 2013 -0700

    Remove space from words "up vote" and "down vote".

commit 071986e0c7bab07f1c39d37335aa70875e0940c4
Author: Dominoed <Brandon.Postlethwait311@gmail.com>
Date:   Wed May 8 22:13:15 2013 -0300

    Set my subreddits menu cursor to pointer cursor.

commit d841be78be91eaccb2ca3b553298161fb849a5c5
Author: Chris Lexmond <chris@chrislexmond.com>
Date:   Thu Apr 25 21:25:09 2013 -0400

    Added check for UTF-8 to make sure postgres creates db

commit 83d27251c24cb22c4deb8fe42e7ef5ad19d12f0f
Author: Chris Lexmond <chris@chrislexmond.com>
Date:   Thu Apr 25 21:02:11 2013 -0400

    Added an additional apt-get to ensure repo records for dependencies are present

commit 1dd485f0ce2b1f950f40e48e69c7668f1f567f58
Author: Pavel <me@xpaw.ru>
Date:   Sun Apr 14 13:53:14 2013 +0300

    Add pointer cursor to buttons

commit b3c5ec23b780715bf62369171fb855eaa546653b
Author: David Hu <davidjhu@gmail.com>
Date:   Fri Apr 5 16:15:46 2013 -0700

    Add endpoint to determine if CAPTCHAs will be reqiured.

commit 5e0d6a388447aa2dd84e89d265b4d6fbca5146ad
Author: Hilal Alsibai <xiphirx@gmail.com>
Date:   Tue Apr 2 22:38:37 2013 -0700

    Automatically select image type on upload

commit 5f28c1d60935f73b3c07f5895bb405e49ef2ff21
Author: frdmn <j@frd.mn>
Date:   Mon Jul 15 16:43:22 2013 -0700

    /gold/about: Fixed missing whitespace.

commit e2bd1f668f3659f272515a90ae24e1d9de2aa1c1
Author: Jacob <pheartheceal@gmail.com>
Date:   Tue Feb 19 23:02:28 2013 -0800

    Make recently viewed links flair look like normal link flair

commit 6417f23a0c08c5e407d89e5b0bf05ae7daceda01
Author: aperson <nosrepa@gmail.com>
Date:   Tue Feb 19 17:41:25 2013 -0600

    wiki: Set .toc to have a max-width of 300px;

commit 8aed93b558daf1e4411e9067f2312a8a22a87130
Author: Andre D <andre@andred.ca>
Date:   Thu Mar 7 16:02:39 2013 -0500

    wiki: Replace inner_content nonsense.

commit bfba7ba69ad6315a9e0f50b0edda89ba51a0afef
Author: Joe Alcorn <me@buttscicl.es>
Date:   Mon Feb 4 22:12:18 2013 +0000

    Prevent likes, dislikes and unvoted scores being shown in the widget at the same time

commit 3bfe0a2513495f8e667f60ca3efce03f97990e51
Author: Ricky Ramirez <rram@reddit.com>
Date:   Fri Jul 12 14:45:54 2013 -0700

    reddit_base: Also grab dev AppEngine UAs.
    
    "dev~" is sent when the AppEngine SDK is run on a local machine for
    development purposes.

commit 4eb3336f7b58bb255c7167b46fee5f8a900d5d44
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Jul 11 18:38:05 2013 -0700

    reddit_base: Make appengine regex deal with custom User-Agents.
    
    Previously, the AppEngine UA was forced. Now it is only force appended.
    https://developers.google.com/appengine/docs/python/urlfetch/?hl=en

commit 8f4ced9e740af12890824e6367614705d4f9724f
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jul 2 11:45:15 2013 -0600

    gold partners: Updates and additions
    
    Add Bart's Bakery, iFixit, Outgrow.me, redditgifts, and Uber
    Various copy/logo updates

commit 7b98726dca2c16a079d384c59435df567221563e
Author: David King <dking@ketralnis.com>
Date:   Mon Feb 11 23:19:38 2013 -0800

    Missed commits from the recommender skeleton pull request.

commit a933fa2195b3dc24b8329eee43f9052731ebffd3
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sun Jul 7 19:44:24 2013 -0600

    Gold partners: add giveaway rules/terms

commit 9149c94461838014046b64b5c21c2e7fcfbcb8d4
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jul 9 10:50:31 2013 -0600

    gold welcome message: Add /r/goldbenefits link

commit cd83995d4cce7f665ad68c392fd031f2f316c560
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 8 17:48:08 2013 -0600

    send_system_message: allow defining other options

commit c49a1c399e408bb0492dcf995ce9313ee2fdd394
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Tue Jul 9 01:24:32 2013 -0400

    Don't show subreddits a user can't view in saved links listing.

commit eea87be65dc1e7fa35f7f1b03a26fdb76b460f0e
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Jul 9 11:02:48 2013 -0700

    Moderators:  Check spam status for demote / permission change

commit 14c4b0177b5f8221006f52e6e5a18b762d292ae9
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jun 24 11:13:17 2013 -0700

    gold partners: fix missing buttons

commit ff55992ee47cef92919fb6b902bb93a2e329e8c3
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sun Jul 7 11:48:02 2013 -0600

    Mod invite: Ensure that user is an unlimited mod
    
    This was previously being enforced in the frontend but not the API.

commit fdb67396242c79cf407a9975a20cbb6a2f8cdf3d
Author: David King <dking@ketralnis.com>
Date:   Mon Feb 11 22:54:51 2013 -0800

    Add models and skeleton for recommender

commit d1be71d8b61a2878297aa31050ed68508681bf4a
Author: David King <dking@ketralnis.com>
Date:   Mon Feb 11 21:12:57 2013 -0800

    Remove trailing whitespace.

commit bd8f72400e71474a6a8d01f740d0d343e40bbb59
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jul 2 13:20:05 2013 -0600

    Add 'post-' prefix to body linkflair classes

commit cecbe7c5e6ce0dffe0251b4ca627d4a506088eb7
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jul 1 19:16:49 2013 -0700

    log_q: Add SystemExit to the ignore list.
    
    This is what will happen if gunicorn receives a SIGTERM (indicating
    non-graceful worker shutdown -- likely because the worker has overstayed
    its welcome) and so it's not actually useful information.

commit b70f9608e2160cbc24fe16c0fa092cccf5d49b98
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jul 1 13:28:40 2013 -0700

    subreddit traffic: Link to subreddit search by time period.
    
    Traffic spikes on the subreddit traffic pages are currently very opaque.
    There's no simple way to determine what could have caused a big change.
    
    This makes the date/time column of subreddit traffic tables link to
    timestamp-limited subreddit search for that subreddit.  While this
    doesn't cover external referrers etc. it should give some insight into
    traffic.

commit 23704c836270fae2304e4d23be5ab15d60defa18
Author: Andre D <andre@andred.ca>
Date:   Fri Jun 28 12:40:08 2013 -0700

    modaction: Add filter by admins.

commit 0202ad2036d631496fc3d86dff33b97d412828c6
Author: Andre D <andre@andred.ca>
Date:   Fri Jun 28 12:39:49 2013 -0700

    modaction: Allow querying by multiple moderators.

commit e4f7d4e1fec775cb9e222170de19396c93fd0b91
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jul 1 10:14:58 2013 -0600

    Add linkflair classes to body
    
    This will allow styling comments pages differently depending on the
    linkflair of the submission.

commit b6c457aa136ba38274cabaedf42caa5875199acb
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jun 26 15:28:52 2013 -0700

    Make it possible to hide subscribers on arbitrary subreddits.
    
    This is a generalization of existing code for /r/lounge intended to
    allow similar hiding for /r/elves.

commit 92c550879940b2105ebe318f800ff4ae06d2682a
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Jun 25 11:38:29 2013 -0700

    Domain ban:  Use new form of is_banned_domain

commit b9ddfde0bc02ebd9a3680bf1a431dfed66a30419
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 20 21:12:19 2013 -0600

    gold partners: don't show "buy gold" buttons
    
    There is already a large button at both the top and bottom of the list,
    there's no need to have one for every individual item as well.

commit dded82336416591a1dfbb1d9de4bbfe63d641e3d
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 20 21:10:21 2013 -0600

    gold partners: fix Goldbely button

commit c09326bd299ca63b13975edc1eb8c15028f4e236
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 20 15:10:11 2013 -0700

    gold page: sparklepants positioning tweak.

commit b5f54defd7c82671b6512f2b5dacde6a247dc65a
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 20 14:22:04 2013 -0700

    gold page: sparklepants.

commit ac289b21bd3788091c3a4109043157c24f1b768c
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 20 13:27:24 2013 -0600

    gold pages: Tweak image sizes to be consistent.

commit 5e5690e0d76091d7d9e2a25f669a8cf4237cc87b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 20 11:30:31 2013 -0600

    gold partners: add Betabrand

commit da1d933958db8737996c37c2ff6b5d497a3b3cc9
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Jun 14 15:25:57 2013 -0600

    gold partners: link logos to sites

commit df321bcb0e7a4438c1d56458a6b14f46c4709bf8
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 20 13:46:22 2013 -0700

    gold page: Remove unneeded gold header offset.

commit 6d9b19f92490a98281be80e95e677c49494516a4
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 19 17:15:07 2013 -0700

    gold page: Partners and Yishan letter update.

commit c06704419408f61c717f10d07f3d95ee67de610a
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 19 14:18:26 2013 -0700

    gold partners: Use "last" class to remove spurious separator.

commit ae8a100d98440ee5ddcf644bccd3db023523bc53
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed Jun 19 16:45:31 2013 -0700

    Send notification when a user's email is changed.

commit 592e6d34cc2001a626397666e7a35c5cfd775c6e
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jun 18 23:28:53 2013 -0700

    api: Send notifications of password changes.

commit 14b95b843f72695c577a3d3319be876a31c6e58c
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jun 18 23:17:13 2013 -0700

    Add methods to send a password change notification.

commit ce2cd86bdf6be01fe2ed31ae988f54de7f710a6d
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jun 18 23:02:27 2013 -0700

    mail_queue: Remove extraneous imports.

commit 4256f3b221699bc38f34ee9b4790c460f10d4373
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jun 18 22:58:02 2013 -0700

    mail_queue: Remove extraneous whitespace.

commit 13177e72f2d2a5fba346e4cf3da75175a91b8f9e
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jun 18 16:13:08 2013 -0700

    emailer: Remove extraneous whitespace.

commit a1b1bc81ad80dd8ab0ace5f6bf56ea0b0f13f5c3
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jun 18 16:11:42 2013 -0700

    emailer: Remove extraneous imports.

commit 3b93eb3e274834b7cc588372974d9bd998a97bdc
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jun 18 16:33:45 2013 -0700

    front: Remove duplicate import.
    
    has_opted_out is defined in mail_queue, but is also exported from
    models/__init__.py

commit 48f36d28dd4c7d758f21db91336d8c48e32f1e3f
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jun 18 16:31:10 2013 -0700

    token: Protect against null tokens.

commit 26f2dd6de3c108f97b05ca243704b52c2bc5df49
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jun 19 14:13:04 2013 -0700

    amqp: Make it possible to add application headers to messages.
    
    Useful for carrying extra information out-of-band from the content.

commit 713a8ee11256353f0262077b00bffe5290affc9f
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 10 15:39:49 2013 -0700

    Shard commentstree_q processing by Link ID.
    
    This should better isolate large threads and increase batch
    effectiveness.

commit bcea327b51b652fc41f41084d8991f9bdb59bd94
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jun 12 22:47:02 2013 -0700

    manage-consumers: Allow for subtyped consumers.
    
    This is immediately useful for commentstree_q but may also help if we
    move vote_q procs onto a single box.

commit a27c63c12a31bdc07ef781808fe27548a122f11c
Author: Andre D <andre@andred.ca>
Date:   Mon Jun 17 12:24:25 2013 -0700

    payments: Add an amount field to the stripe payment form.

commit 5f3d7c0d4beb0577e7f8cf2359455933a847d715
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sun Jun 16 19:35:27 2013 -0600

    Pre-fill reply box with quoted selected text
    
    When "reply" is clicked, any text that the user has selected will be
    pre-filled into the reply box, inside a blockquote. Allows a user to
    select the text they're planning to reply to before clicking reply,
    instead of needing to select, copy, paste, and add in "> " chars for
    each line that they're quoting.

commit 54a40d4b2f70f36d8ecb47b04a2021f306571d96
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 13 14:24:21 2013 -0600

    Add approval checkmark to comments as well

commit 8d204621151a0e59b1095f443204dcd61a78e533
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jun 13 16:28:22 2013 -0600

    Add 'other discussions' tab for self-posts
    
    Shows submissions linking to the self-post

commit 61a1c77f1c1abb92d5a3bf44fbd43f5d01bb0983
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jun 18 16:59:22 2013 -0700

    Remove mailmap.

commit 2b627b5cb27d60f4c4ac3b1da619c31ed8745b12
Author: Andre D <andre@andred.ca>
Date:   Mon Jun 17 20:09:48 2013 -0700

    wiki: Ensure wiki_edit_age is forwarded in the Frontpage.
    
    The Frontpage was getting a min edit age from the defaults set as it was not forwarded from _base.

commit 6319051d8a322f35f8ab5b01f5884b9d201c24f4
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 17 14:52:42 2013 -0700

    Send timings for previous_visits to graphite.
    
    The log statement only gives us the bad cases. This should give us a
    fuller picture.

commit f6bc67018de4369756da1a17bf4947f130c9d639
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jun 16 19:38:37 2013 -0700

    memoize: Stop dual-writing to old cache pool.

commit 501ea33f0f4b137b4c5449636f96378087cb50ce
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jun 16 19:35:57 2013 -0700

    memoize: Start reading from new memoize cache pool.

commit b5c57aa7ed80f928b8ac0e087ec22ec4a362f849
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jun 16 19:34:10 2013 -0700

    Add new dedicated memoize cache pool and start dual-writing.
    
    Memoize creates very large objects that take up lots of space
    and has weird behaviour when it gets evicted. We get some isolation
    and monitoring by moving it to its own pool. Since it is sensitive
    to split-brain stuff, we start out here by dual-writing to the new
    pool.

commit 2265908f20d80062617deafffbf039cb9b3bcab7
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jun 12 17:07:04 2013 -0700

    upload_static_files_to_s3: Don't list the whole bucket to find changes.
    
    The static files S3 bucket has been getting a lot larger recently,
    between subreddit stylesheets being in there and the static file cleaner
    being disabled due to a bug. This is causing the deploy process to take
    upwards of 3 minutes just to determine that no files need to be uploaded
    to the bucket.
    
    As a short-term workaround, this changes the uploader to check each key
    individually with an S3 HEAD request rather than listing the whole
    bucket. This is slower than best case of listing the bucket, but is
    significantly faster than the current condition (~25 second runtime
    now).

commit e01ed5d9573196644a1d28d69fc0ab883fffcbea
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jun 12 21:15:42 2013 -0600

    Enable comment-highlighting and butler by default

commit 31321e7cf114f0e887cc1dd6f60b8c83a28ffab7
Author: Andre D <andre@andred.ca>
Date:   Thu Jun 6 16:46:57 2013 -0700

    approval: Add timesince to approval title text.

commit 45b5e7a0014ea9f72da53048b89b8f6b355dfa04
Author: Josh <josh@reddit.com>
Date:   Wed May 1 15:41:18 2013 -0700

    Removed unused css and image

commit 73c6e4542ff229a03509054b7271111583e3a4e7
Author: Josh <josh@reddit.com>
Date:   Wed May 1 14:25:26 2013 -0700

    Feedback page: new arrow and margins
    
    It is now slightly less hideous

commit c7f918754e5106de62fd0af735b793ef797712f0
Author: David Hu <davidjhu@gmail.com>
Date:   Mon May 6 12:39:48 2013 -0700

    Fix discussion page's "limit", "after", "reverse", "count" params.

commit 952e300c74bf6f6aedb41d2db2e4c0180aef121b
Author: Andre D <andre@andred.ca>
Date:   Mon May 13 14:09:54 2013 -0700

    wiki: Add a view source button.

commit 21bf80fca52f7c7c91158ae59c72ada76076b7c9
Author: Andre D <andre@andred.ca>
Date:   Fri Feb 22 13:56:57 2013 -0500

    wiki: Ignore can_submit on the frontpage.

commit 0bb4605a533dcb8c3a232200cdfdba191a7847a9
Author: Andre D <andre@andred.ca>
Date:   Fri Feb 22 13:23:15 2013 -0500

    wiki: Use global karma for frontpage wiki.

commit 6da0017152bfdc458f398b1c118c19ec698007a5
Author: Andre D <andre@andred.ca>
Date:   Wed Jun 12 10:06:00 2013 -0700

    api_docs: Improve captcha docs.

commit 5fb5400243208a3835a0b5804b5fd1fd076d9647
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 11:44:59 2013 -0700

    api_docs: Add /captcha to api docs.

commit ec223944a27bc06ac25e7c1e2b9d2a0b9d349c76
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 11:44:44 2013 -0700

    api_docs: Move new_captcha to captcha section.

commit b6f6d0432382a205eab469cf1e61c50868f614a5
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 11:44:26 2013 -0700

    api_docs: Add a captcha section.

commit eacba0fc39bb7cca44d02e0cc3953a99e772826e
Author: Andre D <andre@andred.ca>
Date:   Tue May 21 03:53:37 2013 -0700

    wiki: Add uri variants for alloweditor.

commit 32b7464a371428c76e9d45a5c3e62c974a510c10
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 18:56:59 2013 -0700

    wiki: Correct parameter highlighting in alloweditor docs.

commit a2064a0a15cff7f22cc863862b0f2c060ce71e8e
Author: Andre D <andre@andred.ca>
Date:   Mon Mar 11 18:52:04 2013 -0400

    wiki: Do revision WikiPage lookups in batch.

commit caf186e7bb1a3bb8f574b661163333bb84dd16fe
Author: Andre D <andre@andred.ca>
Date:   Mon Mar 11 18:22:03 2013 -0400

    wiki: Verify that a user may view a revision on a revision listing.

commit e7d91bda366123e2eeef76214d3c82cc05e9c870
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jun 12 16:36:47 2013 -0400

    Add link note for banned domains.

commit 47afb5178d1b8a1e69515f73c86bfc0d698ca79b
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jun 12 17:01:31 2013 -0400

    Don't allow shame banned domains for promoted links.

commit 0d92e51108a50b4cb4c42426d1560212e597c682
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jun 12 17:53:32 2013 -0400

    is_shamed_domain: remove ip argument.

commit b2d5689267d27adac312f00f06be59dfd8e4648e
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jun 12 17:52:43 2013 -0400

    is_banned_domain: remove ip argument.

commit 21fb8f84be99d30fa1700746d9d5931a8774c1f0
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 30 18:31:12 2013 -0700

    Temporary bandaid for top bar breaking various subreddits.
    
    sr_pops has put certain subreddits into the top subreddit list multiple
    times. This causes there to be multiple buttons in the srbar. The sort
    logic in NavMenu.find_selected short circuited when the lists were of
    length 1, but now that they aren't it's dying rightfully on this
    attribute not existing on SubredditButton. This is a temporary patch to
    help until the sr_pops issue is fixed.

commit 5e5b5356072584b46a46250579e532fff5ffc1d5
Author: Andre D <andre@andred.ca>
Date:   Mon Jun 3 12:34:15 2013 -0700

    traffic: Do not crash if no data is available.

commit 401c597c96dbcaa5ec4a6a8a93d6ad6075602d80
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jun 3 15:28:50 2013 -0400

    Gate /promote/report by VSponsorAdminOrAdminSecret.

commit 65431d18aeb8dad6a450a74ab23deb7b92a743ad
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jun 3 15:28:17 2013 -0400

    Add VSponsorAdminOrAdminSecret validator.

commit 80b5a9256ed095d67261b34880a06c167c2b1cce
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jun 3 14:30:50 2013 -0400

    PromoteReport can query by owner.

commit 9329960f4b77802f016b83f341fa04b0e5b1f1ca
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jun 11 15:52:11 2013 -0400

    PromoteReport uses id36s rather than fullnames.

commit 121d9478241551c9a9cafbea8a3fbd421e2b7033
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sun Jun 9 21:18:28 2013 -0600

    Add gold-restricted subreddits
    
    Viewable by anyone, but only gold members can submit or comment.
    
    Can only be set by admins.

commit 5246a66017c7cbe7e8eb05b11b0d6fdc2d753ee6
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Jun 4 12:25:49 2013 -0600

    Add new gold partners
    
    Empire Mayo, Goldbely, Uniqlo, Urbilis

commit c1ab3c827a671f236daff4956c4d0c76ebf54702
Author: Andre D <andre@andred.ca>
Date:   Mon Jun 10 07:40:27 2013 -0700

    banning: Ensure reason note field actually gets loaded.

commit 1531c8e9b8640751dda2d8f37e35c9618d467ea2
Author: Andre D <andre@andred.ca>
Date:   Mon Jun 10 07:40:13 2013 -0700

    userrel: Add a **kw to by_thing _query().

commit ff46a47e3dfce1d6b61ffc432c947c8127eb05fa
Author: Andre D <andre@andred.ca>
Date:   Mon Jun 10 09:11:20 2013 -0700

    jsonp: Ensure jsonp responds with application/javascript.

commit ccea2e65881ea4c8105feed2ce17a56404b27dbf
Author: Andre D <andre@andred.ca>
Date:   Wed Jun 5 09:40:06 2013 -0700

    markdown: Use explicit renderer names.

commit 94daebd746aa657a7836ac759f42753891f2c572
Author: Andre D <andre@andred.ca>
Date:   Tue May 28 13:30:21 2013 -0700

    wiki: Add wiki renderers.

commit 003fcf89433b6556e97bb4240e0de6cb4552a456
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jun 11 14:15:27 2013 -0700

    reddit_base: Stricter User Agent ratelimiting.
    
    This stops ratelimit checking after the first hit so that more specific
    matches won't get extra ratelimiting from a more generic match.

commit 99fb82d15b0c98dc493d27e9aa6f23876d63d443
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jun 11 10:26:24 2013 -0400

    Don't prefill user email in share link form.

commit 22711f6688e49db1ac22a0622d7e935e09a3878b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jun 3 17:17:13 2013 -0600

    Add ids to gold page sections for direct-linking

commit 7c03dc8e622643ac1b23e4790c0e29bb8f2ffdf5
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu May 30 21:49:19 2013 -0400

    GoldException not GoldError.

commit f4a595478b4e62ebf92116ed31c6fc2c12bd2f8a
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Apr 21 18:59:43 2013 -0400

    Make jobflows visible to all users.

commit 5b1f118e777e385b6c4ba5c85703ee096999ef23
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jun 5 14:42:16 2013 -0400

    Don't show user flair on promoted links.

commit 5c02cbdce823fdd3098fc40fbf88e4d4a43bcf68
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu May 30 07:13:57 2013 -0700

    PromoteReport: specify locale in format_currency.

commit c71163997abccd891e8c5b2fda57793f55ced107
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed May 22 22:15:37 2013 -0400

    Cleanup extension_handling variable in _edit_normal_reddit.

commit 4dcb6a9f85db1071c46a1295068bb3ed67f8d730
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed May 22 22:12:06 2013 -0400

    Add extension_handling for GET_spamlisting.

commit 1fe74b4c36e44c30f7c19cc13355f5150b1a3a5f
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 31 20:40:16 2013 -0700

    Get a fresh sys.path when loading plugins.
    
    This means that we don't need to kill the WSGI server master process to
    load new plugins anymore.

commit 3276e408b4a4aa1f21de223bc9ba8d329ffa6fc7
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 24 23:28:40 2013 -0700

    Plugins: Make it possible to add errors to the error list.

commit e063743c4bae7fc6fbc4ff88a6ac56df8d54d8a2
Author: Neil Williams <neil@reddit.com>
Date:   Mon May 20 13:51:31 2013 -0700

    Make LESS stylesheets media="all".
    
    This allows us to put queries like "@media print" in the less files and
    have browsers accept it.

commit a96643dde9fcd9c1a46f40c91863c7dddb0540ba
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 3 14:33:06 2013 -0700

    Add SECURITY.md.
    
    Inspired by Adam Baldwin's JSConf 2013 "Builders and Breakers" talk.
    http://blog.liftsecurity.io/post/52010883123/security-md

commit 835e7dc46a875aadf93f83345ce970735e5ede40
Author: Andre D <andre@andred.ca>
Date:   Wed May 29 14:33:49 2013 -0700

    banning: Bulk load banned relations.

commit ab906360698fa31b7b96425a85be6b2d73c05a8f
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu May 23 18:47:05 2013 -0700

    Use decorator to close sqlalchemy session

commit c9cb8af45509c3d3b932b40997d121fb96f2506f
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue May 28 11:16:32 2013 -0700

    Make gold partner code read-only

commit 00cd02b5338f752798f12133a52da6ba9ece4513
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu May 30 11:09:58 2013 -0700

    Fix wiki anchors still referring to "reddits"

commit 50b5d4a55160b5359a0f76d56edbea222b91d0bb
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon May 13 18:35:08 2013 -0400

    Refactor get_scheduled and make_daily_promotions.
    
    Don't assemble bysr dict until needed and operate on adweights.

commit 6076d48f70286549bdfd496a7b72a1899fb31690
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon May 13 17:59:15 2013 -0400

    make_daily_promotions: Detect all links that need to be promoted.

commit 3ec750698de6b918687ac8a95d660195bccabf0e
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu May 23 16:19:07 2013 -0700

    Add reddit gold partners

commit b8f0d49f4876775cd9c6f6508040d0c12ad63ee5
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 12:14:07 2013 -0700

    listing: odd/even class should happen after keep_fn.

commit 399f0c691d8b82f1564236814cbc00879262e1c1
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu May 23 11:11:02 2013 -0400

    Disable google wallet payments for comment gilding.
    
    Comment gilding should be instant, google wallet takes up to an
    hour to process.

commit ae2b646e28720089ba08c5633029ebdc215bd7d2
Author: Max Goodman <max@reddit.com>
Date:   Mon May 20 00:29:43 2013 -0700

    Add gold-specific sidebar message.

commit 757ee7e0f71a8fa303249cbcb76c22bfb036f2c7
Author: Max Goodman <max@reddit.com>
Date:   Wed May 22 03:23:46 2013 -0700

    Nudge the comment gilded icon down 1px to avoid overflow.

commit dec9fb7fc725912c0b040fbc72a000d4c3aa6737
Author: Andre D <andre@andred.ca>
Date:   Tue May 21 01:13:08 2013 -0700

    banning: Clean up form after adding.

commit 03c5b6a37d0c027460c7085f2e981aece398f869
Author: Andre D <andre@andred.ca>
Date:   Tue May 21 00:07:04 2013 -0700

    reddit: Add note to banning and friend json.

commit bd8fe10405c38c99cca24c63d17ed32c16f21463
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 23:35:24 2013 -0700

    banning: Ensure TOO_LONG is actually validated for note.

commit b6607196a6bdfa42d201e7fbc204c19f78de57ae
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 23:33:25 2013 -0700

    banning: Add the ability to set a note at ban time.

commit 3d447c9d1892966f9048501eb74b569e72d08347
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 22:57:52 2013 -0700

    reddit: Add missing length check on friend and banning note fields.

commit 7c3ebceb55aca97d92350a8f16f4f9cc26281b87
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 22:37:08 2013 -0700

    banning: Correct css on ban note.

commit f86d53169872af55c3c9e1ae20e4ea96261e00a2
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 22:36:55 2013 -0700

    banning: Make banned list display note.

commit 1e1435be14514be461a4e83d17f56080232bc589
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 22:35:49 2013 -0700

    banning: Add an endpoint to add a note to banned users.

commit 163f206722ebc705bfa5511ddb08c7c7267eff91
Author: Andre D <andre@andred.ca>
Date:   Mon May 20 22:34:51 2013 -0700

    usertable: Make note generic based on type.

commit 4c120e9449d9e5eea77f13ed7bffa7d250630f6b
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon May 20 12:23:15 2013 -0700

    Distinguish all admin-authored messages.

commit 726924067c2e0b2825ed3eb48030217ba644cb97
Author: Neil Williams <neil@reddit.com>
Date:   Tue May 21 15:02:21 2013 -0700

    butler: Don't send notifications if you're just spamming.

commit 127862df8a464a0550aa8dbe0158eb1dbbb56a3a
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Mar 21 16:07:50 2013 -0400

    Pass all promoted links through builder for filtering.

commit b658ce4e14261630371d780b5c66c928e22b603c
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Mar 21 15:56:27 2013 -0400

    Don't show over18 ads to people that don't want to see them.

commit e057278960e007ebed4e9f682410502944e46f19
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 10 19:29:48 2013 -0700

    Gold Feature: "The Butler". Username monitoring in comments.
    
    This is a new feature available only to Gold members. It defaults to on,
    but may be turned off in preferences. When a username is mentioned on
    the site in the /u/username format, and some conditions apply, the user
    is notified by an orangered and a new type of item in the inbox. There
    are several cases where notifications won't occur to reduce noise, see
    butler.py for details.

commit a66101f517ae27c24c97845c592c6aa6ad7f94a9
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 15 01:33:16 2013 -0700

    Use inbox rels to determine if a thing is valid cause for blocking.
    
    This way we don't have to duplicate the logic that made the inbox rels
    get created in the first place, but rather can just see if they do
    exist.

commit bf235052a7b6c5fae5af95179a397670b7111790
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 17 12:22:52 2013 -0700

    Morris-Ganis
    
    This reverts commit b1b506426f80df5a96b181fcc0274ab53b40ab21.

commit 8c2b48e8ccd73431cad6cd4e43a4dfe354a02346
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Nov 8 00:27:24 2011 -0800

    Hide author of deleted posts in user page comment listings.

commit 2c250c1074d432d4b89ca342fb3381640855460a
Author: Ricky Ramirez <rram@reddit.com>
Date:   Fri May 10 12:49:59 2013 -0700

    ratelimit: Stop advertising #reddit-ratelimit.
    
    Since it's low traffic, I mostly don't notice until the user has already left.
    Also, IRC illiterate users tend to expect a response in a few seconds.

commit 943f818e42be7ac0cfcfb553ba9361920e3abc5e
Author: Neil Williams <neil@reddit.com>
Date:   Thu Mar 28 15:37:28 2013 -0700

    Subreddit names should only have ASCII characters.

commit c2e4be75a6d12e0153c573d80deac44256ffbedd
Author: Max Goodman <max@reddit.com>
Date:   Wed May 15 18:04:19 2013 -0700

    sidebar-message: Tweak <p> spacing.
    
    This fixes the small amount of extra space at the bottom of a sidebar
    message that contains only a single <p><strong>...</strong></p>.

commit 1754d1461799f82902bbff2962305bed10d4d3cc
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed May 15 15:21:30 2013 -0700

    reddit_base: Optimize parsing of request_origin.

commit 4ded420c0d91fd9905be80f945ce948a7ee66bc0
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed May 15 15:17:27 2013 -0700

    redditheader.html: Reload current page on logout.

commit c1c55f638aaeaf7f4e4d8791957ef2fa828e61cf
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed May 15 14:51:38 2013 -0700

    login.js: Redirect appropriately from login popup.
    
    The login popup redirects to a link's href if one is present. This works for
    all links, except for the login link which is hrefed to /login for middle
    clickability. This ignores the login href specifically which results in the
    current page being reloaded correctly.

commit 38535c08fcb8dff893ffda89e22158549e5dad1e
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed May 15 11:22:45 2013 -0700

    VDestination: Fix bug where https URLs weren't validated.

commit b70e460f4d06d50415d482e2a946da264b9ef9b4
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed May 15 11:09:20 2013 -0700

    pages: Add destination parameter to adminon/off.

commit b707b4eb349de62d226e2eafa9abefcb5f1f7d93
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed May 15 11:06:06 2013 -0700

    pages: Indentation fixup for admin button.

commit 14ea67a8acf7e4cdd2161cd21b3aa2a055b7feaa
Merge: f1db8ef b1b5064
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 16 14:49:53 2013 -0700

    Merge pull request #787 from morrisgn/patch-1
    
    Create Morris+Ganis

commit b1b506426f80df5a96b181fcc0274ab53b40ab21
Author: morris ganis <morrisganis58@yahoo.com>
Date:   Thu May 16 23:46:10 2013 +0200

    Create Morris+Ganis

commit f1db8effe88fe738bedbcab88db20dfa8c8dcea5
Author: Roger Ostrander <reostra@reddit.com>
Date:   Fri Apr 26 14:56:03 2013 -0700

    API: Record account deletion time

commit 3f9def5e3d67ebd7bc6424e4b0f8235b33e136e9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Mar 11 11:52:52 2013 -0400

    Don't memoize on get_promotion_list_cached.

commit 2e29366a2d4db8b02b96713e24e8a492f7a3d871
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Mar 11 18:29:54 2013 -0400

    Don't memoize cached_organic_links.

commit 834e2702bfec89e0b66b66968d68a6acaca9cc6b
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue May 7 08:09:43 2013 -0700

    Use the amqp message timestamp to set the Vote date.

commit 1b5d22089c66368c3bebe533e197f29878363ed6
Author: Jason Harvey <alienth@reddit.com>
Date:   Fri May 10 12:01:02 2013 -0700

    If a user is loggedin, and does not have over18 pref, do not show over18 content.
    
    Previously, the existence of an over18 cookie would display over18 content to
    loggedin users, even if their preferences disallowed over18 content.

commit 7ecceb9169c7bc6c48a96cf9f4afb80dca4dffc1
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Apr 8 22:55:10 2013 -0700

    Revert "Remove memoize on normalize_hot."
    
    This reverts commit 1dbc2b181a463828a0eda76551a1e1d1b31afeb5.

commit 6f1028e6b3ae7ecc707db7483c2390863c6ca88f
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Apr 1 14:55:45 2013 -0700

    Skip over Ads with 0 weight

commit 79ccaca4eafec4c8924bb5cee4c8b7cbca67f569
Author: Max Goodman <max@reddit.com>
Date:   Tue May 14 02:08:44 2013 -0700

    Add support for a live-config sidebar info message.

commit bf8750f32ff52e05a7c81f4a2a4ed5f5c1f35c2e
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 8 17:16:17 2013 -0700

    pagecache: Add a debug header to indicate hits/misses.
    
    To get the header in responses, be in debug mode or send
    "Pragma: x-reddit-pagecache" in your request.

commit c5380a4e598277f66cd0ecf41d831e4c16c93217
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 8 16:37:46 2013 -0700

    pagecache: Don't cache GET_info.
    
    Most of these results are negative lookups, so we end up spending a lot
    of memcache bandwidth and memory space on identical json responses.

commit fd96b5319bf8dce779f9d14ff10f8d9f868887f9
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 8 16:30:49 2013 -0700

    pagecache: Make actions able to specify pagecache policies.
    
    This allows us to control pagecache behaviour at a per-action level.
    There are three policy levels,
    
    LOGGEDIN_AND_LOGGEDOUT - allow caching of resp. generated for loggedin.
    LOGGEDOUT_ONLY - the current default.
    NEVER - don't use the pagecache.

commit c32617dd432dcab0e4049f132f83f532382b74a1
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 8 14:29:12 2013 -0700

    pagecache: Do not write 304s to the cache.
    
    304s are triggered in reddit by the value of a request's
    If-Modified-Since header. This header is not accounted for in the
    request_key. We mustn't cache a response that isn't necessarily valid
    for that request.

commit aa16ccd352f2ea8e43ddac86366cac4cb70b6271
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon May 13 13:54:20 2013 -0400

    Show gold creddit balance even if user doesn't have gold.

commit 54d5becaaf0dcabf0fd7c9255a27c66400fbb04e
Author: David Hu <davidjhu@gmail.com>
Date:   Tue Apr 16 15:25:14 2013 -0700

    Submit page subreddit suggestion obeys user's over_18 preference.

commit a2f0a9e35cb54f34df35788a23edb675bb97a532
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Apr 16 13:42:49 2013 -0400

    PromoteReport for generating traffic reports on promoted links.

commit 9442f16cb4b843276bcb99f517da2c09cb7ca3f4
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Apr 25 16:38:54 2013 -0400

    traffic: Add campaign_history for querying targeting things.

commit 0e34dd7d6aa4750a8a9250e9229d6c97a7f65280
Author: Andre D <andre@andred.ca>
Date:   Wed May 8 16:59:52 2013 -0700

    wiki: Add wiki page name to body class.

commit 2c905548fefb9c5a48f9d7f318513521b1d577a6
Author: Andre D <andre@andred.ca>
Date:   Wed May 8 16:59:17 2013 -0700

    wiki: Add page name to title.

commit 4dcd7c2ec7137b962b613e9b992664fb06571791
Author: Andre D <andre@andred.ca>
Date:   Thu May 9 16:25:52 2013 -0700

    wiki: Ensure spammed users cannot create pages.

commit 1ae0ad796bc9ff8b7476c55de71d775b306cc52d
Author: Andre D <andre@andred.ca>
Date:   Wed May 8 15:40:25 2013 -0700

    wiki: Allow dashes in page names.

commit 24a4511bebe8c4b8810ffbc2cee78c7cc15c8f0c
Author: Andre D <andre@andred.ca>
Date:   Wed May 8 18:03:47 2013 -0700

    wiki: Fix an xss fixed server side already.

commit 533ae1f8dc840e697571a44a4b9d7d16ab47f2af
Author: Andre D <andre@andred.ca>
Date:   Wed May 8 15:26:05 2013 -0700

    wiki: unsafe() diff html on conflict.

commit f3c9c753b3b6a73956630788d2868242d565069a
Author: Andre D <andre@andred.ca>
Date:   Wed May 8 13:07:25 2013 -0700

    wiki: Ensure users who cannot revise do not get a create link.

commit 2e36cab7d4b3cf093ce1ecde2e6f6ac29fba0cb0
Author: Andre D <andre@andred.ca>
Date:   Fri Feb 22 15:50:21 2013 -0500

    wiki: Ensure wiki page not found gives a 404.

commit 1e57168013cef3c483329fb635f5abf72538d318
Author: Andre D <andre@andred.ca>
Date:   Wed May 8 14:11:33 2013 -0700

    wiki: Ensure wiki less gets evalulated before custom css.

commit 618f16cce648e7317df6c31ec28775f542777bb6
Author: Andre D <andre@andred.ca>
Date:   Wed May 8 14:11:01 2013 -0700

    reddit: Decompose stylesheet inclusion into functions.

commit 833583b39d466630beb769b416456d8f03af1a67
Author: cswider <christopher.swider@gmail.com>
Date:   Thu Apr 11 19:28:27 2013 -1000

    Adjust numbered lists margin to show two digits.

commit 6211d82f7a5a30dcbb865a726d047c01f791c879
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed May 8 23:39:41 2013 -0600

    Use correct fullname prefixes for message parents
    
    Previously, all parent_id values would be prefixed with t4_ (message),
    even if the message was from a comment, which would actually have either
    a comment or link parent.

commit 810bbc10962081725f01e1e10f524d0512e90707
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 9 21:09:05 2013 -0700

    Don't use referrer as a fallback in VDestination.
    
    Since the referrer is not included in cache keys for pagecache or
    Akamai, this can result in weird stuff getting cached and causing
    downstream users to get redirected after login/registration to
    unexpected destinations.

commit 6ba84d7ab9af33d933563bc2b465158f7255a514
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 8 22:10:50 2013 -0700

    /dev/api: Add an explanation of modhashes to the overview.

commit d1ae49b4d9ca6da6322035e823b0eabc4395092f
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 8 21:51:37 2013 -0700

    /dev/api: Add an overview section and explain fullnames.

commit 60f9ce7af3f742437e9725f7b46e9f0c5a280180
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 8 21:32:17 2013 -0700

    /dev/api: Add `api_type` to parameters where appropriate.

commit 23ee164ab02f081c4976375a84e1b1fd687592eb
Author: David Hu <davidjhu@gmail.com>
Date:   Wed Apr 24 15:31:15 2013 -0700

    Fix unexpected captcha iden when API call fails and captcha is not needed.

commit 77a591df3768207ef52a3df77333492c7d2626e9
Author: David Hu <davidjhu@gmail.com>
Date:   Wed Apr 24 15:11:11 2013 -0700

    Fix unexpected captcha iden in response of successful API calls.

commit bfd5f69d7f028a48cb28059d742703e078084662
Author: Steve C <steve@scarlson.co>
Date:   Sat May 4 13:28:04 2013 -0500

    Follow oauth2 expires_in spec.

commit e04e0714cc0016affa76180b815d136b1e43110a
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Apr 25 11:03:06 2013 -0400

    Use EST to get fixed UTC-5 for traffic date displays.

commit 0e3017788fc082679c9ced8a5f5d9f738910a888
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Apr 25 10:54:40 2013 -0400

    Let promote.get_total_run figure out dates for get_traffic_dates.

commit 1322668a1e67d4611ffb042c55fb0df72abdd37f
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Apr 25 10:53:14 2013 -0400

    Return datetimes with tzinfo=g.tz from get_total_run.

commit 97caffc934cdabbe4ef5f898926caba04b5215a6
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Apr 25 10:17:54 2013 -0400

    Take PromoCampaigns as inputs in promote.get_total_run.

commit b717296dd61f847f0574beaf31837c5483f5f14f
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Apr 14 23:44:14 2013 -0400

    Delete old campaign traffic pages.

commit bc23801d4e66042988051b3e9167cc83bd471ba0
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Apr 11 14:22:42 2013 -0400

    Redesign PromotedLinkTraffic.

commit 00623614c9e12e003a28edb74f02969ff97a23c0
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Apr 14 18:51:18 2013 -0400

    PromotedLinkTraffic: set chart date to EST.

commit 1ea76b8f28e21bd84cdcb125e9b26b0cdf6b2db9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Apr 14 18:03:22 2013 -0400

    Reclass traffic-table to traffic_viewer-table.
    
    The table was picking up the odd/even highlighting.

commit 1f64bf6e83258008c29ff590c4658fd25a96d418
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Apr 14 17:56:47 2013 -0400

    Use the correct selector in POST_traffic_viewer.

commit 89a2638bd74886dc0caabe79834818215073ab93
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Apr 14 17:47:56 2013 -0400

    Don't show empty UserList table.

commit 2cebd2881f64aa0ba5d5a7dec0cbb2c24cc41d32
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Apr 14 21:37:59 2013 -0400

    Add promotion_history to targeted traffic classes.

commit 6ca97cca5e9e100bbf47b41212b75ae113f72022
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Apr 11 18:41:57 2013 -0400

    Sum promotion_history for all rows with the same interval/codename/date.
    
    Also don't return uniques because their summed values are not meaningful.

commit 637b5770c01d06d2a936ab698bac1212cc2a8f17
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Apr 30 22:35:53 2013 -0400

    Get correct width in zip_timeseries.

commit f5ed4ea99f60f1468166781e73a1ad6b7ab9f636
Author: Neil Williams <neil@reddit.com>
Date:   Tue May 7 14:42:57 2013 -0700

    error_mapper: Make sure it's safe to use "c" before using it.
    
    This was breaking subreddit.reddit.com -> reddit.com/r/subreddit
    redirects because `c` was not registered at the point that the redirect
    was generated.

commit 7e09ded7847468c077d0a296e60ad5f206b0b005
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Mar 28 14:45:36 2013 -0400

    Add 'transfer.paid' noop event.

commit 6727ca4e5528bf631a4faecb3d1cee8052ecb7e6
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Mar 11 17:57:04 2013 -0400

    Add noop event for Stripe transfer.created.

commit c641ea082129b42451e463e46606977bbd891878
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Mar 6 14:38:39 2013 -0500

    Add logging for stripe failures.

commit 2e0923ea6a68a339854d1c27db32ead184d819c7
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Apr 4 13:59:08 2013 -0400

    Convert dates to EST for display on PromotedLinkTraffic.

commit 6a67f2f11cea02daa9d73c6998667e8a19202bb1
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Apr 3 17:52:00 2013 -0400

    Let the user set file type for promoted link thumbnail.

commit d5324f87e0c3500b4cf30fca78d05873bbda7022
Author: Neil Williams <neil@reddit.com>
Date:   Mon May 6 15:07:47 2013 -0700

    error_mapper: Don't redirect to ErrorController for pagecached errors.
    
    This prevents a situation where we get a cached error (e.g. a 404) back
    from the pagecache and then the error_mapper (called by the
    ErrorDocuments middleware) sees that status code and redirects the app
    to the ErrorController which then re-renders the error and inserts it
    into the pagecache at the end of the request.

commit aa0739b428fdb0667527eb53cd88a9e152106969
Author: Max Goodman <max@reddit.com>
Date:   Sat May 4 02:49:41 2013 -0700

    Add a reddiquette link to the comment form.

commit 6e7cbd6e4142258faec3a0173f68bdbd2be7613f
Author: Max Goodman <max@reddit.com>
Date:   Tue Apr 30 17:42:03 2013 -0700

    Don't position:fixed the login/language popups.

commit 00e86bcb8b4aa5009210d9d6beac7cdd5a1020f2
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun May 5 21:19:18 2013 -0400

    Don't charge google checkout orders with bad amounts.

commit 7b354052803cb0d25c0f0961616a64043a19bb42
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 2 20:20:42 2013 -0700

    Add author_slow property to Message.

commit 611a1dda25493f75b1ab6c8b81a813cc7135380f
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 2 15:55:04 2013 -0700

    Add a tool for generating subreddit traffic reports.

commit 123473021d4edb116a099050276d6aebf00c367d
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 2 14:59:10 2013 -0700

    memcache: Reduce compression threshold for main caches.

commit 92cbd6936719b3ce4a952df53633b5cabb7c32e7
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 2 14:58:19 2013 -0700

    memcache: Reduce compression threshold for permacache.

commit b623c052f1be2b23a0f6481cfbce6efe55f00046
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 2 14:56:58 2013 -0700

    memcache: Reduce compression threshold for page/rendercache.

commit 8367895b130c9b52e18b04be65637e913cca4121
Author: Neil Williams <neil@reddit.com>
Date:   Tue Apr 30 17:31:39 2013 -0700

    memcache: Make minimum size for compression configurable per chain.
    
    This allows us to trade off CPU time for bandwidth / cache space in
    different amounts on different cache chains since they have distinct
    behaviours.

commit 424290efe1ac0f4c1eac5e811fcc794643168d10
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu May 2 17:38:46 2013 -0400

    Convert PromoCampaign dates to tz aware datetimes.

commit c33882ff4feacb40d0aa8a27dfb20953ae9eab9a
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu May 2 17:11:32 2013 -0400

    Utility to convert dates to datetimes.

commit 3d8bdf2175ceed52305c68000e486db805271f53
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu May 2 15:21:26 2013 -0400

    Better menus for promoted links and add filtering by subreddit.

commit 356b6fa3ed9d1702bb7e104ce032954780700375
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu May 2 15:20:33 2013 -0400

    Add get_live_subreddits method for LiveAdWeights.

commit fa69542e705fcfffb2493e21f7f5c6ddb06221c8
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed May 1 14:12:34 2013 -0400

    Only check moderator permissions for Multi or ModSR cached queries.

commit 14eb7c3a4f74a7fc3bbede2450d42f0197d3bac3
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 1 16:12:51 2013 -0700

    logging: Improve the quality of tracebacks from ErrorController.

commit 58a649669416b8c7d20bdf9b3b0a1d302c6d5341
Author: Neil Williams <neil@reddit.com>
Date:   Mon Feb 4 00:29:16 2013 -0800

    Allow boto to gather AWS credentials from alternate sources.
    
    If the relevant configuration options are left blank in the ini file, we
    will pass None to boto for credentials allowing it to look in other
    places, including the AWS instance metadata used by Roles for EC2.

commit ed6e60bab4278cad2ffff5d770d3f958c0e00ecf
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed May 1 10:20:39 2013 -0600

    Add "[score hidden]" markers to alternate views

commit 341ad93d4e2fc4271fe19b8648ccff29956f6b3b
Author: Max Goodman <max@reddit.com>
Date:   Wed May 1 16:33:43 2013 -0700

    Tolerate a missing registration info wiki page.

commit b3c3153d0e09e58d07a6ee9bbac2d6db3d241707
Author: Max Goodman <max@reddit.com>
Date:   Wed May 1 16:33:26 2013 -0700

    Fix scope mixup in template.

commit b4b07a3e083f32686c1fb0461925286e0b05e9ea
Author: Max Goodman <max@reddit.com>
Date:   Wed May 1 16:27:35 2013 -0700

    Cache registration info html in memcache.

commit bbdb8e4045e00cafe1c07c7b71a8ce3afa3e5230
Author: Max Goodman <max@reddit.com>
Date:   Wed May 1 13:46:47 2013 -0700

    Collapse minor edits into policy page revisions.

commit 04300321a57fc15877bbf3841d27dc2bac3e2385
Author: Max Goodman <max@reddit.com>
Date:   Tue Apr 30 17:23:10 2013 -0700

    Update legal footer links.

commit a64dfee54a30405e0440fffb88526e8d7b588970
Author: Max Goodman <max@reddit.com>
Date:   Tue Apr 30 16:30:30 2013 -0700

    Add privacy policy updated notice to footer.

commit d735a0a289c1df7199172d6f7d98c7ced5cd2438
Author: Max Goodman <max@reddit.com>
Date:   Tue Apr 30 03:09:28 2013 -0700

    Tighten up login box checkbox spacing.

commit ff80fac8d50905b12b62b9a12c4fc120b74504c6
Author: Max Goodman <max@reddit.com>
Date:   Wed May 1 01:10:13 2013 -0700

    Make registration form labels / ui more width efficient.

commit a6c252e6832c5d4c84a7ed6b52e9bb4654d675cb
Author: Max Goodman <max@reddit.com>
Date:   Thu Apr 25 03:30:07 2013 -0700

    Display privacy philosophy on registration form.

commit c1ae86745d657f62e94892dc2d046b4a492ad40a
Author: Max Goodman <max@reddit.com>
Date:   Thu Apr 25 02:50:17 2013 -0700

    Remove dead param.

commit 3fdfabd4087fd83fac596bd555c468402e510d54
Author: Max Goodman <max@reddit.com>
Date:   Thu Apr 25 02:49:59 2013 -0700

    Use view class for popup login form.

commit 4b533968215dae5a391984e02a01a79b8f493da0
Author: Max Goodman <max@reddit.com>
Date:   Thu Apr 25 02:02:57 2013 -0700

    Privacy policy and user agreement viewer.

commit 20fd53b124337ed65648f89ff313bd69f2adccd2
Author: Max Goodman <max@reddit.com>
Date:   Thu Apr 25 00:38:45 2013 -0700

    Add scrollFixed util.

commit 356a90b9472ca12ffd1588e66990aba1c4353540
Author: Max Goodman <max@reddit.com>
Date:   Wed Apr 24 23:42:49 2013 -0700

    Add class to ToC <li>s.

commit fb281494955c30a270654015bbda07b777e5d545
Author: Max Goodman <max@reddit.com>
Date:   Thu Apr 25 02:48:01 2013 -0700

    Add target param to wikimarkdown.

commit ebe3e3693de2192871f38adfe31c85596d7bb329
Author: Max Goodman <max@reddit.com>
Date:   Thu Apr 25 00:25:47 2013 -0700

    Allow class attribute on markdown generated tags in souptest.

commit f353cc852af953fc8c0eb601da974d6d1a5ff7bb
Author: Max Goodman <max@reddit.com>
Date:   Mon Apr 22 17:06:32 2013 -0700

    Modularize wiki ToC generation.

commit 0911ee01807590b75dbeb86c53f0554ea70da8ec
Author: Max Goodman <max@reddit.com>
Date:   Tue Apr 30 16:11:37 2013 -0700

    Move viewport tag to its own overridable template function.

commit 0fba8b7419fac70822548ed5e4e818fe90107727
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 20 00:43:44 2013 -0700

    Add noop str config parser for documentation.
    
    This allows str config params to be specified in plugins so their param
    delcarations can be comprehensive.

commit 1ac081150f93f46129ebfb45a95196c4c165aadd
Author: Max Goodman <max@reddit.com>
Date:   Sun Apr 7 22:39:02 2013 -0700

    Remove unused mappings and inline scripts.

commit 882ccd3428ba83bcdeacf8d042dfadb655ecd945
Author: Max Goodman <max@reddit.com>
Date:   Wed Apr 10 20:51:06 2013 -0700

    Remove unused store route.

commit 2916817499053da7d1a2af5fc28143093078f083
Author: Max Goodman <max@reddit.com>
Date:   Wed Apr 10 21:15:17 2013 -0700

    Use "invalid" name for timings of requests without a handler.

commit 62bfccf4410d98ad695c73d54eda7f367d832999
Author: Max Goodman <max@reddit.com>
Date:   Wed Apr 10 21:05:38 2013 -0700

    Exclude domain listings from not_in_sr routing test.
    
    This prevents matching urls starting with /domain/something.com due to
    the way our domain middleware works.

commit 430f3b6e0660e5ee6d79c09ff7a27901bb96ab39
Author: Max Goodman <max@reddit.com>
Date:   Sat Apr 20 23:46:37 2013 -0700

    Render spotlight box as soon as we have data.

commit dd5f750bad001747b61625486f6ccfd6c6c6c4d5
Author: Max Goodman <max@reddit.com>
Date:   Mon Apr 15 17:44:15 2013 -0700

    Allow a default url to be set per trophy codename.

commit 587abe5808161dbfcff9f259a55672709fe2c11a
Author: Max Goodman <max@reddit.com>
Date:   Tue Apr 9 01:30:44 2013 -0700

    Expose the memoized function when decorated with @memoize.

commit c9683902e22805abe90e045730bb5f54987781a3
Author: Max Goodman <max@reddit.com>
Date:   Mon Apr 1 11:09:19 2013 -0700

    Don't add cache bust to static('').

commit d0394a1169cb14cd711c9ddbcb42149fb8fbf828
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Apr 30 14:24:53 2013 -0600

    Add report count to active "ignore reports" button

commit f860b95ca5a967341db36515153f363fc8a841dd
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 22 14:50:05 2013 -0400

    Change menu text: reports can be links or comments.

commit 75d5b709f23a2a541786284aefe77959ee02363a
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 22 14:28:27 2013 -0400

    Allow subreddit spam queries to be limited to links or comments.

commit 77f2f12fc65b1712e9008963de2775a2ee35f1c0
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 22 12:19:40 2013 -0400

    GET_editreddit isn't a listing.

commit 0fe8f70879b929f2f6db6762f814f82dbf8b11b1
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Apr 21 20:38:26 2013 -0400

    Move spam listing to its own method in FrontController.

commit 1a5f3f8c351030f1e0230652479c39afbdcad01e
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 22 11:32:35 2013 -0400

    Move flair listing/editing to its own method in FrontController.

commit 794517fda1cf0d1b1f804e978a68246a6028b895
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Apr 30 09:58:07 2013 -0600

    Add "[score hidden]" marker
    
    Includes tooltip with info about the length of the hide period

commit 8eac5bf1e6141cb7cebd38876f61479e2bde0ed8
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Apr 29 17:19:36 2013 -0600

    Add indicators of hidden score to API and HTML
    
    If the score is hidden, data-ups and data-downs will both be 0, and
    the comment will also have the "score-hidden" class

commit 398fc0e1a3c84bc7d897b8a4108ce24553ddf291
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Apr 30 00:24:58 2013 -0600

    Add <category> to rss data where relevant

commit 69cd0d08ec399c5e42e9b56627e4f1f7cedea02a
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Apr 16 12:06:05 2013 -0600

    Allow subreddits to hide comment scores initially
    
    Adds a new subreddit setting that allows defining a period
    of time after posting that comment scores will be hidden.

commit b49e6c113a6d5146ab64ffa9eab613737dec63bd
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Apr 23 18:37:23 2013 -0400

    Add voting to menu.

commit 7a68f2a63e2e3e5171eb76b0ff44894a0fa79c08
Author: Neil Williams <neil@reddit.com>
Date:   Thu Mar 28 15:46:15 2013 -0700

    Gracefully handle the rising key expiring away.

commit 37f005b30e2e622408b9e41975cfe72dd7129038
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sat Apr 20 16:06:13 2013 -0400

    WikiRevision: id36 return_dict gives id36 keys so don't convert.

commit 0b58ac9ca0bc910655b2ab13c2f64f05a4830cb9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sat Apr 20 15:57:28 2013 -0400

    Preserve order and return id36 keys in Thing._byID36.

commit 1a6bddaf24de89092e7261c3240e7f137b607e57
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Apr 23 14:43:13 2013 -0400

    Handle new datestr field in PromotedLinkTraffic.as_csv().

commit 396f9ae362e0f0c63494c6b7047cf33da9f2716f
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 15 19:11:58 2013 -0400

    Don't display confusing bid history table on PromoteLinkForm.

commit 7aacbeed9cdfe78999cbb69dc20fbe8007afe74b
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 15 18:38:26 2013 -0400

    Don't include unpaid campaigns in promote graph stuff.

commit 31a2ee07ff6feaa7e9a58aeca4701f54fdbc8b88
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Apr 10 09:05:20 2013 -0400

    Exclude subscriptions from Random and RandomNSFW.

commit 8eb5cba4ec9b02ae7791eded9670a769697ffb7f
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Apr 15 15:55:06 2013 -0600

    Prevent replying to removed comments
    
    (Except author, mod, or admin)

commit 9a90e426794f4d2184dd1771fdb714de7dd42842
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Apr 17 10:41:22 2013 -0600

    Fixes related to exclude_banned_modqueue setting
    
    Make sure that setting is always sent, and add description for mod log

commit 473f8377f10d0ab6ced67d943c71dd06b7380580
Author: David Hu <davidjhu@gmail.com>
Date:   Wed Apr 10 15:12:46 2013 -0700

    Send captcha iden for failed calls to VCaptcha-decorated API methods.

commit 0e99da716007a2ee949f5473d2eb6279c934c088
Author: David Hu <davidjhu@gmail.com>
Date:   Fri Apr 5 13:07:32 2013 -0700

    Fix unexpected NO_EMAILS error when users remove their email.

commit d3d82acf974833270cc901126b6893bcce6d0ba1
Author: David Hu <davidjhu@gmail.com>
Date:   Wed Apr 10 14:47:32 2013 -0700

    Remove "dest" query var from email verify link.

commit 9e5c1073ef0b9117ba58a8710814a07a7a5951d7
Author: David Hu <davidjhu@gmail.com>
Date:   Tue Apr 9 11:59:02 2013 -0700

    Fix VDestination bug that prevents setting custom "default" value.

commit 6f919a2a34eb825942801a26687b6b2eee829096
Author: David Hu <davidjhu@gmail.com>
Date:   Tue Apr 9 14:23:35 2013 -0700

    Don't show error when user click the verify email link twice.

commit 06e6b0818927cf0bf5cb8b80a4af0e34b26ffc01
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Apr 11 23:48:36 2013 -0700

    Add CONTRIBUTING file.

commit 5707111fabab4df86505efa313b17ae5fbed11e3
Author: Logan Hanks <intortus@reddit.com>
Date:   Fri Apr 12 13:50:24 2013 -0700

    Convert value to str when counting strings.

commit e21cd398c00e35cb5e3a77909cdea3aa11d4c214
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Mar 15 12:05:43 2013 -0700

    Update stats_test to reflect timing API changes.

commit 7782e4a76fa2711085a6a8f28a4ad4709a97041d
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Mar 15 12:13:29 2013 -0700

    Add g.stats.count_string and start counting user agents.

commit 702b58565fb0fe012f903844a8631ce44a3d9074
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Apr 10 15:47:09 2013 -0700

    Disallow submitting to banned Subreddits via API

commit 21f07e8c5220a3252ba9d7b856f9563a35d986dc
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Apr 10 15:22:56 2013 -0700

    Filter banned subreddits from search results

commit fe1ce211090f77ab9e7a75bc8f16fae3ac3337b9
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Feb 26 20:31:02 2013 -0700

    Allow mods to set custom labels for submit buttons

commit 83100a98272c54b1a15e0c11ecaba53854ed21d6
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Apr 10 11:40:26 2013 -0600

    Add 'likes' for comment/post replies in API

commit 886226995bcdbe482c14a171da0f3bad4808a2d0
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Apr 9 23:59:25 2013 -0600

    Add 'link_title' for comment/post replies in API

commit af88ac3719a20ad55f31a12050e283ee42455782
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Apr 8 16:56:49 2013 -0600

    Fix error when reporting things not in a subreddit

commit b619e64cdc0862c4de8ef9dfa63fe039e38d3fb6
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sun Apr 7 15:02:17 2013 -0600

    Ignore reports by users banned from the subreddit

commit 256f724328869cb6e37975f8ec683d90080ed400
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Apr 3 13:50:33 2013 -0600

    Remove limit on /r/all- and add info to gold page

commit cb99c8ca190e564e0e13cc4690d181914b52dfc2
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Apr 1 14:31:41 2013 -0600

    Don't allow gilding of removed comments
    
    This was making it possible to view the author/text of removed comments
    on the gilding page.

commit 00273cdf53fa40003897c3d6144c6b878dfbe895
Author: Max Goodman <max@reddit.com>
Date:   Sun Mar 31 04:15:57 2013 -0700

    Fire jQuery new thing events for thing insertions as well.

commit 5e8ce20fa4fdbc9b999ad2f31e304622f24d8b72
Author: Max Goodman <max@reddit.com>
Date:   Sun Mar 31 04:07:41 2013 -0700

    Fire jQuery event when expanding expandos.

commit e48210d4b88acf38ca64fbc371e1aaff745c0460
Author: Max Goodman <max@reddit.com>
Date:   Sun Mar 31 03:37:03 2013 -0700

    Fire jQuery event when creating new thing elements.

commit cac9a2db3cca1dffe6c2096c702baa994fb57330
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 30 17:48:21 2013 -0700

    Upgrade to Backbone 1.0.0.

commit 02a72a27cbd6efb1684d15c2106f2f0200bf6e9e
Author: Neil Williams <neil@reddit.com>
Date:   Fri Mar 29 15:38:21 2013 -0700

    Add hook for finalizing js_preload.
    
    Useful if things generated in multiple places need to be coalesced into
    a single preload URL.

commit 61ebe06837513fb3724ea5b32a43d904767d117c
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 29 14:37:38 2013 -0700

    Prevent space compression of inline script tags.

commit 2d68088d3fd7247f31dd6f278900349058139362
Author: Neil Williams <neil@reddit.com>
Date:   Sun Mar 31 15:06:21 2013 -0700

    Hover Bubble: add .anchor-right-fixed positioning mode.
    
    Like anchor-right but using fixed positioning and clamped to the window
    dimensions.

commit e66b62181163f3839e00ba8ad642d92acc774165
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 01:31:01 2013 -0800

    Hover bubble UI overhaul.
    
    * Backbone
    * Show event
    * Display groups (for fast show/hide switching)
    * Right alignment mode
    * Slide animations

commit 14a8fd526e74211f083f08377426b77215172d2e
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 23 23:59:17 2013 -0700

    Add JSPreload system for including JSON data at the bottoms of pages.

commit d3e8feb0b0af40a52e9065b42d27f3dada73a320
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 23 23:11:05 2013 -0700

    Upgrade underscore.js to version 1.4.4.

commit 40e5557f98f2f00345dc1a1aeb46f7ae9ecbc977
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 23 02:36:51 2013 -0700

    Add simple compiled in template support.

commit 5c64a33edb48ba8cb29d792f8265899494b2144c
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 23 16:33:47 2013 -0700

    Clean up file reading in js.py.

commit eb8c88cf11c3054bbb7e8e132f3cfc4e05e802c6
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 23 16:33:05 2013 -0700

    Whitespace.

commit f84cb8d4facf036923322e712a5fde8d84c40064
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 23 16:39:56 2013 -0700

    Search static directories in a consistent order.

commit 58721c2c9cb714e0c7bc88c9304f1e7fd7f112ed
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 23 16:32:55 2013 -0700

    Add util for locating static files. Move to static.py.

commit d2ef201989d41b006bc0a8bb8029b7c68179fe46
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 00:45:53 2013 -0800

    Add Backbone 0.9.10 to the main JS.

commit ef51a2496fc2b8d981d57c6db71fae1ba0cf4f89
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 20 00:45:42 2013 -0700

    Add extra_stylesheets knob to Reddit.
    
    This provides an easy way for plugins to add extra separate stylesheets
    to the site.

commit 18bc298483f778dd125cf8f800d07628b52ad106
Author: Neil Williams <neil@reddit.com>
Date:   Mon Mar 25 11:48:44 2013 -0700

    Allow g.cache_chains to be extended after creation.
    
    Cache chains added in plugins need to be reset, too!

commit dc03b8b6fd0ade1bedac5d3e47691b232addc07f
Author: Neil Williams <neil@reddit.com>
Date:   Fri Mar 22 16:39:26 2013 -0700

    Plugins: make on_load take "g" so it can add stuff to globals.

commit 3520ea53896bea61bc0e891fa366b0ae34f543e3
Author: Neil Williams <neil@reddit.com>
Date:   Sat Mar 23 23:38:33 2013 -0700

    Add hook to Printable.add_props.

commit 1994ce083f69458b2fcb9eb82777d356481c59ea
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Mar 28 08:24:59 2013 -0400

    Add comment.new hook.

commit 08ae778e9a05ddbf9d2cd9b97ab261d0e9103de9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Mar 25 16:04:55 2013 -0400

    Add hook for Comment._gild().

commit 30d1c8f89d27b76bf5a97016bd22795b7e687564
Author: Neil Williams <neil@reddit.com>
Date:   Fri Mar 22 15:30:16 2013 -0700

    js_config: Add a hook for mutating js_config.

commit e66ee5ad8c3c5ea2213438f61e96efa86e87d414
Author: Neil Williams <neil@reddit.com>
Date:   Thu Mar 21 13:56:01 2013 -0700

    Add some request-related global hooks.

commit f7f5d26d3ee2f3b445de4593259e2ee8b05f1da4
Author: Neil Williams <neil@reddit.com>
Date:   Thu Mar 21 13:25:21 2013 -0700

    Thing: Use a hook for on_thing_commit.

commit 5bd81b5f6e1da5140288dde0c9a18feb83cd45a8
Author: Neil Williams <neil@reddit.com>
Date:   Thu Mar 21 17:55:05 2013 -0700

    plugins: Ensure load_controllers is called in paster shell/run as well.
    
    load_controllers is the safe place to do imports of things that rely on
    `g` et al being in the correct state. It was not being called in paster
    shell or run which meant that any hooks defined in a module that relies
    on `g` at module scope (e.g. things importing model or controller code)
    would not be connected in those contexts.

commit 84e57785f4f446e3d7c513cc67cda804418fa857
Author: Neil Williams <neil@reddit.com>
Date:   Thu Mar 21 12:12:24 2013 -0700

    Add a basic event hook system for plugins to use.
    
    This allows decoupled registration of interest for plugins.

commit 1b1e3379b02e3bf636ae69e3b8d0d1e063e6e41b
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 28 00:26:44 2013 -0700

    Skip loading plugins that fail to import unless specified.

commit 5e186ee612e7f2239d253cae0dd8103cec81176b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Mar 26 16:39:05 2013 -0600

    Add some info and link to wiki in formatting help

commit 40caa663ccdc51bf0fc3e9fff35500253638bcd7
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Mar 29 11:47:33 2013 -0600

    Translate and fix text on compact buttons

commit 6b0a9dbe5a0ff593ef5f5bd7789aa5002e669e9a
Author: Joe Alcorn <me@buttscicl.es>
Date:   Thu Feb 7 18:10:24 2013 +0000

    Fix error in username_available.json api docs, show the whole parameter instead of the first letter

commit afc5bb5885ba4e5c574bc5f5c3eff39c7400a2d0
Author: Donald Curtis <dcurtis@milkbox.net>
Date:   Mon Mar 18 19:50:09 2013 -0500

    Some whitespace changes.

commit f716aaaf1d16c0acd9a7cc0627a6ed8de45a9cb8
Author: David Hu <davidjhu@gmail.com>
Date:   Wed Mar 27 12:44:51 2013 -0700

    Include "has_verified_email" flag in IdentityJsonTemplate.

commit 89ff4e6cb260f2b629cd6aef769700a41cba223d
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Mar 28 15:41:39 2013 -0600

    Drop extra whitespace in title on suggest/submit

commit 053ebafcc774c4ef32a9e49e6590fde295e33422
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Mar 28 11:45:14 2013 -0600

    Fix distinguishing help link

commit ace193a404691d42dc887f75b1f8b396b42d6231
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Mar 28 14:23:25 2013 -0700

    upstart: Add fastlane upstart scripts.

commit 7ef0f8e12e78a0aaba7db0b6a0b557838b5fe4c8
Author: Neil Williams <neil@reddit.com>
Date:   Thu Mar 28 11:55:47 2013 -0700

    Remove stuff related to the 300x100 sponsorships.
    
    These are taken care of automatically by tandem ads via Adzerk through
    reddit-plugin-adzerk.

commit 312e9976920b889782f4c3f221a3cbebbfb39094
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 27 16:58:13 2013 -0700

    Clean up some imports.

commit ddbb6d71ab5c58322e4cde55b56ca50206e35298
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 27 16:51:09 2013 -0700

    Remove obsolete house ad system.
    
    This has been replaced by reddit-plugin-adzerk and Adzerk.net.

commit 61fb872026c2130481e75bfd42a5e7696a17afd0
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 27 16:25:29 2013 -0700

    Remove obsolete uWSGI logging configuration option.

commit 767597c3c81ebad00643c592930e13c87bc75ce6
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 28 14:08:36 2013 -0700

    Fix adblock pixel frame selector.

commit 0561be43b760295df2c9fd3c380be41359baefd7
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Mar 27 15:02:36 2013 -0600

    Add info about benefits/lounge to gold gift msg

commit cb4d231896b28d1839869e880d0b61874c2f3579
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Mar 27 15:02:06 2013 -0600

    Update gold text and links on profile page

commit 66ee04a97761f58353fcf6f19850981a67aec944
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Mar 26 23:44:03 2013 -0600

    Don't show deleted comments in /comments

commit a9b0ab823b75e82b252c76899de5040a97ec0ab1
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Mar 22 18:34:42 2013 -0400

    Update the other gold expiration message.

commit dfebca519e5816e1099b2a637ba8d5243f82aec2
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Mar 27 13:31:43 2013 -0700

    Fix award claim POST url

commit c35a551066aef1b8deffd599a299e236bb1ca16f
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Mar 22 10:07:59 2013 -0700

    Add other top bar subs

commit cbf80458d28fb0c99dccfb0822dd895416d50993
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Mar 22 10:01:48 2013 -0700

    Fix top bar translations for front/mod

commit be18845864012e75fcf7f6bf58380f4055dd2655
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 19 13:48:07 2013 -0700

    Add missing imports required for admin golding.

commit 8730c6d1eb4894e5e1e00bfccf46932d66045735
Author: Seth Woodworth <seth@sethish.com>
Date:   Mon Mar 11 22:05:31 2013 -0300

    Updating copyright year 2012 >> 2013

commit 73f0d973480256f7670a00c927807ca8a48ea7cd
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Mar 8 10:51:46 2013 -0800

    Fix missing file issues in check-code

commit fc9abd1dcb360bdd5d1359e256476d82301ec734
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Mar 8 10:49:21 2013 -0800

    Award-claiming via one-time links.

commit db38aad94c90796b7ad69bf7b87a2a62f08449ce
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 15 22:40:39 2013 -0700

    Whitespace (fix unnecessary indent).

commit 4e0e183ebf298ad9e93f07e8ac5dcd9e26a35f6b
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 15 14:44:29 2013 -0700

    stats: Do not send template timings.
    
    They will be kept locally for the admin bar timing logs.

commit 6101c1ad137ce9f6b3792b7803553f99b5ea1df8
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 14 15:39:58 2013 -0700

    stats: Only track timings for interesting templates.

commit 4358b3c11c1296b36369e8dba8d254489ba2f53e
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 14 00:30:53 2013 -0700

    Proxy stylesheet hash in DefaultSR for front page stylin'.
    
    Without a truthy stylesheet_hash property, the reddit.html template will
    not include the stylesheet.

commit cd46d13ef3e5cbe471206b9e4c221f750cb38e7e
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 12 16:33:54 2013 -0700

    adminbar: Layer short timeline events above long ones.

commit 1fa58d5a7c3676caaf593f81d44d63dbf9a175ed
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 12 14:28:11 2013 -0700

    adminbar: Style render timings.

commit 99046f992cb82050998534766e13d4888d3eb0db
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 12 14:27:57 2013 -0700

    stats: Collect timings related to template rendering.

commit d4e3d29ac6a48c3033c8e75ad028b18b3f6ed5e2
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 13 12:28:31 2013 -0700

    adminbar: Sort timings collection by start time.

commit 4a6451646086ce861c9e4c6ecbb9ba74ccbf1c5e
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 12 14:26:41 2013 -0700

    adminbar: Allow multiple timings with the same key.

commit ab1fded8c2b6e10732c139238f52710268c41b62
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Mar 14 10:27:16 2013 -0700

    url_escape expects unicode objects

commit 8ddf0d637a15d237278543f30425e7211cdc96af
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Mar 11 11:06:42 2013 -0700

    Remove memoize on normalize_hot.

commit e4a45f5d1aa578aaa29ce844fac0480009735568
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Mar 4 15:31:58 2013 -0800

    Use consistent scaling on the timings graph
    
    This lets one, at a glance, get a feel for how long a page took
    to load. Timing data is scaled such that browser-width is 8 seconds
    (unless the page took longer than 8 seconds). Clicking on the timings
    will zoom the graph in for better investigation of what parts took
    what amounts of time.

commit ec442456fd8117f66f4c676e6da38ec426f5840f
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 7 04:20:30 2013 -0800

    spotlight: Fade before first item is displayed.
    
    This is intended to reduce the perceptual flash when promos load in.

commit ae4f3624ab0166256e2d6378cc8061df709e5754
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 7 03:52:24 2013 -0800

    spotlight: Add fetch_promo throbber.

commit 66cafe7afb9b34051bd9b5cc63ec73e22f82a6b3
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 7 03:45:43 2013 -0800

    spotlight: Add prefetch.

commit c9400ecb3e7e149c7820ee5960d70a02250c7990
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 7 03:43:35 2013 -0800

    spotlight: Replace stubs with internal fetch state.
    
    Stubs are no longer necessary since replace_things is not being used by
    fetch_promos any more.

commit 1d718ea4281662725628b18fd2175b699850b5d6
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 7 03:40:35 2013 -0800

    js: Display r.warn/error messages regardless of debug status.

commit 643afc0128e987bd268c2451a45e37800aede370
Author: Max Goodman <max@reddit.com>
Date:   Sun Mar 3 02:44:59 2013 -0800

    Improve dev caching by naming static files based on mtime.

commit b3436f3eb30f6ba7db3f52bcca37ed262b52aca8
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 9 03:17:11 2013 -0800

    Remove reference to removed function.

commit 06536674d13d696db629b0cafdef5a6df16dd3f5
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Mar 14 13:24:53 2013 -0600

    Don't show removed comments in /comments listing

commit e61de2b22f083c1b20927677235e5c00e6facf66
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Mar 15 13:22:23 2013 -0600

    Use 'message the admins' in appropriate subreddit

commit b1ae35fb042f0ffe16c3105426b4729c0f487fdb
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Mar 14 10:38:56 2013 -0600

    Missed some 'reddit's in compact/mobile/messaging

commit 8af415476bcbecc6729c20ada7fcd1d041495140
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 13 20:28:35 2013 -0700

    Update and fix license headers for 2013.
    
    Angst!

commit 728913bcec9a903d2e62ac731f685b1dbf126d3b
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Mar 12 15:40:17 2013 -0600

    Replace _ in username to avoid markdown issues
    
    When gifting a user gold, it displays their username using markdown,
    so any underscores need to be replaced first to avoid having part of
    a username between them interpreted as italics.
    
    Fixes issue #714

commit a182078fcd8a1aeedcdb4603ab426ad5ddaa9648
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Mar 12 22:25:21 2013 -0600

    Convert or-ed startswith()s to tuples elsewhere

commit 9354da77cdd146d039086ee803bcb0de092f1604
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Mar 12 20:20:30 2013 -0600

    Change "reddit" to "subreddit" where appropriate
    
    This also adds new routes for /subreddits/ replacing /reddits/, though
    the old routes are kept as well for backwards-compatibility

commit 6976b8d4e6e2cef9bd8e3bf7080d023dfe5db4e8
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Mar 11 17:21:38 2013 -0600

    'reddit this ad' to 'discuss this ad on reddit'
    
    Also delete a static ad file that's no longer used

commit ebb1e2d568bf891cec2429e1f1b619e285fe8413
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Mar 11 01:03:44 2013 -0600

    Add title attribute to linkflair span
    
    The default stylesheet sets a low max-width on the linkflair span,
    so long flair is often cut off on the front page. This will allow
    mousing over the flair to see the full text.

commit 8730de12203862a3f1c950ee2aa89a395036c961
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Feb 26 15:14:55 2013 -0800

    Domainban:  Take TLDs into account

commit 1acb2351c5edaf7da208e576e1b630761690b328
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Mar 5 07:58:23 2013 -0800

    Show childless deleted comments if c.user_is_admin.

commit ce7776f59dd704e327762becf53ff9d650c61af2
Author: Neil Williams <neil@reddit.com>
Date:   Thu Mar 7 22:12:39 2013 -0800

    Add author_slow to Comment as queries.ban needs it.

commit b0d307eaabf48609f465decc9c485c56fade0a9c
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Feb 19 15:45:22 2013 -0500

    Don't show hidden promoted links.

commit ae14afc909702f127c359d57394dc738a98b35f9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Feb 21 16:53:08 2013 -0500

    Open stripe to all countries.

commit baf48978e12bb9e2186e643d164943d8d62cdfbf
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Feb 27 19:52:42 2013 -0500

    Do better job of disabling/enabling stripe button.

commit c32fdd1adf9b965009f1a0a968c9cbdca53404ca
Author: Max Goodman <max@reddit.com>
Date:   Mon Feb 25 21:24:14 2013 -0800

    Batched, on-demand tracker hash fetching.
    
    Instead of fetching tracking hashes for all applicable elements on the
    page, fetch only the visible ones. Uses _.debounce() to batch up
    requests during the init process.

commit a31296f9725b8925d431730d206f3632757dc446
Author: Max Goodman <max@reddit.com>
Date:   Wed Feb 27 15:36:57 2013 -0800

    Add request_origin helper property to c.

commit 41d57da103044cd22b6ea8ef5a0facf910591d6b
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 8 16:17:37 2013 -0800

    Remove dupe spotlight.js module file.

commit b92059a5cf2c2b5b44422b3a42a6d4dd3cef3714
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 8 15:25:34 2013 -0800

    Load r.strings in "reddit-init" module.
    
    This enables LocalizedModule strings use if the "reddit" module was not
    included.

commit ba72f6aec8836906416fc79e6402433bd2388ca1
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 8 02:52:08 2013 -0800

    Add back id alias to sponsored link listing container.
    
    This fixes having two elements with the id "siteTable" on subreddit
    pages containing a single sponsored link.
    
    Thanks for the heads-up, /u/honestbleeps!

commit 3574a6499242758f1a2a03cf613c941e8dc3f173
Author: Neil Williams <neil@reddit.com>
Date:   Wed Feb 20 17:28:19 2013 -0800

    Add an optional paste-filter compatible Gzipping middleware.
    
    The paste-supplied gzip middleware is primarily for testing and is
    insufficient in that it:
    
    1) is unable to require a minimum size for gzipping
    2) does not correctly add the "Vary: Accept-Encoding" header
    
    it is also somewhat difficult to add those features given its structure.

commit 238a790807210c01c28a0905e3f4e36058a8750e
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Feb 25 13:44:15 2013 -0500

    Spotlight handles campaigns better.

commit 820cf02fd2831d12efeddaf15d9646f387a4d04d
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Mar 1 14:16:47 2013 -0500

    Make a stub for each campaign.

commit bc8b254c04f6229109f5b72f7d89f1dc519325a9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Feb 27 16:00:25 2013 -0500

    Set data attributes on stubs.

commit 51ef0050523efb6c5c2b588027973e4e7018796d
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Feb 27 13:37:59 2013 -0500

    Clean up lookups in spotlight.

commit c15a87be8612e374e267103b58e11c09edaab9aa
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Feb 25 16:14:40 2013 -0500

    Loggedin spotlight: pick winner in advance.

commit 94a7ee0eb9ac40b08b311c0375ef83c3ab3d48ff
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Mar 3 21:43:02 2013 -0500

    Delete randomized_promotion_list.

commit ab31259c523bcb8f84401db65060107938c6737a
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sat Feb 23 18:35:12 2013 -0500

    Split up the spotlight.

commit d8c9db9af89b10bbf471f498a7988b90ab048cd7
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Feb 25 15:25:58 2013 -0500

    CampaignBuilder don't combine campaigns on same link.

commit f61587c7af24b2a719ae00bc79a04e9e2d830ded
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jan 30 16:03:21 2013 -0500

    Cleanup in get_promotion_list.

commit ecea06bf90a28fe7104c254be99868a0e0020130
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jan 30 16:01:44 2013 -0500

    Add caching to get_promotion_list and use namedtuple.

commit d578e3a3a390dbc922a6bd508934bfd596ad4040
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jan 30 15:54:03 2013 -0500

    Rename get_promoted_links to sample_promoted_links.

commit 8075fa83c3a98baa8ef17a26b41db1a743c7a3e4
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jan 30 15:47:56 2013 -0500

    Stop get_promotions_cached from combining campaigns on same link.

commit 7398916b886a5284c2511e696c4cbe74ba3addd3
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Feb 26 14:58:19 2013 -0500

    Send users a system message when they buy gold with google wallet.

commit a769dd66661447ae8d2f34d8704f14e67797870c
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Mar 1 18:05:10 2013 -0700

    Add /r/myrandom (gold only for now)
    
    Takes you to a random subreddit you subscribe to

commit c295ea07f30d5712032586545d72b86b16daf9f9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Mar 6 15:36:18 2013 -0500

    ipn: Log errors related to send_system_message.

commit e1263edce1e250f330b5020fb9e69dab67f87742
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Feb 22 14:22:12 2013 -0500

    send_system_message raises MessageError if inbox full.

commit 9d44e89fe2c2b4ba0c694ce99302873039a59fea
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Feb 27 17:59:26 2013 -0500

    Add MessageError.

commit 93243e526ad03161c2584659491211bc8380eaad
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 6 11:27:19 2013 -0800

    Make sure fastlaned comments still show up in /comments.

commit bafc86a5718305436e00350872c272d0ba994405
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 6 11:26:24 2013 -0800

    Automatically ignore fastlane comments in normal commentstree_q.
    
    This is safer than skip_commentstree_q as it's tied to the live config
    rather than a data attribute that we can forget to change back.

commit 3b02c44f4d67f6452925305b96e11b755b0351c2
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Mar 5 23:45:48 2013 -0700

    mobile/compact still needs save_thing() and unsave_thing()

commit 9691a1ae9177843568bc3a9f37696b743bed9a3d
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sun Mar 3 16:17:20 2013 -0700

    Allow subreddits to exclude banned users' posts from their modqueue
    
    Many subreddits just use scripts or AutoModerator to automatically
    confirm removal of all posts by site-wide banned users from their
    modqueue. This will eliminate the need for third-party tools for it.

commit bfe3b3511bd0eb13dffeb4805cc695b2ce111825
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Mar 5 15:06:10 2013 -0500

    Wrap sqlalchemy sum to handle BigInteger.

commit d77e21374bae5e180adb1b7cc1f626af4df7cbc6
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Mar 5 10:15:52 2013 -0500

    AdImpressionsByCodename total needs to be BigInteger.

commit fddeb888f4787197a3e4a9b129c47d6d03ed3da4
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Mar 4 14:36:00 2013 -0500

    PageviewsByLanguage total is now a BigInteger.

commit 034dacdb67f9be410a391a86cd4846ce2a8b534d
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Mar 4 14:55:08 2013 -0700

    Redirect to subreddit search if subreddit name includes a hyphen

commit 137c46113b4abd2766c32b6aa391ee1b64aef962
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 1 16:35:59 2013 -0800

    Add nodejs to install dependencies.

commit f0cc1506af766aeded452a35388d6a1cbbf0eea4
Author: Joe Alcorn <me@buttscicl.es>
Date:   Wed Feb 27 15:16:26 2013 +0000

    Add first_message_name to MessageJsonTemplate, a fullname version of the current first_message

commit 67046e613a5ce0d7466c40ec5f658b94d99a1a58
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Mar 1 12:25:07 2013 -0700

    Fix exceptions caused by plain_link with no path

commit 4e74f1c28adb99338bc8d4267d55ff7ed2327407
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Mar 1 11:22:14 2013 -0700

    Fix top-level distinguished comment messages
    
    The new "sendreplies" feature introduced a conflict since this
    feature was assuming that self-posts would always send messages for
    replies and that links never would. That's no longer true.

commit 252d81e64d89af2b6410315134985a17df1cef14
Author: Ricky Ramirez <rram@reddit.com>
Date:   Fri Mar 1 09:56:51 2013 -0800

    report: Don't bomb on thing.ignore_reports.

commit da1e71f16420b58a21acba1bb453d15ad6f0ad71
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Feb 28 13:39:39 2013 -0800

    log: Add single line summary for errors.

commit 94abab2c45cb87e9361b06148092f0fc4d8ce822
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Feb 28 13:10:52 2013 -0800

    Ensure checkboxes and radios don't set form fields when unchecked.

commit d1b2541c4ad2559237896a8cbfc2309b164e4393
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Feb 26 08:04:04 2013 -0800

    Allow gold users to optionally receive inbox replies to posts.

commit 71f274762e90d0d521ebb671982ac37b46e8dcf6
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Feb 26 22:23:19 2013 -0800

    Modify js to allow checkboxes to send their checked state when desired.
    
    If a checkbox has data-send-checked, send is(":checked") to the form field
    instead of the checkbox's value (which is always 'on').
    
    Allows for sending explicit unchecked state.

commit 4bcf604f74bae092b3598b5590b00eace2a98325
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Feb 26 08:03:12 2013 -0800

    Add sendreplies attribute to Link.

commit 56100fe1087d0eab42d451c8766517a7c7ddc76b
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed Feb 27 16:31:58 2013 -0800

    rulespage: Fix anchor to vote cheating wiki page.

commit 500f9204cd7ded550cf31223324fa2c17b857e1d
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Feb 26 11:29:54 2013 -0800

    Clarify /rules vote manipulation rule.

commit 0680b7495f8c1fcde238e06d6840579152c511f6
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 28 12:00:09 2013 -0800

    Override wsgi.url_scheme when c.secure is set.

commit e22fdad2c40dab1fecfa40241b458a86153fc57f
Author: Max Goodman <max@reddit.com>
Date:   Wed Feb 27 15:00:26 2013 -0800

    CSRF mitigation hack: reject logins sent with a session cookie.
    
    Configured user agents and logging in as the same user account are
    exempted.

commit 5b1c2a68fb6ad1567ce1f343719dbe0af924d3eb
Author: Max Goodman <max@reddit.com>
Date:   Tue Jan 22 02:27:46 2013 -0800

    Clean up infobar logic.

commit 127cee1e506f795a59fdb98c3cb65eb23d83448d
Author: Max Goodman <max@reddit.com>
Date:   Tue Jan 22 02:17:46 2013 -0800

    Delete obsolete cookies.

commit 6185f46a0689a3e1810fb3d051f223b7b9d87079
Author: Max Goodman <max@reddit.com>
Date:   Sat Jul 7 09:23:53 2012 -0700

    Rename show_firsttext to show_infobar.

commit 299bb05672966f781d80edea626f674bc998bc66
Author: Max Goodman <max@reddit.com>
Date:   Mon Feb 25 18:08:42 2013 -0800

    Replace reddit_first cookie with client side logic.

commit 95a8bf2c92a96a9a5f209c609655413e7bbdba02
Author: Max Goodman <max@reddit.com>
Date:   Tue Jan 22 01:57:28 2013 -0800

    Darken "mellow" infobar border.

commit 37b9073e389f4538a9682fafbe690dda9e66eca2
Author: Max Goodman <max@reddit.com>
Date:   Fri Feb 22 15:48:21 2013 -0800

    Prevent framing on prefs pages.
    
    Thanks, /u/olemoudi.

commit 8ddd5c51bfd16abde6acd00ae896a1f3f2f57675
Author: Max Goodman <max@reddit.com>
Date:   Thu Feb 21 17:06:49 2013 -0800

    Load admin bar backbone with noConflict.
    
    This is to avoid conflicts with Backbone on the about pages until
    Backbone is in the main JS lib.

commit b793f20a3acd03566a5979e38108b2f0e450ad57
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 10 23:53:03 2012 -0400

    Add admin bar: top bar UI for status info/stats/tools.

commit bda7c460ae32acb43292a9deeccd271902058d17
Author: Max Goodman <max@reddit.com>
Date:   Mon Jan 14 19:27:14 2013 -0800

    Fix typo in admin page menu.

commit 2776fc7cd14ae71c4861a457b6297f41408aa0c7
Author: Max Goodman <max@reddit.com>
Date:   Thu Feb 21 16:12:15 2013 -0800

    stats: Add timing logging capability.
    
    This also rejiggers stats timing code to record a start and end time
    instead of a duration, so timings can be plotted on a timeline
    visualization.

commit 67af84488ddee23ca3c5a17c2562ca3d3b085dc9
Author: Max Goodman <max@reddit.com>
Date:   Sat Jan 12 01:51:25 2013 -0800

    Add request timer intermediate for "post".

commit e65b79029e53ac7e24eaf92911d7e5ccda453f08
Author: Max Goodman <max@reddit.com>
Date:   Thu Jan 10 00:53:17 2013 -0800

    Add Backbone JS lib.

commit a82c27802309dfe873a0f2bd866ee948d30eeee5
Author: Max Goodman <max@reddit.com>
Date:   Tue Jan 8 16:40:42 2013 -0800

    Fix LESS syntax error and color issues.

commit b770a4b1e28341e9810c3114d938b95011ba8244
Author: Max Goodman <max@reddit.com>
Date:   Tue Jan 8 16:40:28 2013 -0800

    reddit.css -> reddit.less
    
    Note: you'll need to update your .ini stylesheet name to have a .less
    extension.

commit 244b314cf4e299438788081658aebf5e49e45e34
Author: Max Goodman <max@reddit.com>
Date:   Mon Jan 7 16:49:35 2013 -0800

    Move nonessential JS to the bottom of the page.

commit 4e24bff045ca1c1c198662e6d1ce7ba9065e856a
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 29 19:20:54 2012 -0700

    Add js.py/strings.py as deps to JS modules.
    
    If either python file changes, we may need to change the compiled JS
    files. We'll take the conservative approach and always rebuild.

commit 261583095f8e1354eee1899e0fccc92d1ce5ee12
Author: Max Goodman <max@reddit.com>
Date:   Sun Oct 28 00:25:37 2012 -0700

    JS string formatting parameter substitution.
    
    This changes the string usage pattern from:
    r.strings.stringname to r.strings('stringname', parameters).

commit 3788b971ad06d4348707844d23708a30d7f82bdb
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 29 23:40:04 2012 -0700

    Add JS DataSource abstraction for wrapping JSON blobs.

commit 0ed5decc1faa649174673dc3c6ddae45552ff361
Author: Max Goodman <max@reddit.com>
Date:   Tue Nov 20 18:38:03 2012 -0800

    Clean up unnecessary variable.

commit 89faae2290c5626d364ca2339c39acac878cbf14
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 29 23:47:10 2012 -0700

    Whitespace.
    
    PEP-8 and whitespace removal.

commit 63d7b39434f444e3536dc0576267db8649ff3058
Author: Max Goodman <max@reddit.com>
Date:   Sat Feb 2 01:53:53 2013 -0800

    Client side spotlight stubs + back/prev buffer.

commit abfa8d5d72d3b4862c2656907a783a1f86bfd073
Author: Max Goodman <max@reddit.com>
Date:   Wed Feb 6 00:39:40 2013 -0800

    Use overflow trick to properly size border up to sidebar.

commit 3732980c0282bc81c6ab639d909a87d582ff64ab
Author: Max Goodman <max@reddit.com>
Date:   Tue Feb 5 18:57:08 2013 -0800

    Fix last_click highlighting in browsers with a bfcache.
    
    Browsers with a back forward cache will restore the page rather than
    reloading it, so we need to run the highlighting function on the
    "pageshow" event as well.

commit a20bd596fa927fe398adec7b61a58ed7fcc10aeb
Author: Max Goodman <max@reddit.com>
Date:   Tue Feb 5 18:49:26 2013 -0800

    Use breadcrumbs to determine last click highlighting.
    
    Increase breadcrumb collection length to accomodate a single back/forward
    button usage after a click.

commit e1dfc7709cdb7f1c9e287f961d34e15c3da0f148
Author: Max Goodman <max@reddit.com>
Date:   Wed Feb 6 16:01:25 2013 -0800

    Remove unused function argument.

commit dbad14d816d295f1cb3a976f1241d00a11ef540b
Author: Max Goodman <max@reddit.com>
Date:   Tue Feb 5 20:36:12 2013 -0800

    More granular breadcrumb storage length.

commit 28d3388642c36dbe6f7763b8fd53d85da287b4b0
Author: Max Goodman <max@reddit.com>
Date:   Sun Feb 3 22:20:27 2013 -0800

    Add debug util functions to base.js.

commit 09a0f91ae967f9cc82f9372c2ceb12c92faf1f74
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Feb 4 17:53:20 2013 -0500

    Loggedout users always get a promoted link in the spotlight.

commit c886c59cc87e2da23269c19301f38080dd960a14
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Jan 31 15:47:32 2013 -0500

    Add promoted_link tools.

commit fc784dd5e1f475010b9656ac915a4a91101a7a7f
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jan 30 15:25:36 2013 -0500

    Delete insert_promoted.

commit 3e4fcb3d198d378ad0a1c0c02cfcdb6e8feff08c
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jan 30 15:23:48 2013 -0500

    Delete benchmark_promoted.

commit f7f346afa7ebf3a1bb64bed896fd02e27fe9ab6d
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jan 22 19:40:23 2013 -0500

    Client side shuffling spotlight content.

commit beffa529663beb676c33be02face3178ffd759cb
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jan 15 18:47:18 2013 -0500

    Insert promoted links according to promoted_every_n.

commit f1caa0542a1776bc5c92cd518daac5ed17b9bd21
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jan 15 18:18:04 2013 -0500

    organic: Delete unused organic_length.

commit eb985d12a751530fcf701f5dd69dd7980a71ef8d
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jan 15 17:58:09 2013 -0500

    Delete organic_pos.

commit a4e0aa022fdd32b42606987101da49bcaf78d870
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Feb 20 18:16:14 2013 -0500

    RedditGifts gold controller.

commit 6ce383ea0e34bbf9bbb9204a1f3892f6a4350ed9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Feb 15 18:15:05 2013 -0500

    reverse_gold_purchase only needs transaction_id.

commit 9bdea7995a1b10bdd09d0e5d600729c740534ffc
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jan 29 14:00:39 2013 -0500

    Don't assume months from pennies.

commit 94ac1596f9aa4c4cced9c72a8a60c301be12c4c1
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Feb 15 17:51:15 2013 -0500

    Typo in complete_gold_purchase.

commit ac4e5e5382a7e785733d16748eb4ce797e60f1a3
Author: Neil Williams <neil@reddit.com>
Date:   Wed Feb 20 18:21:21 2013 -0800

    fetch_things2: Assert that a sort order is provided.
    
    Otherwise you end up in a bizarro infinite loop.

commit 89cea3e4392f3530cd8fdf31dc8f7e0008e2c5c8
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Feb 22 11:03:52 2013 -0800

    Disable changing one's own permissions.

commit c751ff013211f631384f947d11af1469499fbd94
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Feb 22 10:53:02 2013 -0800

    Allow limited mods to demod themselves.

commit 6a59536f4de8236ef43b54fe6ce385c6b685a70a
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Feb 21 16:55:37 2013 -0800

    Make ModList narrower and remove sendmessage col.

commit 1e4e67846244a51fc41a4f353906c2b5cc2c8cb2
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Feb 21 16:55:04 2013 -0800

    Fix permission control in the moderator invitation form.

commit ce578353940f60309ee7eda5d9ed7327ff4ff2c0
Author: Neil Williams <neil@reddit.com>
Date:   Tue Feb 26 17:06:43 2013 -0800

    Avoid loading pycountry in the app.
    
    It takes a tonne of memory. If the countries.json file is present
    (generated by "make countries") then the app will prefer to use it
    saving itself megabytes of space.

commit c870dde2760f147bfc58c43a8b3e4da71d793df0
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Feb 25 18:08:09 2013 -0700

    Add distinguished status to JSON templates

commit 191c249934b2540e33c40990dbb3f01e2f7ebdd5
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Feb 11 22:33:50 2013 -0800

    Exclude items hidden to the user from 'other discussions'
    
    Exclude from both the listing as well as the count in the tab

commit 4907bc4bb1cf468d6b76a2b1188c130d02fa0b83
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Feb 11 22:54:35 2013 -0800

    front.py PEP8 whitespace cleanup

commit 676eb6fef6d2fc88f6efcae16f5cee959ae35c63
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sun Feb 24 21:53:39 2013 -0700

    Have save/unsave button toggle back and forth
    
    This also removes the confirmation added in 3e74406

commit bc4a9e7c960a5cf8d0e3b3c395e671a8d7e3d0da
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Feb 22 16:05:42 2013 -0700

    Don't trim off over half of a suggested title

commit cb0949ac45d1ace68f392f89a8bc8a30aa18f241
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Feb 22 13:46:57 2013 -0700

    Confirm suggest title if they already entered a title

commit 0eee54b008a23ef2e9b509eb1dff8c2629503c4f
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Feb 25 14:36:03 2013 -0700

    Re-add listing-page class to body classes

commit 57e324cff2202db87a194ad9e4b5da9396dde43e
Author: Joe Alcorn <me@buttscicl.es>
Date:   Mon Feb 25 00:31:39 2013 +0000

    Prevent incorrect redirection when visiting /r/subreddit/new?sort=rising

commit d107d0329ebfa9ad01a2493f7221762911b70fca
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Feb 25 13:26:42 2013 -0700

    Send message to link submitter when a top-level comment is distinguished

commit 7a940416a890d810d983de7bb80595ece20c0881
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Feb 22 18:04:24 2013 -0700

    Remove alternate labels for tabs when they're the active one
    
    (This hasn't worked since April 2012 anyway)

commit a129a81f34034de3d5a18d646ffea0ddafce133f
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Feb 22 18:21:15 2013 -0700

    Add body classes to all remaining subreddit pages

commit c28061e1e4799f4062e3cc5f730167db76c1409f
Author: Jason Harvey <alienth@reddit.com>
Date:   Wed Feb 20 20:30:27 2013 -0800

    Display default thumbnail on deleted or removed links.

commit 9f5c86a5cdb7dc7c2ec09c351f555a24d43c87c3
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Feb 22 12:21:09 2013 -0700

    Split rising out of new to its own tab
    
    Also redirect any requests for the old rising URL to the new one
    
    Redirect POST requests to GET (should only be necessary during push)

commit e80bf458f3f3496bbce84b748f952c6c2da48c64
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Feb 21 18:13:31 2013 -0700

    Add confirmation to unsaving

commit 3c148392b37e197a938663c19883320d3b138ad6
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Feb 21 16:32:06 2013 -0800

    reddit_base: Exempt all 5xx responses from pagecache.

commit 42db2b5daf75364d001941830a5f046fbb6d7946
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Feb 21 20:33:04 2013 -0800

    prefoptions: Update "volunteer to translate" link.
    
    This is deliberately an absolute link so that open-source installs will
    contribute back to the main i18n repository.

commit bd522e5af784becef92dab461d6b91d116a73ec0
Author: Neil Williams <neil@reddit.com>
Date:   Fri Feb 22 11:49:33 2013 -0800

    Comment Votes: update CommentSortsCache *after* updating comment scores.
    
    This was causing CSC to have scores based on stale (off-by-one) vote
    data.
    
    One thousand thanks to @raldi for noticing this.

commit 4b08a17d09d3f09da0e78f6c363a372b4f54398d
Author: Max Goodman <max@reddit.com>
Date:   Wed Feb 20 14:08:52 2013 -0800

    Rename "error" param to be a bit more pedantic.
    
    As we more further towards errors being actual objects.

commit 5db4b4d755a67607618e8120ee9d0d3760fbd766
Author: Max Goodman <max@reddit.com>
Date:   Tue Feb 19 15:03:09 2013 -0800

    Cleanup.

commit ba7841248076ad4532f53605286a41efea7c23b2
Author: Max Goodman <max@reddit.com>
Date:   Thu Feb 7 23:24:26 2013 -0800

    Generalize wiki validator / error system.
    
    * Generalize validator error class and make an Exception subclass.
    * Provide per-controller handling of fatal validator errors.
    * Instantiate correct http exception classes using status_map.

commit dbcd5f60790cce333896c6f72688bb213802a996
Author: Max Goodman <max@reddit.com>
Date:   Fri Feb 15 17:03:28 2013 -0800

    Remove unused GoldRequiredException.

commit 927426ee1bad5f75cac4812e7bfacf1fbc0a4178
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Feb 14 12:07:44 2013 -0800

    strings: Update gold info page link.

commit 6e2231787e161e2e699b790d24f350195c8cd95c
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Feb 21 13:07:38 2013 -0800

    Fix bug checking wiki permission on UnloggedUser.

commit cdefa89421ee0b8896c74b75348f5285831ef913
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Feb 21 10:42:33 2013 -0800

    Add moderator permission for wiki.

commit 81acc136f4f21206a048d08b3e3a2826ac0c04bf
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Feb 20 17:39:05 2013 -0800

    Fix memoization of X_ids and reverse_X_ids.

commit e22d31be9170d6965face9a333b2060326531c6a
Author: Max Goodman <max@reddit.com>
Date:   Wed Feb 20 13:20:21 2013 -0800

    Use input type="email" in the registration form.

commit f0b4d8fbdb6e6499990d55d832710954dcf4dbc4
Author: Max Goodman <max@reddit.com>
Date:   Wed Feb 20 13:09:20 2013 -0800

    Clarify the email field in the registration form.

commit b309532b4f80c1b186cdf8b82a10a772f8e69142
Author: Max Goodman <max@reddit.com>
Date:   Fri Feb 15 15:52:11 2013 -0800

    .compact: Layer subreddit name above logo.
    
    Thanks 7oby! http://redd.it/18ccy5

commit 125abe9e8f1e0b792fa7429fc2230f8b1d2d41a1
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Feb 20 13:08:44 2013 -0800

    Include all mod tool buttons for admins.

commit a3c7dd0b10b184ccce0fdde012c0a3eae770c650
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Feb 20 12:01:55 2013 -0800

    Check for posts permission in spam/reported/modqueue/unmoderated queries on multireddits and /r/mod.

commit b0738c79027581f2f69b6342464a83c7d4dafc1b
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Feb 20 11:49:44 2013 -0800

    Explicitly import permission set definitions in validator.py.

commit 4d252de134a8cd1539ae7844e5df0fc8139b45e8
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Feb 20 11:48:12 2013 -0800

    Make sure is_moderator always returns permissions support.

commit de76bb63803c610d38c9e65dabfdf628311f635e
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Feb 20 11:17:16 2013 -0800

    Add get method to StringHandler.

commit 56e310105b8724cb6e47495515524ce29210c710
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Feb 6 10:13:19 2013 -0800

    Add moderator permission for mail.

commit 9a23deb878f56779d816df951710bb3aef0e636a
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Feb 5 14:49:47 2013 -0800

    Move permissions (and related strings) to lib.

commit 890916859fb1cd2a81bfb46167e07007d153e899
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jan 30 17:15:26 2013 -0800

    Add moderator permission for managing subreddit config.

commit 2619be42441001ae3ee7dcace11003c2b793bab0
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jan 30 16:49:05 2013 -0800

    Add moderator permission for access (bans, contributors, etc.).

commit 5106508ed6257b16f9ede91c0900a0d90745cfba
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jan 23 14:15:31 2013 -0800

    Add permissions editing to the edit moderators page.

commit 4aed1baea9a9075bca8f4170c83f7e91b5fe9f17
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Dec 12 17:26:14 2012 -0800

    Add moderator permission for posts (approve/remove/distinguish/nsfw).

commit dc5cc92962add3e431fca6b4ae26422f6423a097
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Dec 12 17:10:32 2012 -0800

    Add moderator permission for flair.

commit 5315281f829e83ca08b9b83f516008ba67899735
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Dec 12 17:08:46 2012 -0800

    Add permissions to moderator relations and VSrModerator.

commit 07db3ff6d8b9995171d298354193d663b0179e14
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Dec 11 14:54:24 2012 -0800

    Add each_<userrel>() method.

commit 13b64364d9dc2600eda239085e1a20650fcadfe8
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Dec 5 14:40:16 2012 -0800

    Refactor userrel.py.

commit 60006856cb179ced26374c3097bf488cd40b0a31
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Feb 19 09:44:23 2013 -0500

    In validate_blob do _force_unicode on giftmessage.

commit d75131971586145febf8c5946d15c6a4e7a0cd92
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Feb 18 23:33:40 2013 -0500

    Correctly parse usernames with hyphens from stripe charges.

commit 39a136fa2456421877ab3d6aea1b179a71628fe0
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Feb 14 13:03:57 2013 -0500

    PromotedLinkTraffic returns entire run when getting csv.

commit caf1316d3c6e01583550f992cd1532fb0b562dff
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Feb 14 11:39:43 2013 -0500

    Add next/prev buttons to promoted link traffic listings.

commit 60f907070db49861fbe6776f1c979b6615c853a2
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Feb 14 11:18:04 2013 -0500

    VDate can take alternate date formats.

commit 9391310c6ebcfa5973aefaa28829cb61451779d2
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Feb 18 23:20:17 2013 -0800

    Point old wiki links to their new URLs.

commit a5b09b4bf5a744fa6c2b409503075bf432b03b70
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Feb 18 23:19:30 2013 -0800

    Point old wiki gold links to /gold/about

commit 4aec9618e65792f7d2b470977bdcaf1f142c130e
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Feb 18 22:24:47 2013 -0800

    write_live_config: Fail correctly if there is an error.

commit a9b5d2a7b00d4f58cf51172aa8023386c5accd70
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Jan 21 20:48:53 2013 -0800

    write_live_config: Exit with non-zero code on user abort.

commit e301b34cdae7b15e8b1459c50e831fb5e777c74e
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jan 7 09:42:03 2013 -0500

    Coinbase payments for reddit gold.

commit 3d511075a01db378ef1be83e621c16b1d405bd25
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jan 8 10:04:46 2013 -0500

    Stripe payments for reddit gold.

commit ef99714d498502097ea06b6f2b0e586da55ef781
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jan 28 14:56:37 2013 -0500

    GoldPaymentController to handle IPN stuff

commit c78c3dbdffc15d57d500ae075e105ee01270f67c
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Jan 10 10:31:54 2013 -0500

    Make gold.html handle negative gold_creddits.

commit 52aaaaeece22bded67c929009f4aa400d782c300
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jan 8 09:59:18 2013 -0500

    Helper functions for gold IPN.

commit 7f5eb6b2026b7040c69ddf4c76a389adac9c86f2
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Dec 20 17:59:23 2012 -0500

    Only show PayPal button if there's a button to show.

commit 3fcf8c9c03a1e18b7c6a8c04d48edb718bacfd9f
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Dec 20 17:58:28 2012 -0500

    Move payment buttons to functions.

commit 48aee3dc062f2c37ccf7a6c00b84c319aafb269c
Author: Chad Birch <chad.birch@gmail.com>
Date:   Tue Feb 12 16:48:56 2013 -0800

    Remove icon from disabled submit sidebox

commit 6d7d07cd11cbd7cd3693733af56a311f29c8bdc9
Author: Chad Birch <chad.birch@gmail.com>
Date:   Sun Feb 10 21:54:43 2013 -0800

    Second submit button for text posts, remove subtitles
    
    Also disable submit button in restricted/archived subs when logged out

commit 77efa9ab436142b9cf948b65e1a69fe52a3f9b6f
Author: Neil Williams <neil@reddit.com>
Date:   Wed Feb 13 11:48:47 2013 -0800

    wrap-job: Don't cd into r2/r2/ when we just want to be in r2/.
    
    This was causing Pygments to fail to import correctly in jobs since
    r2/r2/ has a commands.py which was getting relatively imported by
    accident. Yuck.

commit 775c795894dd176c690c9836579853c096f1dd37
Author: Neil Williams <neil@reddit.com>
Date:   Mon Feb 4 22:17:27 2013 -0800

    Use WebError Reporter objects for exception logging.
    
    This brings log_q reporting and logging-based reporting (syslog)
    together into one place as WebOb error reporters.

commit 3657de5d108f68d95ffcbe1429c4819b1c1f91e4
Author: Neil Williams <neil@reddit.com>
Date:   Mon Feb 4 22:15:55 2013 -0800

    Clean up and document log.py.
    
    This also removes module-level use of "g" or imports of r2.lib.amqp so
    that importing this module is possible before the app is fully set up.

commit 09c572c964d9eb2d7089231af4097c7ce7081cad
Author: Max Goodman <max@reddit.com>
Date:   Wed Feb 13 00:46:11 2013 -0800

    Make ignore reports button a 2-state toggle button.

commit 02bd09ae53aee4562e2bc58f81c19dd82379d1e5
Author: Jason Harvey <alienth@reddit.com>
Date:   Fri Feb 8 17:33:37 2013 -0800

    Adjust how and when builder shows reports and big_modbuttons.
    
    Always show big_modbuttons on spamlistings (report listing, mod listing, etc).
    
    Only display reports if ignore_reports is False or the user is admin.

commit 8e212ca459711c11ccf09bcc794bd4dca498f383
Author: Jason Harvey <alienth@reddit.com>
Date:   Fri Feb 8 16:43:18 2013 -0800

    Add ignore/unignore reports functionality for moderators.
    
    When a thing has ignore_reports, the thing is no longer added to the moderator
    cached queries (reported queue, mod queue, etc) when a user reports it.

commit 8aadbc34c90e77af5e3bef16bf99f495e5f6ed0e
Author: Jason Harvey <alienth@reddit.com>
Date:   Wed Feb 13 22:50:13 2013 -0800

    Include link to /r/changelog in readme.

commit 85b2acc5fff8ad34f5b20be9c8779f1da88e4c9a
Author: Andre D <andre@andred.ca>
Date:   Wed Feb 13 16:35:57 2013 -0500

    wiki: Fix hidden revision visuals not working in opera.

commit 74a7141a63d75e1948d46efb9adaaacb22019aa3
Author: Max Goodman <max@reddit.com>
Date:   Mon Feb 11 17:25:43 2013 -0800

    Make the admin cookie HTTP only.

commit 87bd576689a7ac24b5b2301a378d83a0a4a372da
Author: Alex Muller <alex@mullr.net>
Date:   Wed Feb 13 18:18:03 2013 +0000

    Add width and height HTML attributes to static image in templates.

commit eb6f75068444ae92c6db44ea769120ce9ef99040
Author: Ricky Ramirez <rram@reddit.com>
Date:   Sun Feb 10 22:44:58 2013 -0800

    reddit_base: Update last_visit on login.

commit 9576d87ec6e4a010550f17cb7bceffa4a8545ee4
Author: Ricky Ramirez <rram@reddit.com>
Date:   Fri Feb 8 14:31:17 2013 -0800

    reddit_base: Allow a forced override for last_visit.

commit 41812477d91c68dd6891098b9aa6bab59b2155d7
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Feb 6 17:23:32 2013 -0800

    Encode strings from oEmbed scraper to UTF-8

commit 3942701650a879ddbcbf5c06d6f6a544dcc5c00f
Author: Max Goodman <max@reddit.com>
Date:   Wed Feb 6 13:59:21 2013 -0800

    Grammar make better.

commit 68b7bec70af83a839f32a6f1963ccf2aa0d540a9
Author: Joe Alcorn <me@buttscicl.es>
Date:   Wed Feb 6 21:46:47 2013 +0000

    Change commented -> comments in api docs

commit 8acc80504b38afd0359900df640d03e5b4b2f8ad
Author: Andre D <andre@andred.ca>
Date:   Tue Jan 29 23:25:26 2013 -0500

    wikitoc: Fix some headers ending up at the wrong level.

commit c63c14ef39d39fae676b5f7cbd28832666a738a3
Author: Andre D <andre@andred.ca>
Date:   Tue Feb 5 01:29:36 2013 -0500

    wiki: Correct /wiki/revisions route priority.

commit 14f8f735138252d9bbf02e51e9695c98f4d01ce4
Author: Neil Williams <neil@reddit.com>
Date:   Tue Feb 5 11:30:15 2013 -0800

    Remove various unused configuration settings.

commit a435173fcb76146959050f7dfe63c501293b2375
Author: Neil Williams <neil@reddit.com>
Date:   Tue Feb 5 11:29:45 2013 -0800

    Fix sr_moderator_invite_quota not being parsed correctly.

commit 3febc83d6858c26ae7466e0c3b8f9582ffea6b1a
Author: Neil Williams <neil@reddit.com>
Date:   Tue Feb 5 11:04:59 2013 -0800

    Remove obsolete query_cache configuration options.
    
    Much new code expects the query cache to always be present, especially
    for stuff that is 100% Cassandra based and doesn't even have a Postgres
    query to back it. These options are just cluttering up our code since
    they're useless now.

commit 472d07ab40cd0557aa5b82231af4fab928bf58fa
Author: Neil Williams <neil@reddit.com>
Date:   Tue Feb 5 10:51:44 2013 -0800

    Remove lingering remnants of obsolete "translator" interface.
    
    This was obsoleted by Transifex.

commit 5f916f5812e7c3920d0cb968470280d1198e1fff
Author: Neil Williams <neil@reddit.com>
Date:   Tue Feb 5 10:46:47 2013 -0800

    Remove unused QueryController.
    
    This was part of the obsolete query queue system.

commit 74fb7c2d78cd6bf319e0e1797410bdbdaf8d109c
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Feb 4 23:33:37 2013 -0800

    static Makefile: Work around NFS hardlink bug.

commit b291f5e040fd0cba11000ddc8107a6e73b22172b
Author: Max Goodman <max@reddit.com>
Date:   Mon Feb 4 18:26:47 2013 -0800

    Add a short README.

commit 44bfce4672c16a56a63c2c70fa86db3111836007
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jan 28 14:40:00 2013 -0800

    Move submit box above subreddit name/info/sidebar

commit 0b936e998d7cdedae572c18d2aca62ea4a104c0f
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jan 28 14:19:43 2013 -0800

    Change submit button text to say 'post' instead of 'link'

commit 768a8cb743656c326e741bc1fa10ecb8e74d48fa
Author: Max Goodman <max@reddit.com>
Date:   Sun Feb 3 23:44:00 2013 -0800

    analytics: Use deferreds to prevent duplicate fetch-trackers requests.

commit 1870a3e4741457add1ff8afb7669cdd1ffaef117
Author: Max Goodman <max@reddit.com>
Date:   Sun Feb 3 23:04:00 2013 -0800

    analytics: (cleanup) Consolidate skip conditions.

commit 38c21e78d43325f743c474e464564ce8d6f419de
Author: Max Goodman <max@reddit.com>
Date:   Sun Feb 3 22:59:31 2013 -0800

    analytics: Don't send things with missing fullnames.
    
    This fixes the "undefined-" item in fetch-trackers URLs. I believe I
    brought on this bug by making .sponsorshipbox a placeholder even when
    sponsorships don't exist.

commit ad2e486e5d4a23a1b9c8e06cccef921fab24b5ec
Author: Neil Williams <neil@reddit.com>
Date:   Mon Feb 4 13:56:29 2013 -0800

    commentstree_q: Make it possible to skip updates for specific threads.

commit 203d1e86ea7fc2891499114f85c460615ab34fb7
Author: Neil Williams <neil@reddit.com>
Date:   Mon Feb 4 12:37:28 2013 -0800

    Use c instead of _DefaultSR to cache sr_ids.
    
    _DefaultSR is a global instance and lives beyond a single request.

commit fc41a253e666c540298e6f4046d44aa0715772f5
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 30 21:10:23 2013 -0800

    Make rising usable from various fake subreddits as well.

commit de2c4f17617c5d0b1e90dbc4eee17c5c562402d9
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jan 10 09:32:55 2013 -0800

    Add DateRange validation to /promoted/graph
    
    * Add option to limit VDateRange to a maximum range
    * Make datepicker slightly more flexible
    * Show error on bad date ranges on /promoted/graph

commit 68d2bb97898b9635aaeb76546790ea196dc8a3ab
Author: Roger Ostrander <reostra@reddit.com>
Date:   Sun Jan 27 22:13:36 2013 -0800

    Domainban:  Use a global watch

commit f3ff1c4f3baf3dcc091f4f5f405235e9c65715dc
Author: Max Goodman <max@reddit.com>
Date:   Fri Feb 1 14:43:15 2013 -0800

    Expose user over_18 setting to the me.json API.

commit 4662dcc409bc2a96cbf722bb2e54cd5e25befb0e
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Feb 1 11:50:24 2013 -0800

    Right-align 'suggest title' button

commit 264a3bc5f4fb86bf97bff444dab9a90f2e5ed381
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jan 30 14:59:43 2013 -0800

    Attempt to remove site name from the end of title suggestions

commit 40b3093552885d9eabc251a835f844da9ed7a4e2
Author: Chad Birch <chad.birch@gmail.com>
Date:   Wed Jan 30 13:41:49 2013 -0800

    Use a User-Agent for suggest title urlopen()
    
    This will fix the 429 errors on reddit urls (rate-limiting ourselves)

commit c04d8a6ff65caa4adea783a863a8d67155db43a3
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jan 8 23:00:48 2013 -0800

    Remove legacy buffet template renderer abstraction layer.

commit 7a81779ad7d87edb87619dde66a3aa8da0f00e20
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 11 14:30:00 2013 -0800

    Upgrade to Pylons 0.9.7.

commit 8f03edab725e390f3b27c292f6449a242bf9562c
Author: Max Goodman <max@reddit.com>
Date:   Thu Dec 20 23:15:57 2012 -0800

    Add "contest mode" for fairer best of 2012 voting threads.
    
    When contest mode is enabled:
    
     * Comments are randomly sorted.
     * Comment scores are hidden.
     * Replies to top-level comments are hidden behind a toggle button.

commit 5a820ec40ac008fdb7403568f2044de8450269e4
Author: Max Goodman <max@reddit.com>
Date:   Fri Dec 21 00:18:28 2012 -0800

    Add "random" comment sort.

commit be53f4c9e635103ba6f0a39ae3eb846c1bc8590d
Author: Joe Alcorn <me@buttscicl.es>
Date:   Thu Jan 31 00:15:40 2013 +0000

    Update links on the rules page

commit 62ed3f8970d500871e10680b18a6c1a7905ca421
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 28 21:56:17 2013 -0800

    Add JSON output to the non-mod view of /about/stylesheet.

commit dbc520222fffc1e061cf1059e41f41a1d9c785a9
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 28 21:26:57 2013 -0800

    health: Fail health check if specific file is present.
    
    This lets us mark a server dead in the load balancer.

commit a0c614d371c11df6fbec6ec69f42130cca3aa3fe
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 28 21:10:58 2013 -0800

    health: Use correct MIME types for JSON responses.

commit 1ae3fad1d2c86e4aada167d0fde5eeec23d9b8a5
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 28 21:05:37 2013 -0800

    health: Clean up imports / dead code.

commit e0c164e7d92abbae16665e6494234570b0a0bd9e
Author: Chad Birch <chad.birch@gmail.com>
Date:   Mon Jan 28 18:06:48 2013 -0800

    Prevent replying to your own messages (except modmail)

commit f8256d0b6e213adb0f5d5ea55e90ae75ca444c36
Author: Andre D <andre@andred.ca>
Date:   Mon Jan 28 17:41:55 2013 -0500

    wikitoc: Accept period in header id.

commit 02191efe6d094baf16a3574b8432b6071f1395c8
Author: Andre D <andre@andred.ca>
Date:   Mon Jan 28 16:21:14 2013 -0500

    wiki: Fix table of contents links in some browsers.

commit cd88393fa6c1d6d41049d93690f4870d34a1dc9f
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 28 13:10:51 2013 -0800

    Fix manage-consumers not correctly iterating over files.

commit ef212288ee747be915af9eee80476a3e47d2cc2b
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 28 11:58:38 2013 -0800

    Revert "Revert "Temporarily use "[deleted]" in JSON for deleted usernames.""

commit ef398ccbac0a5964f30efa3bd344e857a4e2a995
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 28 11:03:55 2013 -0800

    markdown_souptest: Allow img attributes through.

commit 03022931ca5c0750854f836dab0e5dabfc3051d4
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 24 16:56:24 2013 -0800

    fetch_trackers: Change tracking_domain config to be a full URL.

commit 73f518adeade95bf003bf6fd14ef75a37749ac79
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 24 16:19:18 2013 -0800

    fetch_trackers: Use X-Forwarded-For when behind a trusted reverse proxy.

commit 417e8e6bb5515740c4cd79cbf677f00ed2255ea2
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 24 14:16:23 2013 -0800

    fetch_trackers: Make trackers.py self-packaging for Elastic Beanstalk.
    
    This should have no effect on actually running the script, but is useful
    if you do want to use Eb or likely some other service like GAE.

commit 173135d089ee9949b41eeed8070664963d80e311
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Tue Jan 15 18:51:03 2013 -0800

    Provide developer-friendly attributes in the modaction json.

commit a4ee8b2c159e2c8049d22614a531a55ab3844960
Author: Joe Alcorn <me@buttscicl.es>
Date:   Sun Jan 27 18:41:50 2013 +0000

    Use an absolute URL for self-posts for the embeddable widget

commit c1251f32bc06a0d60aee44f4e3bf9ca50c371d87
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jan 27 12:05:56 2013 -0800

    Revert "Temporarily use "[deleted]" in JSON for deleted usernames."

commit e3612b3d12ce24f9eaaa1926d1086bdba8d13369
Author: Andre D <andre@andred.ca>
Date:   Fri Jan 25 18:20:57 2013 -0500

    Wiki: Fix unicode encoding issue

commit a9a246333637a96dc087f6b8b307799693349ecb
Author: Andre D <andre@andred.ca>
Date:   Mon Jan 14 00:16:00 2013 -0500

    Wiki: Replace TOC with a python generated one
    
    - Replaces terrible anchor links with header content based ones
    - Fixes quirks with oddly ordered headers
    - Fixes html in headers appearing as text in TOC

commit 660f834263240277725645dc929d601cb90ab5f2
Author: Andre D <andre@andred.ca>
Date:   Mon Jan 14 00:30:16 2013 -0500

    filters: Allow id as an attribute

commit 20d1f9fe9eb89e1fe311f1789f45f8aa960f35d0
Author: Andre D <andre@andred.ca>
Date:   Mon Jan 14 00:16:36 2013 -0500

    filters: Allow a links to have rel as soup replaces nofollow with them.

commit 826c00fee5330785f8444ba7b252ef730263e922
Author: Andre D <andre@andred.ca>
Date:   Sun Jan 13 22:49:29 2013 -0500

    wiki: Validate wiki markdown with the wiki md processor.

commit 2ab402c41d25aab0599c41a982bf89f6e5b9a181
Author: Roger Ostrander <reostra@reddit.com>
Date:   Fri Jan 25 12:35:08 2013 -0800

    Domainban:  Use Zookeeper as a backend

commit 903a9e77363e50709c733713a540886a3caad3a1
Author: Chad Birch <chad.birch@gmail.com>
Date:   Thu Jan 24 11:32:14 2013 -0800

    Move negative karma to bottom of per-subreddit karma list

commit 7e715b11974c6f9673d516143579485d8d8d32e9
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 18 16:04:54 2013 -0800

    cookies: Don't encrypt the unlogged-user _options cookie.
    
    This cookie is part of the CDN cache key. Since the encrypted blob uses
    a random salt, this essentially makes requests with the cookie
    unchacheable. The cookie does not contain any sensitive data (just a
    list of languages and a boolean True/False). Decrypting and normalizing
    the order of params means that the cache key will be more useful. We
    also get a fair reduction in size of the cookie.

commit 77ee82cf9c2475b015c029774ae57545267798c4
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 18 16:08:20 2013 -0800

    cookies: Gracefully handle invalid encrypted blobs in _options.
    
    This fixes a TypeError from b64decode when the input is bad. This patch
    is needed to gracefully survive new-style cookies during the rollout
    period.

commit d14c00c1d9505b48161429a34067f21c9108bd14
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 16 14:32:10 2013 -0800

    cookies: Make over18 cookie not IP-hashed.
    
    The over18 cookie's IP hashing behavior is of dubious use and is not at
    all compatible with efficient CDN caching.

commit f7f94d5cd7a5e07232a1e67ca0f31ad924a505de
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jan 22 21:37:48 2013 -0800

    Remove /validuser endpoint now that the Trac wiki is gone.

commit 2a2ee845da2861560189b9faefadd1bed28fc6cd
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 3 14:19:19 2013 -0800

    Limit concurrency for /api/morechildren.
    
    The frontend limits you anyway, so this is only being abused by
    userscripts, extensions, and API clients. This should prevent individual
    users from taking up a bunch of apps with slow morechildren requests.

commit eeb32ec12a3ca1965e585bf5054bb9580a278d33
Author: Jason Harvey <alienth@reddit.com>
Date:   Sat Jan 19 18:11:42 2013 -0800

    Prevent _banned users from resetting their password.

commit 53d358bc6181a3259d63e384a1aadfa6d77a842b
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jan 22 15:11:07 2013 -0800

    routing/wiki: PEP8 cleanups.

commit 808b2a4648e1e503c491ae8a2ca25cab125e1244
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Jan 22 00:02:33 2013 -0800

    wiki: Redirect /help urls to /wiki.

commit 98d0ca5e7a5ca84936a5facff3ce7c8f0e2da596
Author: Max Goodman <max@reddit.com>
Date:   Tue Jan 22 14:48:04 2013 -0800

    Move announcement_message to ZooKeeper.

commit ab47d07220d03747ea23fc9523bde143df1018a8
Author: Max Goodman <max@reddit.com>
Date:   Tue Jan 22 15:28:29 2013 -0800

    Fix button backgrounds in .compact.
    
    Thanks to Scott Vivian <scott.vivian@gmail.com>.

commit 598980269bc2e4751dcb7ef0dd4d2cf796eb9275
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jan 22 12:31:25 2013 -0800

    Add OAuth support to many types of listings.

commit 2d2df8dfab9131bddc02c8ac07292b7cd7dfd084
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jan 22 10:51:56 2013 -0800

    Add documentation and OAuth scope to GET_stylesheet.

commit 681b6b003ed53b74b3f12246c0be1d6cd7d7d0ee
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jan 22 12:11:25 2013 -0800

    cookies: Add stats tracking of the various cookie types we get.
    
    This should help us see how much our upcoming cookie changes have an
    effect.

commit 04e902b2f2e9fbbb5cadffb3668bcd480291fc7a
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 21 15:02:04 2013 -0800

    "suggest title": Respect encoding of response from target URL.

commit afeabf204f413f06211bc29cd714663a033d201c
Author: Neil Williams <neil@reddit.com>
Date:   Wed Dec 12 23:55:07 2012 -0800

    Move consumer count info to individual files.
    
    This is more easily composable among multiple puppet recipes etc.

commit d374e0e26c1d36a0a7d30ddee58aba51a3443cd4
Author: Andre D <andre@andred.ca>
Date:   Tue Jan 22 12:30:30 2013 -0500

    DefaultSR: Fix is_wikibanned using base.is_banned

commit db857a5066d95909a2240f98bf06908da4b340a5
Author: Andre D <andre@andred.ca>
Date:   Tue Jan 22 12:30:13 2013 -0500

    DefaultSR: Implement is_wikicontributor

commit 42366728e4023926bbeb9b7ec8658e9c0dd9384f
Author: Andre D <andre@andred.ca>
Date:   Mon Jan 21 20:51:24 2013 -0500

    subreddit: Expose sr images to DefaultSR

commit edb32f1cc101ffe736e10a8b522d5412dc32aaac
Author: Ricky Ramirez <rram@reddit.com>
Date:   Fri Jan 11 13:28:02 2013 -0800

    hourly traffic: Use instance parameter for timeslice.
    
    Upstart only allows one job/instance combo to run at once. Must parametrize
    the upstart job so that multiple jobs won't run into each other.

commit 9f0e8c65e9af8571e4e3af58347535923b2fd985
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Jan 11 15:26:12 2013 -0500

    Hourly traffic: fix quotes.

commit a70a6eac62b26cbd1c6e028a07505d172f3b884b
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri May 25 16:52:25 2012 -0400

    Process traffic logs on Amazon EMR.

commit 7b28d3c3e84e99a72254d16b23b138c60107871c
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jul 23 00:26:35 2012 -0400

    Configurable timeout for memoize lock
    
    The function being memoized might take longer to return than the
    previously unconfigurable default timeout.

commit 148fddf18d964e19889067f5e89ee3fbbd89a841
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 21 15:07:29 2013 -0800

    upstart: Add a job to run on boot.

commit 3cd57248aafe880ff36353c424580b8f5e360e8e
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 18 13:27:48 2013 -0800

    promoted links: Don't check link freshness in keep_items.
    
    This makes it so that we no longer hide promoted links if the user has
    voted on them. This has been causing too much confusion.

commit 347f872e5d48ff5ee3691e4109ab729b511aa740
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jan 17 11:25:03 2013 -0800

    Fix market totals on /promoted/graph

commit 7611e76a3c9e86049b72be6f4ad61c616aa8c955
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Jan 17 10:31:22 2013 -0800

    POST_compose: Limit message subjects to 100 characters.

commit fcedf701ee1587e4de153b983ae9cca5ea5d7451
Author: Max Goodman <max@reddit.com>
Date:   Wed Jan 16 14:16:58 2013 -0800

    Make API banned_by / approved_by mutually exclusive.
    
    This also fixes an API bug where banned_by was always true if you don't
    have moderator permission for a thing.

commit 0a0d3fe1c6dea822cf97f24fed90516d128c7d04
Author: Max Goodman <max@reddit.com>
Date:   Wed Jan 16 11:54:05 2013 -0800

    Include domain in buttonlite submission link.

commit ce6450841ecc389f086c9dc3541f4a3cd9a7b1ef
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jan 15 20:53:31 2013 -0800

    setup.py: Update snudown link to new GitHub download URL.

commit 32359ee6b76f55ca5cfecb40ce0fb2951b77a09a
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Mon Jan 7 17:14:50 2013 -0800

    Indicate failure when no moderator invite is found.

commit ad06201f57c35babbba5b76d96e28b1ab1a4f93a
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 14 12:01:32 2013 -0800

    traffic: Separate apart weeks in day-interval tables.
    
    This should help to make week-by-week trends a little clearer and also
    make it easier to see what day of the week a day was.

commit 7564f3a4757a70fff2a09195e001aa1d223a1bf2
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 14 20:09:42 2013 -0800

    traffic: Add explanation of which timezone the data is in.

commit a5c63330463eb5e4bde77e7d52491050c04c8dd8
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 14 19:59:15 2013 -0800

    traffic: Generalize max-row highlighter and use on all columns.

commit 74e7d5d7255ea21994eb584058ff94ffed8c444b
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 14 18:15:04 2013 -0800

    Move render info blurb out of redditfooter to avoid caches.
    
    RedditFooter is a CachedTemplate and so the blurb which is supposed to
    be unique to each request is being rendercached.

commit 2c09a356274eadc8558937fc7c106398895d8f48
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 14 16:09:27 2013 -0800

    Don't write the pagecached content twice.

commit f9ee3c6a22abac50e78f41b0e89c22cf79213b82
Author: Neil Williams <neil@reddit.com>
Date:   Sat Jan 12 13:48:11 2013 -0800

    Fix use of StackedObjectProxy pylons.response in debug error pages.
    
    This caused some debug page static files to generate an error.

commit 4a04c188425e0dd27cc7843c422b40461aa7f33a
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 11 11:03:26 2013 -0800

    ErrorController: Fix bad failien URL on handle_awful_failure case.

commit a2e2e4631242ac22115c4baa1feb95af603bb4ea
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 11 11:00:22 2013 -0800

    ErrorController: Don't ever return a body in 204/304 responses.
    
    This should fix an issue where we return a JSON body for 304 responses
    to API requests which is invalid according to the HTTP spec and appears
    to be causing bad data to get cached in the CDN.

commit e1482553ca3e1a5afd5247c6e14404d232dfadb0
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 11 10:56:00 2013 -0800

    embed/wired/widget: Add callback validation à la JSONP.

commit 116e9939aacedd5c986501d6449ae0c9be5ce1b0
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 11 10:48:40 2013 -0800

    Get rid of awkward and underused utils.to_js.
    
    Buttonlite didn't really do anything with this function since it
    disabled callback *and* escape.
    
    The response wrapper fixes a bug where the callback is a unicode object
    and since the content object is UTF-8 encoded things go south ("'ascii'
    codec can't decode byte ...").
    
    This also removes a few scattered imports of the function that were
    unused.

commit 048b6700baa5ab3de1f4f37a12be8e1324164c66
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Jan 14 14:07:52 2013 -0800

    Add timestamp to debuginfo footer text.

commit f5cc13db2ad7f7b42da1506dd535040ab0f67785
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 14 11:19:46 2013 -0800

    Use profile page mode for all /comments/gilded listings.

commit 453149b7299982a55fe7865183325e717eba8b0e
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 11 23:21:44 2013 -0800

    Add /comments/gilded link to /r/all sidebar.

commit 3c3b9e95941ea3dd3213b2c21844da894aa577e6
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 11 19:05:52 2013 -0800

    Add per-subreddit gilding listings.

commit 50b3ed59eb9cf097c81d95e506222769c4a8bb40
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 11 08:11:52 2013 -0800

    validatedMultipartForm: Fix json library not imported.

commit 052b4b8a85862f5f5765b345a792ec7aeab64939
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jan 10 11:06:43 2013 -0800

    Use promote.cost_per_X functions in Promote_Graph

commit a6c93640069e624f2427098e160f6c8e5f6848ca
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jan 10 11:04:04 2013 -0800

    Move _cost_per_{mille,click} functions to promote.py

commit ed390084ba4820853ce52d1de26e0ca259504c78
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jan 10 10:25:14 2013 -0800

    promote_graph: Use CSS to capitalize headers

commit 8413fc3a44a7409713a954e013951fb007be3244
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jan 10 09:40:20 2013 -0800

    promote_graph.html: Add 'scope="row"'

commit 8545a7bf26cb5340e8ecc1596e580ba06bf5b87c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Jan 9 15:40:47 2013 -0800

    Promote_Graph: Add predicted impressions
    
    The admin view of Promote_Graph will now show the
    predicted impressions. This also stubs out the
    scheduled impressions.

commit 7c9d7930bbc72fc9071ec87d9184590e77b361cc
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 7 16:39:42 2013 -0800

    Promote_Graph: Move logic out of template

commit a47cf093f924b547de82f3279fdc5a58daa457f8
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 7 15:43:34 2013 -0800

    promotecontroller: Fix long lines
    
    Remove unused 'subk' variable

commit 65f0e79bc5ed6ae27026cc9a9a6f9e13d4a498e6
Author: Max Goodman <max@reddit.com>
Date:   Thu Jan 10 13:11:06 2013 -0800

    welcomebar: Work around Safari 5 sizing issue.

commit 14f31880f3a044d3b688c36ecae1db3c99329925
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jan 8 12:28:57 2013 -0800

    Replace c.response with pylons.response.
    
    pylons.response is its own StackedObjectProxy and returning response
    objects from controllers is deprecated so returning c.response is bad.
    
    In many cases, this transition just involves returning content from the
    controller directly rather than doing c.response.content = ___. This
    will make the transition to Pylons 0.9.7 easier because WebOb's response
    object doesn't have a content property and works differently.

commit 029f5c9392a03c440637288bf159c8ebaf5d1dc2
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 3 22:34:26 2013 -0800

    Remove remaining (unused) imports of pylons.Response.

commit 651885209fd8fc2d12a3bb88793e4627ca178d64
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 3 22:38:59 2013 -0800

    Toolbar: replace pylons.Response usage with simple abort.

commit 44f42ef738a03bad66b455c5e5adea9af2fb3c8b
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 3 22:30:03 2013 -0800

    Middleware: Replace pylons.Response with raw WSGI.
    
    pylons.Response is deprecated and we're not really using its
    capabilities here anyway.

commit 83f424c8d983ec3be12bddb99d2b41e0fd91d752
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 7 15:26:55 2013 -0800

    promotecontroller: Automated whitespace cleanup

commit 3e954194686db2e7b56f6680129bed3676107324
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 7 15:15:47 2013 -0800

    promotecontroller: Clean up imports

commit 96c0aef441d87ea312d08095d64284a9c2f22326
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 7 13:57:24 2013 -0800

    promotions: Separate admin view of /promoted/graph
    
    Make the admin view of /promoted/analytics distinct
    from the non-admin view

commit 36191d3ac99cf3e5f653074fc497dcdf0ba1110d
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Dec 27 02:57:00 2012 -0800

    Add CommentsByAccount and LinksByAccount.

commit 0770507a2c891b72cb9cfc146f5ea9ffa8906e5f
Author: Max Goodman <max@reddit.com>
Date:   Wed Jan 9 15:30:38 2013 -0800

    Avoid using an inner PaneStack for stacking infobars.
    
    This was causing API issues because the PaneStack json template
    outputs a "{}" by default.

commit da22854cad9a677887036826e80feb986c7ad440
Author: Max Goodman <max@reddit.com>
Date:   Wed Jan 9 13:56:27 2013 -0800

    Add snazzy first visit welcome bar.

commit c42551d9e65b00b54f6a9475fce3648a2b7d1ae2
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jan 8 13:41:33 2013 -0500

    Remove gold/about entry for per subreddit karma statistics.

commit 5ce6f0e6ef73c558b0bac2377222d34064db4aa6
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jan 8 13:52:28 2013 -0500

    Un-gold-gate per subreddit karma on user pages.

commit afcc662e690a734a7f0b51d7f1d078b4d63593bd
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jan 7 15:41:04 2013 -0500

    Entry in gold/about for AllMinus.

commit 6b4a2cb4ab0cf51f4ad1528695ef78c2c76ce30b
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 19 16:23:13 2012 -0800

    Remove whitespace from css_class template helper.

commit 1bbee795220e68e8f00ebdc64aea1262836c25ad
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 19 16:23:04 2012 -0800

    Tweak display name for AllMinus.

commit 806bd42a1f3596a31e37769995c1438f9d21ab63
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 19 16:22:30 2012 -0800

    Add sidebar description to /r/all and /r/all-.

commit 1697b3e47bdefdfb3bc6e953d56b30f3ed25a7ac
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 29 14:54:12 2012 -0800

    Tweak and engolden allminus infobar appearance.

commit 1aab8d4b3d9c7fb8dfe077cfedd6511b601da09f
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 28 17:44:38 2012 -0800

    Tweak /r/all page titles to be more descriptive.

commit 3e7df834d7204d50bcaa10123bd6b2125618cf62
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Nov 20 09:53:30 2012 -0500

    use AllMinusBox for goldies, InfoBar warning for non-goldies

commit c2726851b5b78ad5f50513b223517dc85b51abf9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Nov 19 15:43:23 2012 -0500

    Use Subreddit.random_reddits to limit AllMinus.

commit 36415ad4f6a54bb5fbab7423a9a313de54a7ad15
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Nov 19 16:03:54 2012 -0500

    Rearrange random_reddits.

commit 6b3ee4bb703811edf1b4f0b437b76e33527b39b4
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Nov 19 11:26:03 2012 -0500

    Add AllMinusBox sidebox.

commit 9d2a1af184548b722c319d8234c5d5aea3240fe4
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Nov 19 11:20:32 2012 -0500

    AllMinus gold only.

commit f29d0ec565440209d3f180e6db0f4d5c09ea9de0
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Oct 16 11:53:02 2012 -0400

    Clean up MultiReddit.

commit 5ee83b16362703abdb2484cab94bee0f423c98d7
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Jul 18 17:51:25 2011 -0700

    Subreddit AllMinus that subtracts from /r/all.

commit 9723a6fc9fab185e8bbe84192dc5b674dd7d663d
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Nov 18 13:58:18 2012 -0500

    Thing: Add in_ operator.

commit b9afde3e1a97f09fb2dc283ce5dd27e53cd717b1
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Nov 18 13:06:45 2012 -0500

    Thing: Add not_ operator.

commit c9f972f113e14d5d247aef38e9013a0c8aa1cefe
Author: Max Goodman <max@reddit.com>
Date:   Mon Jan 7 14:35:30 2013 -0800

    Add missing send_system_message function from private.

commit bb3ceb6a8ee9b0aa205dddc311413806c982ef29
Author: Andre D <andre@andred.ca>
Date:   Mon Jan 7 17:09:58 2013 -0500

    wiki: Fix broken json template.

commit 8568250a81bef678f59cce7bf35402fc8b1a7655
Author: Andre D <andre@andred.ca>
Date:   Thu Dec 13 18:57:56 2012 -0500

    wiki: Added a missing infotext for config/description.

commit b1127248e29c4a6f9811705f7e027b005ee2ac34
Author: Andre D <andre@andred.ca>
Date:   Thu Dec 13 18:25:08 2012 -0500

    wiki: Change a conflicting id.

commit 61d9da0f3c60815ae716a7adfd73b7316bb1d7ba
Author: Andre D <andre@andred.ca>
Date:   Thu Dec 13 18:19:13 2012 -0500

    wiki: Replace wiki css with less.

commit bd1d7946a2b6f54b3bc2195331e89521c0033df3
Author: Andre D <andre@andred.ca>
Date:   Thu Dec 13 18:17:56 2012 -0500

    wiki: Restructure base template.

commit ebf7be2ca1434b8d5702313a28af0ad0525c2659
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Jan 7 12:28:44 2013 -0800

    More cat links.

commit 28edf1912339f9306536c614b529e639573042f9
Author: Max Goodman <max@reddit.com>
Date:   Mon Jan 7 12:19:08 2013 -0800

    Replace the last feedback page entry with happy links.

commit 077843af104777d3a9a248ed768171576f83b786
Author: Max Goodman <max@reddit.com>
Date:   Tue Jan 1 22:34:24 2013 -0800

    Add icons for wiki moderation log action types.

commit 95c51524fb14e24138ed29ac03c426295f39bfa6
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jan 4 11:58:10 2013 -0800

    Remove unused and broken verify_ipn()

commit 76c7e48766a037af6de7952412b7c5a72485c16b
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jan 4 11:20:37 2013 -0800

    ipn.py: Clean up imports

commit 71952c6005b3d389028ba91b6d50cf1f10ffba2c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jan 4 11:11:56 2013 -0800

    Encode gold gift messages as UTF-8
    
    fixes reddit/reddit#612

commit 5365887680a021471982204303d7264177b29106
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jan 3 13:48:32 2013 -0800

    Fix failed searches of just parentheses
    
    If the query were just parentheses, like ")(",
    l2cs.convert would return an empty string, causing
    the subsequent search to fail. This moves the empty
    query check later in the code to avoid that issue.
    
    fixes reddit/reddit#618

commit 4d24eccce431bd7009aa7b4bc8099313bfe4b8d9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jan 7 11:20:53 2013 -0500

    Promotion date cutoff should be from now if promotion is still live.

commit c46cfb991845003822d9d40616a6efabb499b662
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 3 12:09:21 2013 -0800

    stats: Another attempt at fixing the race condition in flushing.
    
    It appears that sometimes multiple threads are flushing the same dict at
    the same time. Yikes! This should fix that without double counting.

commit 37a476677f42c39667f6bd067320f4bf740098bc
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Dec 31 14:34:49 2012 -0700

    Limit the number of campaigns per promoted link

commit 7a1bc4eef17a1a29e0d794657107a7a74ae731bb
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Jan 2 16:31:52 2013 -0800

    PromoteController: Use _byID36 with id36

commit 3c2356c1a57a24ab42f8eeb8a019be281cd6e08f
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Jan 2 11:44:55 2013 -0800

    Changes to example.ini should trigger "make ini"

commit 4a3a1a9858b0d9a76c3e423ea223fbb685b7c116
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 2 18:29:33 2013 -0800

    reddit_base: Fix incorrect "abort" import.
    
    This was causing the fancy abort(SomeExceptionClass) style aborts to
    fail because the pylons abort function didn't support that.

commit b7f7faa0ec26f50251e520a2fad1825d0c4cbda0
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 2 18:23:14 2013 -0800

    Fix race condition in stats flushing.
    
    Some threads are writing to the data buffer while we're trying to
    iterate over it. This will cause some lost stats, but no more than we're
    currently losing to the app dying when it hits the race condition.

commit 3ada3aa4be127bd51c3e200eb818232e5d9e02d3
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 2 18:16:36 2013 -0800

    ErrorController: Fix Retry-After header not being sent.

commit 438a0d7357eb8574b08e9def7f93ff2fbefd6a9b
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 2 18:13:00 2013 -0800

    ErrorController: Clean up imports.

commit 60d207b7c5e820e4fa2cc864968ed9f9e4b1ea8f
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 2 17:52:07 2013 -0800

    reddit_base: Fix babel.core import position.
    
    Babel is not a stdlib.

commit 4172c7182b123b15d383e1506204a481943147b3
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 2 16:48:56 2013 -0800

    ratelimit_agent: Fix key expiring too soon.
    
    This caused occasional NOT_FOUNDs on the incr when we were unlucky to
    have it expire between the add and the incr.

commit 6d6c0c57e9f982ae08186c6891cdd52e72b98185
Author: Roger Ostrander <reostra@reddit.com>
Date:   Sun Dec 30 19:30:32 2012 -0800

    LiveDict backing for Zookeeper

commit f1f7f36b32a9fd2ffcab28de9022043706f92eb5
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 2 11:14:18 2013 -0800

    tests: Fix up tests for r2.lib.tracking.

commit 49f41715da5846e77bb78932bee33037ff072d81
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jan 1 22:20:57 2013 -0800

    setup.cfg: Remove cruft.

commit 3e73f5769c1bdbd6aa5488a588f86f34a281e731
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jan 1 20:18:35 2013 -0800

    setup.py: Remove unused and potentially confusing commands.

commit 54223e882572b2fd25d398e88cbcba5279c1f410
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jan 1 19:26:55 2013 -0800

    Make it possible to run all automated tests via `nosetests`.
    
    This setup assumes the existence of a `test.ini` file. No current tests
    mutate backend state, but that may happen in the future so don't make
    your test.ini point at production!

commit 1c30e9c36d0f9e7a5e03de646cc02a142289938e
Author: Neil Williams <neil@reddit.com>
Date:   Wed Dec 26 18:22:07 2012 -0800

    db_manager: postgres:// -> postgresql://
    
    The old scheme is deprecated.

commit c322a3d8a73f7213b7d39b7fe1db0bca57275680
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Dec 27 10:05:56 2012 -0700

    pylintrc: Add inline comment on disable line

commit 9b83d48eba42f890aeae55448f0de69f9bafa478
Author: Kevin Kress <kkress@gmail.com>
Date:   Sun Dec 23 22:28:23 2012 -0800

    Modify authorize/* code to use new @export syntax
    
    * Modify authorize/*.py to add @export and __all__
    * Do a style sweep on authorize/* to clear up a few style issues
    * add unit test for authorize/* that tests non-DB classes and imports
    *

commit 288b9be012a034628d646877714be2e2934aab77
Author: Kevin Kress <kkress@gmail.com>
Date:   Sun Dec 23 22:27:52 2012 -0800

    add @export syntax for handling __all__
    
    This adds a decorator that checks for __all__ and then exports decorated
    functions and classes to it.

commit cd9318d2b0776437a5d3ff60efe174e8fd1daf64
Author: Kevin Kress <kkress@gmail.com>
Date:   Sun Dec 23 21:54:43 2012 -0800

    Add a pylintrc for reddit's needs
    
    Allows running pylint --rcfile pylintrc r2/ to get a list of potential
    problems.

commit deb857f686e2be8f34557d016f992377fa9c2281
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Wed Dec 26 14:43:47 2012 -0800

    Show hidden submissions in moderator listings.

commit be5fb02d1450f6e5f6d74618b6b014d6faf72ba2
Author: Ricky Ramirez <rram@reddit.com>
Date:   Fri Dec 28 11:02:09 2012 -0800

    template_helpers: Point to /about/team for info on admins.

commit bd03654eaf7b4e182ae71701caf6e8a69ccb4b84
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 28 10:20:09 2012 -0800

    Revert "Apply a bandaid for _dirties being stuck in memcached."
    
    This reverts commit a452422057fdcbeafe26fcbbff527bcc2be37d3d.
    This reverts commit bac38fe3a41cd09643b37bad947f3b3a70d5784d.

commit dda3ff15399b1618909f8da40d8bf558fe64d28e
Author: Neil Williams <neil@reddit.com>
Date:   Wed Dec 26 20:49:09 2012 -0800

    Make /r/lounge is_contributor not rely on overbloated rel.
    
    The lounge is too popular! update_gold_users is crashing taking too long
    to update the SRMember:contributor rel when users' gold expire. This
    change makes it so that we don't actually need to maintain the rel to
    maintain proper access control for the lounge.

commit 55a49682096401a27e20fe96d49a45f7a50d9256
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 27 11:20:56 2012 -0800

    Apply a bandaid for _dirties being stuck in memcached.

commit 4fda0f9f4a00533cbc3f1e060411cd03ff2a3e1b
Author: Neil Williams <neil@reddit.com>
Date:   Sat Dec 22 00:54:16 2012 -0800

    plugins: Add hook for watching Thing commits.

commit 76594cdeb673e26eb088f9206668adf3c19379ef
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 21 16:09:05 2012 -0800

    Refactor and reorganize email canonicalization; add some tests.
    
    The email_attrs thing wasn't actually being used (`if False`) and so
    I've removed it in the process.

commit 9b66333c2e02ab5b0196819c49ca73186e7eaff5
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed Dec 19 23:24:02 2012 -0800

    Remove "edit this page" tag for embedded trac wiki pages.
    
    The trac wiki is now deprecated and content should be migrated to the new
    integrated wiki.

commit ac118cebd8e795e936187a024a6d16910f20c3a9
Author: Neil Williams <neil@reddit.com>
Date:   Sat Dec 22 03:24:03 2012 -0800

    Be more thorough in sanitizing for add_request_info.

commit bfa457c67f772b21c004d37035e8861ca0f3568a
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 21 11:12:39 2012 -0800

    Fix bad ad URLs causing mistargeting.
    
    c.site.path = /r/whatever/
    c.site.name = whatever
    
    "r/%s/" % c.site.name = "r//r/whatever//"

commit 6d21636a937aaea634e09ff3f84aa9cc72abb928
Author: Roger Ostrander <reostra@reddit.com>
Date:   Wed Dec 5 14:25:25 2012 -0800

    Fully rendered sidebars now at /r/foo/about/sidebar

commit 8df185c42b85d7cde4d851f79cb65b236dbc35b9
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Dec 20 10:34:35 2012 -0800

    validators: Move from controllers to lib

commit 87b41c9d4b8f658ba18bfd9234daa4eb15e35195
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Dec 20 10:31:02 2012 -0800

    errors.py: Move from controllers -> lib
    
    Since these are not directly related to controllers.

commit 7408668d18ec4e18ba56c3559e3eeca4f858a7c9
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Dec 18 13:35:37 2012 -0800

    Import proxyurl from the correct place

commit 4a8ebf411cb238f5e1a56336943540f676e278f2
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Dec 20 11:01:11 2012 -0800

    Remove underused json_respond
    
    This should help resolve a circular import wherein "import jsonresponse"
    triggers "from r2.lib.pages.things import wrap_links" in jsonresponse.py,
    which triggers "from pages import *" in r2/lib/pages/__init__.py, which
    further triggers "from r2.lib.jsonresponse import json_respond" in pages.py

commit 6d6a0a1d0829be17215aaf756d78681c567bb5e2
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Dec 18 11:13:41 2012 -0800

    reddit_base: Automated whitespace changes

commit 15817179d5d87e124d13f400f820377ad5987d28
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Dec 18 11:12:16 2012 -0800

    reddit_base: clean up imports

commit d253daa90722e47a9cba90185ec9244772b453f5
Author: Neil Williams <neil@reddit.com>
Date:   Tue Dec 18 19:38:16 2012 -0800

    Clean up and reorganize traffic-tracking code.

commit efee2075525192542df4621fbea205461b397bfa
Author: Ricky Ramirez <rram@reddit.com>
Date:   Sat Dec 15 16:35:21 2012 -0800

    Cleanup template_helpers.
    
    Remove extra whitespace.
    Fix typo hotname -> hostname.

commit 0e3c0a19a49561972f3adf44a52c589a30279d37
Author: Neil Williams <neil@reddit.com>
Date:   Mon Dec 17 16:04:36 2012 -0800

    Allow ratelimited useragents to be a little more bursty.
    
    This will allow ratelimited agents like Googlebot a little more leeway
    when it comes to the API ratelimits.

commit 86e45321405d7bf73f3f48b9c538f23576c82e3e
Author: Neil Williams <neil@reddit.com>
Date:   Mon Dec 17 20:49:30 2012 -0800

    Remove extraneous outline from compact view as well.

commit c053d82883ec8e02e12e5fe16a5a82ae09e8acbf
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Dec 17 13:00:28 2012 -0800

    Parse dsn param to get key for pg stats.

commit 46070df7954ea15ccc67bfe498494ca9a570dac2
Author: Pavel <me@xpaw.ru>
Date:   Mon Dec 17 22:42:41 2012 +0200

    Remove outline added to vote arrows by accessibility patch.

commit 2ddfab7e6977c5acbb9c58f716c34aeb5e757a0c
Author: Neil Williams <neil@reddit.com>
Date:   Sun Dec 16 17:44:45 2012 -0800

    Accessibility: Make vote arrows into buttons.
    
    This adds three attributes to vote arrows:
    
    * role="button" is part of ARIA and tells user agents that even though
      the vote arrow is a div, it's actually meant to be a button.
    * aria-label, another part of ARIA, this tells user agents what to
      call the newly buttonized.
    * tabindex, this makes the buttons able to receive keyboard focus so you
      tab through the document.

commit 25b568322253b3b8ea141be2a9c27ac725c1ad08
Author: Neil Williams <neil@reddit.com>
Date:   Sun Dec 9 22:56:08 2012 -0800

    Accessibility: Remove meaningless alt text.
    
    It just gets in the way of screen readers.

commit 2beabad0cc0473a0c6da7358710d2e63866a46aa
Author: Neil Williams <neil@reddit.com>
Date:   Sun Dec 9 22:29:38 2012 -0800

    Accessibility: Add ARIA landmarks.
    
    These are the modern equivalent of the "jump to content" link.

commit 11bda596116de72f829ed61dd1261d475afead2a
Author: Neil Williams <neil@reddit.com>
Date:   Sun Dec 16 18:24:38 2012 -0800

    Set PostgreSQL application_name metadata.
    
    This should allow us to collect more information on where lingering
    transactions come from.
    
    Note: this uses an undocumented feature of psycopg2 connection strings
    to get around a limitation in the version of psycopg2 we're on. This is
    resolved as of v2.4.3 of psycopg2.
    
    http://archives.postgresql.org/psycopg/2011-11/msg00020.php

commit 102ef36b8b92764181cf57414f507fd616f68570
Author: Neil Williams <neil@reddit.com>
Date:   Sun Dec 16 22:36:20 2012 -0800

    Entity-escape error response payload JSON.
    
    This fixes a minor self-XSS in the Wiki editor for config/stylesheet and
    should protect us against similar issues happening again in the future.
    
    Thanks to @nealpoole for the disclosure.

commit a74f609eeeafe85b5168f2261ed9ce16b5ddced6
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 14 13:08:09 2012 -0800

    /comments/gilded: Set c.profilepage = True for "in subreddit" etc.

commit 9379b08c9a27dd077339078d14658799d2802478
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Dec 7 16:02:17 2012 -0800

    Change CommentTree CF's key from a tuple of bigints to a tuple of longs.

commit e028c3567638eadf65385ce4557c84ea138a01e1
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 13 14:47:14 2012 -0800

    Add a new listing of gilded comments.

commit c91374acc4ee8c47cdf5e677194b3142d503df26
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 14 11:10:29 2012 -0800

    db_manager: Don't try writing to slaves for rels.

commit eebb529e2ceb07370a988880a0da182fab5ea27f
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 14 10:56:50 2012 -0800

    db_manager: PEP-8 Cleanups.

commit 2ef79856183671533962c8b94432e569e679c3fb
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 14 12:52:19 2012 -0800

    Revert "queries: Move /r/all/comments to new query cache (try 3)."
    
    This reverts commit 13497f6f0883347c6dea946822886de239f62d50.

commit d6924c8bcc9e62a87f441f18f1d1296d7128ff1c
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 13 16:56:19 2012 -0800

    rss: Don't render invalid thumbnails for built-in sprited thumbs.

commit 06742f69b74f9abe456298be8c4cef289750e983
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 13 16:54:34 2012 -0800

    rss: Add atom:link rel="self" to RSS feeds.
    
    This is recommended by the W3C RSS feed validator:
    
    http://validator.w3.org/feed/docs/warning/MissingAtomSelfLink.html

commit 8ba1ef41d64246a95c35fd04ece755196678bca8
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 12 17:52:00 2012 -0800

    Update ToC styling to match new wrapper class.

commit 974d18479c57d48535551bf9ae33518ced64fd7f
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 12 16:17:12 2012 -0800

    Add "get" method to LiveConfig.

commit b7e3727cde804ba20210e4a1586869981401495c
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 12 15:56:57 2012 -0800

    Add placeholder element and styling for ad frames.

commit 8b77613309b3914ec7cbae0f45954c8baff68a35
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 12 15:56:25 2012 -0800

    Parameterize the Ads template.

commit 78888f1373a9ed5bd3cd9e1682dc21b7da316532
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Dec 12 13:25:11 2012 -0800

    Fix GET_subreddits_by_topic

commit 590eb25c0cb398bfcfafe7511e93994ea4e8c731
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Dec 11 11:31:53 2012 -0800

    Add simple date drop down to search

commit a225d34a6f889f95ea56fc4272641477299a4f3e
Author: Andre D <andre@andred.ca>
Date:   Wed Dec 12 15:09:22 2012 -0500

    wiki: Move space replace into normalize.

commit 2bda185248eb21d92546415ce0532e414c58a1fa
Author: Andre D <andre@andred.ca>
Date:   Wed Dec 12 13:05:44 2012 -0500

    wiki: Clarify permissions language.

commit bb5ef967fbef3b2f8d9f84c58a66301070b88fd2
Author: Andre D <andre@andred.ca>
Date:   Wed Dec 12 01:28:33 2012 -0500

    wiki: Editing a wiki page requires it to exist.

commit 0a03256226707891c10ef87fc63a206f190f33b7
Author: Andre D <andre@andred.ca>
Date:   Wed Dec 12 01:18:45 2012 -0500

    wiki: Ensure to normalize page name on create check.

commit d332dc4410f3acb74112019da473c4e2fb03b5d1
Author: Andre D <andre@andred.ca>
Date:   Tue Dec 11 22:44:10 2012 -0500

    wiki: Explicit check for a banned user.

commit 9417f111aff3a8f553d83df3796449072936f745
Author: Andre D <andre@andred.ca>
Date:   Tue Dec 11 22:31:47 2012 -0500

    wiki: Ensure you cannot create an empty page.

commit ff3632482f7d21eb5d9cd1899f792a6b1dcd566a
Author: Andre D <andre@andred.ca>
Date:   Tue Dec 11 22:22:21 2012 -0500

    wiki: Ensure people who are added to approved wiki may edit.

commit a2c5f143e1dcd4b4a4054827ca7ab016041c6c59
Author: Max Goodman <max@reddit.com>
Date:   Tue Dec 11 13:56:09 2012 -0800

    wiki: Fix ToC styling for nested <ul>s.

commit cde3b679eb7850d82eff865a15a262be039e73b2
Author: Max Goodman <max@reddit.com>
Date:   Mon Dec 10 17:29:00 2012 -0800

    Revert "Add maxlength attribute to submit form title field."
    
    This reverts commit 72b81791ca637ecb8073fa577d88033e154a7a56.

commit 0776e39668d515fb66b82089200bdc43e8d6b011
Author: Neil Williams <neil@reddit.com>
Date:   Sun Dec 9 13:10:19 2012 -0800

    Move "close window" button to top of in-page popups.
    
    As requested by the vertical-space challenged users of the world.
    
    Also moves the title to the left because it looks better and because the
    floated close link was making it off-center.

commit f01095c5a39350cdc0ca0175dd5d901cce5a96d0
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 7 12:53:21 2012 -0800

    cssfilter: Don't strip_www from absolute URLs.
    
    This was preventing using images from www.redditstatic.com.

commit 21fdf7e0abe0ca3ab6bea179ffe40b4a657705ef
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Dec 6 16:33:22 2012 -0800

    Fix canonical_email for addresses with utf-8

commit 099b6afa6fb9cad26bdd73f2a0b5c0b96daf822d
Author: Max Goodman <max@reddit.com>
Date:   Fri Dec 7 14:54:53 2012 -0800

    Whisper sweet nothings to the goldmembers.

commit 4024dd5e8a76ecdee2d869fe8a9e82997a4e85f1
Author: Max Goodman <max@reddit.com>
Date:   Fri Dec 7 14:49:41 2012 -0800

    Markdownify goldvertisements.

commit 91a34e53d13163106d412a90e64546ffbe616ae0
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 7 13:23:50 2012 -0800

    Execute new_vote on comments as well.
    
    This fixes user page top comments of all time listings not being
    updated.

commit 8b4b3961d977be438c5458a57f5ed1c31b9d58f5
Author: Jason Harvey <alienth@reddit.com>
Date:   Fri Dec 7 12:46:28 2012 -0800

    Rework queries and add sanity checks.

commit cf2d5625efc9cbc6c903bd579ebb6e4a03c242d1
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 6 10:52:32 2012 -0800

    CommentPane: try to avoid building comment tree if possible.

commit d0babbd109229732c8602adf5aa2dc10cafb0e31
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 6 10:45:43 2012 -0800

    Remove CommentParticipationByAccount.
    
    It was a bad idea. I miscalculated which aspect of CommentPane was
    taking the try_cache time.

commit 7850a4b25a6280975a20b9fd5cfee39aabef2b8f
Author: Andre D <andre@andred.ca>
Date:   Thu Dec 6 11:46:56 2012 -0500

    wiki: Fix deleted account leak.

commit d20ec78d4e8e0f6d72fcd33b1d286e237b0cc19c
Author: Andre D <andre@andred.ca>
Date:   Fri Nov 30 11:50:14 2012 -0500

    wiki: Remove show_reason_field

commit d2cbe5039870b623d601ac4a61aaee03f537252e
Author: Andre D <andre@andred.ca>
Date:   Fri Nov 30 11:47:54 2012 -0500

    wiki: JS cleanup

commit 21197a8a303c53389c24ef79ece69ac2f19fa7dd
Author: Andre D <andre@andred.ca>
Date:   Fri Nov 30 11:47:32 2012 -0500

    wiki: JS semicolon

commit 389fcd040bd5c831257dcafd423b4eb9236ead96
Author: Andre D <andre@andred.ca>
Date:   Fri Nov 30 11:46:49 2012 -0500

    wiki: PAGE_NAME_MOVED -> PAGE_NAME_NORMALIZED

commit 468fb13b68d5b2d9fc2bde9c892053de4a5cb90a
Author: Andre D <andre@andred.ca>
Date:   Thu Nov 29 13:25:36 2012 -0500

    wiki: Get author accounts with data

commit 2ce84edb734c261bf4f6a03795618c3c4a539fd9
Author: Andre D <andre@andred.ca>
Date:   Thu Nov 29 13:25:21 2012 -0500

    wiki: Move serializeForm into utils

commit 6136908b3d42c6130dd65424f083a4cf9dd45478
Author: Andre D <andre@andred.ca>
Date:   Thu Nov 29 13:02:56 2012 -0500

    wiki: js cleanup

commit bd054a34a4beae937d223e1d4a09c86ddabc161e
Author: Andre D <andre@andred.ca>
Date:   Thu Nov 29 12:59:42 2012 -0500

    wiki: Replace error_on_different with error_on_name_normalized

commit 2fc82aaef2ca5dd4484d6af66a106f8d126ff9fd
Author: Andre D <andre@andred.ca>
Date:   Thu Nov 29 12:55:16 2012 -0500

    wiki: Switch items() to itervalues()

commit b3c3b399f5d7b76513c3b51758654e5529b1b112
Author: Andre D <andre@andred.ca>
Date:   Thu Nov 29 12:54:24 2012 -0500

    wiki: Drop parentheses around 'page'

commit 3d069bea0b7e3490fa80932d5c1f3c625f9953e7
Author: Andre D <andre@andred.ca>
Date:   Mon Nov 26 13:23:16 2012 -0500

    wiki: Rework page name validator.

commit 94fd7760d248fdd1a53d263baf818fee6fbcdf04
Author: Andre D <andre@andred.ca>
Date:   Mon Nov 26 13:06:14 2012 -0500

    wiki: Import cleanup.

commit f998eab52f3432b53029e90a3d155767e73b0a7a
Author: Andre D <andre@andred.ca>
Date:   Mon Nov 26 12:19:07 2012 -0500

    wiki: Show reason field when creating a page.

commit 887e5b6258511a9e2b0eda3d00480f55465b2bbb
Author: Andre D <andre@andred.ca>
Date:   Mon Nov 26 12:14:21 2012 -0500

    wiki: Correct a capital typo.

commit 9116402109e991a4ab7fbcf960758eb25f9045f6
Author: Andre D <andre@andred.ca>
Date:   Mon Nov 26 12:09:44 2012 -0500

    reddit: Do not embed gold form inside wiki pages.

commit 3bc9344965eaa8915a371a741389936c7cd74e31
Author: Andre D <andre@andred.ca>
Date:   Mon Nov 26 11:14:23 2012 -0500

    wiki: Add author props in batch.

commit ef5bd9dbd70002a1b06892a771e9ffa259fcf79c
Author: Andre D <andre@andred.ca>
Date:   Sun Nov 11 23:44:40 2012 -0500

    wiki: Handle spammed user.

commit 449b7a8410b082c982b5b4ffd0bef98b0cae6272
Author: Andre D <andre@andred.ca>
Date:   Sun Nov 11 21:09:39 2012 -0500

    wiki: Revert should have the author of the reverter.

commit 35bec6972694a182e83ebfea8762e9146d1ba1ac
Author: Andre D <andre@andred.ca>
Date:   Sun Nov 11 19:59:02 2012 -0500

    wiki: Switch wiki authors to id.

commit 0fbe7f63c360262b9e9353604d3c148a7bea5e0e
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 30 03:44:27 2012 -0500

    wiki: Correct a failure when editing a page.
    Occurs when the previous revision is hidden.

commit b020ee7feeb15e7442e605b6dae993ae44ea4625
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 30 03:27:43 2012 -0500

    wiki: Admins may always view.

commit 3140ac75c7da7d47b1f2ed3e57ccda97fb4aa772
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 23 03:05:29 2012 -0500

    wiki: Remove cancel edit button.

commit 23fdb0e225f9dc596acae7da9a79fbc13cbadf39
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 23 03:02:55 2012 -0500

    wiki: Handle wiki create errors with set_error.

commit 93411812a7532fea7b3dd2d563818875075f6306
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 23 03:02:33 2012 -0500

    errors: Add .get(name, default) to ErrorSet.

commit 387cecccd0a5f5008631f038d57df04182351026
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 23 02:34:44 2012 -0500

    wiki: Have a create page on page not found.

commit 4061bdd482ca7d95a4edad3fd8ace256430965a6
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 23 02:24:06 2012 -0500

    modaction: Make wiki page permission level modaction more english-y.

commit 69d3cbad5038f9856eb957e9f175453e51995b8d
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 23 02:15:23 2012 -0500

    wiki: Redirect on view if page name differs.

commit 5c000dd9d3eebafdf4206c6fd96c1a2c9db1b3c9
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 22 16:28:02 2012 -0500

    wiki: Silently replace space with underscore in page name

commit 1a0ef13873d9a10306c7dea7f02ea1c1534993b6
Author: Andre D <andre@andred.ca>
Date:   Sun Oct 21 21:00:11 2012 -0500

    wiki: Use VPrintable for reason edit reason.

commit 32e5bb762ae20b911df57122d0baaa479a126dd3
Author: Andre D <andre@andred.ca>
Date:   Sun Oct 21 20:46:07 2012 -0500

    wiki: Use a VWikiPageName.

commit 22cf7169d618451a9ce84e89e592707b739dcab3
Author: Andre D <andre@andred.ca>
Date:   Sun Oct 21 20:33:38 2012 -0500

    wiki: Move required and fatal into prototypes.

commit dacab697b8335e0a2395762bec029227b20d5445
Author: Andre D <andre@andred.ca>
Date:   Sun Oct 21 20:18:00 2012 -0500

    wiki: 'max_separators' should be lowercase.
    
    down

commit 5c20a04c4d90d9471d5ea30f42c2ca0c3908c9e5
Author: Andre D <andre@andred.ca>
Date:   Sun Oct 21 20:10:33 2012 -0500

    wiki: Ensure that page names which can not be accessed are not created.

commit 10ddd97c9486f0f53152289982172525a9065e66
Author: Andre D <andre@andred.ca>
Date:   Sun Oct 21 19:44:42 2012 -0500

    wiki: Make settings for restricted pages less confusing.

commit a8448d04742e4b9c58a312f47bb83000a204c354
Author: Andre D <andre@andred.ca>
Date:   Sun Oct 21 19:33:45 2012 -0500

    wiki: Allow admins to create restricted pages, and mods to edit them.

commit 914667be1b7a046103bb42b536845ad948e3667c
Author: Andre D <andre@andred.ca>
Date:   Thu Oct 18 14:57:12 2012 -0500

    wiki: Replace wraps_api with wraps.

commit 49d56e2d2dd4688a46643e9e48c14d0d677339ff
Author: Andre D <andre@andred.ca>
Date:   Thu Oct 18 14:39:48 2012 -0500

    subreddit: whitespace.

commit d8d7e5a509189030248e3f3e8516116e2a5fd6bf
Author: Andre D <andre@andred.ca>
Date:   Thu Oct 18 14:39:08 2012 -0500

    templates: Use None as a default instead of {} for extra_config.

commit 2270085d1672f23d5db3870196485ba11f501221
Author: Andre D <andre@andred.ca>
Date:   Thu Oct 18 14:18:01 2012 -0500

    subreddit: Change logic for detecting a wiki friend page action.

commit 2dfa7d1971abdb4192069758ddecb2e0130fb306
Author: Andre D <andre@andred.ca>
Date:   Thu Oct 18 14:13:01 2012 -0500

    wiki: Add requirement for alloweditor action to be del or add.

commit 377f3b5a43ea92ad3bc33469101344df8a7dd705
Author: Andre D <andre@andred.ca>
Date:   Thu Oct 18 14:07:13 2012 -0500

    wiki: typo.

commit e382c64a71767e0a7eb76a63f08d9df63a1d7685
Author: Andre D <andre@andred.ca>
Date:   Thu Oct 18 14:01:28 2012 -0500

    wiki: Do not bother listing deleted editors.

commit 4f4729fc74151781c0439249a1412dc590008930
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 9 18:47:31 2012 -0500

    wiki: Use WrappedUser for wiki page settings.

commit e81b971de07f3c0484ea88acd10567b67f6e4dea
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 9 18:35:59 2012 -0500

    wiki: get_editors should return a list, not dict.

commit e2cf47451ffcfb0f5abfd4045606a2541673b775
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 9 17:36:13 2012 -0500

    wiki: Use ThingJsonTemplate for wiki json.

commit 62bb92cc52f5678e2795d52249d4f0266064dbab
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 9 17:06:13 2012 -0500

    wiki: Properly render revision user.

commit f186cbac2a80cdf158d4caa41953786c325dc7ce
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 9 10:47:21 2012 -0500

    wiki: Correct error on content length error on wiki revise.

commit 237d445cedf08a44b35b69b8d9fd276b668e522b
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 9 10:14:01 2012 -0500

    wiki: Correct mod only editing mode ignoring page editors.

commit 5550ceb0930cee7e1994bf0a731b62653ef0b82c
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 8 19:19:06 2012 -0500

    middleware: Add missing error code 409

commit 6d3d1000335d3f0684803c7885a7610a682a8271
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 2 09:23:10 2012 -0500

    wiki: Fix create redirect when no page name is specified

commit 6a92163e86d074cb882e38710ab980129bc59b55
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 2 06:04:59 2012 -0500

    account: Correct can_wiki permissions for trac.
    Trac requires None to map to False, where as in new wiki it maps to True

commit 0a5a1567600e866ad60a0dfb4632dad62af3c031
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 2 05:45:29 2012 -0500

    base: Add a method to inject variables into r.setup

commit c2b56ba6f9e26d66a871b0dec8ffb4a3668a13ce
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 1 12:04:28 2012 -0500

    wiki: Handle wiki_edit_age or wiki_edit_karma being None.

commit b4feef712b1de13fe6ace247b6bc86f474d2ab96
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 1 11:50:11 2012 -0500

    wiki: Remove c.show_wiki_actions.

commit 750bc4cbd5de5f0f7839b68a4bdd13ce5ba18d81
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 1 10:58:54 2012 -0500

    wiki: Remove globals.

commit 4db917555e589b716637c6dfe666334e6ac539ea
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 1 08:45:20 2012 -0500

    vmodhash: Check mock modhash value for testing.

commit fc31f7e83006da381cedf0dc0accb3c3a1504778
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 1 08:37:25 2012 -0500

    wiki: Fix broken view json template.

commit 4d9c2e7d63300a972b0af154d2498a425ce60581
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 13 13:59:43 2012 -0500

    wiki: Add missing json endpoints.
    - pages list
    - discussions
    - settings

commit 266c2d9312c664a4711c084ab2d2ca20584782e2
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 13 14:11:02 2012 -0500

    wiki: Added missing discussions rss endpoint.

commit 8cde040be96a777274a35e486edef6154b50b68d
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 1 08:02:39 2012 -0500

    wiki: Use c.site.path.

commit 55dc8831b30fa1ca8ec0cc0c4f5d5d5d5a2cb6c4
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 1 07:54:42 2012 -0500

    wiki: If no edit_date, do not attempt to convert it.

commit b64f29b235a5232c6f0e863d0b7a06f22792a562
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 13 03:12:56 2012 -0500

    wiki: Remove c.page_obj.

commit 967d7257518a1158e9947acf30abfdaaf7a72e45
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 1 07:09:53 2012 -0500

    wiki: Add docs.

commit 9b98e05392c32974b9a28ad413abb6ca05c9151b
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 1 06:52:27 2012 -0500

    wiki: Include page in request automatically.

commit 9e8c66fab830d8e645583622a3c972d3234322a7
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 1 06:40:25 2012 -0500

    wiki: Add modhash checking.

commit f66ce75c905e638d2fbf74ef0ebd1a8f77872f7a
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 13 01:38:48 2012 -0500

    wiki: Move wikimarkdown calls into templates.

commit 512c147b9d2c136f25d484fb85f1dbeb693e813c
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 13 01:31:05 2012 -0500

    wiki: Visual cleanup of pages listing.

commit e36780f4c408d873af2086efbc0626341d5e33c4
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 13 00:59:42 2012 -0500

    wiki: Link in the revision listing.

commit b357725544df79b1512fea5e17fba1c45b5ae838
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 13 00:40:15 2012 -0500

    wiki: Show wiki actions on banned and contributors pages.

commit 5a1a9132865b61e6c72e09bf868032d204c68e0e
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 13 00:35:04 2012 -0500

    wiki: Put wiki page title in the page title.

commit 652d24e77d0917e4aa27eb2d2bf378ca05ca23b6
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 1 06:19:05 2012 -0500

    wiki: Rename c.wiki to c.wiki_page.

commit 8e188e2b3c507150c0360caeaf568ea400f3f580
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 13 00:00:43 2012 -0500

    wiki: Rename wiki_disabled to disable_wiki.

commit ac8c222d21f29ef3d41c9594293dad34f01c2e22
Author: Andre D <andre@andred.ca>
Date:   Wed Sep 12 23:54:53 2012 -0500

    errors: Correct the way api mode is detected.

commit 4a5f0cf3c76ae09f6b0c61d6018e4acfc962003c
Author: Andre D <andre@andred.ca>
Date:   Wed Sep 12 20:49:13 2012 -0500

    wiki: Restructure api endpoints.

commit 4963fd239f5a776ac26ddd1fd2050a02bf076bf2
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 1 06:09:54 2012 -0500

    wiki: Remove some inline css.

commit f8581210864a3076ccca0fca8cf48c64165951de
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 12 11:09:33 2012 -0700

    wiki: Move state variables out of inline JS.

commit 511ca3e56d2eb2ae4bcf7013c16f4c670c70ed5e
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 12 11:02:40 2012 -0700

    wiki: URL-escape constructed API call URLs.

commit a0899409b11b7025bbb79f8eaffdebe56277f79a
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 12 10:22:05 2012 -0700

    wiki: Fix files undefined in finally case.

commit d56f02e8ed3ea1eb1008542864fea985d0af2417
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 12 11:36:54 2012 -0700

    wiki: Remove debug statement.

commit 4ecee12d333b0f8ba3e456681c4b219f5e3194d3
Author: Andre D <andre@andred.ca>
Date:   Wed Sep 12 19:21:00 2012 -0500

    wiki: Rework page creation.

commit f4bab12564ac1cabc5b673df9250c4e0201a985d
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 18 20:50:11 2012 -0500

    wiki: Use VSrModerator.

commit 4d86ad0a8feb683fcc07f0a1ea969e5f06016fa4
Author: Max Goodman <max@reddit.com>
Date:   Tue Dec 4 03:24:45 2012 -0800

    Add small front page gold advertisement.

commit 8bf881535fafe53361281b17e1637d8e5580cbde
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 5 13:36:43 2012 -0800

    Make the subreddit field required.

commit 09b0be25833486c5fe3226f8090474d80eff3b6b
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 5 12:38:00 2012 -0800

    Add maxlength attribute to submit form title field.

commit d7644b8f006ddcbdd4fdee3e160864ee28881f29
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 5 12:35:21 2012 -0800

    Remove spurious submit form title wrap attribute.
    
    This was prompted by buggy IE10 behavior where the "required" attribute
    form validation seems to treat the textarea as empty with the "wrap"
    attribute present.

commit aa645a45dfcd940ae18c88ca06e1ee4043029a55
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Dec 3 15:27:25 2012 -0800

    sharelink: Clearly specifiy methods of sharing links.

commit 2d22cd2aa92dcb3cb0f891a4e2aff4608e0eccc8
Author: Neil Williams <neil@reddit.com>
Date:   Sat Dec 1 11:58:37 2012 -0800

    Split the rendercache and pagecache.
    
    The pagecache and rendercache have very different usage profiles.

commit b201405a0eb5a5207d45917bac26f0732e134467
Author: Neil Williams <neil@reddit.com>
Date:   Wed Dec 5 11:23:20 2012 -0800

    Move CommentPane cache to the render cache pool.

commit 9da18a99265f738539d3e90c2002ce87a56c6848
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Dec 6 13:08:00 2012 -0500

    Cleanup RenderableCampaign and add batching for live campaigns.

commit f7c2437f24f66a9eeddd1a1a64b823969dc81bf1
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Dec 4 10:51:24 2012 -0500

    Adweight uses Link fullname as 'link' field.

commit 4e850ca4272ff0c916c06ca75d74da49dd5ae408
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Dec 3 15:54:21 2012 -0500

    Batch lookup subreddits in make_daily_promotions.

commit 90dfcdf7be9e87514b342a42d0ebea3b0384af98
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Nov 9 19:03:23 2012 -0500

    promote.py: Use more descriptive names.

commit 81272f7dd4e71d8454a57ab153d95090f35f8dcb
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Nov 9 18:37:51 2012 -0500

    Stop using traffic to weight promotions.

commit c94483465095b10dfe7320c27acf729e27bb67b1
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Nov 9 14:20:05 2012 -0500

    promote.py: Reorganize for readability.

commit 20061dffb346fe5af8cf86b61a42d97e754ddffe
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Nov 9 13:26:50 2012 -0500

    Fix typo so we correctly calculate Subreddit traffic weights.

commit cadc79f5176acea505dbe3e2867d6f58dae31d55
Author: Neil Williams <neil@reddit.com>
Date:   Sat Dec 1 17:03:21 2012 -0800

    DenormalizedRelation: fix bug in fast_query single thing2 case.

commit 6e7c3d697c61b27a801a2bcc41bf7fac68788568
Author: Neil Williams <neil@reddit.com>
Date:   Sat Dec 1 16:40:36 2012 -0800

    CommentPane cache: save some work when not logged in.
    
    Skip the authorship checks and ThingUpdater work (two iterations over
    the comment listing) when the user is not logged in.

commit efa3bb40091ee596d350de72d38a308c1de2005a
Author: Neil Williams <neil@reddit.com>
Date:   Tue Dec 4 11:33:01 2012 -0800

    Add migration script for regenerating CommentParticipationByAccount CF.

commit 68291521b5a9195514b5e059dca0b0e9e0e309e9
Author: Neil Williams <neil@reddit.com>
Date:   Tue Dec 4 11:32:33 2012 -0800

    Move query_cache scripts to a more general "migrate" directory.
    
    Not just for the query cache anymore!

commit 925c9ccc6839906c1ab4ad565d16db7625fc1d7f
Author: Neil Williams <neil@reddit.com>
Date:   Sun Nov 25 18:15:15 2012 -0800

    /dev/api: Fully document the "links and comments" section.

commit 9f5740e3ff919a2228dff26e392a522d552412d4
Author: Neil Williams <neil@reddit.com>
Date:   Sun Nov 25 18:27:15 2012 -0800

    /dev/api: Use "fullname" instead of "id" where appropriate.
    
    ID is used elsewhere to mean the raw numerical ID (usually represented
    in decimal) rather than the fullname which includes the type ID and is
    in base36.

commit 01a67579a84fa8005e8636151e2dfe7b7381cdda
Author: Neil Williams <neil@reddit.com>
Date:   Sun Nov 25 19:06:25 2012 -0800

    /dev/api: Improve semantics of param markup and tweaks styles.
    
    The style changes should make it easier to match param names to
    descriptions, especially with multi-line descriptions.

commit e99a34c36b716e512bb8dcdc6e3cf38147c9f1b7
Author: Neil Williams <neil@reddit.com>
Date:   Sun Nov 25 18:23:55 2012 -0800

    /dev/api: Remove translation markers from param docs.
    
    The docstrings are untranslated so it is inconsistent to mark the
    params for translation.

commit d566d91d84327a9233da9c0c9c534c3547dc2e5f
Author: Max Goodman <max@reddit.com>
Date:   Mon Dec 3 17:34:14 2012 -0800

    Temporarily use "[deleted]" in JSON for deleted usernames.
    
    This is to work around Alien Blue crashing when it encounters a `null`
    in the author property. We'll revert this after a grace period for
    Alien Blue and any other affected apps to be updated.

commit 4e620f96b5e59733c94ebb3fc9140ad1634d4243
Author: Neil Williams <neil@reddit.com>
Date:   Sat Dec 1 16:19:16 2012 -0800

    Start writing comment participation by thread.
    
    This new DenormalizedRelation tracks when a user is the author of a
    comment in the given thread.  Once it's backfilled, we can use it to
    quickly determine eligibility for the CommentPane cache.

commit 3a5eabc7cccc7b5136c5e638a9bb4a7441e1e38f
Author: Neil Williams <neil@reddit.com>
Date:   Sat Dec 1 19:02:57 2012 -0800

    JSON: Fix deleted account names being leaked.

commit faa59a2b4cd53969ddf5bb94a8b7f0694059e0f6
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Nov 12 10:10:20 2012 -0800

    check-code: Rework check-code for other use cases
    
    check-code now handles 3 main use cases:
    
    check-code report: Generate a report of pep8, pep257, and pyflakes problems
    check-code regression: Diff said report from current ref to the upstream git ref
    check-code junit: Create a junit report of all problems in the current git ref
    
    Additionally:
    * You can specify which files to check (check-code junit r2/r2/models/link.py)
    * You can send output to a file (check-code -O junit.xml junit)

commit 2dea71ad1ced23bb230501cd9141ea803d1def5c
Author: Neil Williams <neil@reddit.com>
Date:   Mon Nov 26 15:02:56 2012 -0800

    Subreddit CSS: Dump permacache-based last modified system.
    
    This system is only used when stylesheets are not hosted on S3. The new
    system saves a completely unnecessary C* lookup and ditches one more
    thing from the permacache.

commit 9188eb5c2d27328183b9a286f156b01fe17a91ff
Author: Neil Williams <neil@reddit.com>
Date:   Mon Nov 26 14:56:25 2012 -0800

    Refactor reddit_base.check_modified to not use last_modified.
    
    This gives us greater flexibility to use a date from any source, rather
    than just the permacache-based last modified system.

commit dcc97b674906b3baeadd031da74639e7d13364c8
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Nov 20 11:46:27 2012 -0800

    No longer clogging up logs with 500 errors

commit d63fba2d59d20f53cd1bf5698f99dce562575caa
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Nov 20 20:14:23 2012 -0500

    Add multireddit for /r/mod.

commit 257ea95142ef4542c5f341196bbc0ded79293535
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Nov 20 20:11:59 2012 -0500

    Cleanup SubscriptionBox.

commit 9e3a2fd3162cd4ff0c8c6bac5e7e6d6f9a655568
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Nov 26 17:21:30 2012 -0500

    Detach campaign the cool way.

commit 44c3589758a85d561bf99de2df04fc81664a2091
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Nov 26 16:57:44 2012 -0500

    Rename button edit to save when editing campaign.

commit a7d3f3b6128b86415cc099485c09134e876afe08
Author: Neil Williams <neil@reddit.com>
Date:   Sun Nov 18 13:14:25 2012 -0800

    traffic: minor housekeeping and more docstrings.

commit 603ec0e04915b1cc8b73c06440309816abad33b8
Author: Ricky Ramirez <rram@reddit.com>
Date:   Wed Nov 21 10:02:45 2012 -0800

    wiki: Fix bug with wiki permissions.

commit 24aeadea1905bfea8f0a713487d3a1e6ee8b2afb
Author: Neil Williams <neil@reddit.com>
Date:   Sat Dec 1 22:38:48 2012 -0800

    Disable last visit processing on GET_info as well.

commit a7cad5dac5667099b257842a959dc2380c1909fd
Author: Neil Williams <neil@reddit.com>
Date:   Sat Dec 1 13:20:58 2012 -0800

    Don't do last visit stuff on POSTs.
    
    It isn't really necessary to do it on every POST_vote, POST_hide etc.

commit db7e5e9ac66ae4b5527c606f32819c9d9fa930e5
Author: Neil Williams <neil@reddit.com>
Date:   Sat Dec 1 21:29:36 2012 -0800

    Temporarily break imgur.com domain listings for the greater good.
    
    Turns out, this is the entire cause of current permacache lock
    contention causing vote processing slowdowns.

commit f8c264a7de78ec8c89e725294e3ec815c789afd3
Author: Neil Williams <neil@reddit.com>
Date:   Sat Nov 24 22:19:49 2012 -0800

    Add client side validation attributes to submit page form elements.
    
    There're several benefits to using the type=url format for the link url
    field, including a more context-useful keyboard on some mobile devices
    and browser-side validation of URLs before even sending a request to us.
    
    This should save us from the ugly "tried to submit %s but couldn't
    parse" warnings coming from people pasting imgur bbcode etc. into the
    field.

commit 815e8563df64806edb12a300a587576152ecf74b
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 28 15:45:23 2012 -0800

    gilding: Document the gildComment / thingupdater interaction.

commit 763e824a4836b0a458ee29d67ceeb832e7a1ba92
Author: Max Goodman <max@reddit.com>
Date:   Tue Nov 20 16:32:52 2012 -0800

    gilding: Fix bug where thingupdater counts were incremented.
    
    The value supplied by the inlined thingupdater data is the current
    count and should not be incremented by gildComment.

commit e537c3e2471891841c2ad25301c3ad883ab2e658
Author: Max Goodman <max@reddit.com>
Date:   Fri Nov 23 21:55:42 2012 -0800

    jsonp: Constrain acceptable callback values.

commit fd74634669c8e0c79a34f33a40d6e94adb7d3be9
Author: Max Goodman <max@reddit.com>
Date:   Fri Nov 23 20:50:07 2012 -0800

    buttons: Add simple sr name validation.

commit 43e29007b280a6a307ff9649d40fcbab1883bc33
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Nov 20 14:17:25 2012 -0800

    Update example.ini to enable only comment tree v1.

commit f2894776dbe861b0ab3c76c1756302641dffb8fc
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 20 11:00:52 2012 -0800

    tdb_sql: Up the number of frames in traceback.
    
    tdb_sql has a lot of functions. Seven frames was frequently insufficient
    to see who was phone.

commit f0310bc0afafad289ba74649957b3a6e23fe6bce
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 13 17:08:36 2012 -0800

    amqp: Reduce number of messages sent down to consumers preemptively.

commit 3a6db1d1e3c2268d3f3636cb3428d742bb168fdb
Author: Steve Wilber <swilber@gmail.com>
Date:   Thu Nov 8 23:15:29 2012 -0800

    add parent_id to "more" things returned from morecomments.json
    
    This fixes issue #423. morecomments already returns parent_ids, but the
    .json version does not. Without parent_id, you cannot know at what
    depth the "load more comments…" links should go

commit bdad9c463542e4c93ee4ed58ace9594c406df9cc
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 15 16:12:42 2012 -0800

    stats: Condense all vote_link_q shard stats into one stats key.

commit 4a48331422c4df2024aef3c49937fb39268aecd4
Author: Andre D <andre@andred.ca>
Date:   Wed Oct 10 10:37:34 2012 -0500

    listing: Deleted users should not appear on user listings.

commit 2a0c595658a748071e13e444aa961b76866fb511
Author: Robert Picard <mail@robert.io>
Date:   Mon Nov 19 19:30:22 2012 -0500

    Capitalize "I" on the preferences page
    
    Right now it's capitalized sometimes, and lowercased others. After a little
    chat in #reddit-dev, it was agreed that it makes sense to capitalize it.

commit 117526abe3365b8e8911fd0935eab78dc069c600
Author: nekosune <kat.swales@nekokittygames.com>
Date:   Mon Nov 19 21:39:26 2012 -0800

    Added Error to Stylesheet API on invalid CSS

commit 82ed3c9a02c6a67c705cb071023f6bba0e9cef20
Author: DEADB33F <James.C.Bradwell@gmail.com>
Date:   Mon Nov 19 20:39:29 2012 -0800

    Added is_friend to user account JSON response.

commit a492f0ac91733651902681300c6e3bd22ab42e48
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 20 10:02:43 2012 -0800

    AllSR: Remove obviated sr_id > 0 rule.
    
    This rule was added to ensure that links being returned had at least an
    sr_id data attribute.  This prevented an issue where replication lag on
    Postgres would cause half-baked objects to be returned by queries on the
    slave and then loaded in that bizarro state into Memcached breaking them
    for a long time.
    
    Now that we are using proper transactions around Thing._commit, this is
    no longer necessary and we can shed it for sanity and speed.

commit 1e4c8bd37f7aee3c594de16b18f352a916255da3
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 20 10:02:32 2012 -0800

    AllSR: minor cleanup in get_links.

commit 18a0aee2d88d14fd5c9e44773b717bbef71d6c77
Author: Neil Williams <neil@reddit.com>
Date:   Mon Nov 19 17:47:07 2012 -0800

    Synchronize mis-merges from production branch.

commit f96478b743e408daac8b16a22904ade946db3cf5
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Nov 16 10:39:26 2012 -0500

    Remove unused argument in decrement_month.

commit f0ccf5ae279cced81952a9b21ece9d3f84384135
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Nov 15 18:49:07 2012 -0500

    Truncate promotion_history to most recent 31 days.

commit 157362fa6bc808da85b525ca45b8f39a91d0f3f2
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Nov 15 17:53:19 2012 -0500

    Specify dates we want in traffic queries.

commit fee89d18af9cf97364dad023e5b8c74f998077e8
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Nov 14 15:17:44 2012 -0500

    Use an autocommit Session for traffic.

commit c0229834c7d3a899e691449bd88616694632942d
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Nov 8 16:22:34 2012 -0800

    Move to_date() function from bidding to utils

commit cf8ca9a2280e34379f573b3236a43daf4b71937f
Author: Roger Ostrander <reostra@reddit.com>
Date:   Wed Oct 31 11:04:36 2012 -0700

    Remove extraneous reports.

commit 722c5a069cb57ca8ad98f03ccfb3337061893d6e
Author: Neil Williams <neil@reddit.com>
Date:   Fri Oct 26 11:07:05 2012 -0700

    Cassandra: Increase timeout.
    
    The cassandra ring is in a different AZ right now, so we need to
    increase the timeout.

commit f17ba944d6d00cd284e25667e2a3484d3e38c679
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Mon Oct 22 11:13:02 2012 -0700

    Change admin_override to sponsor_override since that's what the validator is actually checking

commit 92bac3f77c57d01e47cc33ba9dbb1fe97d1ca256
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Oct 18 10:01:41 2012 -0700

    Serve public description (not sidebar) in rss description.

commit 2eb24e46ce96311a629e94c3e5a03e38f300a0ea
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Oct 17 17:32:37 2012 -0700

    Don't use account._spam to determine access token validity.

commit 65b146772bcc31f26c8cc9a2117d20828e466ac8
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Oct 16 09:35:59 2012 -0700

    Backend support for bans.

commit f0b336f72d441df7539292dbd770c4709e9b8339
Author: Neil Williams <neil@reddit.com>
Date:   Wed Oct 10 14:31:58 2012 -0700

    Add blank templates for GoldPayment.
    
    It is inserted in pages.py now to be a cloneable template, but that
    breaks alternate views.

commit 7f666afa86d0cbbddba9cb5f3283f27568ace84e
Author: Neil Williams <neil@reddit.com>
Date:   Fri Oct 5 13:06:25 2012 -0700

    tdb_cassandra: Remove obviated Relation infrastructure.
    
    This has been replaced with DenormalizedRelation which:
    
      * uses an order of magnitude less storage space.
      * has shown, on average, 50% better response times.
      * does single-row lookups rather than large multigets.

commit b521e2f7930c883d7eb9e6b1140749a9e950300e
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Oct 5 12:22:14 2012 -0700

    Change c.site to site throughout POST_selectflair.

commit f9bc583146feba69cf5f3acc59b4a6b0233eea87
Author: Ricky Ramirez <rram@reddit.com>
Date:   Mon Oct 1 12:15:10 2012 -0700

    wiki: (TEMPORARY FIX) require 100 karma before editing wiki.

commit e1cba69d78caf76f74b5d42e49a3aa5e63f24ded
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Sep 17 16:13:10 2012 -0700

    Don't return accounts_active counts from /reddits.

commit eec1066db78c9ad3c10526f2c0b3b4464bbe040a
Author: Neil Williams <neil@reddit.com>
Date:   Fri Sep 14 13:09:13 2012 -0700

    Stale cache user_subreddits in the SubredditTopBar.
    
    This is an attempt to reduce the bandwidth being spent transferring
    large subreddit objects from the central memcached servers.

commit c2f14a9e9d6617bd3cdfe9c64d67b7f2a4ba83bd
Author: Max Goodman <max@reddit.com>
Date:   Wed Aug 22 11:05:10 2012 -0700

    Replace vislink logging with a FIXME.

commit 3beee33287553ea648a32066703006b2f9657d5d
Author: Max Goodman <max@reddit.com>
Date:   Mon Aug 20 12:32:44 2012 -0700

    Log vislink builder skipped occurrences.
    
    It appears that sometimes vislink is being skipped by the builder,
    leading to a blank ad box. I discovered this because the interest bar
    code would raise an exception upon the occurrence. I'd like to log this
    case to gauge how often this is occurring.

commit 4a6d1ab69fbdcb34947d1e1a991111f6ca070e52
Author: Max Goodman <chromakode@gmail.com>
Date:   Fri Aug 3 11:40:43 2012 -0700

    Band-aid for NS_ERROR_DOM_SECURITY_ERR toggle issue.
    
    Attempt to catch an exception in tracking code that may be interfering with toggle buttons for some Firefox users.

commit 1cbd9d0995eabe0d22299ac6ada8662e6c83e81f
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Oct 30 15:28:10 2012 -0700

    Fix bug where top-level comments are added to v2 tree twice.

commit 345ff6d4a9b385eb7dea094d5e14b857420f90d6
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Oct 30 14:02:21 2012 -0700

    Improve comment tree version changes and rebuilds.

commit 874a753647974096e9568fe040d4d0363609289b
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Oct 30 10:24:10 2012 -0700

    Add timing stats to the comment tree library.

commit c1fcca85692dc0f12bfdd22bc187bd79af2e5a8c
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Oct 29 15:04:52 2012 -0700

    Cast to int the comment tree version chosen by weighted lottery.

commit 3bc7b620f0b553a14d8f83be25f7ab3a75f1a2f0
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Oct 26 19:53:48 2012 -0700

    Don't use fetch_things2 for link comments.

commit 33666aa7fd77c1d8ac822dc32a8d0b77e05abd9a
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Oct 26 15:53:42 2012 -0700

    Pass link in a list to changed() to stay Wrapped-safe.

commit 34bc34a46161dea4cdbc2a49997b01175b0f6805
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Oct 26 15:09:41 2012 -0700

    Add set_last_modified import back to queries.py.

commit ceecb3ca51407c555806c8c22973fba33cb31c03
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Oct 26 14:03:18 2012 -0700

    Fix various comment deletion bugs in comment trees.

commit be2757f71ecf7fb196e0eaf0e238454a2d1235c1
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Oct 25 13:44:47 2012 -0700

    Move common weighted lottery logic to utils.

commit 2868e6590a22f5fec26eeb4f2ec9ec09d0fc929a
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jun 20 12:21:44 2012 -0700

    Randomly assign comment tree implementation to new links.

commit c5d1a4fc3e9ed1ef9f240612e8b52fc95097d072
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Oct 24 11:18:09 2012 -0700

    Add ConfigValue.dict(key_type, value_type) parser.

commit 879f6c44dad480877ccd59afe68f630da1e8f5f4
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Apr 24 14:07:29 2012 -0700

    Refactor comment tree management and support multiple implementations.
    
    This helps us migrate comment trees out of permacache, and offers a new
    lockless schema for storing the data.

commit 5d6ec36d26231c59c7ae9bbc51716bf26bce22b4
Author: Max Goodman <max@reddit.com>
Date:   Mon Nov 19 15:01:33 2012 -0800

    Simplify post-under-... class steps and include all matching.

commit 8131555ee4821a74943a94250094fe36ceee7704
Author: Max Goodman <max@reddit.com>
Date:   Fri Nov 16 18:24:19 2012 -0800

    Add post-submitter body class.

commit bebbe7c19f55a804c79a6549f67e72e54883e8c1
Author: Max Goodman <max@reddit.com>
Date:   Fri Nov 16 18:19:00 2012 -0800

    Add post-under-10m-old body class.

commit 992fce34f7044b618b2217186d6e0a161771f590
Author: Max Goodman <max@reddit.com>
Date:   Fri Nov 16 17:31:46 2012 -0800

    Broaden flair selector button event delegation.
    
    This makes the flair selector work on dynamically added elements, such
    as by neverending reddit style extensions.

commit 7e338253196006a95a8924559857a7b6f9017583
Author: Neil Williams <neil@reddit.com>
Date:   Sun Nov 18 19:43:18 2012 -0800

    /dev/api: Fill out documentation for "account" API endpoints.

commit da16a70cdb079dc7a353adacdc20386f76c8ee93
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 16 15:00:24 2012 -0800

    app-startup: Make startup banner a little shorter.

commit cad2e0638e55b62c23f0ef083402290ec398727f
Author: Neil Williams <neil@reddit.com>
Date:   Sat Nov 17 23:24:45 2012 -0800

    tdb_sql: Clean up imports.

commit 284c1e8b60971cb162a4c9c280253f74b250814d
Author: Neil Williams <neil@reddit.com>
Date:   Sat Nov 17 22:00:05 2012 -0800

    tdb_sql: Use simplified stack trace format for query prefix.

commit 45e8209d8d4236367a6f7247068c13ab2307afb4
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 15 17:36:12 2012 -0800

    Move comment gilding icon to :before.
    
    This allows .gilded-comment-icon to take up its full size (not relying
    on a width:0 hack) and avoids the need for an extra element containing
    the gilding count.

commit df695257be6c6f5b7608eaf782f9c905e1b99303
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Fri Nov 16 14:38:41 2012 -0800

    Fix inventory viz javascript
    
    Javascript function in the template had "//" style comments which wiped out
    the rest of the function when the template was condensed to one line. Now
    the js uses "/* */" comments instead.

commit f4e4ad81e8e39cd9e8e187a31f7352b71015bf7d
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 16 12:08:04 2012 -0800

    install-reddit: Use HTTPS for git clones.
    
    For those behind proxies.

commit 81c7c1a57d5f984e380e9f175ce2f4db7b1ac800
Author: Jason Harvey <alienth@reddit.com>
Date:   Fri Nov 16 11:27:17 2012 -0800

    Increase sr_pops limit and random_reddit limit to 2500.

commit 1ff7ba8657278a761e0c2b6c574efd1990c94632
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Nov 15 16:35:28 2012 -0800

    Add front compression for stats multisamples.

commit 107cfc31aea8704a1001ff3e6bae08eed1748bf0
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Nov 15 16:12:04 2012 -0800

    Allow sponsors to override min bid

commit 83e63699f9656371f0bcfb7338ff350b3cb9a58d
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 2 17:31:44 2012 -0700

    Remove unused usage_q code.
    
    usage_q used to monitor the volume of various types of request and how
    long it took to generate the response for them.  This has been replaced
    by graphite-based stats collection.

commit e93dede2d162b748095efa61e66ddd5c87d532ab
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 2 19:08:02 2012 -0700

    stats: Reorganize request timers for more granular timing.
    
    Current request timers move from stats.timers.service_time.web.action to
    stats.timers.service_time.web.action.total and other keys can be on the
    same level as `total` allowing for more granular timing information so
    we can see exactly where in a request the time is going.
    
    This also adds some initial sub-timers.

commit 4ce98dcbb571be1d919dc27c82c5c5ccad3eb4d4
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 8 16:42:38 2012 -0800

    stats.Timer: don't send intermediates immediately.
    
    This allows us to change the base name of the timer before stop/flush is
    called and have the intermediates update as well.

commit d476208e3812887008ce0e79f5f95db01a103649
Author: Jason Harvey <alienth@reddit.com>
Date:   Sun Nov 4 07:06:09 2012 -0700

    Re-work the gen_time_listings query WHERE clause.

commit 856a67e84572c10229168a915ad33b547adab6d1
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Nov 12 13:29:28 2012 -0800

    Ignore reports older than the report age limit.

commit 0cfc4554905bbff5dabbd9f011a36eba1514f50e
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 14 01:52:41 2012 -0800

    Wrap thingupdater in a closure.
    
    To prevent thingupdater JSON data from being JS globals.

commit 987eb7b1767b45d162f0e59a276ba4262a2e1d93
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 14 01:50:54 2012 -0800

    Display the number of comment gildings.

commit 039a85d45c4ab4a2d32e65ec2dcf7106ef6379dd
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 14 00:08:03 2012 -0800

    Prevent users from gilding themselves via the icon.

commit 79358e95b336ad0cd735cc02b4241cef062f21c9
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 14 12:46:16 2012 -0800

    Make reddit login cookie HTTP only.

commit b06dc9b8f173c7fccfb1bf536215ad1f37fcad26
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 14 12:06:39 2012 -0700

    Add equality implementation for Account model.

commit 54fbb405f13829b6727bd5df865e5b9324ade3c7
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 12 22:21:01 2012 -0700

    Reorder login/reg methods to copy docs from real handlers.

commit 6d8f87f044165fcccff516016e080ebec6b81dc1
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 12 22:14:56 2012 -0700

    Add missing @wraps to cross_domain.

commit 0b9e433101979c41d3c049affd3e01e3c84e440a
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 12 22:10:01 2012 -0700

    apidoc: Replace wraps_api with functools.wraps.
    
    Since functools.wraps updates based on the source fn.__dict__, it looks
    like this was a wasteful nop. :/

commit 1340e0c0ef82a2b83a5da56421cbeb29b2e44f60
Author: Roger Ostrander <reostra@reddit.com>
Date:   Thu Nov 15 14:20:08 2012 -0800

    The 'share' link can now share with reddit users via PM.
        From /r/ideasfortheadmins http://redd.it/z5d0y

commit 2efdb437fa1daa2dfc5a02aca0724796c22b3683
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Nov 15 10:01:48 2012 -0800

    promote.py: Clearer timer names
    
    Also, replace Timer with log message for infrequently hit
    code path.

commit f2d815ef25db0b5c61752775a65b3dc003680c68
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Nov 13 11:39:01 2012 -0800

    promote.py: Use namedtuple for storing weights
    
    This replaces the difficult-to-follow tuples with
    a namedtuple, AdWeight, that should be slightly less
    difficult to understand when reading.

commit a481dc33b32c7d51b4fa400f69cef2a9264a0547
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Nov 13 09:58:21 2012 -0800

    promote.py: Whitespace cleanup

commit 9583c04604231e7a2ee2d9e028fc48f69afc8046
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Nov 13 09:54:38 2012 -0800

    promote.py: Clean up imports

commit e0f8706d4639e63e1eddb4286d99e448a5c12c47
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Nov 13 09:30:20 2012 -0800

    promote.py: Redundant param in set_live_promotions
    
    set_live_promotions had a redundant "links" parameter
    (an item that can be calculated from its other param).
    
    This removes that from the function call, as well
    as from the return value of its partner, get_live_promotions

commit 91ae50a394d8032eb76a479a705474f64cb47d7e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Nov 12 16:10:17 2012 -0800

    promote.py: No more permacache for get/set_live_promotions

commit b1a3c00568c90a8d3eb7af873d79c51519a4aac6
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Nov 12 11:28:27 2012 -0800

    Tighten permissions checking on modmail responses
    
    Prevents users who don't have permission to see a mail
    thread from submitting replies to it.

commit 6d6c8335a0803c76fe48abc78303ee1a1fe8016e
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 8 19:01:07 2012 -0800

    app_globals: Clean up imports.

commit 929c6bdcd3cc80effa65fe97bac0bc4f57d23365
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 8 18:54:12 2012 -0800

    Drastically reorganize app_globals and time app startup.
    
    This should give us more information on which steps of app startup are
    taking the most time so that we can minimize the effects of pushes on
    capacity.

commit c8a725758cae53a5c24c805b633d4555c16fd18f
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 8 18:52:19 2012 -0800

    Add "days" config type and move MODWINDOW into it.

commit 64378cf031344c4c702ba633dc47b5f6817c16f5
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 8 18:50:33 2012 -0800

    stats.Timer: Add method for getting timer's elapsed time.

commit 0e54ffbe232442601f753f942e5b88b67c4785fd
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Nov 8 13:34:40 2012 -0800

    Function to fetch refund amount from authorize.net

commit b8b7786efc889007ee32598413fa64b596935dc8
Author: Neil Williams <neil@reddit.com>
Date:   Mon Nov 12 14:59:02 2012 -0800

    app_globals: Move queue declarations to setup() etc.
    
    It now relies on ini file configuration.

commit e412fdcde78435b61cc78854a02ec81156a54f1f
Author: Neil Williams <neil@reddit.com>
Date:   Mon Nov 12 11:31:28 2012 -0800

    Shard vote_link_qs by last digit of subreddit ID.
    
    This should help with permacache contention.

commit 9faa0090826991f6a73e3b6e554be4483fe624b9
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 9 15:56:30 2012 -0800

    gilding: Add some views for stats gathering.

commit ed44ccf21306a00520971a972733328850fdb747
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Nov 9 18:05:36 2012 -0800

    tdb_cassandra: Resurrect View.get_time_sorted_columns.

commit 0aaf9b9307c827e6b2417a1fd989ab178b297b1a
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Nov 12 15:47:57 2012 -0800

    Correct duplicate PromotionLog from mis-merge

commit 141f3d3b0a301bf3d14344b7d53fff1ba1a1f29b
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Nov 5 10:39:30 2012 -0800

    Search upload: Fix bug in NSFW status of subreddits

commit 9ae5aaa82a19ce58fc8fe5da0822bf1dfa527631
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Nov 7 13:48:20 2012 -0800

    Serve ad data from LiveAdWeights, not permacache

commit a0eef4ca5d3abd84ed4af5a0f3f6a31dddb614f0
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Nov 7 11:56:10 2012 -0800

    Organize imports in bidding.py

commit 940b54fc84091abbf1c9ee8406039cc27f7238ce
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Nov 1 15:52:36 2012 -0700

    LiveAdWeights: Cache friendly, non-permacache ads

commit 1ef424958e6f3a922da99d47fe1edd2fdad91d00
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Oct 24 14:17:30 2012 -0700

    SponsorBoxWeightings: optimize set_from_weights
    
    It now will do a smart lookup of what Subreddits might be
    active, and update only that set.

commit df7df27aab4bcd0db8649623f6866da6c036a6e6
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Oct 25 11:58:50 2012 -0700

    bidding: Refactor PromotionWeights queries

commit 7e9f9fb4888d3c93f35ec523dd9fd6fb415d08de
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Oct 24 14:16:12 2012 -0700

    Fix issues with use of amqp for SponsorBoxWeights

commit 3602982f349980bf22e5bfcf537a56d4b4648e9b
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sat Nov 10 19:03:10 2012 -0500

    Useful keep_fn for unmoderated.

commit 0185a1fbb40e08c2cca92b712dd7407df4b33afa
Author: Max Goodman <max@reddit.com>
Date:   Fri Nov 9 00:01:07 2012 -0800

    Scale gold message preview width to fit containing box.
    
    This prevents the inline-block behavior of displaying on the
    same line as the buy buttons if the preview is very thin.

commit 789a6ee5b6d8c2013a3827fd0cc9aeb05464d3af
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 8 23:49:52 2012 -0800

    Show comment gilding in compact.

commit d17d4c0e0eac3dd167c81f191348689a9f0a2407
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 8 23:49:43 2012 -0800

    Add page body classes to compact.

commit 921da7e9f69958ef465482f5c2e7c4f56ab9bb76
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 8 23:48:38 2012 -0800

    Generalize thing row class code for use in compact template.

commit efb0fd670b85dd98115f1dd543ec3f454a560df3
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 8 22:51:03 2012 -0800

    Add gilded property to comment .json output.

commit 1eea55195570813945612d57e3740b2236e971ab
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 8 22:16:01 2012 -0800

    Fix up spacing between gold form <p>s.

commit 25e7a5ffda44e0a08bccb9eb251719df1654de3a
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 8 21:59:02 2012 -0800

    Dim gildings during the first hour of a post.

commit 04e32261282b0ea1d5066973c56e5733fb71e1bd
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Nov 6 11:37:41 2012 -0500

    Make special_reddits use SRMember lookup rather than special query.

commit 27f99dc881e6e28e70ecd8e9a3799ac8e4fa7dd6
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 8 22:53:17 2012 -0800

    gilding: Don't bother showing gilding icon on deleted/removed comments.

commit 6a40f4e5bc5e39d6e1aa2fb576a3f5287d9d4cad
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Mon Oct 29 10:36:07 2012 -0700

    Available impressions viz on campaign edit page
    
    Adds callback to the subreddit selector on the promo edit page that updates
    an available inventory graph when the selected target changes. Shows available
    front page inventory if no target is selected.
    
    Right now this is set up in a new route. Eventually it should replace the old
    promoted/edit_promo route.
    
    TODO: change color of graph to show when inventory is running low
    TODO: i18n of javascript strings

commit 9519af54ab4331c614302064ba2bb707bc28f9b0
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Fri Nov 2 09:31:19 2012 -0700

    Promo admin tool
    
    Lets admins and sponsors view ads that were scheduled to run on a certain
    day or that were scheduled to launch a certain day. Useful for doing damage
    control when there are site problems.

commit 28dda9d5997aeb5e81de307d90437d082f9f4d98
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Wed Oct 31 14:47:44 2012 -0700

    Ungate campaign traffic page
    
    This will allow us to get feedback from users. It's still not linked
    publicly anywhere.

commit 009a0659aa41afc23ec7609426cac6552f272793
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Nov 8 18:16:47 2012 -0800

    Move to_date() function from bidding to utils

commit 51019acb67a542b05652e58092af6c78b3642826
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 8 15:31:26 2012 -0800

    Dim gildings on posts younger than 6 hours.

commit 2210e33123ebfae85461b8e1f1666779193e6e9d
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 8 15:31:14 2012 -0800

    Add a body class containing the rough age of the page link.

commit e44960f78019d933c678df46aa1b576e274aca00
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 8 14:24:58 2012 -0800

    Add a close button to the comment gilding box.

commit 3423cdc19c3d0380926bc9d764d21579feace4ad
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 8 13:54:07 2012 -0800

    Add back gold gift message markdown wrapping.
    
    This enables comment/selfpost styling of the markup in this field.

commit 13497f6f0883347c6dea946822886de239f62d50
Author: Neil Williams <neil@reddit.com>
Date:   Wed Oct 10 16:53:59 2012 -0700

    queries: Move /r/all/comments to new query cache (try 3).
    
    The first time we tried to move /r/all/comments to the new query cache,
    the row quickly grew to be massive because tombstones were piling up in
    the row cache. The row started taking seconds to retrieve after only 12
    hours.
    
    We reverted.
    
    We took gc_grace_seconds down to 30 minutes which is relatively safe in
    the query cache (prunes can be re-executed without issue and lost
    deletes of non-pruned things will be covered by keep_fns).
    Additionally, we switched to the leveled compaction strategy for the
    relevant column families.
    
    Then we tried this again. This time, things ran fine for three days
    before we started seeing out-of-memory issues on the nodes responsible
    for this key.  The row size was rather large again.
    
    We reverted.
    
    Now, we're trying again with three more changes, working on the
    hypothesis that runaway growth of a hot query can happen because prunes
    start failing after a small bad spike.
    
    * tdb_cassandra.max_column_count has been drastically reduced in favor
      of xget for the models that actually need to fetch hugely wide rows.
      This saves memory pressure via materialized thrift buffers in general
      and when the row grows large for whatever reason.
    
    * The pruning behaviour has been tweaked to only prune a portion of the
      extraneous columns if there are a large number.  This should reduce
      the likelihood that prunes will fail after a row has grown too much.
    
    * This query is now in its own column family that is designed to have
      its rowcache disabled.
    
    Why bother shoehorning this query into this data model, you say? It's a
    canary for extreme scaling of other queries.  If we can't fix this
    problem for this query, we should re-evaluate the whole data model.

commit 2d2a8d887b8f52ba22b537fec52970ebbb07ad55
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 6 13:18:53 2012 -0800

    Remove unused last-modified check from GET_stylesheet.
    
    We no longer write to the old last modified system for stylesheets
    anyway, so there's no point in checking.  S3 handles last modified for
    the staticized stylesheets anyway.

commit 65368b9abbc6973d1502cd868ef34a1eccf4fe87
Author: Neil Williams <neil@reddit.com>
Date:   Fri Oct 26 17:11:13 2012 -0700

    Add a script to detect regressions in code quality.
    
    This script will determine if changes from the upstream branch to the
    current branch have caused any additional reports from pep8, pep257, and
    pyflakes.

commit e3952a5555ce69183037a7e3ae67b5fa8c5b263e
Author: Neil Williams <neil@reddit.com>
Date:   Sun Oct 28 17:38:54 2012 -0700

    Add script for cleaning up the static files bucket on S3.

commit 440cb664ac111f6903cc6ea0556ead8bbc3b6ca5
Author: Max Goodman <max@reddit.com>
Date:   Mon Nov 5 16:44:39 2012 -0800

    Move gold prices to configuration parameters.

commit 4bf2c0e88667c74ec42a9a920b17da6500563108
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 12 15:18:26 2012 -0700

    Tweak gold styling fonts to include Bitstream Charter.

commit a900e4e325fcaf8f0c666d6aba62713511d00fc4
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 12 02:16:16 2012 -0700

    Shiny new gold info page.

commit 9a401df67fbd07745c4184a6219e40322db37e28
Author: Max Goodman <max@reddit.com>
Date:   Sun Oct 7 12:43:26 2012 -0700

    Add gold coin icons for comment gilding.

commit b3bb35131e8f0ed14fb4b9e64c7ddafa8fdc391e
Author: Neil Williams <neil@reddit.com>
Date:   Sat Oct 6 10:47:37 2012 -0700

    gold: New feature: Comment gilding.
    
    This feature adds a "give gold" button beneath each comment. You can
    give a month of gold to the user who created the comment. An icon is
    added to comments that've inspired gold gifting.

commit 1f72971e5d93261cf0a31b84be165f3955640d71
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Aug 19 03:44:06 2012 -0400

    Save/unsave for comments.

commit 029890fdb4295b8c9a64ff3f93f29987a9d0cf29
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Oct 12 17:05:18 2012 -0400

    Add gold body class if c.user.gold.

commit f52f223bcc9e67f203282a03fa76bbcdc98568c3
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 7 13:54:54 2012 -0800

    Add temporary bundled copy of less.js.
    
    This is for use until we have less.js packaged in production.

commit 0b88e33b5963829b5292706be1e03b2fc5879671
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 7 13:54:27 2012 -0800

    Add support for LESS compiled stylesheets.

commit 81e61ff085048b069ea533e458cb5ae084b9bc40
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 15 12:21:12 2012 -0700

    Add md template util.
    
    This breaks the _() step out of the existing _md() template util for
    conveniently inserting markdown that has already been translated.

commit 0ac2ebb7260f205fa243272a5be61886d0b062d0
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 12 00:38:57 2012 -0700

    Ditch additional_css for template def overloading.

commit 3b6eba97f86565cf49d0b32b7793657623eba3a1
Author: Max Goodman <max@reddit.com>
Date:   Sun Oct 28 00:38:03 2012 -0700

    Clean up client side rate_limit code.

commit 7fd0c049566cac193a6fc7416bab9885b2609bbf
Author: Max Goodman <max@reddit.com>
Date:   Sun Oct 28 00:38:29 2012 -0700

    Display message when a form is ratelimited.

commit 54d6ae3ef79fed47d89f28416d828088cfdbe2d9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Aug 19 01:43:41 2012 -0400

    UserController can filter saves by subreddit.

commit 858c7c264a0d359e09605bfaef7381f79a08faae
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Aug 19 02:01:03 2012 -0400

    Remove old CassandraSave and CassandraHide.

commit 6fb9f5a09f8b3eaa7ac5ed2beb7ea4c344b11eaf
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sat Aug 18 21:54:36 2012 -0400

    Dual write LinkSavesByAccount, LinkHidesByAccount.

commit c997435b656f75996d88092a535090334291c97d
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Aug 17 15:20:58 2012 -0400

    New Cassandra saves and hides.

commit 8a360a78ede90801bf5d86cae6a6837380c7eaf3
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Aug 23 19:44:53 2012 -0400

    Remove unused SavesByAccount.

commit d2c5e6afa1072d1e16e3ecef5fe42bdf3c5c59ed
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sat Nov 3 20:52:57 2012 -0400

    Delete merge conflict remnants.

commit 2e9939c165f34192128e530a95ab269932debc71
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Oct 21 12:09:43 2012 -0400

    Delete QueryishList.

commit 42ed57a24c61adbd783b93fa22c19f4f586e0379
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Oct 21 11:28:31 2012 -0400

    Delete the jury system.

commit a96995954ca3321379d7ea9cc619365d477b5dc6
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Oct 26 15:46:20 2012 -0400

    Simplify VSrCanBan.

commit dff7c87a3c98deec6a96b6fb44cef50687e28f22
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Oct 21 11:23:27 2012 -0400

    Stop using end_trial to set verdict on remove/approve.

commit d0f6b6fb5b80912cdc310e41194b4eda5a8cce18
Author: Ricky Ramirez <rram@reddit.com>
Date:   Tue Oct 30 16:53:22 2012 -0700

    comment_tree: Fix message filters for admins.

commit 0a081f34f5ba5f2fcc3405cfc4b7ee1562c3b7a0
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 17 10:21:06 2012 -0400

    Show gold_creddits balance on user page.

commit 86c55959aeac165ac924285207bcb961958ea1d2
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 31 13:09:44 2012 -0400

    Remove unneeded import from promo.

commit 4edee08546e165107d221886c6f23ead2c6e91c9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 31 13:03:07 2012 -0400

    Move PromotionLog to r2.models.promo from r2.lib.promote.

commit 4ebf2898ddf1dfe660ca48ada57b61c9261f37e1
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 31 12:45:11 2012 -0400

    Remove unneeded memoize from promote.py.

commit dcc73cd52a4113753714e7de76eb6c9195195619
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 31 12:44:36 2012 -0400

    Move get_promote_srid from r2.lib.promote to r2.models.promo.

commit b18fffae001221af1a5bcdccf59431505e23c67d
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 31 12:36:47 2012 -0400

    Rename STATUS to PROMOTE_STATUS and move to r2.models.promo.

commit 5a0fbb5c8f0fb35b1fa5ce9e35dfd7eb5e5ae4c5
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 31 12:18:08 2012 -0400

    promote.py: Remove unused CAMPAIGN object.

commit 8a0020c9fb98c328dbf7f935301ed27eb20aad64
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Oct 30 21:22:46 2012 -0400

    Promote controller users keep_fn to skip deleted links.

commit bbe091c599d7063f55e818881c3ec5d2b1059a9f
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 24 15:25:18 2012 -0400

    Move onchange out of set_promote_status.

commit 7ba1d9dde55b112f95ab4fa2a41fdd6f43ec8de6
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Oct 25 16:28:16 2012 -0400

    Stop writing to old promoted link queries.

commit cac918e42385d4b68ca4227bdf86acab52d18bff
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Oct 25 15:29:21 2012 -0400

    Read promoted link queries from UserQueryCache.

commit 31c3cbcd33c8c511e339e61bc5ee3d038e7a3669
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 24 15:15:05 2012 -0400

    Add UserQueryCache queries for promoted links and dual write.

commit dd46b66fd70a9d0c96cda6f7c49d55acff71c327
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Oct 19 16:47:37 2012 -0400

    Only one way to get_transactions.

commit 63d9877b902a00f2e629ab0cd517e7a1c6e664b9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Oct 26 12:14:34 2012 -0400

    Don't create campaigns attribute for new promoted links.

commit c3dd44d59bb50fcf96b48f59ad35b9ac0f7d9b95
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Oct 19 16:33:29 2012 -0400

    Clean out unused stuff from promote.

commit ac7b6d69161f639e66015f0c70bf639e388b47d4
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 17 17:33:38 2012 -0400

    Stop passing around indx, use PromoCampaigns.

commit 89a65e9eb137cdeed5ffee8d6e8f56b7c47eec25
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 17 16:16:33 2012 -0400

    Get rid of editable_add_props.
    
    It was doing too much, and also the last place where the campaigns dict
    attribute was still put onto promoted links.

commit 152c79c62c2fa6eed1973570822696714e19f0a0
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Oct 31 09:44:35 2012 -0700

    Make the /health/ads check more useful

commit 9bcf690e996ca9344e4f3d66b9efd1677cba45d0
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Oct 26 12:10:25 2012 -0700

    Remove unused PromoteDates code

commit f49d997ea9bc588d02c62ffa8d40e84edf188980
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Oct 26 11:58:08 2012 -0700

    Remove unused VBid validator

commit 658b8ce0bdd2492d4b565de065a80daf95f76436
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Oct 29 10:10:42 2012 -0700

    MinimalController: str has no attribute append
    
    MinimalController calls set_content_type(), which
    in some cases references c.response_wrappers. However,
    MinimalController was not setting c.response_wrappers to
    a list, which caused an error.

commit 3fe8471c5ced15d3c9e01bb5bc6b4d01eea62cf0
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Oct 25 12:28:05 2012 -0700

    Add email link to promo traffic help page

commit 29cf7ce612020febad653bfdbddb1799a8622212
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Oct 25 12:52:33 2012 -0700

    Only show traffic settings for promo owner/admin
    
    Promos can have approved "viewers" but they shouldn't be able to edit traffic
    settings. This change hides the Settings tab unless the user is owner of the
    promo or an admin.

commit f9b091804a82b99c69f68172e953a27e5951e62c
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Sat Oct 27 10:09:24 2012 -0700

    Better handling of inventory special cases

commit 81891ea4d7681d49246f079cb1055ea3c1d55b1e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Oct 25 13:08:36 2012 -0700

    ads: Add endpoint for health check on ads
    
    Adds a new route /health/ads which returns in plain text the seconds
    since the epoch that the ad system was last updated via make_daily_promotions()

commit 82014d80b15e7154cc6ba7f3f506f4093d4e3613
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 17 11:07:17 2012 -0400

    Stop writing to old promotion_log attribute.

commit e5e7fc2c3191c5b2cdeb6c9b517b0500e50a0ee2
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Oct 16 17:00:03 2012 -0400

    Read from PromotionLog.

commit 1faa705673d80041a352f00c20cefb70cd347779
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Oct 23 16:59:07 2012 -0400

    sort the PromotionLog

commit bfa2d39cb9124ac46046e02381c639763a2bca17
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Oct 22 12:31:07 2012 -0400

    Use _force_utf8 for PromotionLog entries.

commit 463d969ad052d84a6442bf05202fce7c102546c6
Author: Neil Williams <neil@reddit.com>
Date:   Thu Oct 25 10:56:20 2012 -0700

    ZooKeeper: replace deprecated connect() with start().

commit b55934ab6f232472e2ff7e342032baa484ea545b
Author: Neil Williams <neil@reddit.com>
Date:   Thu Oct 25 10:54:24 2012 -0700

    Account: ensure all non-defaulted attributes are atomically created.
    
    This prevents an issue where registration_ip is not set on the account
    object causing downstream code to break. This happened because the app
    would crash for whatever reason between committing in register() and
    adding the IP and committing again in ApiController:_handle_register.

commit 0922ab4ec48fbd2d82f34424683b9c9254883c35
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Oct 23 15:56:29 2012 -0700

    Fix race condition in counting/timing stat buffers.

commit 5b882b55bec88bbb12d2ec279772e60a5fb95d12
Author: Neil Williams <neil@reddit.com>
Date:   Mon Oct 22 16:33:51 2012 -0700

    thing: Use transactions for committing things.
    
    This should protect us against partial commits leading to broken things
    that have fewer data attributes than they're supposed to.  It should
    also improve Postgres performance as we'll be doing fewer total
    transactions.

commit b501ab67711e20b2246678d336becf7d113ff829
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 23 11:13:27 2012 -0700

    tdb_sql: Protect TransactionSet against failures in rollback.

commit 4bb51e74a706516fbbe7c04d0dd849c3d9a7dec8
Author: Neil Williams <neil@reddit.com>
Date:   Mon Oct 22 16:39:42 2012 -0700

    tdb_sql: Code cleanup and documentation; TransSet -> TransactionSet.

commit 80e51381299bd6c8b8f2bbe94eeb40b5b5e300da
Author: Neil Williams <neil@reddit.com>
Date:   Mon Oct 22 16:45:09 2012 -0700

    tdb_sql: Fix transaction state not being reset after commit/rollback.

commit 6c0b6e38468420a11ab79afca42ecd4c7a841223
Author: Neil Williams <neil@reddit.com>
Date:   Mon Oct 22 16:44:42 2012 -0700

    tdb_sql: Fix duplicate transactions being opened on same connection.

commit e8c40301fe92ae38ad59120809b2a98cf85bef01
Author: Neil Williams <neil@reddit.com>
Date:   Mon Oct 22 16:32:45 2012 -0700

    lock: Make it cleaner to acquire/release locks outside context managers.

commit d76e586de3185f1bada2c07b537ffccc787ea2bc
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Oct 17 10:42:57 2012 -0700

    pep257: Use double guotes in promote.py and bidding.py

commit 1c3374300232f49b657f09066ef64cd10b73be56
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Oct 1 13:36:43 2012 -0700

    code review: Store live promotions as C* data

commit 6bfa5523980bc9103f1c15e34a7d32e2f744ad33
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Sep 25 10:28:00 2012 -0700

    tdb_cassandra: Magic up the _ttl attribute for ThingMeta users

commit e34e8d8d3e55581f4cf9b4994c1222004d006e22
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Sep 12 15:32:34 2012 -0700

    Store live promotions as structured C* data
    
    Initially this is dual-write only

commit 6828c6940f83cab06806e9fc269e6d8e29ffc045
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Sep 12 11:19:58 2012 -0700

    bidding.py: Honor g.db_create_tables

commit b5c9d44ea97ebb02a0e0a0c7c83a078a1bec7b4d
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Oct 23 15:57:59 2012 -0700

    Remove unused import from message.compact

commit 7b2dcb3cf645d625a48cfe0e822bc4a8dcfe67bb
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Oct 18 14:32:32 2012 -0700

    Remove unused utility/template_helpers alternatives to query_string

commit e954889640fabb262264b3178069b0e8338b1fea
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Oct 18 14:20:26 2012 -0700

    query_string(): mako.url_escape expects unicode

commit d712c2d7ef86d49d99833419a56124b2726e43f8
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Wed Sep 12 14:50:12 2012 -0700

    New promoted traffic page
    
    Splits promo traffic apart into tabs: one for the link traffic, one that shows
    campaign traffic stats in a table, and another tab for settings (which is just
    viewer list right now.)
    
    Gated by VSponsorAdmin for testing/feedback.

commit ca1eb8686b0b0261307dba989b4e2cfa7c225ca8
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Oct 18 18:23:59 2012 -0700

    Fix traffic viewer messaging
    
    Updates traffic viewer emails to use new message string locations. Fixes
    a bug that was preventing emails from being sent when a new traffic viewer
    was added.

commit 30bceec164ecf1d0c2bf81aaad361817221e0fb8
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Oct 18 22:31:02 2012 -0700

    Remove old fixme
    
    Verified that payment is working correctly. Fixme no longer needed.

commit aefb174c48f19c78878c210fba48e317da69025b
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Mon Oct 22 11:23:55 2012 -0700

    Allow sponsors/admins to edit live campaign
    
    Allows admins/sponsors to edit some campaign fields even after the ad has gone
    live. Target can be changed at any time. Bid can only be changed for freebies.

commit 1da78397c3c7cd7ee397c1b7fa96d9d5ec803bf2
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Oct 17 14:03:12 2012 -0700

    Make @g.stats.amqp_processor flush stats.

commit 1468f32a2acdbf14a4ae342ffab4979ba6db2143
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Oct 9 17:29:25 2012 -0700

    Drop in replacement code for python-statsd.

commit 16d0b1c480cd9cf594deb28909dc26f91ae9436a
Author: Neil Williams <neil@reddit.com>
Date:   Fri Oct 19 13:37:26 2012 -0700

    query_cache: Add support for precomputed queries.

commit 33400828c0d0376140678c1e122fe7748d464277
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Oct 16 15:54:43 2012 -0400

    PromotionLog CF and dual write.
    
    PromotionLog will replace the old promotion_log, which was a list
    attribute on promoted links.

commit 1c935d530b5f1de66cc82374c0cfa03b8a3173ee
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Oct 16 16:17:44 2012 -0400

    Cleanup in promote.

commit 8fc311487d5e5e2029417aa3222ab99e612ab76f
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jun 7 11:29:50 2012 -0700

    Add a Pig-based map/reduce system for filling the new query cache.

commit 89e0f79da3125924cb2ee42939421852e3e33be9
Author: Neil Williams <neil@reddit.com>
Date:   Sat Apr 28 19:44:03 2012 -0700

    query_cache: Only allow iteration over MAX_CACHED_ITEMS.
    
    Items at the end of the query are almost guaranteed to be a huge jump
    from those in the non-pruned part of the query.  To avoid confusion,
    we'll cut off the query at MAX_CACHED_ITEMS which is still imperfect,
    but better.

commit c03a291ccf5c59227b59526179870dd37cd14188
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Oct 18 10:58:23 2012 -0400

    Delete temporary rendering attributes from the user.
    
    Using safe_set_attr makes the Account not dirty, but it sets the
    attributes directly on the object rather than in the _t dict. If the
    account was later _commit()'ed it would get stuck with these extra
    attributes.

commit a6da54dcfd160cfa4af9e65ef1cbf6f2eb69f083
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 16 13:56:43 2012 -0700

    Add missing gold checkout stuff to example.ini.

commit dc0906ff4d919b0525518a06e3b5e614fb7bc7c7
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 16 11:47:06 2012 -0700

    ads: Get rid of an unsightly gap between the 300x100 and the border.

commit d481f2d84b5ad11731a008fea8ea14be6dcc227d
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 16 10:45:17 2012 -0700

    ads: Make frontpage_dart not override ads-by-codename.
    
    This fixes an issue where /ads/:codename: links would show only the
    homepage roadblock ad when frontpage_dart = True.

commit ae8b8fe5412afc0a67cc2c88c7df9e248805a319
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Oct 12 11:07:10 2012 -0700

    Extend the oauth2 access token TTL to an hour.

commit e73cc9007715a2fb4ac557788030275051bdb09e
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Oct 4 14:17:49 2012 -0700

    Clean up markup for oauth2 client names and about links.

commit f094e3fa2b8c69d3e0b9a6081de5296b623d5360
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Oct 2 16:35:37 2012 -0700

    Add support for "permanent" OAuth 2 grants.
    
    If a client sends a user to the authorization page with a
    "duration=permanent" parameter, we'll create a refresh token in addition
    to the initial access token. When the client fetches the initial access
    token with the authorization code, the refresh token will also be returned.
    The client can then obtain new access tokens using the refresh token
    instead of an authorization code.
    
    Both refresh tokens and access tokens will be displayed on the user's apps
    page (as well as the IP history page).

commit f45c5ecf9287af5eec2f630f6a9ffad6c3822753
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Oct 9 09:38:29 2012 -0700

    Python style tweaks
    
    As requested by spladug

commit 2e165216933fe103abf20dbce73c6b58370a7a15
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Mon Oct 15 11:40:21 2012 -0700

    Fix promote calendar
    
    Promotion calendar code was still using the link.campaigns attribute which
    no longer exists. This change updates it to use PromoCampaign things instead.
    
    Fixes a bug where new promotions were not showing up in promoted/graph.

commit bdf0e81e95a2a79e20cceb7539eb744d6662e3cf
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Fri Oct 5 15:36:49 2012 -0700

    Upstart job to update inventory prediction metrics

commit 11481c36117b05235996d2c6bb8893e4f86005e4
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Oct 9 16:30:58 2012 -0700

    Remove campaign dual-writes
    
    Removes leftover dual-writes from the PromoCampaign thing migration

commit a84ad12960c6340c79854ffdb8d9a89487c30bba
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 12 00:22:04 2012 -0700

    Revert "Remove unused UserList.addable property."
    
    It turns out it wasn't so unused. :(
    
    This reverts commit 984585d54b681d721d33ec614e9b58ae2f39cf2a.

commit e191b3866eeb2cd894d0b32bb59ee80bc8972ee5
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 13 11:51:45 2012 -0700

    install-reddit: Upgrade to Ubuntu 12.04 LTS (Precise Pangolin)
    
    Two packages got renamed:
    
    python-pybabel -> python-babel
    python-python-statsd -> python-statsd

commit 408d53a983b8a5847d61886414916679703e4db5
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 13 11:51:23 2012 -0700

    install-reddit: Add python-kazoo dependency.

commit 4a5f5c7cb52f2846104c6459a64820f81fdfc3c3
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 13 11:50:07 2012 -0700

    install-reddit: Make sure to enable the haproxy service.

commit c63d3360108510f4816ab1a632285fc333cac775
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 13 11:48:44 2012 -0700

    install-reddit: Disable consumers that aren't configured by default.
    
    cloudsearch_q and scraper_q rely on external services (Amazon
    CloudSearch and embed.ly respectively) that must be configured manually
    before they will run properly. To avoid a spew of useless error messages
    after installation, we'll just set the consumer counts to zero.

commit 548091fae9f0921bcd44458a6c532fad45276d79
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 13 11:47:06 2012 -0700

    install-reddit: Use template0 for CREATE DATABASE for UTF-8 safety.
    
    template0 is the base template that should be immutable, while template1
    is the site-customized version. PostgreSQL defaults to using template1
    when doing CREATE DATABASE. Unfortunately, in some situations, template1
    will have an encoding set that makes it impossible for us to CREATE
    the reddit database with UTF-8 encoding.

commit e4b827ceeebe8f6109454c4ddfca721b0e4c66e6
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 13 09:59:33 2012 -0700

    install-reddit: Fix apt-add-repository wanting user input.

commit 0c0efaf1418bf4be0c1635b12053eab55a31766d
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 13 09:57:55 2012 -0700

    install-reddit: Allow domain to be configured at install time.
    
    Automated runs of the installer need to be able to configure the
    domain ahead of time to ensure that the site will come up in a valid
    state. The install script will now check for an environment variable,
    REDDIT_DOMAIN, and use that value if it is present. If not present,
    it will default to the previous "reddit.local".

commit 88662070a2f223f279370b3509c2b6476b31091a
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 13 11:46:12 2012 -0700

    setup.py: Update dependencies now that they're all officially released.

commit 79446e2f600b11149689e563e6decf02046e44d3
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 13 09:56:27 2012 -0700

    query_cache: Clean up cjson remnants.
    
    It was removed because it's actually rather buggy.

commit 228753f70bc7bee7740db68f4ee5f46b29903eca
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 10 00:54:19 2012 -0700

    Fix editable value for UserList rows.
    
    The most dangerous lines are the ones that look too simple to consider.

commit cf68046674d339875d235b1162d42b31f7e481f2
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 9 21:29:46 2012 -0700

    query_cache: Limit prune deletion size for safety.
    
    If prunings fail, the number of items in a fast-moving cached query
    could grow rather large.  This prevents a bad case where the pruning
    ends up way too big and fails itself, causing the query to snowball in
    size.

commit 8c62ace8bbc5b937c3faaf6bf4a0a418765527e7
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 9 20:12:34 2012 -0700

    query_cache: Add lots of documentation.

commit 2ef0a7f45243799978c0d6d3b0ba075b1d18a653
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 9 22:47:49 2012 -0700

    query_cache: Assert that the decorated function starts with get_.

commit 30b404005efe6fe5aaf68af61b2535ce135bd71f
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 9 20:44:54 2012 -0700

    query_cache: Remove unused parameter from fetch.

commit 2bd87bf16c4dead075a9c503b7ba716df9d4652f
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 9 20:39:58 2012 -0700

    query_cache: Mark some classes as module-private.

commit e2c9d9806272610308560111ee807141ee78dc81
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 9 20:15:33 2012 -0700

    query_cache: Get rid of "update" method and clean up classes.
    
    Update isn't even possible for the pure-Cassandra queries, and is
    dreadfully slow on the SQL backed queries.  If we need to recalculate
    queries, they should be done from a map/reduce job.

commit 5c2c0e67e790a60c8d1f0f22bc4e1cd305676e0b
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 9 19:19:23 2012 -0700

    query_cache: PEP-8 and whitespace tweaks.

commit 96845173b53f3f892f4a497e56afceaad476770b
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Aug 22 15:15:20 2012 -0400

    Separate SqlCachedQuery and CassandraCachedQuery.
    
    Original CachedQuery assumed an underlying SQL query to be cached.
    New CassandraCachedQuery can cache arbitrary Things by a specified
    sort. SqlCachedQuery has same behavior as CachedQuery.

commit eec49ad45c851041e30d48d5d689550b96d8b8a1
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 9 17:23:42 2012 -0700

    CommentPaneCache: time uncached views, cache hits, and cache misses.
    
    This should give us a little more insight into how much work the
    CommentPaneCache is doing.

commit 840cea6067f1d3e9a3b32daa0e54afff7b36ea30
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 10 12:19:17 2012 -0400

    Allow comments on old promoted links.

commit 9d97503ccbe950a5bc207dcd9ea7026de750bc95
Author: Max Goodman <max@reddit.com>
Date:   Tue Oct 9 15:53:50 2012 -0700

    Move space escaping to individual tagline templates.

commit e673f1f9773a6a0cdd34180b88d9a5679d08c59b
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Oct 9 14:24:38 2012 -0700

    error pages: c.errors sometimes not set
    
    With the proper import this time.

commit 77731b52f9070e3906041abb76ea2a48d2a8987f
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Oct 9 11:11:46 2012 -0700

    Whitespace changes for @spladug

commit dca1431548a5bd4c23bb9a3c455396fd2717f2da
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Oct 9 11:10:21 2012 -0700

    search: Make 'flair' a searchable field again

commit a392ef2ffece50fb90121831ac38385df227a24b
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Oct 8 10:10:20 2012 -0700

    css: Remove -moz/-webkit-border-radius
    
    Removed from reddit.css, per:
    	http://caniuse.com/#search=border-radius

commit a444de7341b8830f98d8b2e663eed9c3d54915a1
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Oct 1 19:11:38 2012 -0700

    Gold: Add proper "Thanks!" landing page

commit 239d01ee672df42c0ce78a06764e4cf8aa0bc368
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Oct 1 14:23:33 2012 -0700

    analytics: Track gold checkouts via Analytics
    
    This adds the necessary HTML and JS to the gold
    checkout pages to get google analytics data on
    those actions.

commit 1a30a7012f1d8c2023f70a24790e434edc94ff34
Author: Neil Williams <neil@reddit.com>
Date:   Sat Aug 25 11:03:00 2012 -0700

    Revert "Move /comments to new query cache."
    
    Looks like we'll have to figure out a different data model for this
    one. It's just too high-volume.
    
    This reverts commit 56852f1f068b7fb1dc83d547e383e93b3877abb9.

commit 47549b4bb35ca033b881ce84c66a906d1abf1594
Author: Max Goodman <max@reddit.com>
Date:   Tue Oct 9 12:15:28 2012 -0700

    Defer translating system messages.
    
    Currently, messages are sent using the language of the sender, which
    doesn't work well for system messages. We're going to avoid translating
    them for now until we can return such messages in the language of the
    receiver.

commit db7b531a7180fa84c24007cd69d728691d1e76d5
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 1 17:41:16 2012 -0700

    Change moderator adding to an invite system.

commit 7706f844f36d1aecb1ee286e5945f5e8f051cbbe
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 1 17:50:29 2012 -0700

    Generalize moderator toggle UI styles.

commit 8f3084f03dc82c7a0d5552c9df821ed94958cef2
Author: Max Goodman <max@reddit.com>
Date:   Tue Oct 2 22:32:35 2012 -0700

    Remove unused UserList.addable property.

commit 8edf4d5fec7d6b473836d9e5cd87901c2388d9fb
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 21 12:08:37 2012 -0700

    UserList wants to be with its friends.

commit fa856f515ef9e1b64a8981e6778f7089349fac86
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 1 17:45:00 2012 -0700

    Whitespace.

commit 61ae776245c8d4d1e4185a92d5419949ecbef5c2
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 8 15:48:00 2012 -0700

    Fix spacing in message taglines.

commit 4c7eb1b5617f8401882c83d9b508c9bef6a58a68
Author: Max Goodman <max@reddit.com>
Date:   Sun Oct 7 23:16:26 2012 -0700

    Add modmail handling to user added system notifications.

commit f23bef244527974975efc0a5032f0fcfb12f1c18
Author: Max Goodman <max@reddit.com>
Date:   Mon Sep 24 18:47:22 2012 -0700

    Move POST_friend notifications to a system messages lib.

commit ca3ce29cf4d9c42b67cab5edebe42ea807c6007c
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 1 17:23:12 2012 -0700

    Deduplicate sr friend types.

commit 136826343ed637268b642de77f57441b81d56d78
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 19 17:28:46 2012 -0700

    Make SR UserRel list diff friendly.

commit d3f82297d1ee19968911c1f98cf1777f4a46bdf9
Author: cswider <christopher.swider@gmail.com>
Date:   Thu Sep 27 17:27:47 2012 -1000

    Set header separator cursor to the default cursor.

commit 6d5952703bcce3a80c451176a8da71626d735c63
Author: Kevin Kress <kkress@gmail.com>
Date:   Sat Sep 8 12:38:34 2012 -0700

    Remove unreferenced models files.
    
    2 files that haven't been updated since 2008.

commit 736b4866b9ff539c8f2a0529eb28a6380deea45e
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 5 14:04:38 2012 -0700

    This alt text has no semantic value.

commit 3c1f792679f8b1fc75bddeaef1347cf6867e0cb9
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 5 13:55:56 2012 -0700

    Silly tooltips.

commit 57e8bbe6bb5cac1f868eda8e89ded668cafd7e1a
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 4 18:04:44 2012 -0700

    Brick the submit page rule reminder.

commit 0e238fa9a3692351b9de1e0e786c3c0eead389db
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Oct 4 14:26:14 2012 -0700

    Don't create new record for failed transaction
    
    This fixes a bug where "authorized" bid records with trans_id 0 were showing
    up in the bid history.

commit 242a4fbe67739a63abfbcbb24fa22dcb0b020968
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Sep 25 11:05:50 2012 -0700

    Cass data store for promotion metrics
    
    Used in inventory prediction.

commit ba77b47457b1bd8875e55087c030726af3f2518f
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Sep 6 16:48:25 2012 -0700

    Inventory prediction functions
    
    Fetch and store min daily pageviews from last 2 weeks for every subreddit in the traffic db

commit 3326bb153cf5067b5e7e7c5724175a3e9beceab6
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Oct 4 15:18:46 2012 -0700

    search: Metaclasses are dangerous tools

commit fe7b7ef7e78c167ed6954acf557759cb4aae6136
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Oct 4 15:13:44 2012 -0700

    search: sr.sidebar is actually sr.description

commit 7000b9749020a57476a30ab5606d3cc875feb79e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Oct 4 15:12:36 2012 -0700

    search: Be less silent on errors

commit 9ab5856d379a57269f391afddbc1c7ecd3533966
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 3 02:03:49 2012 -0700

    Make adminon/adminoff point to SSL pages.

commit 41dcb2c924d3b012055e0b1636f6dc1d868a3382
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 3 01:35:37 2012 -0700

    Add a rules reminder to the submit page.

commit 4e484c86a0bde30c12a9408b8420460c7d165a75
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Oct 3 13:56:29 2012 -0700

    search: Rephrase search help drop down

commit a2f560cb6389081449cb4ba746c20a9883585eda
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Sat Sep 22 09:08:50 2012 -0700

    Campaign url that redirects to edit_promo page
    
    New route that takes the id36 of a promocampaign as a param and redirects to
    the edit_promo page for the associated promoted link. Useful for looking up a
    campaign without having to open paster shell.

commit 829b0a312fd63128c407b8983d0796e946de4f48
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Oct 2 12:35:46 2012 -0700

    Check authorize.net payment profile limit
    
    Authorize.net enforces a limit (10) on the number of payment profiles that can
    be created by one user. Now we disable the "create new profile" menu item
    when the limit has been reached.

commit 5328df8ec8c2d6db2b4c92cc20185a9ccfebbe44
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Oct 2 11:48:47 2012 -0700

    Clean AuthorizeNetException message
    
    Removes credit card number from exception error message to make sure it
    doesn't show up in logs

commit a0d84ad08a494277d774b3d3e219ae57812a04a4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Oct 2 12:59:48 2012 -0700

    js.py: get_lang() sometimes returns None
    
    This happens mostly when attempting to create an error
    document.

commit 992eaf73941f207ab0e965d412c694090e122428
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Sep 3 11:51:05 2012 -0700

    Add schema to reddit's l2cs parser
    
    This should eliminate user 'error' where the user
    tries to search against a field that doesn't exist
    
    It also paves the way for more schema-based features
    in the future.

commit d2e060f0b2a06c4e9cef8bb41d9d1cb36526835a
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Oct 1 16:14:34 2012 -0700

    Add "modlog" oauth2 scope.

commit 1ac52595b631b03049a21e06345d25e050ad9333
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Oct 1 16:09:03 2012 -0700

    Add a json template for ModAction.

commit 496924cf560002b84199071471367a8bcd5c702f
Author: Neil Williams <neil@reddit.com>
Date:   Mon Oct 1 16:10:08 2012 -0700

    /reddits: Filter over18 subreddits app-side.
    
    This avoids doing a join that will filter out all subreddits which have
    never changed their preference. That is, since the over18 data attribute
    has a default value it will not have a data row unless changed and the
    natural join caused by the data-attribute filter will implicitly discard
    any subreddits that don't have the data attribute.
    
    Fixes reddit/reddit#527.

commit 252ee3e5511192d5a500f5c958d193c7dd581904
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Oct 2 12:05:46 2012 -0400

    Special handling in Link.keep_fn to show spam on domain pages.
    
    Keep spam only if the user moderates the link's subreddit.

commit d86a7fe89fe11badaa4c62c97ebb8a7621336ba1
Author: Neil Williams <neil@reddit.com>
Date:   Sat Sep 22 13:39:58 2012 -0700

    pagecache: Show memcached errors in app logs when writes fail.
    
    This gives us a little more information on failed writes to the
    pagecache, though we probably won't see any because of no_reply mode.

commit 1c290ef114144509857c6ad826656c2d8a791ebe
Author: Neil Williams <neil@reddit.com>
Date:   Sat Sep 29 17:11:17 2012 -0700

    Remove unused query stats collector.

commit 9a19477b23fc0357c7245d9b348b4617fae0b399
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Fri Sep 28 14:21:02 2012 -0700

    Add count to morecomments json.

commit 8b5425b9b08c9fd55fac11da2cec0081ace9939c
Author: Andre D <andre@andred.ca>
Date:   Mon Oct 1 10:09:20 2012 -0500

    validator: Reset has_errors every call.

commit d6d625b92a4298dcdf9dd4f10a7227be5baa2c74
Author: Neil Williams <neil@reddit.com>
Date:   Sun Sep 30 01:09:27 2012 -0700

    Allow sponsors to see comments on pre-run/rejected promos.

commit 77f219ecf466585afe360696c50e4ad0de71451c
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Sep 27 14:06:59 2012 -0700

    Rename "Moderating Flair" scope to "Moderate Flair".

commit 818cc8982bc989153fbaa31dfc7bea6fcce40efc
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Sep 27 10:53:02 2012 -0700

    Clean up oauth info bar on login page.

commit 22b49edc3ce51f45a69a467202ac0470b9f29bc3
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Sep 25 16:00:42 2012 -0700

    Add oauth-only view of api docs.

commit f382f632368d7ade45d99a1049d93c1d63c2f860
Author: Roger Ostrander <reostra@reddit.com>
Date:   Tue Sep 18 11:05:19 2012 -0700

    Minor JS change to allow change_state calls to work in nested forms

commit 70d8d321d3902e3f8ce9dae0e381f17eda08daea
Author: Andre D <andre@andred.ca>
Date:   Fri Sep 28 05:08:31 2012 -0500

    Validator: Add new num_default for a default number value when empty

commit a116fe9df9b0b4e9d5d818628d7622572661f56c
Author: Andre D <andre@andred.ca>
Date:   Wed Sep 26 00:24:23 2012 -0500

    Subreddit: Do not show saved text on conflict error

commit e2b8ebec4ce38151c85b0dac0b8e849769605343
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 25 04:48:17 2012 -0500

    whitespace

commit 5fe3cc30de0b35ed0dec4dd0fe9fd4e0084220da
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 25 04:36:28 2012 -0500

    subreddit: Error on invalid revision.

commit 871ff7eb0ced9816c9509e1d125727d55924b241
Author: Andre D <andre@andred.ca>
Date:   Sat Sep 22 19:13:35 2012 -0500

    subreddit: Add missing error on stylesheet conflict.

commit bfdcff60082798ce373842cdf1b522437ed341a3
Author: Andre D <andre@andred.ca>
Date:   Fri Sep 21 17:29:27 2012 -0500

    subreddit: Add missing error fields and checks.

commit 6682a4f796e3261b85469b5f09aab0746eb59c3a
Author: Andre D <andre@andred.ca>
Date:   Fri Sep 21 17:04:31 2012 -0500

    subreddit: Check the correct value of length for prevstyle.

commit bf05f4bb796fe74ff601a2d2b46cfc55169aefdb
Author: Andre D <andre@andred.ca>
Date:   Fri Sep 21 17:53:49 2012 -0500

    validator: Correct BAD_NUMBER when min or max was None.

commit 34ca0edd21c77ddcf1220d96436d6272f0f8b05e
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 20 10:50:32 2012 -0500

    wiki: Assume force if previous value is None. This allows clients that don't send the previous IDs to skip conflict detection and update the wikified text fields. This allows for backwards compatibility, as well as making stylesheet updating not require an extra lookup.

commit 5036af9b9c81de0ee5e54db41b2e3b30e4d9bd3e
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Sep 27 16:31:11 2012 -0700

    Use monospaced fonts for the stylesheet editor.

commit 09de367263d042a012d2572e1a893b5d75e6a22f
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 27 08:01:04 2012 -0700

    Subreddit CSS: Make /about/stylesheet show unminified CSS.
    
    This is for non-moderators to be able to view the commented / unminified
    CSS so they can learn / cherry-pick bits from it.
    
    This uses highlight.js from
    isagalaev/highlight.js@45c03cd045e2b9c87379bfe7c0f8eb47bf620f48.

commit 4b1651fea48ac0b1bfeea30767540520270822c7
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 25 23:16:14 2012 -0500

    subreddit: UploadedImage error call should have form_id specified.

commit c0ceeda9042827e0ce2f221d98177b5deecfdcd2
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Sep 26 10:46:18 2012 -0700

    toolbar: Tighten restrictions on when it's usable
    
    /tb/ links are sadly used by spammers as a URL shortener.
    Since their primary benefit is giving users easy access to
    voting and the comments, it can be changed to only be shown
    to logged in users, and only if they've opted in to toolbar
    links. Other visitors of /tb/ will get directed to the comments
    for the link (providing easy access to the link itself, should
    they desire to continue)

commit a784a388c5fb648d4a78275e41df534ae37f47a9
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Sep 21 12:05:42 2012 -0700

    Add "vote" oauth2 scope.

commit 9a323ac778d1751007bc69f19f41b068dfb728bb
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Sep 21 12:00:18 2012 -0700

    Add "edit" oauth2 scope.

commit ad86b4b5b9688e545e50342e10875bfbcb20eb60
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Sep 21 11:52:58 2012 -0700

    Add "modconfig" oauth2 scope.

commit d89b0693304c50bb8a4bda88d5995c9e3cead309
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 20 15:28:20 2012 -0700

    Fix authorization page sizing for large scope lists.

commit c60f6378ba473ce0d785d43449eafe9cd63f944b
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Sep 19 16:53:26 2012 -0700

    Add "privatemessages" oauth2 scope.

commit 0dc3405b24b8ce7766402ff9c8aad79d3f05bb86
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Sep 18 15:47:09 2012 -0700

    Add "modposts" oauth2 scope.

commit 2226cae098847a975b1c5c2bf6e2a53149d19b23
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Sep 18 15:41:10 2012 -0700

    Add "read" oauth2 scope.

commit d12a0c598c778c16ef0c59e3f44474891520437d
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Sep 18 14:28:16 2012 -0700

    Remove oauth2 support from POST_setflairenabled.

commit e367eb00a62b4c8d1339bc5866ca79d7caef3002
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Sep 17 15:16:02 2012 -0700

    Return is_mod in /api/v1/me.

commit 397ab513a3f29c4c67f25be9c7d4957ccddbd681
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Sep 14 14:25:37 2012 -0700

    Add "modtraffic" oauth2 scope.

commit 342b085f2c2bdc911a0a74d621aa7a525ba02dfc
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Sep 14 13:41:34 2012 -0700

    Rename "moderateflair" oauth2 scope to "modflair".

commit 808ae9bd2522f37a181602455cd12d04abdb181e
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Sep 14 13:31:12 2012 -0700

    Add "subscribe" oauth2 scope.

commit ee87d2de540891a16e0ae000aebf2c855fba3699
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Sep 14 12:03:20 2012 -0700

    Add "submit" oauth2 scope.

commit 4cf967a69e1dd54ae70dcf36aed6db5e7019d7e3
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Sep 13 10:03:46 2012 -0700

    Rename "myreddits" oauth2 scope to "mysubreddits".

commit 6c856d9b51dfd921ac09be6b3554f4ecbca0aab3
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Sep 11 10:31:57 2012 -0700

    Refactor oauth2 scopes and add subreddits to them.

commit ae7435c78b984301a4e7e663377dfa109af568eb
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Sep 11 14:44:03 2012 -0700

    Apply bearer token before calling controller's pre().
    
    This is necessary to add oauth support to controllers that use c.user to
    enforce permissions.

commit 303b116bf15986c82abeb911ace23a19026a4e0f
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Sep 10 16:45:30 2012 -0700

    Add error code for VModhash errors.

commit 983baa0214e58c295899d52ad92e7035187b3b74
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Sep 24 14:12:26 2012 -0700

    Check reverse_moderator_ids of the wrapped Account

commit b2ad131cbbcf78bddc80900bcc9298170dd4ebb6
Author: Neil Williams <neil@reddit.com>
Date:   Tue Sep 18 22:17:54 2012 -0700

    Subreddit CSS: Store subreddit CSS on S3 and minify it.
    
    This means that stylesheets can have all the advantages of other static
    files, such as not having session cookies in the request. In addition,
    it also means that subreddit objects are drastically smaller in memcache
    which saves internal bandwidth and increases cache capacity.

commit bfd2372e6360db13e50f4c971d0fd97ed0787ac6
Author: Neil Williams <neil@reddit.com>
Date:   Sat Sep 22 23:01:48 2012 -0700

    ErrorController: Send status code even when not rendering.
    
    Previously, if the current extension were not in allowed_render_styles,
    the error's HTTP status code would be swallowed and turned into a 200.
    This meant that 404ing stylesheets were actually sending back the text
    "404" as an "OK" stylesheet.

commit 5c2679fbf67c39667986be3a8d1f193c4172bd7d
Author: Neil Williams <neil@reddit.com>
Date:   Sun Sep 16 00:10:26 2012 -0700

    static: Use rCSSMin to minify CSS files during static file compilation.
    
    This shows a 10% reduction in size of the compressed results on the
    current reddit.css stylesheet.

commit 332277f572558a38ca6a663890486df4c1257fc5
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 24 22:28:39 2012 -0700

    POST_site_admin: move sidebar/description so they're set on creation.
    
    A previous change made it so that the sidebar and description fields
    would not be set properly on subreddit creation but only on edit.

commit 21b33b5a0620d6df00a3aa4aed49f60e66489415
Author: Neil Williams <neil@reddit.com>
Date:   Fri Sep 21 10:26:08 2012 -0700

    vote: Store vote details for 90 days.

commit dceca6edbc7cf141f62bf7412448eac5c34c0ea7
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 20 03:08:55 2012 -0400

    subreddit: Correct incorrect modaction site

commit c53b5e7b756f843824744586682aee18c5a27fc4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Sep 19 10:48:00 2012 -0700

    unicode objects don't have a cssText attr

commit 87a6a29e8cc874c7f83b4c2bd156775740e20b00
Author: Arun Debray <a.debray@gmail.com>
Date:   Mon Sep 17 16:39:39 2012 -0700

    Fix /user/ page paths in the API documentation.
    
    To view information about a user, one must visit
    /user/{username}/overview.json, etc., but the documentation had said one
    should visit /{username}/overview.json, etc.

commit 34417ee6efa6e82e0ae23f8d2197bee5ecdd0352
Author: Neil Williams <neil@reddit.com>
Date:   Wed Sep 19 12:17:12 2012 -0700

    vote: Gracefully degrade when no vote details are available.

commit 7621afe962e0f782ead4d2671d539863f540b92c
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 14 16:36:30 2012 -0700

    Apply stylesheets client-side in a safer manner.

commit 5dba8a65ae8cd990c47dbb50395db73a9bb7db9d
Author: Neil Williams <neil@reddit.com>
Date:   Sat Sep 15 17:37:38 2012 -0700

    builders: Rework SimpleBuilder for use with simple psuedo-things.

commit a6e725502e3285ea8e04c77c103d8dd8d4d2b050
Author: Neil Williams <neil@reddit.com>
Date:   Wed Sep 12 19:37:59 2012 -0700

    vote: Remove old tdb_cassandra.Relation-based vote infrastructure.

commit 34d93cac28f24bab92b2c22905527d5a76f485c5
Author: Neil Williams <neil@reddit.com>
Date:   Wed Sep 12 20:39:33 2012 -0700

    vote: Add get_details method to fetch vote details.

commit 57f20be12ec85c86a6dcb4bf62ba386e852f7b24
Author: Neil Williams <neil@reddit.com>
Date:   Wed Sep 12 18:14:29 2012 -0700

    vote: Cut CommentVote reads over to CommentVotesByAccount.
    
    This patch makes us use the new DenormalizedRelation-based
    CommentVotesByAccount for reads.
    
    This continues dual-writing of votes to LinkVote/CommentVote.

commit 56975f7fed84a986bb21bd2cde1c35ad02240fb3
Author: Neil Williams <neil@reddit.com>
Date:   Fri Sep 14 10:15:01 2012 -0700

    wiki: Cache wikified subreddit text on subreddit object.
    
    This is a short-term solution until we figure out a better place to
    store this information.  Currently, the property-getters are generating
    way too much traffic to Cassandra and we should continue using the old
    storage location for the latest revision.

commit 57fb1edd3ff402251b080fec0431ecb4ab7f7627
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 13 02:55:05 2012 -0500

    Subreddit: Handle previous revision failures

commit a2747b42419e9e0bde2c2e5668a2038a19580dca
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 13 04:44:41 2012 -0500

    Subreddit: Add missing new wiki related fields

commit a72a562fe03b98a93f6841d4669f3e37955f1564
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Sep 10 14:41:44 2012 -0700

    Remove unused r2.config.utils
    
    It was at some point moved to r2.lib.utils,
    as all the functionality of r2.config.utils is
    duplicated exactly in r2.lib.utils

commit f50de2d6d4b7b7478442f8ea7f594f98d1666276
Author: Max Goodman <max@reddit.com>
Date:   Mon Sep 17 13:49:47 2012 -0700

    submit: Add VModhash check.

commit c45f0b5328e1f949b694ce1de7158476e7c3c263
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 14 15:58:23 2012 -0700

    Remove name availability indicator when updating.
    
    Thanks for the heads-up /u/davidjayhawk!

commit fbc8eea552d409e9bb7103df706c97a10527a9dc
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 14 15:58:34 2012 -0700

    Whitespace.

commit 2171b300a855d40ca9f98eb9a575f4059c8e96aa
Author: Neil Williams <neil@reddit.com>
Date:   Wed Sep 12 20:39:56 2012 -0700

    vote: Fix VoteDetailsByThing aggregating backwards.
    
    Voter and votee were swapped. Déjà vu!

commit e86f786aeb40ce66c590dbe39e4e9c6c51562d94
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 13 17:44:30 2012 -0700

    Add missing subreddit setting error fields.

commit bf9e58ada7eec4fdf87a8078d100fc22ce4ad5d5
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 13 17:44:21 2012 -0700

    Validate "wikimode" subreddit setting.

commit 815a432a618d3640af06b7ada6389323f77969e0
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 13 17:22:17 2012 -0700

    Fix validation of setting subreddits to archived.

commit 2b53fab01fd3947e2475f8038fa6dd572e9b36aa
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 13 23:27:03 2012 -0700

    Wait for 2 characters before querying interest bar.

commit a58624b8e695e1f5cb3b33988473c4947ca9880f
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 13 23:18:47 2012 -0700

    Reorder interest bar key press handling logic.

commit 9424f5ad81d636ea1bc017eb49342903945f6512
Author: Max Goodman <max@reddit.com>
Date:   Mon Sep 10 17:11:52 2012 -0700

    registration: Disable submit button when username invalid.

commit 49adee7c1578d713872e6b13ddd401889f2bc4a6
Author: Max Goodman <max@reddit.com>
Date:   Mon Sep 10 17:11:02 2012 -0700

    CSS cleanup.

commit ae040dd405b6f3696c99ae655a8658f292aa1444
Author: Max Goodman <max@reddit.com>
Date:   Mon Sep 10 14:26:23 2012 -0700

    registration: As-you-type username availability check.

commit 93a8d567ae2d35c9e312ada4038098990db7dbbd
Author: Max Goodman <max@reddit.com>
Date:   Mon Sep 10 13:24:45 2012 -0700

    Rename/link icons to more generic names.

commit 5c8f678ed9ac82543749756b2a0f16b6df80a2ab
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Aug 28 17:30:46 2012 -0700

    Add campaign thing name to tracking string
    
    This change will make it possible to track traffic by campaign instead of just
    by link.
    
    Note that, as is, this change will cause the campaign fullname to be included
    as part of the subreddit string in traffic_thingtarget and traffic_clicktarget,
    two tables that are not currently used anywhere in the app.
    
    To complete campaign traffic, the TargetedClickthroughsByCodename and
    TargetedImpressionsByCodename in lib/traffic.py:make_report() will need to
    be updated to store the campaign codename instead of link codename when
    available.

commit 82bd4333c6162b9432d5184c5515f74be91772e5
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Wed Sep 12 14:51:57 2012 -0700

    Fix incorrectly set campaign id in weights
    
    This fixes a bug where get_promotions_cached was returning the same campaign
    id (the last one in the loop) for all promoted links. This bug doesn't affect
    anything on the live site, but it means the per-campaign traffic data logged
    prior to the fix will be inaccurate.

commit 5d6abdcf3b2aea2d740b381344095ac60181a260
Author: Neil Williams <neil@reddit.com>
Date:   Wed Sep 12 13:59:23 2012 -0700

    trophies: Reduce number of trophies fetched in Trophy.by_award.
    
    We usually only care about 1 trophy anyway (except on admin pages) so
    this is drastically wasteful.

commit 8b85deb45bc1ce4b45f61cdd355ac570906f2e26
Author: Andre D <andre@andred.ca>
Date:   Wed Sep 12 14:19:28 2012 -0500

    Subreddit: Missing json attribute prevstyle

commit a65a35f03184f34ce52b06742a77228d9f0df6cb
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 23:16:22 2012 -0500

    Wiki: Fixed being able to create restricted pages

commit 9e5590d3ea09d3b373ec7344613167c317d3b922
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 22:59:33 2012 -0500

    Wiki: Fix typo

commit 345dfb3e4378e865c530260e06a73fc841f2d323
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 22:32:35 2012 -0500

    Wiki: Fix xss involving page name

commit 1229a0e6c2cae424503b64aeff5a245b809e7f82
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 21:30:22 2012 -0500

    Wiki: Fix API typo

commit a527104c0a69e4a5cf20f5f3fb961a6226cf6808
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 21:27:03 2012 -0500

    Wiki: Correctly fix getting subreddit name from revision model

commit d10ca35bbecd566364c5fdbc7c4bc7a0de6a59ba
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 20:48:18 2012 -0500

    Subreddit: Correct incorrect conflict exceptions

commit 024a7d55be7aa4c833d0823cf90a31d58c142f09
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 20:24:56 2012 -0500

    Subreddit: Do not show wiki tab on fake subreddits

commit 90a777511f204bdcd11135062a8fe22fde0816b0
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 20:11:27 2012 -0500

    Wiki: Match image IDs with percent symbols like the stylesheet

commit ac68957824cd626cff60272d0fe0db53bf5769ce
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 19:50:36 2012 -0500

    Wiki: Correct getting subreddit name from revision model

commit 78dd83a0ca8a4b2e90f2a36d046a7eee823e171d
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 19:45:33 2012 -0500

    Wiki: Small cleanup on wiki model

commit 08009006240bc0295ee36af9c4bc58d064774490
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 19:43:48 2012 -0500

    Wiki: Corrected wiki toolbox links

commit 76c7c9bf7c5bfe8f530272a67ff4928f0768468e
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 19:32:07 2012 -0500

    Wiki: Fix broken permission check for mod-only mode

commit 9fbdda300e58111c67b88e0600441b1893e0e757
Author: Max Goodman <max@reddit.com>
Date:   Tue Sep 11 17:57:25 2012 -0700

    wiki: Add some default wiki content styles.

commit 619ff0e762d9e977cc62f53db2230a409072da7e
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 19:02:53 2012 -0500

    Wiki: Fix names on listing showing up as unknown

commit 69876b1510068c6e4211414e8c02053e2c142bc3
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 19:05:46 2012 -0500

    Wiki: fix broken recent revisions listing

commit b3d79b4cf0ed86c6a023887a2caafd642a5d88e1
Author: Neil Williams <neil@reddit.com>
Date:   Tue Sep 11 17:04:54 2012 -0700

    traffic: Fix missing import of moved TrafficViewerList.

commit 0c6943ed3a1c96f9e429ba229378b53f89dd686e
Author: Andre D <andre@andred.ca>
Date:   Tue Sep 11 18:13:31 2012 -0500

    Correct broken css image filter

commit 19a02c4fd81dbc2f69e0083f4e1f207d7f2c62d1
Author: Andre D <andre@andred.ca>
Date:   Fri Aug 24 11:53:03 2012 -0500

    Wiki: Add various json endpoints

commit 0e25236146b1667e162ab4584f4030e845b9a916
Author: Andre D <andre@andred.ca>
Date:   Fri Aug 24 12:27:56 2012 -0500

    Wiki: Add interface for banning and allowing users

commit b83acc409d49174dec75a03f741e1e9901bf82ae
Author: Andre D <andre@andred.ca>
Date:   Fri Aug 24 12:33:19 2012 -0500

    Wiki: Add revision listing builders

commit c0d373fb67f798543d14c410eb1ae42d09a3237a
Author: Andre D <andre@andred.ca>
Date:   Fri Aug 24 12:01:22 2012 -0500

    Subreddit: Use wiki for stylesheet/description/sidebar

commit edc1ddebaa5e9bb6c1adcf4956fa399303084bd6
Author: Andre D <andre@andred.ca>
Date:   Fri Aug 24 12:17:19 2012 -0500

    Wiki: Base sylesheet

commit 5fe4e997d80162e534f1c4c6ffea2b48aceaa6aa
Author: Andre D <andre@andred.ca>
Date:   Fri Aug 24 11:48:43 2012 -0500

    Wiki: Base wiki code
    
    - Updates snudown dep

commit ebab524e5dc1b778916aada279db771f3a32ffc3
Author: Andre D <andre@andred.ca>
Date:   Fri Aug 24 11:42:02 2012 -0500

    Diff3: Added diff3 wrapper

commit 3c70bc8a613017bf25ed6a63a93b44587e9f0cbe
Author: Andre D <andre@andred.ca>
Date:   Fri Aug 24 12:18:41 2012 -0500

    Subreddit: Insert fake sr modactions into the default sr

commit 74a926b6217773195f8be06d2b676e48a4282fdf
Author: Andre D <andre@andred.ca>
Date:   Fri Aug 24 11:43:09 2012 -0500

    Errors: Add more error handler codes

commit 526764290832462ab9559311b5c5da622bcfa38c
Author: Andre D <andre@andred.ca>
Date:   Fri Aug 24 11:37:34 2012 -0500

    Errors: Add the ability to error with json

commit 1d64fa367c340dce4872816b8ffebf7850d0cca3
Author: Andre D <andre@andred.ca>
Date:   Fri Aug 24 12:20:39 2012 -0500

    tdb_cassandra: Add the ability to remove items from views

commit a131ae70844dce5321cd58332236d754d25da26d
Author: Andre D <andre@andred.ca>
Date:   Fri Aug 24 12:31:42 2012 -0500

    Links: Add the ability to get links to urls rather than just articles

commit a805fa6a4464165c393afc592d01d00754109ea2
Author: Andre D <andre@andred.ca>
Date:   Fri Aug 24 12:20:19 2012 -0500

    tdb_cassandra: Fix unicode error in deserialization

commit df32e50a70a4ed20762add9d0846d966f49617bb
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jun 6 19:55:07 2012 -0400

    DenormalizedView encodes dates to base64 before dumping to json.

commit eab8a83da61dba21f7453c82ccad6cebec1c3add
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 16 17:00:52 2012 -0700

    Add _on_commit hook for tdb_cassandra.ThingBase.

commit 051ec10e251c14190ed57158920b32e630bcf8cc
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 16 13:23:03 2012 -0700

    DenormalizedView that stores entire Thing in column.

commit 17a2e1c2f922bcc0fc195a480e55334fade210b9
Author: Neil Williams <neil@reddit.com>
Date:   Fri Sep 7 16:02:26 2012 -0700

    Make queue declarations and bindings plugin-friendly.
    
    This allows plugins to declare queues and bind routing keys to them
    using a declarative syntax.
    
    This also removes some r2admin cruft from public.

commit 3147fc9ee58525bcd5f88b79328b86a13dd97cb1
Author: Neil Williams <neil@reddit.com>
Date:   Fri Sep 7 16:12:43 2012 -0700

    amqp: Remove some dead code.

commit 91c6ab63a8de9a6dd6169bc8d4beaf996d324aec
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 10 17:39:10 2012 -0700

    Locks: Pare down the traceback stored in the lock cache.
    
    This reduces the size of the traceback data stored in the lock caches by
    an order of magnitude. It is intended to help with the drastic imbalance
    in lock cache network usage.

commit 792c7d5ad54cbed27f0c08ea93c0b19c344dafa6
Author: Neil Williams <neil@reddit.com>
Date:   Sat Sep 8 16:43:12 2012 -0700

    Move stub admin-templates to root template directory.
    
    This fixes the import of stub templates in open-source installs.
    
    Before pluginization, the admin-stub templates were imported from the
    admin sub-module of the templates directory if r2admin were not
    available. Since we're not doing that logic anymore, these stub
    templates need to move into the root template directory so they can be
    found by the system.

commit 207f2ad17ad1b130b43b268f0ba6d31d7728b5b0
Author: Max Goodman <max@reddit.com>
Date:   Sun Sep 9 13:49:38 2012 -0700

    plugins: Give later plugin routes precedence over former ones.
    
    This is to be consistent with templates, js, and static files, where
    later plugins can override former ones.

commit b591a276280faa86deeace513780cbfca1b89351
Author: Max Goodman <max@reddit.com>
Date:   Sun Sep 9 02:48:09 2012 -0700

    plugins: Load plugins in the order listed in the .ini.

commit bbafea9d712e42a5bec04e7a5b6c5bf7087f2422
Author: Max Goodman <max@reddit.com>
Date:   Sun Sep 9 02:44:21 2012 -0700

    PEP8 imports.

commit 203cce4378f142bf6e170ad4d14e877b4165d08b
Author: Max Goodman <max@reddit.com>
Date:   Sun Sep 9 12:51:37 2012 -0700

    plugins: Single template_dir and precedence over base templates.

commit bfbe3e153204b30bce3baac23cb75de42d001f7c
Author: Max Goodman <max@reddit.com>
Date:   Sun Sep 9 02:42:02 2012 -0700

    Work around mako compiled template updating issue.

commit 2407a0cda6078d7aa1b63c4602ed8b0e19251129
Author: Max Goodman <max@reddit.com>
Date:   Sun Sep 9 21:40:57 2012 -0700

    s/reddit/subreddit.

commit a4e06d632880dd11cff5549db959a2560962eb93
Author: Max Goodman <max@reddit.com>
Date:   Sun Sep 9 21:37:23 2012 -0700

    Save our kindhearted admin clippy readers a redirect.

commit 9f180b2e168f3a629c10f0fb426f5868550b24f1
Author: Max Goodman <max@reddit.com>
Date:   Sun Sep 9 21:17:28 2012 -0700

    Pluralise moderators in the admin clippy message.

commit 0f12bd92bfe7e3a39f502b761709f33bf82915aa
Author: Max Goodman <max@reddit.com>
Date:   Sun Sep 9 21:16:59 2012 -0700

    Update admin clippy message to the new team page.

commit 5f116b09c8b7673f968ec4494a50b770fad7f8aa
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Sep 10 11:49:09 2012 -0700

    Fix domain_override handling for approved sponsors

commit c12c4082fd3a9549bf19223d0d6ea4a2a19076de
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 10 12:23:07 2012 -0700

    VotesByAccount: enable new LastModified stuff.

commit e867dea55f917d699cf055d406029cca4d133b0e
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 10 12:18:22 2012 -0700

    DenormalizedRelation: Add in LastModified support.
    
    I did an experiment to see if DenormalizedRelation would need the
    LastModified stuff, since it takes heavy advantage of row-level bloom
    filters. It turns out that there are a huge number of completely
    not-found rows being fetched per second that LastModified would save us
    from doing a round trip for.
    
    Since LastModified is shared between several relations in a single
    request, and CommentVote, Save, and Hide will be denormalized soon, this
    should give us a good amount of savings in the long run.

commit f7cfcc4aaad0ae64ed0403c51da0e30aaa34c55f
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 10 11:46:58 2012 -0700

    VotesByAccount: Go down to RCL ONE.
    
    We don't need quorum here.

commit 15ee1e0434711f59e7fa1d933d5dda167c359840
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 27 12:14:10 2012 -0700

    vote: Cut vote reads over to LinkVotesByAccount.
    
    This is a somewhat hacky and temporary way to do this until we are
    confident that it works and want to turn off dual-writes to the column
    family.

commit b29f09ac038d915791359635c2d8a10de7a59c00
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Sep 7 11:17:51 2012 -0700

    Remove unused i18n email code

commit b8324963913fd323d7b4d77ca3f5e82d5e45f873
Author: Neil Williams <neil@reddit.com>
Date:   Wed Sep 5 16:08:15 2012 -0700

    js: Fix load_plugin_modules use from build commands.

commit 86f920fa327e9133d595a481f9cb03de431a5e09
Author: Neil Williams <neil@reddit.com>
Date:   Sun Sep 2 01:00:11 2012 -0700

    Remove r2admin hooks obviated by pluginization.
    
    The private code is becoming a plugin, so a lot of the special-case
    infrastructure for it can be handled by the plugin stuff instead.

commit 78501dbf6d37eb5f5a99c7d83e8bf53f3480c0ec
Author: Neil Williams <neil@reddit.com>
Date:   Sun Sep 2 00:56:38 2012 -0700

    plugins: Add needs_static_build flag to toggle Makefile use.
    
    Not every plugin needs to build static files. Instead of assuming they
    do, the plugins will have to opt-in to having their Makefile called.

commit 4e3ca520373398acd33b5cdd8d433e11c8dbcd95
Author: Jason Harvey <alienth@reddit.com>
Date:   Wed Sep 5 08:01:06 2012 -0700

    Move update_last_visit to post().
    
    Avoids triggering use_write_db logic at the beginning of the request.

commit a327439989b9f23a87ba7c55f325028c14e70450
Author: Jason Harvey <alienth@reddit.com>
Date:   Wed Sep 5 09:35:47 2012 -0700

    Increase self-post length to 15k.

commit 1b6b839c06fdb17d0488f13942b687c10214cc8c
Author: Neil Williams <neil@reddit.com>
Date:   Thu Aug 30 19:19:02 2012 -0700

    CommentSortsCache: Use new column fetching behaviour.
    
    And now that we're doing so, we can reduce the max_column_count in
    tdb_cassandra as it was only boosted to help this column family out.

commit 24c3793b17d42a14793084e98f71c0b9ed9bc977
Author: Neil Williams <neil@reddit.com>
Date:   Thu Aug 30 16:54:28 2012 -0700

    tdb_cassandra: Optionally fetch very wide rows in small batches.
    
    Thrift will materialize the entire result set into memory before
    returning it to the client, so requesting very large numbers of columns
    is quite detrimental to the server's health. Instead of increasing the
    max_column_count ad infinitum, we'll fetch the columns in batches when
    the model tells us that's desired.

commit f93c685637754cc1a4f174360ba8594f7409edef
Author: Neil Williams <neil@reddit.com>
Date:   Sat Sep 1 17:55:03 2012 -0700

    traffic: Link recent 300x100 campaigns on SR traffic page.
    
    The previous 300x100 traffic links weren't actually helpful as 300x100s
    generally have a campaign added onto the codename. This finds campaigns
    that have been seen in a subreddit recently and links them on the
    subreddit traffic page.

commit 1bb821b7fc2e9db1fa7f7fbbc99c3f619f2e3f5a
Author: Max Goodman <max@reddit.com>
Date:   Fri Aug 31 15:50:10 2012 -0700

    Remove defunct iphone bookmarklets.

commit ae908d39aead5bd0a77888107f3b63807af91b6b
Author: Max Goodman <max@reddit.com>
Date:   Fri Aug 31 15:23:30 2012 -0700

    Remove deprecated button code and templates.
    
    Redirect deprecated requests to /button?t=<num>... to the static js.

commit 87c86c4e9f7b5d91e3e08d761435e85e03c0ff21
Author: Neil Williams <neil@reddit.com>
Date:   Wed Aug 29 20:42:24 2012 -0700

    Authentication: Add HTTP Basic access authentication.

commit 2a8cc84faad968ef7b72908eb55b45f663b951f9
Author: Neil Williams <neil@reddit.com>
Date:   Wed Aug 29 10:53:33 2012 -0700

    Refactor user authentication to be more modular.
    
    This allows alternate authentication methods to be easily plugged in for
    custom installs of reddit, such as LDAP on intranets.

commit c7f92ca960ff8c5bdaee4db620636924fbefe621
Author: Neil Williams <neil@reddit.com>
Date:   Thu Aug 30 15:08:50 2012 -0700

    Factor out HTTP Basic auth header parsing code for re-use.

commit 05ee6783625f860230e235ba7d45190572abecd4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Aug 31 10:15:14 2012 -0700

    Check for c.user before grabbing pref_local_js
    
    During some errors, additional tracebacks
    were being generated due to the attempted
    reference to c.user before it had been properly
    set. This should protect against that and let
    the proper errors go through.

commit 127e890f5e43f7fb8bf91efa59002c57bd427a14
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Aug 31 10:55:33 2012 -0700

    Search: Sort by number of comments

commit 4327c8d15c7f8a6e31a592a687ffbc941f7f9868
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Aug 31 10:51:34 2012 -0700

    Fix unicode for plain syntax queries

commit 34418630d6f29a22b232361c8642d8fdb0b918c8
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Aug 31 10:48:59 2012 -0700

    Let subreddits_by_topic use plain syntax

commit 1dea92c1dee77419e953b9199988eae3c89ec5e4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Aug 8 18:13:56 2012 -0700

    Ensure that unicode is being passed to l2cs
    
    This is in preparation for some enhancements
    to l2cs that require it to have a decent interface
    (i.e., it's going to require unicode rather than
    accepting either byte strings or unicode)

commit a8c6631c40694383f3348c028f8cabdfc7758d22
Author: Neil Williams <neil@reddit.com>
Date:   Tue Aug 28 15:38:06 2012 -0700

    Comment Pane Cache: make cache lifetime configurable in INI.
    
    This allows us to independently vary it on some servers via ini file
    (i.e. fastlane).

commit 3812f7ba8f45ba9705f3d0c3ec61731bfa9ff818
Author: Neil Williams <neil@reddit.com>
Date:   Tue Aug 28 15:39:26 2012 -0700

    Comment Pane Cache: disable caching for the author of the link.

commit cb1d625b1ae1e6fd6afba5f01fc9a08b272c1a2f
Author: Neil Williams <neil@reddit.com>
Date:   Tue Aug 28 11:26:03 2012 -0700

    fastlane: Make commentstree_q have a fastlane counterpart.
    
    This allows us to isolate gigantic comment threads from the rest of the
    system.

commit c337280e477226eacb0f5c8123a0fd495d307f43
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 27 21:53:37 2012 -0700

    fastlane: Separate votes on some links and their comments.
    
    If a specific link has ridiculous traffic, we can inform the
    apps (via ZK live config) that votes on it should be sent to a
    separate, dedicated, queue to avoid overwhelming the rest of the
    system.

commit 5ba06189636f0437a28d027871ac62dc81f122dd
Author: Neil Williams <neil@reddit.com>
Date:   Tue Aug 28 09:34:52 2012 -0700

    queries: Parameterize queue name for run_commentstree.
    
    This allows us to reuse the code for a queue of the same meaning but
    different name (i.e. a commentstree fastlane).

commit 1b6423a073a6a7df33d3e376f8c98f51b66a76ee
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 27 21:47:03 2012 -0700

    example.ini: Document subreddit suggester live config options.

commit 7d3986e3d4f2a4ba856780d4f1b8baee29b227c6
Author: DEADB33F <James.C.Bradwell@gmail.com>
Date:   Wed May 9 15:06:44 2012 +0100

    Added 'body.moderator' class to /r/mod and mod-multireddit pages.

commit 02c73e7dd2015b764583c96e7365c4d1dd243ac5
Author: Courthold <courthold@gmail.com>
Date:   Thu Jun 28 16:21:27 2012 +0300

    Add mobile CSS rule to highlight the submitter within the comments.

commit 312da0e9978f74259f66053cbaf7b41fa6afbeee
Author: Matt Rasmus <tareth@gmail.com>
Date:   Thu Aug 16 17:43:38 2012 -0700

    Remove 'import pylons.config' import.

commit 52c8463dfa26263a96dfc22b50d71d8ccc89d2d9
Author: listen2 <getifaddrs@gmail.com>
Date:   Fri Aug 24 15:37:07 2012 -0400

    Fix malformed HTML entities.
    
    Found with grep -P -I "&[[:alnum:]#]++[^;=]" * -R

commit 102e83fdefac11015669c70152b7102e5500c22e
Author: rolmos <rolmos@ureddit.com>
Date:   Sun Aug 19 16:30:42 2012 +0300

    Fix overflow issues with long titles in .compact.

commit 61fe3dc1368d17bd2647583c2b920ae1d8b6f5f5
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 28 15:26:31 2012 -0700

    Fix missing interest bar template errors on compact and mobile.
    
    The InterestBar template is rendered on /reddits/ and will error out
    for compact and mobile unless a template file exists. Since we don't
    have a version for compact or mobile yet, just use empty templates.

commit aa6e2dc2c8eb0ac379b9ae01d4b0233e086eaba7
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 28 15:08:04 2012 -0700

    Update compact .scss file to sync up with .css.

commit c9d209c5abeaf31c9e522013f7565f3e010ca469
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Sun Aug 26 12:34:06 2012 -0700

    Make campaign fullname available in spotlight
    
    Adds campaign to weights of current promos and passes it up to the
    spotlight render function to make it available for tracking at runtime.
    
    Notes about rollout:
    - This change modifies the live promotions data structure stored in permacache.
        To prevent exceptions during rollout, it adds a version number to
        the promotion key. Preload the new data structure before pushing this
        change by running promote.make_daily_promotions() from staging with the
        new code.

commit 53fc3f2c2685792e19f4d0c819ebc1281e94eadf
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Sat Aug 25 10:07:48 2012 -0700

    Remove dead code

commit 7592e36d0f293c7b3c2d8a50ac21594cc4aa2193
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Aug 27 16:08:51 2012 -0700

    Show authorized apps on the account activity page.

commit 02f1490cb622e30f92050c63b83079a31f47eb31
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Aug 27 15:44:40 2012 -0700

    Revoke oauth2 access tokens when a user clears sessions.

commit 1d509826119f786a09b070d69a499a4b6e3bbc54
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Aug 27 11:39:03 2012 -0700

    Add apidoc to /api/v1/me.json.

commit 5b5754b2e252a1244c47e76d309beab4b1d2311a
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Aug 24 11:30:47 2012 -0700

    Add oauth scope info to apihelp.

commit 633a7104913ef35a284349996481e67e0e9b092e
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 13 17:43:53 2012 -0700

    Replace abort() to pass exception info to error pages.

commit f6a994eff6f6a286aab45595ba53c0c689b20840
Author: Neil Williams <neil@reddit.com>
Date:   Fri Aug 24 11:08:51 2012 -0700

    make_lock: Add Graphite tracking of lock wait times.
    
    This commit deliberately does not muck with the keys used for locking so
    that we don't need a downtime to get these statistics.

commit 8b3e0175abbdf479bb2ab69e011f11acc9624457
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 23 15:05:47 2012 -0700

    Remove stray close tag.

commit f5ffcf5d81d42cfd1dc549cc0937c679684cbd23
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 7 23:34:05 2012 -0700

    Remove redundant <meta> title tag.

commit 1e448b68dde27635ad3e3c80e2d310495d50f7c4
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 7 23:33:43 2012 -0700

    Add alt tag to "Powered by reddit" image.

commit 4c2c050619d619fdeac4c9088a493544d770310f
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 7 13:21:20 2012 -0700

    Truncate microseconds off <time> datetime attributes.

commit af326aae15b80abdb3ef0c59965dcd426e8979ac
Author: Max Goodman <max@reddit.com>
Date:   Sun Aug 5 14:43:32 2012 -0700

    Whitespace.

commit 9bb83901f3aa43a37870ae3ab489f9786189e204
Author: Max Goodman <max@reddit.com>
Date:   Sun Aug 5 14:43:06 2012 -0700

    Switch to html5 doctype and add html5shiv.

commit 6ebac049cd373d5f45eb82855cfe2c127581ff1f
Author: listen2 <getifaddrs@gmail.com>
Date:   Thu Aug 23 20:16:11 2012 -0400

    Fix typo in docstring.

commit 7799bb5db4dc511ca1c2f50319893c171e539047
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Aug 24 10:11:36 2012 -0700

    Makefile: Use correct path for r2.pot

commit 5626376497bdf8b255dd049d3433b9dde82767d0
Author: Neil Williams <neil@reddit.com>
Date:   Thu Aug 23 11:10:29 2012 -0700

    MFA: Change key username to "/u/username on domain" to avoid conflicts.
    
    {username}@{domain} was conflicting with other services which had
    similar formats (such as GAFYD). This makes it easier to identify
    your reddit account among the other authenticators.

commit 6a2a0210e1c32eff56b9ceddf18ba6c3178a45b3
Author: Neil Williams <neil@reddit.com>
Date:   Thu Aug 9 17:06:50 2012 -0700

    Move /comments to new query cache.
    
    This is another attempt at doing so. We're now using the Leveled
    Compaction strategy for SubredditQueryCache and have drastically reduced
    gc_grace_seconds (to half an hour). This should ameliorate the tombstone
    pileup issues we ran into last time.

commit 5f6efe5a6e54c2983d66dd21adba073deb3f709e
Author: maxwellhansen <maxwellhansen@hotmail.com>
Date:   Wed Aug 15 09:45:00 2012 -0500

    install-reddit: Replace another instance of old bash redirect syntax.

commit cc1b087c1069297f3853003172b89c762b185b23
Author: Neil Williams <neil@reddit.com>
Date:   Thu Aug 23 09:56:53 2012 -0700

    CloudSearch: Fix AttributeError when record_stats = False.
    
    While the stub-timer I introduced earlier takes care of some issues, it
    doesn't take care of when we explicitly set the variable to None!

commit c449212f29e11aa828be082421717f4766b630d8
Author: Neil Williams <neil@reddit.com>
Date:   Thu Aug 23 09:14:46 2012 -0700

    traffic: Fix zip_timeseries for when a series has no data at all.

commit 8929e17f88a18e925dee555d993d733e6c58c4df
Author: Max Goodman <max@reddit.com>
Date:   Wed Aug 22 16:10:32 2012 -0700

    Remove "referer" from js_config.
    
    Removes XSS reported by jomkr where referer contains "</script>" in IE.

commit ab306a04236e919c09225fb70cb1f987e196b528
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Aug 22 12:27:03 2012 -0700

    Search: Squash misuse of datetime.strftime

commit 6e63366649690bcd2615daf599ddc377f6e8728c
Author: Neil Williams <neil@reddit.com>
Date:   Wed Aug 22 15:01:12 2012 -0700

    tdb_sql/Thing: Remove now-unnecessary UPDATE/INSERT stats tracking.

commit 5c177fa615f9ae704bf48c8ac3ea63b90aab6c49
Author: Neil Williams <neil@reddit.com>
Date:   Tue Aug 21 19:31:13 2012 -0700

    vote_q: Track how long various parts of vote processing take.

commit 40d234110b81aa84ca57aa7bf1780a5b33c73bff
Author: Neil Williams <neil@reddit.com>
Date:   Tue Aug 21 18:46:38 2012 -0700

    vote_q: Remove unused process_votes_multi.

commit 31fad4503166d895d1b344a093898db8810950bb
Author: Neil Williams <neil@reddit.com>
Date:   Tue Aug 21 16:51:20 2012 -0700

    stats: Clean up now-unnecessary checks for Timer validity.

commit a613f7b17e3ec2fad650e0e7ec3c43762d24c616
Author: Neil Williams <neil@reddit.com>
Date:   Tue Aug 21 16:50:34 2012 -0700

    stats: Make get_timer return a stub object if Graphite disabled.
    
    This saves us from having to do explicit checks for whether or
    not the timer exists everywhere we use them.

commit 5e9e943f8b77f92270096c414c4015d6993e22d9
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Aug 22 14:25:52 2012 -0700

    Make OAuth2AuthorizationCode.user_id an id36.

commit 533afca2e5a5eb0a859a9b9be52461247d9ad466
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Aug 22 13:38:42 2012 -0700

    Add oauth_domain to globals, and add to secure_domains.

commit bbc97f841f95aee6e06ab89dd35c0851eea72294
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Aug 22 12:47:47 2012 -0700

    Use integer user id when creating authorization codes.

commit d4d2214595dd81f255119028aadd4bc4e40ad80a
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Aug 22 12:24:22 2012 -0700

    Fix ImportError in Account.delete (oauth2 -> token).

commit 8e2737dab409c46d688cf5065a89c6dd0df44dde
Author: Max Goodman <max@reddit.com>
Date:   Wed Aug 22 10:27:36 2012 -0700

    Remove JS semicolons and use single quote strings.

commit bce9642b9b08bf9d62d6410bfc08a04e3d72b413
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Aug 14 14:34:53 2012 -0700

    Add default app icon.

commit 091dd7d5742ad08482b0e30224bd4272fef4abf6
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Aug 14 11:34:53 2012 -0700

    Add the moderateflair oauth scope.

commit d109d1aa998b9ac590209608d49a0ab349465b7c
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Aug 9 16:25:22 2012 -0700

    Add myreddits scope for oauth access to /reddits/mine.

commit 765908f4011f06e2f8b83718e45cf86e9e5e7536
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Aug 3 12:00:39 2012 -0700

    Show granted permissions in the authorized apps list.

commit 5b373c3e29e33ea99c372199f48c864d080ecfdd
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Aug 3 11:46:00 2012 -0700

    Fix oauth2 permission enforcement logic.

commit cf6b533b5dba231f927f3629f97e69b957c2fb84
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jul 31 13:48:46 2012 -0700

    Fix error reporting for app icon uploads.

commit 3a800ea8f0e9e158c2b0cfb325336df4789135fa
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Jul 30 15:54:22 2012 -0700

    Give names to the various adddeveloper errors.

commit f87053efc08a7f3240771da368613711c00d4c96
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jul 25 16:38:18 2012 -0700

    Move all the apps javascript into the r.apps namespace.

commit 53d0d40891ad6bd1ebce8e67d6df17ba0c220ac5
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jul 25 14:14:16 2012 -0700

    Fix alignment of app icons on prefs and authorize pages.

commit 6ca678e0130682c4f8f13b774a0da781ec220a15
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jul 25 11:13:12 2012 -0700

    Let developers remove themselves from apps.

commit 432a0c3d33a9e454c0a5c4ab4fd4b4ebd6ef354b
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jul 25 10:08:56 2012 -0700

    Batch up oauth-related lookups.

commit 14de2c0116a7c7e8ea49addf547eb7e612f5c3a9
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jul 24 12:57:26 2012 -0700

    Use VSanitizedUrl for redirect_url in POST_updateapp.

commit 21b9ffe0ba4558dd4c809df658e6ab9e582e4244
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jul 24 11:45:39 2012 -0700

    Clean up how new apps are inserted into /prefs/apps.

commit efe791ea2c6c8296762a8b063957bc9bc0dbd0f7
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jul 24 11:28:45 2012 -0700

    Clean up submit buttons in /prefs/apps.

commit feebd01992690e9a954cc856a457b7c315439e07
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Jul 23 16:44:09 2012 -0700

    Impose a limit on number of app developers, and sort them.

commit 5c223a20c1c36ed7d100f8bacbd85665207e06bd
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Jul 20 16:28:25 2012 -0700

    Update page when an app is created or updated.

commit e8942187e29eac2c48c984705a28e6fd67036543
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Jul 20 13:30:56 2012 -0700

    Update page as developers are added to/removed from an app.

commit 878074e8458330f0f3b9e42712b589031969aaae
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Jul 19 10:48:30 2012 -0700

    Rework how app icon uploads work.

commit 5a170ee59020ac7c19d3bca320d4abddc465ed39
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jul 17 14:00:15 2012 -0700

    Improve layout of app icon uploader.

commit bd08154d4c53f068bbbc02574d61695aebbdcc88
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jul 17 13:18:15 2012 -0700

    Add api docs for app-related methods.

commit d1b46854f9e38327634ec16f220f0c674fb54f39
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jul 17 11:42:05 2012 -0700

    Hide app creation form until button is clicked.

commit df3e26873b218ddf50628d56099b0540ee49c343
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jul 17 11:30:44 2012 -0700

    Upload app icons to S3.

commit 961c2e811664ad3d22d7ab1b8132e18df3824cc2
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Jul 12 13:33:45 2012 -0700

    Show list of developers in app details.

commit f7236f99e30dfe1f4625149d5ec36e0b38fc7be5
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jul 11 17:08:17 2012 -0700

    Fade out apps when revoked or deleted.

commit 545e1c7a3bc3b07b8e6311ec101e1f0f25deb21e
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jul 11 16:23:04 2012 -0700

    Clean up the developed apps UI.

commit d56046f1d04d818c37d2b1782a28691effd0e041
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 15 13:29:35 2012 -0700

    Check token validity when verifying OAuth2 requests.

commit 1fd9c0662a544b1b3f247ed55c333f929a476b10
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 15 13:29:16 2012 -0700

    Rename access token is_valid to avoid __getattr__ silliness

commit b94978a647dc15701c2f668e28724e92e60b9dd7
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 15 13:23:04 2012 -0700

    Fix: add client_id to OAuth2 access tokens.

commit 09c60ba42d224fe79b1612a347d5b863901703ca
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 15 00:05:43 2012 -0700

    Switch user ids to id36s for consistency and str type keys.

commit 9f7bdd811367034879d00149eeed379704cc76bf
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 14 15:25:54 2012 -0700

    Add comment OAuth2 scope.

commit deff9405da9ee174c4b8457d8c58531f2fc1932e
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 14 19:33:58 2012 -0700

    Add OAuth2 handling to the main APIController.

commit 81caf1213d31b9d0a1877e56da2b9db1a5572e79
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 14 15:16:27 2012 -0700

    Add support for multiple scopes per OAuth2 access token.

commit 35006858cbbc2c130d876b1b373f283b9827bd9c
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 14 15:14:29 2012 -0700

    Clean up VClientID validator.

commit 51c35458bb97722ba8a63338ccf6556d9d753988
Author: Dave Pifke <dave@pifke.org>
Date:   Thu Mar 15 02:23:13 2012 +0000

    Implement revoke/remove/delete buttons on /pref/apps.
    
    These are ynbuttons, which cannot appear within an existing form.
    Thus the "delete app" link appears in an awkward place and the
    "remove developer" link currently won't work at all.  chromakode
    said he was going to take a look at modifying ynbutton to fix this.
    
    This commit fixes a bug in the OAuth2Client.delete().

commit b388dc979f6288ece4187d00d820466ce8d5f9ea
Author: Dave Pifke <dave@pifke.org>
Date:   Thu Mar 15 01:30:06 2012 +0000

    Creating and updating apps now works.

commit d7fbadfcd77b624f0f405663911754bfd6e7700c
Author: Dave Pifke <dave@pifke.org>
Date:   Wed Mar 14 23:14:13 2012 +0000

    Start building view for managing apps.

commit 6d293a08bcb1651377c5cdebebcc54ac5f83ccab
Author: Dave Pifke <dave@pifke.org>
Date:   Wed Mar 14 23:13:27 2012 +0000

    Add API methods for managing apps.

commit 808336ccd8bb3492ad7a59fdd8ca218f785f04b7
Author: Dave Pifke <dave@pifke.org>
Date:   Wed Mar 14 22:37:28 2012 +0000

    Fix AttributeError on OAuth2Client.deleted.

commit fe907eb1c406f8d5619e8f436ff79d4decb2dd9c
Author: Dave Pifke <dave@pifke.org>
Date:   Tue Mar 13 07:00:14 2012 +0000

    Navigation for "apps" tab on preferences.
    
    Adding some controller code and template for the apps tab.  Currently
    just a skeleton.

commit 576557244d1c43395b7862b7cff679eb5736483e
Author: Dave Pifke <dave@pifke.org>
Date:   Wed Mar 14 18:49:51 2012 +0000

    Tweaks to OAuth2 models.
    
    Adds the clients-by-user lookup, deletion of clients, and renames
    some classes and methods to be more consistent.

commit cc40171cf50f67cd85f1cd409e864f754fbbbceb
Author: Dave Pifke <dave@pifke.org>
Date:   Tue Mar 13 06:48:15 2012 +0000

    OAuth client/token relationships with Accounts
    
    Update the models to be able to update and query:
    
     - Which OAuth2Clients are developed by a user?
     - Who are the developers of an OAuth2Client?
     - What OAuth2AccessTokens are outstanding for a user?
    
    There's some duplicated code here, and tests are needed, but it's
    functional.

commit 56a1d9054baaae8073de754d6ec7bc1efc359d29
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 14 11:45:51 2012 -0700

    Refactor state value passing to OAuth2 error responses.

commit 9001852a40a8201f5ed79edd9b23f50a7597be35
Author: Dave Pifke <dave@pifke.org>
Date:   Wed Mar 14 10:56:52 2012 -0700

    Pass the state value in OAuth2 error redirects.

commit 961495b003f6134d6145d48a00185c2e46e73bcc
Author: Dave Pifke <dave@pifke.org>
Date:   Wed Mar 14 11:41:37 2012 -0700

    Refactor /api/v1/authorize error handling.

commit c826725c3c0da247bcc5170431590a7864cd9d4d
Author: Dave Pifke <dave@pifke.org>
Date:   Wed Mar 14 11:43:12 2012 -0700

    Add error message to OAuth2 invalid redirect URI failure.

commit 367c4201a3e00a6d718ed2346d7040bc4db8ad9a
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Aug 21 18:58:00 2012 -0700

    Add accounts_active information to the JSON template.

commit 90fb87da88c8ec8118198e89dec9a8deda94d39f
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Aug 21 18:56:35 2012 -0700

    Modify display of accounts_active info.
    
    This now relies on the fudged number from subreddit.py for obscurity.
    
    Rewords the default text, and title text of the metric.
    
    Adds a "fudged" class to the block so that low values can be hidden through CSS.

commit 97eb9117103b2a3fe052b545f157a35cf7032d70
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Aug 21 18:47:23 2012 -0700

    Add a random jitter to accounts_activity metric.

commit 034aeef022b2d0ca9fad7675a7b9a5a784a810a1
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 21 11:31:51 2012 -0700

    Stop stripping unicode characters from subreddits_by_topic.

commit 62792b87314e765957e76446df8d1e8d53a1644d
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 21 12:07:24 2012 -0700

    Use SearchQuery in subreddits_by_topic.

commit ca2a05fa34c43c16c31c924c929b80a52779fe96
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 21 12:07:05 2012 -0700

    Return Subreddit objects from subreddit_facets().

commit 7dbb0ad337f3ce911271809d5bb3755a25677f54
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 21 11:51:48 2012 -0700

    Add faceting param to CloudSearchQuery.

commit 2a0dfb4f408f3606c837cfcf9d79887830b09139
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 21 11:51:01 2012 -0700

    Rename "facets" -> "faceting" in search funcs.
    
    To avoid confusion with "facets" in search result sets.

commit 4208ea88f7dab69b8ec3a2e215aba377e69359c5
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 21 10:48:09 2012 -0700

    Underline search facets on hover.

commit 38288155244171da67d24569fe7b546cf52069c5
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Aug 17 12:14:26 2012 -0700

    Try out a hot sort

commit e89afe9a8036c8f1170f676b3f4e39e288ba1c4e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Aug 17 12:06:09 2012 -0700

    Helper functions should default to the default sort

commit cc1848b7151d308c7eaba246f628438cfc721662
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Aug 17 11:49:49 2012 -0700

    Send type_id data to cloudsearch
    
    This minor addition will allow us to combine
    different things into a single domain if we so
    desire.

commit a0ef13e4fbd5522336cbdef73f8c0c5aa1f13e3d
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Aug 17 11:48:52 2012 -0700

    Clean up cloudsearch.py
    
    * Domain permutations can be a list of items
    * _to_fn() function was redundant

commit 095091dffb458fdb806ed5da366bfb6a9148f071
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Aug 21 13:02:22 2012 -0700

    promote.py: Need to load the campaign data
    
    In scheduled_campaigns_by_link, a call to PromoCampaign._byID
    was referencing data attributes but not requesting data=True
    on load.

commit 30885089bdac085882d04be416ecd7b140faec78
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 20 11:14:22 2012 -0700

    tdb_sql/Thing: Assume data props should be INSERTed on thing creation.
    
    Previously, setting data props on a thing would result in a SELECT to
    determine which data properties already existed, and then a sequence of
    INSERTs and UPDATEs (with some batching) to get the database in the
    right state.
    
    The account master wasn't too happy with those extra selects, so we
    made it so that the app would optimistically UPDATE and if no rows were
    changed do INSERTs instead (with appropriate batching as above).
    
    Unfortunately, this greatly increases the number of operations done when
    adding new data props, such as at thing creation time, and on some
    tables that's almost entirely all of the workload.
    
    This patch takes advantage of the fact that we know no data attributes
    will exist at thing creation time and therefore we can blindly INSERT
    without doing UPDATEs or SELECTs first to try and reduce the number of
    extraneous operations we do.

commit 2c91a2a18e6e01667aa883261f58a8fab2ba5720
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Aug 14 18:37:58 2012 -0400

    Cached queries for user reported things.

commit 15d60fb82d2611e036d685120ca9f228f892c043
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Aug 16 17:20:52 2012 -0700

    Fixes bugs in promotion code:
    
    Updates an occurrence of "index" that should have been changed to campaign._id
    during the campaign thing reads change. This fixes two bugs:
    
    (1) Campaigns were being incorrectly marked with "update failed" when edited
    by an admin or sponsor even though the update was successful.
    
    (2) Campaigns were not being automatically marked as freebies when edited by
    an admin or sponsor. (These have to be set as freebies in self-serve because
    they are billed separately.)
    
    This change also checks for an empty user string so the update function can
    be run in paster shell.

commit 7205f9ae0300746eebf72393ebcf33fdf70c0e82
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 16 01:37:05 2012 -0700

    Spruce up search pages.

commit 6680a74d784255b5156cd474c87dc93e334594a0
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 16 01:37:57 2012 -0700

    Add subreddit interest bar to /reddits.

commit 613b27de9eec1f6e982bbcd5e1cdfbb252600531
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 16 01:36:41 2012 -0700

    Add subreddit interest discovery bar.

commit df628d4368d25c10556a69487c4eb9010c456217
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 16 01:18:29 2012 -0700

    Make cloudsearch facet params more configurable.

commit 754c35da53ad6123061f8e83a31c6df39ea8720b
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 16 01:33:12 2012 -0700

    Move "lookup" spotlight box var out of template.

commit 6dfb00105b5b6d65f8449164cf7ab57258d2c30b
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 16 01:32:10 2012 -0700

    Refactor spotlight item param names to be more generic.

commit c22f9c682b94dffa806aacccffb25affbfc18aee
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 16 22:31:10 2012 -0700

    Only use responder output upon None in json_validate.

commit 70f0e7b274450f09a3c2e00f269c8fd99c3d4908
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 16 01:20:21 2012 -0700

    Replace spotlight box help with a hover bubble.

commit b4d90db3b0aa2c7e1493cc31be02e56bfa19deec
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 16 16:43:52 2012 -0700

    Localize "an error occurred" in r.ui.Form.

commit 5b4f1632ccdb1270c8c6b3451f0dce069c7e6930
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 16 16:38:25 2012 -0700

    Whitespace.

commit 5f1e5f511320a9b9840bce58e7ec38c273c364d9
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 16 01:17:08 2012 -0700

    Set g.zookeeper to None if unavailable.

commit c57446bdca14a768826dfdd0d51c7fcf927fec4c
Author: Jason Harvey <alienth@reddit.com>
Date:   Sat Aug 18 16:07:05 2012 -0700

    Entitize the less-than symbol for the users-online display.

commit d8fa5e9099447b613737a048006bfab1c370d485
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 20 00:09:03 2012 -0700

    tdb_sql: Collect stats on wasted UPDATEs in data prop storage.
    
    This will give us better data on which tables will prefer to
    SELECT and INSERT and which will prefer to optimistically UPDATE.

commit 0ca1ceb11066e0b0d0889fdb366930569b07888a
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 20 09:34:14 2012 -0700

    tdb_sql: Remove unused type_id parameter from set_data.

commit a24edac21fc2ed65bb13c63f190bf665ebfa88b9
Author: Neil Williams <neil@reddit.com>
Date:   Fri Aug 17 16:18:35 2012 -0700

    vote: Start dual-writing to new DenormalizedRelation-based CFs.
    
    See the DenormalizedRelation commit for more details on why.

commit 1be75fda0ea8cbd3d9c9f8ab17853760cab398d9
Author: Neil Williams <neil@reddit.com>
Date:   Fri Aug 17 16:17:35 2012 -0700

    tdb_cassandra: Add DenormalizedRelation infrastructure.
    
    This is intended to replace Relation. Relation works by putting each individual
    relationship in its own Row. This means that doing a fast_query (cross-product)
    results in a large multiget that likely touches every node on the C* ring.
    DenormalizedRelation instead puts all of the relationships into a single row
    per thing1 and only fetches the desired columns on read. This means that most
    of the time, we'll do a single-row lookup to determine what we want and the
    majority of the time we will get a very fast response from the row-level bloom
    filters indicating that no such relationship exists.
    
    The row cache should be disabled for this column family as the rows will be
    VERY wide.

commit be52637af130cb180857380e13c24d0c0fb2912d
Author: Neil Williams <neil@reddit.com>
Date:   Thu Aug 16 16:18:03 2012 -0700

    vote: Remove VotesByDay view.
    
    We are not currently using this so it is wasteful to keep it around.

commit 20759d52a1da2baa5bf51d1c42209907aae47420
Author: Max Goodman <max@reddit.com>
Date:   Fri Aug 17 14:38:19 2012 -0700

    Add small icon to online users count.

commit dda2a5daeb3606922fbc997d4a1649853a76396a
Author: Jason Harvey <alienth@reddit.com>
Date:   Fri Aug 17 01:22:17 2012 -0700

    Add users_online Score. Fix _people and PluralManager to work with it properly.
    
    PluralManager bits from chromakode.

commit f80eb468c0205d2eb0f05a4d622af5d4969d8fee
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Aug 16 19:23:04 2012 -0700

    Display active_accounts in the subreddit infobar.
    
    Add a CSS class for users-online.

commit 49607b72d147c027ee19e663ee2313b1c7849cdc
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Aug 16 19:21:40 2012 -0700

    Add a memoized method of get_count, and use it by default.

commit 1fa2d40f27504323b6e47d48a69ee2eca0d54f82
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Aug 16 19:20:43 2012 -0700

    Add a Subreddit property for active_accounts.

commit 1520ddf057a97997a3c1be79555e8a4f6d75bf2c
Author: Jason Harvey <alienth@reddit.com>
Date:   Mon Aug 13 16:18:54 2012 -0700

    Rename AccountActivityBySR to AccountsActiveBySR.

commit 437079d75006e6d1ae014d148ab66da8b11c2717
Author: Jason Harvey <alienth@reddit.com>
Date:   Sun Aug 12 18:59:14 2012 -0700

    Call update_sr_activity on any activity where c.site is a Subreddit.

commit 7e225282217bcabe8a774365589f3b4a3504ba15
Author: Jason Harvey <alienth@reddit.com>
Date:   Sun Aug 12 18:58:57 2012 -0700

    Add Account method to update AccountActivityBySR.

commit 2fe83ed70eb994e199c8b8fb3b2b43ae0984724b
Author: Jason Harvey <alienth@reddit.com>
Date:   Sun Aug 12 18:57:00 2012 -0700

    Add AccountActivityBySR.
    
    Cassandra View class for storing account activity(the columns) by
    subreddit (the keys).
    
    Columns have a TTL of 15 minutes to expire out inactive accounts.

commit b71d8bf7491e08a652ff82cd971d4ed490309b2f
Author: Jason Harvey <alienth@reddit.com>
Date:   Fri Aug 10 12:41:35 2012 -0700

    Store a last_visit time on the Account thing.

commit 6bc99a48afa8fdbea06cb9286fe488d0613e8db7
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Aug 15 16:52:05 2012 -0700

    Move 'best' sort to first in list

commit 70f4f79dad71d8158c4dc4dd042bf89d2b10c972
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Aug 15 14:11:56 2012 -0700

    Spaces are ok; CRs and LFs are not
    
    Protect against HTTP response splitting* without
    overzealously blocking standard space characters
    from URLs
    
    * see http://en.wikipedia.org/wiki/HTTP_response_splitting

commit a31b1e69f9cf67b62aaf372bdf20b6381b9057b8
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Aug 13 15:06:56 2012 -0400

    Transparent background for eye.png.

commit 07fa69585734f810cb65c40b4412989dc2ce7fd2
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Aug 10 13:01:24 2012 -0700

    Abort with 403 for toolbar links to private SRs

commit 9bfed162031a3f03db9e36eab508c18b329e3caa
Author: maxwellhansen <maxwellhansen@hotmail.com>
Date:   Mon Aug 13 17:52:56 2012 -0500

    install-reddit: Use newer bash redirection syntax.

commit 98f781957bbdce9acd7606677ca8d8d9bc632c6e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Aug 13 11:28:08 2012 -0700

    Remove unnecessary _domain variable

commit 01146c301e9509f246cf3827c591f29068c82131
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Aug 13 10:50:44 2012 -0700

    Remove unused r2.po and friends from repo
    
    Note that pylons.wsgiapp uses pylons.i18n's get_lang()
    and friends, instead of our modified versions in
    r2.lib.translation. This means that setting 'lang' in the
    conf causes it to try and 'help' us by looking up PO files
    in r2/i18n. Changing the ini files to use 'site_lang' as the
    key gets around that.

commit 7d97ddbabb6414d64d964cb76c350b6e4d627768
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Aug 13 09:56:21 2012 -0700

    If you want the goods, seek out the reddit-i18n repo

commit fcf1d5236df74f63be8800d7288a970bcc97ef09
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Aug 13 11:42:33 2012 -0400

    Sponsors can bypass roadblocks when creating campaigns.

commit eeb2aa840a908a9ce3d2191a8167291726d1a583
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Aug 9 09:40:16 2012 -0700

    Make min promotion bid dynamic
    
    Updates javascript to use min bid defined in the app config instead of using a
    hard-coded value, and allows admin to override min bid.
    
    Updates validation code to allow admin to override min bid on the back end.

commit b1ed5e0f4e35a569074699f49598b568d99714dd
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Wed Aug 8 11:10:45 2012 -0700

    Move sr discovery links to zookeeper
    
    This change will allow us to change the links without doing a code push

commit a44f6f4c0251fe2237bb8339778b88ff77d19ae9
Author: Neil Williams <neil@reddit.com>
Date:   Sun Aug 12 20:21:12 2012 -0700

    Upgrade passwords on log in when bcrypt work factor changed.
    
    Previously, only old-style SHA-1 passwords were upgraded on login. Now,
    if we change the bcrypt work factor, bcrypted passwords will also get
    the upgrade treatment.

commit ca39abfa9bf20e96c2f487d0c42e48fd1641dd78
Author: maxwellhansen <maxwellhansen@hotmail.com>
Date:   Mon Aug 13 10:08:01 2012 -0700

    upload_static: Use dictionary comprehension for readability.

commit c1481658459be7d951dd00fd99340a5a957c1fbe
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 13 00:44:21 2012 -0700

    Clean up miscellanea in r2.lib.
    
    Remove some unused files and move some tests to the test tree.

commit d896b9a71f6532f0c0a2a85abd7bf0809cc870b0
Author: Neil Williams <neil@reddit.com>
Date:   Tue Aug 7 10:03:23 2012 -0700

    ZooKeeper: Make reduction of data optional in LiveList.get().
    
    If we need the raw list of objects so that we can know what objects can
    be deleted etc. then we'll need to disable the reduction.

commit cf527d15cfb0ae359299d0783d0d9f4ad8c99982
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 6 21:40:38 2012 -0700

    ZooKeeper: Add pull model for LiveList.
    
    The base LiveList set up is similar to LiveConfig; it sets a watch and
    will get notified by ZooKeeper when the data changes. Sometimes we don't
    need data very frequently, if at all, and would rather eschew the watch
    for a pull based model (asking ZK for the data only when needed.) This
    is particularly helpful if we're doing write-only changes to a
    datastructure read only in one place (such as a queue processor).

commit b75f6f26b66daed708a2b71c29191849239bf115
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 6 17:35:07 2012 -0700

    Refactor IP-range searching code for better reusability.
    
    Useful for util scripts etc.

commit 768663b032a4faa9e9255e23c8c4d121882504e7
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 7 16:39:29 2012 -0700

    Abort Makefile if Makefile.py fails.

commit 705e1bb123f7f6391c03cec8ce759c8f4b8a153d
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 7 16:56:30 2012 -0700

    Fix js.py module loading to use PluginLoader.
    
    Fixes issue where js.py wasn't initializing Plugins with an entry_point
    argument after the entry_point property was added.

commit f19bb7c4f4f056f80544199fa3be891f14433f91
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 7 16:56:07 2012 -0700

    Load all plugins if None is passed to PluginLoader.

commit bd16af84a43db4694fdfd6d56b67683970d47285
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 7 14:30:32 2012 -0700

    Add plugin repo versions to the health list.

commit fd13f2100aeaae4575798ae4d36cdd0eb5c5047c
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 7 14:29:30 2012 -0700

    Add entry point property to plugin instances.

commit 25d96f1fc8c6a5b9d3f3fc8207b15e3c56c9321f
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 7 13:51:53 2012 -0700

    Remove unused comScore code.

commit 26d6b780dc4d9d49f908e789d78ee7eb59f4c18c
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 7 13:40:31 2012 -0700

    Remove a few old static mini sites.
    
    Also, update Socialite links to direct users to AMO.

commit dd937cf73a315c24c3681fe00c23d518760d980a
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 7 15:29:39 2012 -0700

    My coworkers are silly.

commit 355a06d533b70c6404eb4ca829874b3754f59edf
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 7 12:24:17 2012 -0700

    Add optional default value to NamedGlobals.

commit bd42357847e3c5a01a3100d8124f7575f6faadea
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 7 11:33:01 2012 -0700

    Add NamedGlobals for storing long-lived unique data blobs.

commit a186e5e7e9fb5aa7b86ecfa9736364576f63e5bf
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 27 23:53:05 2012 -0700

    Copy Modernizr's more robust sessionStorage feature detection.

commit e5853f189d8cfa4ec7c9fe9137d8ea2dc74e1c0a
Author: Max Goodman <max@reddit.com>
Date:   Wed Aug 8 10:44:27 2012 -0700

    Re-reshuffle JS utils order.

commit 02eb461cfdb642daa5abe78624b43b09326fad9f
Author: Max Goodman <max@reddit.com>
Date:   Wed Aug 8 10:43:52 2012 -0700

    Whitespace.

commit 272a1d86bedf5a458420e3ffa90efb8de55dd4bb
Author: Max Goodman <max@reddit.com>
Date:   Thu Jan 19 14:21:58 2012 -0800

    Add icon for Opera speed dial.

commit 87be2c0a6c79674ee084f2f87a4d8e1d0cecb5b1
Author: Max Goodman <max@reddit.com>
Date:   Wed Aug 8 12:05:41 2012 -0700

    Remove hanging r.login.currentOrigin after refactor.
    
    Original refactor in 482e8644d84b04a39e203935ff7a474fd422d675

commit 0cf4f6764271a3e6c3e239027cdb386906646469
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Aug 7 14:01:13 2012 -0700

    Fix db_sort KeyError

commit 65998674c8365a48f54cac9ef9956753df1a64f6
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Jul 26 08:18:15 2012 -0700

    Make promotion summary emails read from PromoCampaign things
    
    These were still reading from the campaigns link attribute, which would have
    caused them to fail when we stop dual writing to the link attribute.

commit 987be0d9612918f142b2f2348b1a2e4fec9a8577
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Aug 6 14:16:45 2012 -0700

    Replace reference to #subreddit with /r/subreddit

commit ced53a257aa297a7e04ecb4be1f86d3c13275ac4
Author: Neil Williams <neil@reddit.com>
Date:   Fri Aug 3 13:09:34 2012 -0700

    Move IP-based throttling to ZooKeeper.
    
    This buys us two things: one fewer memcache roundtrip per request to
    determine if the IP is throttled or not, and the ability to use CIDR for
    specifying blocks.
    
    Google's ipaddress-py library as currently being modified (6f231f50aace)
    for inclusion in the Python stdlib is included here to help us
    manipulate CIDR ranges etc.

commit 34e57011b6385b0ca0a7f6c7f7e28cee8a4d0c8f
Author: Neil Williams <neil@reddit.com>
Date:   Sat Aug 4 20:32:07 2012 -0700

    install-reddit: Make sure to start Cassandra after install.
    
    The reddit PPA version of Cassandra no longer auto-starts on install
    because that was really obnoxious in production. We'll have to make
    sure to start the service after installing it.

commit 5887e0898e51cb5665de39a2ac7bbb6006c3d12a
Author: Neil Williams <neil@reddit.com>
Date:   Sat Aug 4 20:29:42 2012 -0700

    install-reddit: Use netcat to determine if services are up.
    
    This is more robust than the previous method which slept for 30 seconds
    and ended up being simultaneously optimistic and pessimistic.

commit 4a4543b38b0dfea5c3c3add96d964e47e519210a
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jul 30 15:50:38 2012 -0700

    Move frontpage_dart option into new live config.
    
    Enabling home page roadblocks has never been so easy!

commit ccbdf5c7ea87801d9e16895e7a9818d58808ba7e
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Aug 2 15:23:02 2012 -0700

    Make ConfigValue.bool accept True, False, and None values.

commit 4a8893c838bb4f49fbc9ab716cee2c9b92a54952
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jul 30 15:31:41 2012 -0700

    Increase strictness of ConfigValue.bool.
    
    Previously, it would treat anything that wasn't (case insensitively)
    equal to "true" as False. The new configparser will ensure that the
    value is either "true" or "false" and not "slkdjfljksdf", reducing the
    risk of accidental False by typo.

commit f495dad2a8d1b0db288aee78ae7e36f02d6877c5
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jul 30 15:44:09 2012 -0700

    Add ZooKeeper-based dynamic configuration system.
    
    The dynamic configuration system has two components: the app, which
    reads, and the writer script. The latter is meant for use by humans, and
    converts a [live_config] section of the INI file into JSON for storage
    in ZooKeeper. The app will read this data on startup and place a watch
    on the node to be notified, by ZooKeeper, of changes. This means that
    running the writer script with new data will automatically propagate the
    changes to every app very quickly, without restart.
    
    The writer script relies on a human-entered password to authenticate
    with ZooKeeper. The reddit app uses a different set of credentials
    (specified in the INI file) to obtain read-only access to the
    configuration data.
    
    Also adds a new "live_config" spec to reddit and plugins. This spec is
    parsed at write-time only and the parsed values are stored as JSON in
    ZooKeeper.

commit 2c5021bb11c69989f91476fedb9bb1bf8d243035
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jul 30 15:28:27 2012 -0700

    Split plugin loading into two phases.
    
    The first phase loads the entry points and instantiates plugin objects.
    This phase is useful for inspecting plugin metadata without having a
    full environment configured (routing etc.). This phase is moved earlier
    in the init process, to the first moment after the configuration has
    been parsed.
    
    The second phase does the heavy work of making individual plugins inject
    themselves into the otherwise ready reddit environment. This phase stays
    where plugin loading took place before (after global setup).

commit 0b09f25b286505e2dac19abc1f663869fdcaaf59
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jul 30 15:39:16 2012 -0700

    Add basic support for ZooKeeper via Kazoo.
    
    At this point, we can connect and pass authentication credentials!

commit d77c53fa4405bf74b9f27a6d951a024604427ac6
Author: Max Goodman <max@reddit.com>
Date:   Wed Aug 1 03:51:43 2012 +0000

    Add class to the top bar random button for breadcrumb tracking.

commit 0a702496584d674170de1453f0eec2fd6bd2bcdc
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jul 16 14:29:50 2012 -0700

    Make link domain easier to read on spammed links.

commit 59c22e8bf36edbf92aa078201666c9a800bc2385
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jul 30 17:03:46 2012 -0700

    Sort duplicates by number of comments

commit 7cf49263114e7801d42a634faf3b26fca7ff1acb
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jul 30 17:24:32 2012 -0700

    Update comment by cleaning code

commit 5e3dccd381c5a171fd13a8b759ffe0c11b169952
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jul 30 14:31:15 2012 -0700

    Don't set results to 0 when cleaning up a query

commit d7000c283aa66097fae053053c5c3094df0872b9
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Jul 31 09:32:38 2012 -0700

    Include campaign id in duplicate bid error handling
    
    Uses both transaction id and campaign id to uniquely identify a bid. This
    fixes a bug where querying for one bid in some cases caused a multiple rows
    returned exception - a side effect of the campaign migration, which left both
    old and new bids in the db.
    
    This change also includes the campaign id when attempting to recreate a lost
    bid record because... bid records are supposed to have campaign ids. I'm not
    sure what was happening with the bid records that didn't.

commit 47a6a88ca0962c71f9aba87d06f5c7a8ccb864fc
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Jul 31 15:36:43 2012 -0700

    Fix cc date validation error
    
    This check was raising a value error if run on the 31st against an expiration
    date in a month that only had 30 days. Now we pick the 1st day of the month,
    which is guaranteed to exist.
    
    Also uses the correct timezone.

commit 0aa9967d8268b24387b961034084d502d1a64bfe
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Jul 31 10:11:32 2012 -0700

    Prevent AttributeError when calling date() in edit_campaign
    
    There have been some None object has no date() attribute errors in the logs.
    Not sure how one of start/end are being set to None and not the other, but
    went ahead and moved the call to date() inside the conditional that checks
    whether both exist to make sure the correct error message gets set.

commit ead23d6a612a2f20e09e5d5a91d8e712350a650f
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Jul 31 06:30:14 2012 -0700

    Raise exception on failure in make_daily_promotions
    
    Makes get_schedule return a list of errored campaigns instead of just logging
    them so they can be handled by the calling function.
    
    Updates make_daily_promotions to first launch as many campaigns as possible,
    then raise an exception with a list of errors at the end. The exception is
    useful for triggering alerts.
    
    See https://github.com/reddit/reddit-public/issues/570

commit fe13fd211468edabb660f8416f48e4e7f4630e34
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jul 25 11:57:23 2012 -0700

    Allow anyone to fetch a subreddit's flair.

commit 3457860b957f078a446fe0ec477aecf17c5f8db3
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jul 31 10:26:18 2012 -0700

    Don't count automatic subreddits against subscription limits.
    
    When getting a list of user subreddits, we'll check if they're
    subscribed to any automatic subreddits and remove them from the mix
    before doing the random selection. Then they'll be added back in. This
    is important to ensure that maintenance announcements aren't missed by
    users because the announcement wasn't in their subset of subscriptions.
    
    On reddit.com the automatic subreddits are /r/blog and /r/announcements.

commit ab13e131703ad23d0b7bcb2cca705f6ba8f39afc
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jul 31 09:26:18 2012 -0700

    traffic: Change top_last_month to sort by pageviews.
    
    We generally use total pageviews more than uniques, so this is a more
    meaningful metric to sort by.

commit aa268840fa9ad79cd512517b87481883b9b106f0
Author: Neil Williams <neil@reddit.com>
Date:   Sat Jul 28 11:20:17 2012 -0700

    Apply domain shame-bans to toolbar framing.
    
    Some evil people are using the toolbar URLs to spam their links and then
    framebusting to ditch the toolbar. This patch makes it so that if the
    framed URL is on a shame-banned domain, the framing will abort and
    return a 404.

commit 482e8644d84b04a39e203935ff7a474fd422d675
Author: Max Goodman <max@reddit.com>
Date:   Wed Jul 25 18:43:21 2012 -0700

    Fire a pixel for UI flow tracking of sub/unsubscribe.
    
    This will allow us to collect information about how users found
    subreddits that they subscribe to. We can use this information to test
    the effectiveness of new ways of discovering and subscribing to
    subreddits.
    
    Specifically, when the subscribe button is clicked, for the current page
    and previous page: the URL, referrer URL, and the type of UI element
    clicked are sent. We'll use this to answer questions like:
    
     * "did clicking on gizmo A lead to users subscribing to subreddit B?"
     * "why did we see a spike in subscriptions to subreddit X today?"

commit 39e3a81c0a10d81610c4bcd67af5cf98be48ca3c
Author: Max Goodman <max@reddit.com>
Date:   Wed Jul 25 13:47:07 2012 -0700

    Include underscore.js.

commit 08eb0dacddbe9f7db0b26adc4f4993ea2e8df953
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 27 11:34:53 2012 -0700

    Make organic box sponsored link help translatable.

commit eb1ccbcd2c92d1c897d55a830b2a7a72c6b530fb
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 27 00:27:16 2012 -0700

    Fix indentation.

commit 9fb5bf4ead28d8be7c938b7bb908933e7992d092
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 27 00:26:03 2012 -0700

    &raquo; > &rsaquo;.

commit d3866c2ee62b2075f28c5a510b8048a5a17fce2c
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 27 00:25:03 2012 -0700

    Fix spelling and grammar in help box.

commit 7416c8379b734016de4d5e5df4727e3c49806e6e
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 27 00:26:54 2012 -0700

    Style help box so "close help" has the same font size as "what's this".

commit da309ce65d862eb4f5fc19cf34182f328189801e
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 27 00:23:02 2012 -0700

    Move "close help" link to bottom right corner to match "what's this".

commit 1c73304fe702cb5d1c9e0c7757918b7247618e81
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 27 00:21:03 2012 -0700

    Remove unused jury duty organic box help.

commit cd845733d213d0548ff5c2fb0def8db1dab3207d
Author: Max Goodman <max@reddit.com>
Date:   Thu Jul 26 22:38:20 2012 -0700

    s/reddits/rules in the footer.

commit 760acab7a49a11ce3c20d4defc83f06c15ff6ef7
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jul 24 17:52:23 2012 -0700

    Hide OTP prompt on /adminon when irrelevant.
    
    If the user doesn't have an OTP secret and an OTP isn't required for
    turning on admin mode, we'll just hide the prompt to avoid confusion.

commit 5d67249d604e8b12039d749be06d2ba16eca6306
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Mon Jul 16 13:43:32 2012 -0700

    Make sr discovery links respect gold user preferences
    
    Subreddit discovery links are basically sponsored links, so they shouldn't
    appear if gold users have sponsored links turned off

commit a2f7a90ddca4d2efcd25ef1cec7279b34b964f8e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jul 26 13:48:58 2012 -0700

    Mis-merged to opensource

commit d7ca88c2e54ab42541199e06406865c130189095
Author: Max Goodman <max@reddit.com>
Date:   Mon Jul 23 17:11:17 2012 -0700

    Remove unused organic_links JS index.

commit d433cb2970a22cb9511293ddfc087429c42d18f6
Author: Max Goodman <max@reddit.com>
Date:   Wed Jul 25 17:42:21 2012 -0700

    Remove production pixel URL from example.ini.

commit 1fe22a147706ea1ab0b52b12f57eba6b383d0a52
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jul 17 14:50:17 2012 -0400

    Reorganize delete and ban.

commit 03d207a6565f7acb187c6b9bbbc12dab55dc2203
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jul 17 14:50:52 2012 -0400

    Small cleanup in admintools.spam.

commit 13243bae1793761dfe9d7be26474e44a040d7d7a
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jul 26 11:00:03 2012 -0700

    Filter out non-existent subreddits from facets

commit 3712464798e3f8cb52211df9e8867d21cdc7a1d3
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jul 25 16:43:15 2012 -0400

    Add before/after support for Details.

commit a552bc858d27775558a448eb36b8224162801227
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jul 25 16:45:28 2012 -0400

    Non-wrapped things deserve to be counted too.

commit bd385dcc962e19143cd8e9297b0d5dfe950b9d2d
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jul 24 19:07:51 2012 -0400

    SimpleBuilder operates on a list of names, no lookups of Things.

commit 8a14c73ae09e7b7c5feb4ef624444cd9bb68017c
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jul 24 14:08:46 2012 -0400

    fix typo in promote.campaign_is_live

commit 6ab04170c59d251f60e95124540ce8edadc3df03
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jul 24 14:08:12 2012 -0400

    is_live_on_sr is more strict

commit 69b6a327be1fe0b269381c273ae9e404be1758d9
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Jul 24 20:04:37 2012 -0700

    Fix traffic display for SR discovery promos
    
    The "Read from PromoCampaign things" change broke the code that causes the
    traffic display to show the past month by default if a promoted link has
    no campaigns.
    
    This change fixes a bug where clicking on "traffic" on one of the subreddit
    discovery spotlight links caused a 500 error.
    
    See: 273c548c7d386126152e96b2bfde1eed2c4f18aa

commit 2ec1e7e69df9e3797eda5c38693aebaf71f32637
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Jul 24 15:28:45 2012 -0700

    Error handling in promote.get_scheduled
    
    Aggressively catches and logs exceptions inside the campaign loop in
    get_scheduled. This change will allow make_daily_promotions to skip over
    campaigns with corrupt data and still launch the others.
    
    Note: We might want to consider passing the list of errored campaigns
    back up to the calling function so they can be handled more noisily there.

commit cbb072c75b0662cd5cc32cdde9bb4208b75049cd
Author: Neil Williams <neil@reddit.com>
Date:   Sat Jul 14 17:23:43 2012 -0700

    Move verification email and password reset tokens into Cassandra.
    
    In memcached there is a chance of the keys being evicted before their
    time runs out. We can mitigate this by adding more memcaches, but that
    has other downsides (such as increased risk of failure).

commit 7560c53464cf416eea9555bfd878ecf6089009ae
Author: Neil Williams <neil@reddit.com>
Date:   Sat Jul 14 17:29:41 2012 -0700

    Clean up minor formatting nitpicks in token.py.

commit c8ea3ce9fa20eb84832c337bfc4fbfee75cc0b86
Author: Neil Williams <neil@reddit.com>
Date:   Sat Jul 14 17:21:49 2012 -0700

    Refactor/rename OAuth2 token model so we can reuse it.
    
    The OAuth2 Cassandra models are a perfect fit for other places in the
    app that need randomly generated tokens.

commit 2f37f2604d3d46c137dc14a24332f9c081f04941
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jul 13 23:04:49 2012 -0700

    tdb_cassandra: Let pycassa serialize timestamp when validated.
    
    Pycassa will do its own marshalling when columns have validators
    specified in the C* metadata.  We need to disable our own marshalling
    when we know Pycassa will take care of it. This is already taken care of
    in the general case, but timestamps are handled somewhat uniquely.

commit 1db68ce6b1d4efa0267661c581395b4a22fcea73
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jul 22 14:03:49 2012 -0700

    Require two-factor authentication to enable admin mode.
    
    This feature can be disabled with the new ini setting
    `disable_admin_otp`.

commit 8dfd73b195080e1c32b93f3e0ec634c19a918fdd
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jul 22 13:57:45 2012 -0700

    Add framework for RFC-6238: Time-Based One Time Password Algorithm.
    
    This provides a system for two-factor authentication, using a compliant
    OTP-generator such as Google Authenticator. The framework includes a
    validator for use on API calls needing authentication as well as a UI
    for provisioning/resetting your secret key. A secure cookie may be
    generated to effectively turn the user's browser into a temporary
    authentication factor.
    
    This feature is currently limited to admins only until full-site SSL is
    available.

commit 529df1b13b070166a262c579fa70308da49728a9
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jul 18 20:08:55 2012 -0700

    reddit_base: Add support for Secure and HTTP-Only cookies.

commit 416922673577a435da97ebacfba192e5d375516c
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jul 22 22:20:33 2012 -0700

    Make profiling transparent and aggregatable.
    
    If the config variable profile_directory is set, ProfilingMiddleware
    will be added to the WSGI stack. The middleware will generate a file in
    the specified directory on each request containing the contents of that
    request's profile.

commit 283c26e2c036867eb26e11a6a8758798477cdec1
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jul 23 13:20:01 2012 -0400

    Messages: Set after parameter to oldest visible message.

commit e48253065d3eb2f1920e242954af794919d9b5b4
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Jul 19 14:04:52 2012 -0700

    Read from PromoCampaign things.
    
    The code has already been dual-writing to PromoCampaign Things. This change
    begins reading from Things while still writing to both Things and the link
    attributes in case we need to roll back.

commit db5260f9ba4f269025bad76c10b25a81d9536071
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Sun Jul 22 19:31:03 2012 -0700

    Default end_date in PromotionWeights.bid_history
    
    Makes the behavior match that of PromoteDates.bid_history, which sets the
    end_date to today if it's not given as a parameter.
    
    This fixes a bug where the function raised an error if the optional parameter
    end_date wasn't provided.

commit 9fa07d98a0c5005f835085d8abee5ec5aa436b2d
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Wed Jul 18 11:16:05 2012 -0700

    Always record trans_id in PromoCampaign things
    
    Gets rid of default values so a data attribute will be saved even when trans_id
    is zero. This change will make it possible to query for unpaid campaigns.
    
    Also gets rid of payment state and makes sure the transaction id is preserved
    even if the promoted link is rejected because this lets us link the campaign
    to the refund in the promo log.

commit bf2d80eec6289cacd0b915813006c1b4ebedf06f
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jul 20 10:18:07 2012 -0700

    traffic: Reinstate averages in weekday summary.
    
    In the previous system, the weekday summary showed the average traffic
    for each day-of-week over the day interval range. The new system was
    just showing the latest week's data.

commit d140e00bcd7fc24be45c6321e5845101db24941c
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jul 18 19:43:33 2012 -0400

    Allow filtering of modactions by deleted users.

commit e2ca4f3d03d815985fdda1b0a30183fc5e9df2e8
Author: Max Goodman <max@reddit.com>
Date:   Wed Jul 18 18:08:46 2012 -0700

    Shorten recent clicks cookie to at most 5 elements.

commit bcbba69a7e06caacfc2fbe87933ea48972d06393
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 17 14:28:57 2012 -0700

    Simplify handling/mangling of should_compile special case.
    
    or: How I Learned to Stop Worrying and Love the Mangling.

commit 07af98ff4f5909a51b909cea6c5c6ac4140410b4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jul 17 15:58:32 2012 -0700

    Make each of the JS files individually responsible
    
    Make will still only build once

commit 149567a797ca7b0f5d6f2ea532294170d27d27f2
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 19 14:52:27 2012 -0700

    Turn off bucket validation to minimize S3 permissions.
    
    boto attempts to validate the bucket when calling get_bucket by doing a
    LIST with zero desired items. By turning off validate we can reduce the
    permissions.

commit e12dbdd046e63740797642a1e14762536fd1fb2e
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jul 18 17:37:44 2012 -0400

    Handle underscores in subreddit names in roadblocks.

commit 52db26df93c43c03a8e5324a3d27d93080ba34a6
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jul 18 13:14:30 2012 -0400

    Handle promotions with 0 clicks.

commit b5812e6fa5aa2def1d1d0139746709a6c41d3dfd
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Jul 17 13:39:03 2012 -0700

    Check for valid campaign when fetching bid history
    
    Occasional rogue promotion weights were causing /promoted/graph to fail. We
    should figure out how those weights are being created in the first place, but
    for now just check to make sure a campaign exists before using it.

commit 6890bb56b12c2ca812c26fa4975e50613a2f8de9
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Mon Jul 16 15:28:03 2012 -0700

    Always show comments for sr discovery links
    
    Fixes a bug where comment pages were broken for new sr discovery links.

commit 05afaf6580e100838c42cda2aee2262d8de8a253
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 17 11:44:20 2012 -0700

    Fix jQuery gzipping in the Makefile.

commit 02db4d60b10919a835bfa5ac502513b0f8336cee
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jul 16 17:59:13 2012 -0400

    Fix typo in VotesByDay.

commit 7015790e98533bc3f8e0130da92c89933148092b
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jul 16 17:56:21 2012 -0400

    Write vote id only to column name for Cassandra views.

commit 6fd201ef37db34f1d425cb7c169d3d2e1ef10107
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Jul 13 16:20:39 2012 -0400

    VotesByComment.

commit 565ae5bb2fc0192efd356abbc49a57c2dc7f7edd
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jul 16 16:19:37 2012 -0400

    Only show "view live" link on current live campaign.

commit 42319801c34942edab4a08ae8e7b9c9b3500b889
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jul 2 16:58:55 2012 -0700

    Get more comprehensive list of needed subreddits in ModAction.add_props.
    
    Links that had been taken down for DMCA compliance (and therefore moved
    into the takedown subreddit) were breaking modlog because the takedown
    subreddit wasn't in the list of subreddits to look up.

commit 5edadcb20a5ef2d790707bf16e16ba4b87c22116
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Jun 29 14:09:59 2012 -0400

    Use weight instead of bid when scheduling campaigns.

commit cce5c1c8e187fc49a9a174eb7c359a53a33b167c
Author: Neil Williams <neil@reddit.com>
Date:   Sat Jun 30 19:12:09 2012 -0700

    Add reddit-stop event to upstart jobs.
    
    This allows us to quickly turn off every reddit-related process on a
    system.

commit d4661ad89b19cdf61ae9041fdaf7bf3ebc6c204b
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 29 10:45:54 2012 -0700

    Add upstart job for putting subscriber stats in traffic db.

commit aff7c460aa04039b6819f28333d3ef1d5f113cd6
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Mon Jul 16 02:23:04 2012 -0700

    Fix query for fetching promotion schedule by user.
    
    The general query worked fine but passing an author_id raised an error.

commit 7abbac6e257f29080d4d926be625900c39223a31
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Fri Jul 13 11:18:54 2012 -0700

    Show traffic for manual promo
    
    Defaults to showing traffic for the last month if a promoted link doesn't have
    any campaigns associated with it. This will make it possible to see stats for
    manually launched promos like the subreddit discovery links.

commit 5928add7c252f5f690973c277086097281431dd4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jul 13 11:55:15 2012 -0700

    Fix facets in Opera

commit 16c753096cd33980d6099fdfd9c81489c25c1c02
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jul 13 11:45:34 2012 -0700

    Use a raw string for the related_replace_regex

commit 8d276592ce7ec07bfd1b53edff62043cc5e5d93e
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jul 15 11:58:13 2012 -0700

    Update .gitignore for renamed generated strings file.

commit eac376c02bc204bab30d94800a1ddf83771b8761
Author: Matthew Robertson <matthewrobertson03@gmail.com>
Date:   Sun Apr 29 18:30:11 2012 -0700

    Ensure video stops playing when "hide" clicked.
    
    Fixes reddit/reddit#233.

commit 412b1c3e558fcd8932370ec10144e215a544ef97
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 13 12:42:41 2012 -0700

    Tighten up cssfilter bg-gradient regex to prevent inner rules.
    
    Thanks to listen2 for disclosing this issue.

commit 9cd5fed51d31b1387e505e8a3c867e61c21e2ea3
Author: Neil Williams <neil@reddit.com>
Date:   Sat Jul 14 09:29:45 2012 -0700

    Add traffic to example.ini.

commit 0c4b64ee3b29cf7040ba2136f0fa950b493342fd
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jul 13 10:45:22 2012 -0700

    zip_timeseries: Handle descending *and* ascending data correctly.
    
    The previous fix broke promoted link traffic which is ordered the other
    way.

commit 251f0f310ba34cf42b649d115e2998c70ce4a1ee
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 12 22:06:34 2012 -0700

    traffic: Reinstate JSON access to subreddit traffic data.

commit 6352fedad6c0dd75c3521584c1ebc03b30421c0f
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 12 22:02:41 2012 -0700

    traffic: Darken the green graphs for color blind users.
    
    This should be a bit more color-blind friendly as it's high-contrast.
    
    Additionally, I've changed the name of the variable to something less
    tied to the contents of the variable, as I really should've known better
    from the world of CSS classes.

commit 9db5a52743b2627097c152f90d526e3274fb7757
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 12 23:00:36 2012 -0700

    Show subreddit public description on private subreddit 403 page.
    
    This allows moderators of private subreddits to explain why it is
    private or how to request access (or simply that you shouldn't and
    should go the hell away.)

commit 649a56a06f1a460b9c7259f216209ca60add0763
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 12 22:46:17 2012 -0700

    Truncate sidebars when used as description fallbacks.
    
    There's been enough time to add proper public descriptions and the
    remaining gigantic sidebars are an eyesore in subreddit listings.

commit cbadd98a85776d508c14dcacad12ed7e6ffe2b40
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jul 13 09:20:29 2012 -0700

    Add text to search page button

commit a07741f31a701b1ea3dce2c4322dd4877f09ea72
Author: Maxime Rouiller <angelzerosoft@gmail.com>
Date:   Thu Jul 12 15:31:07 2012 -0400

    Added padding to the search button

commit 9bd9a43da8809ec62f135c22cec093afc4ef34ad
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jul 12 16:52:02 2012 -0700

    Fix issue with unicode in search facets

commit f4d738060e6fb709a302391d10cbe9bed0a3d477
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jul 12 16:49:35 2012 -0700

    Remove duplicate in INVALID_QUERY_CODES

commit af0dbe5b66f19f00700786f62e20fa88efd56ca0
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jul 12 16:48:28 2012 -0700

    Don't show NSFW links in the related tab unless the Link is marked NSFW

commit 45d86810d812b553c28f5fdea98435695515529f
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 12 19:10:01 2012 -0700

    traffic: Use max instead of min to calculate current slice.
    
    zip_timeseries works *backwards* through time so min was getting
    the least-correct time.

commit 94945f7341751bc061e302aeda2bddec0e0fa845
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jul 2 13:37:47 2012 -0700

    Overhaul traffic pages (and update a few self-serve pages).
    
    * Upgrade flot and include the new timeseries flot plugin.
      (flot/flot@ca050b26c23672c6a1ca34f2dfc49557f9e6ea6c)
    
    * All times mentioned by traffic are now in UTC, not "local."
    
    * Traffic data is generated as actual tables and JavaScript
      generates the Flot charts from the tables for accessibility.
    
    * Many pieces of traffic data that were only accessible from the
      old traffic app are now moved into the reddit app.
    
    * Traffic backend lag time is indicated on the graphs for clarity.
    
    * Use excanvas with Flot instead of Google Charts for old-IE fallback.

commit 6a2c4afcb296b60aaae3e8480c6af8d95ac0dff3
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jun 20 10:58:31 2012 -0700

    Directly access traffic database for traffic queries.
    
    Traffic stats are currently pulled from the traffic app, which is a
    separate pylons application, via HTTP requests. This patch eliminates
    the dependency on that extra app by moving the queries into the reddit
    app while maintaining the existing API near-verbatim. This allows us to
    ditch the external traffic app.

commit 49f688df106ce8d8a0347248ad7de9078802bf2e
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jun 20 09:59:55 2012 -0700

    Add basic sqlalchemy model of traffic db schema.

commit c9d98fc729c8abc334cbe075e54787eb739092bd
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Apr 24 13:34:05 2012 -0700

    Whitespace cleanup in routing

commit bcac6403692ee13f0981ae88960b8eaf07aa6b77
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Apr 19 17:39:10 2012 -0700

    Add a /rules page

commit 82ee08fc5d300eca1d3edd6ae4786239f1db4ef3
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jul 11 13:48:11 2012 -0400

    Clean up in POST_del.

commit 7afd3eb5b662991a21614590be2f94528b00978a
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jul 11 13:45:45 2012 -0400

    On deletion remove links from unmoderated_links.

commit 23bb2f16fa090a06a0695488efe9e70fa0b286a8
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jul 11 13:00:24 2012 -0400

    Run queries.ban on all spam things so spam_filtered will update.

commit c012ff81c8b579d40d4677ed6d1042f3b102037d
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Wed Jul 11 14:45:11 2012 -0700

    Enable subreddit discovery spotlight ads
    
    Checks to see if there's a field called sr_discovery_links in the .ini file
    and, if there is, mixes those links in with rising links in the spotlight.
    Promoted links are still inserted as before.
    
    Example of what the .ini file entry would look like:
    sr_discovery_links = t6_hq, t6_hr, t6_hs

commit eaa3b808d19bc1769478901265b33c1256999ff7
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Wed Jul 11 09:11:41 2012 -0700

    Fix "what's this" help link in spotlight
    
    When the user clicks "what's this?" we query the dom with .thing:visible to
    find out what kind of link is being displayed so we know which blurb to show.
    However, we were calling hide() on the link before doing the query, which
    meant it didn't match the .thing:visible filter and we were always falling back
    to the default.
    
    This fixes a bug where we were showing the rising links help blurb when the
    user clicked "what's this?" on a promoted link.

commit fa629e92c9c81f3056e3076c30c3ea737b815575
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jul 9 14:01:30 2012 -0700

    Show reddit search "facets"
    
    If search results contain hits from more than one subreddit,
    the top 20 will be selectable to click through and narrow
    results

commit 3c0c27fab307df0c3e1fa5ea568f250d9343e509
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jul 10 15:27:50 2012 -0400

    Don't use self.totals if it doesn't exist (day traffic issue).

commit ba7e3516e48e3148b60326db1864b3d67aa813c8
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jul 9 19:31:22 2012 -0400

    CL ONE for ModAction lookups.

commit 9b9db8fb12252f39ef1fcd2754f12bc9e6be42eb
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jun 26 16:48:08 2012 -0400

    Add subreddit query for unmoderated links.

commit 6db4e82ac8f6268da9b6d3b862ff12458afc67e2
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jul 9 11:48:12 2012 -0700

    Use CL ONE for Cassandra Save/Hide lookups.
    
    Looking up saves and hides generally results in a big multi-get that'll
    end up hitting most of the ring. During load spikes this is a big issue.
    Let's try reducing the CL to reduce load.

commit 9ed1f8cc0f3bae86679a4896b5f440ef848d96f9
Author: Jonathan M Tran <jonathanmtran@about.me>
Date:   Fri Jun 29 10:26:54 2012 -0700

    Fix for error 500 being thrown at registration

commit 1f951aadc021dd2c3448fbbe70098ab5bfd9b80d
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 30 22:44:13 2012 -0700

    Gracefully degrade when cassarel lookups fail.
    
    The relation lookups currently do a multiget that will likely end up
    hitting every node in the ring, until this can be fixed they are very
    susceptible to load spikes. Rather than losing the whole request and
    returning a 500/YBR to the user, if one of these lookups fail, we'll
    just plow on.

commit e2f3dba37fd609bd9a40f85963b92cbc4c2cd322
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jul 8 18:12:04 2012 -0700

    setup.py: Ensure webhelpers==0.6.4.
    
    Newer webhelpers packages cause issues with Routes.

commit 4ba3b6683455c862d3cfd479733c42c5a2d241a3
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jul 8 18:01:05 2012 -0700

    setup.py: Add missing lxml dependency.
    
    filters.py depends on lxml. This dependency was missing.

commit f50bab028dcb6708def6902b00a371f7b63fd961
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jul 8 17:34:25 2012 -0700

    setup.py: Gracefully handle when Cython is not installed.

commit dc10f7cedfb87090d822fe148c53aea535a0952f
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jul 8 17:30:39 2012 -0700

    setup.py: Add temporary Pycassa 1.7 download link.
    
    reddit relies on pycassa/pycassa@91a5887defc732a87fb8ad8667220d30698f7d33
    but at time of writing there still isn't a release that contains this
    patch. Until that's available, we'll add a custom download link.

commit 60004f2ad58e2b820d1893bdc8cefd79d988ee01
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Fri Jul 6 14:31:36 2012 -0700

    Fix encoding and do escaping in authorize.net xml
    
    - Escapes &, <, and > except in extraOptions tags, which need to allow special
        characters
    - Encodes string as UTF-8 before sending it over the wire
    - Replaces xml entities in responses with the correct chars
    
    This change should fix some of the 500 server errors people were getting when
    they had unusual characters in their payment info.

commit 77ba2db3fe0661bed9622971c3113e018cfc2652
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 5 23:01:14 2012 -0700

    Make POST_hide only allow Links through VByName.
    
    Someone has been sending Comment fullnames to POST_hide and that
    results in an error on our side and a 500 for them. They really
    should be getting a proper error message back instead.

commit 85f6b2a5c7bb9578a30782931055c5b236bab4b6
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Jul 5 15:27:14 2012 -0700

    Validate lengths of self-serve payment address fields
    
    Fixes a bug where customers were seeing a 500 error if they entered an address that was too long.

commit dd96155bcefe1459eba59272fe06e60255760105
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jun 28 13:57:04 2012 -0700

    tdb_sql: Optimistically do UPDATES and fall back to INSERTS.
    
    Doing a SELECT on the data table to determine which keys already
    exist was adding too much extra load to the Account master. This
    attempts to alleviate that by optimistically trying an UPDATE and
    if no rows were actually changed by the UPDATE, doing an INSERT
    instead.

commit 7118bde4725f364b7ccbfd05628aa760c3dcb9b8
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jun 27 13:27:02 2012 -0700

    Turn CNAMEs into a simple redirect.

commit d0102d6a3c0fdd29ab81ebd7ba21ddb3df9e9bc1
Author: Andre D <andre@andred.ca>
Date:   Wed Jun 27 18:46:33 2012 -0500

    Compact navigation menus were sometimes losing subreddit

commit 38d792a6a7fcfccc8dca2f083f61fb1c9f6833db
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jun 27 23:49:29 2012 -0700

    Make sure to actually check CAPTCHAs on submit.

commit fd4662a34b4707b88f7d85faf171917264990c26
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Wed Jun 27 09:35:02 2012 -0700

    Make is_charged_transaction safer
    
    Returns False immediately if trans_id is 0 since this value means no record has
    been created and therefore the transaction can't have been charged.

commit 6f9f91e7534db713d2bdd199ededd00598adccc1
Author: Andrew Shu <talklittle@gmail.com>
Date:   Wed May 23 08:02:11 2012 -0400

    GH-407: "obey_over18" parameter to enable filtering of NSFW posts via API

commit 13feb89274bc8a21e40518a25b6ecadb7f4a9b53
Author: Edho Arief <edho@myconan.net>
Date:   Wed Jun 13 07:02:52 2012 -0700

    Also scrapes https pages.

commit 64d068529e07a13b46a532a1795b54cae384d779
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jun 20 19:45:14 2012 -0400

    whitespace

commit e34c91205affedeb20d73cbc653a818f271c19f6
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jun 19 18:38:08 2012 -0400

    Put link to tear sheet on edit_promo page.

commit 4e9e07b89603495745b256e6d0c43fc1a37a75aa
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jun 19 16:29:50 2012 -0400

    Add parameter to HotController to force display of a promotion.

commit ce508b5d235f4ab88bd754b53a0d05b11c88b54a
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jun 25 14:15:10 2012 -0400

    Add promote function to determine if a promotion is live.

commit 7529c509b7e10555c7ba0bacd476bab4ab1b24b9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Jun 20 19:14:08 2012 -0400

    Reorganize promote.
    
    Functions charge_pending and get_scheduled used accepted_iter
    decorator thing which obscured what they were doing. Removed unused
    function get_scheduled_campaign.

commit c215726f6e62904762a70802601aaac65a11dfad
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 25 10:39:43 2012 -0700

    Add stats events for spam-related stuff.

commit 8da619dc1fc31e4df8c195dade2440a1e5a1ad85
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 25 10:15:14 2012 -0700

    Add stats.simple_event for simple stats counter increments.

commit 695b10f2426d0d9ee66873581f4921eaf110a261
Author: Neil Williams <neil@reddit.com>
Date:   Sat Jun 23 17:16:15 2012 -0700

    Add an AMQP message when composing.

commit a68269176d536fb0bb2113fb2f385364f3ee4fe3
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Jun 21 19:28:36 2012 -0400

    Create a single ModAction when using flaircsv API.

commit 91b7856cb14f5ff5d5c4cda02649e20e299b3340
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jun 18 14:12:22 2012 -0400

    ModContribSR inherits from MultiReddit.
    
    Now has get_all_comments method.

commit 1969aee17001edb480d13d7fc98c8f128f63ec8b
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jun 14 14:01:46 2012 -0700

    Don't write Liked/Disliked timestamps.
    
    We'll just use LinkVote instead. It'll be slightly
    inaccurate for one of the two, but it'll be easier
    to maintain.

commit d9e9507b92f91b5df87e9ea24e7040c9b01b31e6
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jun 12 14:44:08 2012 -0400

    View method to return columns sorted by timestamp.

commit 05f4028bce905080df532eb61e075be173f21100
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue May 1 09:19:44 2012 -0700

    Display comment's link, author, subreddit on editreddit listings.

commit d0504d3848a90699a74636b536b82e654abe3209
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 25 15:09:56 2012 -0700

    Fix SpotlightListing to save max_num for spacing calculation.
    
    The max_num property is used to calculate the width for the .rank
    element so that listing items line up. This was getting overwritten by
    Listing.listing(), causing the spotlight items to not line up with the
    rest of the page.

commit aedc271b15e914869254295b3f6f945a03864cee
Author: Max Goodman <max@reddit.com>
Date:   Sun Jun 24 21:25:10 2012 -0700

    Make next/prev buttons prettier and larger targets.

commit b78b43bb602ae497f701057f2756b089dd247076
Author: Max Goodman <max@reddit.com>
Date:   Sun Jun 24 20:36:20 2012 -0700

    Line up spotlight box content with main listing.

commit b20c08049119ec0cd59b70f78131a3c9943282cf
Author: Max Goodman <max@reddit.com>
Date:   Sun Jun 24 20:57:57 2012 -0700

    Fix clipping on compressed link vote arrows.

commit d579592ea7bb98deabae03763b1aab346af37a1c
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jun 21 15:37:07 2012 -0700

    Track in graphite new Cassandra connections being opened.

commit 42c4e91f3a5cfbdab5c14fa250286681be13fdab
Author: Max Goodman <max@reddit.com>
Date:   Tue Jun 19 14:41:36 2012 -0700

    Redirect old-style link details page URLs.

commit ce6b2ca6b1b69fd0624b62a9f452dce04333169a
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 18 14:55:37 2012 -0700

    Version hosted jQuery file.

commit 499f0ad010f5f23fe54725fc75f6fb753bd0a498
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 18 14:37:49 2012 -0700

    Upgrade to jQuery 1.7.2.

commit 76c546f521013e8104101704316f271e72c64ca2
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue Jun 19 14:57:29 2012 -0700

    Use default traffic weight when there's no data
    
    Returns the default weight of 1 if there's only one day's worth of traffic data
    since otherwise the weigh function would throw a divide by zero error.

commit 35445f11946734a324e1cd999471befd1365eba7
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jun 7 12:19:29 2012 -0700

    Remove ip_and_slash16 which was causing issues for IPv6.

commit 26021aff5c01436647f1e765b62be9ad6925bb2d
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Wed Jun 20 10:31:18 2012 -0700

    In payments, make NO_TRANSACTION the only special transaction code
    
    trans_id > 0 is used to identify an authorize transaction in many places in the
    code and trans_id < 0 is used to identify freebies, so for now the only
    "special" code is 0
    
    (Also fixes problem with mark_payment_error since ERROR wasn't in the Enum)

commit 963bbbc05ac433ec6f2ca72b536bc44495500f9e
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jun 19 15:44:27 2012 -0700

    Ack, remove double header on functions.sql.

commit d8df30480ad50d921b357193cf6748a066d0291d
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jun 19 15:34:41 2012 -0700

    Update LICENSE.

commit 914b949286669a3229fd8c0aea07cf9477a2e7b3
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jun 19 11:58:53 2012 -0700

    Update / add license headers.
    
    I'm actually quite excited to do this.

commit ab3bde16e986b7482ed7ad0d5e8c32c42372c949
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 18 18:18:07 2012 -0700

    Remove some unused files.

commit 51376aa069fb2d942cdb8d12e0ab41d3c5323b6e
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 18 17:03:56 2012 -0700

    Remove unused recommender engine.

commit 703c2c43d7a6d4633dd5a6f7d715c2a80361c0a3
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Mon Jun 18 14:19:19 2012 -0700

    Let campaign go live immediately after approval
    
    Now, if a campaign's start date has already passed, it will go live immediately
    after approval instead of waiting until midnight the next day.
    
    (It seems like this was already the intended behavior, but
    make_daily_promotions() was having no effect because it only loads campaigns
    that have already been charged.)

commit e40f390bc075ae86fabcb99bcc8cb680d793c1aa
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Sat Jun 16 15:32:57 2012 -0700

    Update regexp for authorize duplicate customer error
    
    Fixes the following bug:
    A user was unable to authorize campaign because clicking Pay raised
    an exception.
    
    Cause:
    The user's record was missing from the authorize_account_id table. Our code
    has some logic to parse the customer id from the authorize error response when
    this happens and rewrite the record, but the regexp was out of date.
    
    This change updates the regexp to match the current authorize.net error msg
    format and logs some info to make it easier to catch the problem if the format
    changes again in the future.
    
    Note:
    - Why would a user record be missing in the first place? Should be looked into.

commit 62aecb9acc8aa0888671d703238b1ffdba75edf9
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu Jun 14 14:04:52 2012 -0700

    Record trans_id for freebies in campaign things
    
    Initial campiagn Thing writes were recording an enum value for freebie
    campaigns but it actually is useful to include the transaction id (which is
    negative for freebies) because it references the freebie's record in the
    bid table.
    
    Note: This commit also includes a one-off script for fixing the trans_id
    in existing campaign things.

commit 768a664df8c1bcddca61fad5e916e805ffb7520a
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jun 18 22:47:10 2012 +0100

    Add another invalid search query code

commit 10301188aaac5767b450615e6319cd6ccd82260d
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jun 18 22:38:45 2012 +0100

    NoneType has no attribute promoted

commit bba4097d6b2e31305d0e351fcd403387f2cffc49
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jun 18 21:27:23 2012 +0100

    Remove invalid/completed TODOs

commit 973005d2df08720ca0dac4804870feb236d769ab
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jun 15 16:37:16 2012 -0700

    Remove references to deprecated Solr index

commit 3a6f9e6011f3de692c99e5008fbed1f3480a91ad
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jun 15 13:39:32 2012 -0700

    Stop sending updates to Solr

commit e8a358008f46a066045d67577ed01914e662beff
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 18 14:25:25 2012 -0700

    Add mailmap to simplify commit history.

commit 53fa7e3c5fb30b65f044e099ce9feaa2049ed8c6
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 18 14:12:40 2012 -0700

    Clean up and reorganize .gitignore.

commit 165cd3c62e610d7832d78370c5296821599017aa
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 18 13:36:06 2012 -0700

    Delete old scripts, daemontools run files, and configs.
    
    NOTE: if you're using an old-style install with symlinks to any of these
    files, please make sure to copy them out of the repo before merging this
    commit.

commit 29e579e078fa2bceb267982c39c7ab06d38365c8
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 15 22:54:10 2012 -0700

    Clean up r2.lib.helpers and remove unused dependency on webhelpers.

commit 55edce8fdaa331c262626a1f7c22ad114d55fcaf
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 15 19:40:34 2012 -0700

    Clean up a bunch of imports.

commit 6b821480ab205ab4b274c95fd0a94d35f56c75ae
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 15 22:30:57 2012 -0700

    Remove some unused modules.

commit 5bdf1d4f64e071698d913ebc64ccf323029821b6
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 15 22:30:01 2012 -0700

    Replace references to deprecated md5 module with hashlib.

commit c9c65dd323b06455e7e0e8b2d7313db69950a6b2
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 15 22:27:28 2012 -0700

    Replace references to deprecated sha module with hashlib.

commit f3ef607f0229c683ad9736515a617e11693c34a9
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 15 19:19:07 2012 -0700

    Clean up debug middleware.
    
    * Only add debug middleware to chain when debug is set.
    * Remove source check middleware (just use an external validator).
    * Make profiler return a profile object that can be examined with
      external tools such as KCachegrind.

commit af83c556f21ecdba4522a2b1f71bfb716f8fb3e0
Author: Andre D <andre@andred.ca>
Date:   Wed May 23 12:29:46 2012 -0500

    Ensure userlist is associated with it's own json template

commit 5f122af0d40e850fcdbf849860d4e04c61b12da7
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Jun 14 17:21:01 2012 -0400

    Add promoted listing to profile pages.

commit f600449be56dfc0bcbac6de0055e567691826e6e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jun 15 14:07:33 2012 -0700

    Update wording on moresearchinfo div

commit fc51afbe0780b2e652c815abd7ee1c4fb9015644
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jun 15 14:02:56 2012 -0700

    Add mapped fields to LinkSearchQuery parser

commit dd2354c84afb616fe751cf7ea3b8db3ad0eb825f
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jun 15 11:18:33 2012 -0700

    Whitespace changes in GET_search_reddits

commit 659f0801cc23bf58f58670608b5edaa7433024f4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jun 15 10:40:39 2012 -0700

    Some subreddits incorrectly filtered from search
    
    Don't remove Subreddits whose creators deleted
    their accounts from the search results

commit 6e301e220d7acf6c71f8d78cb9d468f277dbd65c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jun 14 14:26:19 2012 -0700

    Add l2cs to setup.py

commit 5af757ca87c4a92053a0ae553f5506ffbca886bb
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jun 14 14:29:04 2012 -0700

    Re-add flair indexing

commit 213dd1e0dfb7fdd67c216cb470069fca7f9ef0b0
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jun 14 11:40:34 2012 -0700

    Add CLOUDSEARCH_SUBREDDIT endpoints to example.ini

commit c9244b5335444cc9a579a0dbce7fb9d7ab287ed9
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jun 12 15:26:00 2012 -0700

    Fix unicode consistency issues with some searches
    
    Some "related" queries and subreddit searches were
    not playing nicely with unicode

commit 49b39adeb82cce16e397d9185735ad6af1a36bd5
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jun 12 16:05:54 2012 -0700

    Some link flair updates weren't triggering search uploads

commit 1a3e1dd2a610c77b619cd1f0afebc91ae994248f
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed May 16 11:14:24 2012 -0700

    Make unedited link taglines still translatable
    
    In the process, move taglinetext logic to a python file

commit 7bc9df1148ab9c079c63277ea9b0188328263270
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed May 16 10:58:28 2012 -0700

    morechildren log notice should notify less often
    
    Now only notifies if user exceeds the "1 request per 2 seconds"
    rule in a 30 second period (i.e., 16+ hits in 30 seconds)

commit 3b1ef62c854dcd025a7d0fee0783b1afb0477b11
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Apr 11 16:05:14 2012 -0700

    Try using new search for 'related' tab

commit a8d55dd77a410251b6306fee8453be1827897e49
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Apr 27 12:10:31 2012 -0700

    Set ratelimits on subreddits

commit 2f56f97713cbdd20ef14ca355789671b0f5f6360
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon May 21 20:34:25 2012 -0700

    Migrate Subreddit search to Cloudsearch
    
    This expands upon the upload code in cloudsearch.py
    
    cloudsearch.py's classes and functions have been refactored
    to support multiple indices based on different objects.

commit de7c46e4f47ee500036944a845ff5f6008941556
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri May 11 15:02:39 2012 -0700

    Revert "Update the search box dropdown with new syntax"
    
    This reverts commit f2c4abf38b6bfd98c34c32956f7b4559883f8f22.

commit 27c31666f3448264da9cd42a455ffb52437376c5
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri May 11 14:41:28 2012 -0700

    Use lucene syntax for searches
    
    This uses the l2cs python library to convert
    search queries written in "lucene" syntax to
    Amazon's CloudSearch syntax
    
    A mouseover blurb on the search results page
    shows what the query was parsed as

commit 2243af730676066452fcee419b6e8c8a91eb8dcf
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 11 13:31:17 2012 -0700

    Clean out dead last-modified rel code.

commit aeb0d3bb7a457207eb2413e70b50eb3df3fbf10b
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 11 17:46:10 2012 -0700

    Add AMQP message for new accounts.

commit cbadfdd0c2b9193ba39c5f485a0aaf23be7c2fed
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 11 16:25:33 2012 -0700

    Add AMQP message when usertext edited.

commit 9e47bb6db7018fbee0f0aaa942d897e2d8c23628
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 25 10:55:21 2012 -0700

    Dual-write last modified for user page listings.

commit fa1a0652498a0fec5a008351696c10fdb42db83a
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 25 10:43:39 2012 -0700

    Dual-write last modified timestamp for comments pages.

commit 66d0d4f6276565500ee0f8317dd42034aa4d86e6
Author: Max Goodman <max@reddit.com>
Date:   Thu May 31 17:11:17 2012 -0700

    Move https buttons to S3 for now.

commit 491e91f0193c02ca364f1feb263bcd5901471ffd
Author: Max Goodman <max@reddit.com>
Date:   Thu May 31 17:10:29 2012 -0700

    Switch button static file references to use relative URLs.

commit 8b4f584f7637552a3f24907b29c7a6bb2fcc5c26
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 11 18:25:34 2012 -0700

    Move plugin Makefile extensions to Makefile.plugin include.

commit cdd8177622daabf5169b7154700c492c10cb99a9
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 11 17:43:10 2012 -0700

    Speed up Makefile by combining python portions.

commit c20ca4e5d545b27b2c61d4c0fe6537430bd7d6cc
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 11 13:31:51 2012 -0700

    Remove mangled js output symlinks.
    
    Fixes issue with JS files / names falling out of sync.

commit ea9d33177c40352655190206ada3cd8f870bf677
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 11 11:55:01 2012 -0700

    Clean up plugin static buildstamps when make cleaning static.

commit 2f47f89566a43c3a355f83e9d5cf69c35104e03a
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 11 11:49:01 2012 -0700

    Move api extension utils to r2.config.extensions.

commit 473ee2c9bbf46f561cd246e2711b77496537e434
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 11 11:23:32 2012 -0700

    Move ConfigValueParser into its own module
    
    This enables plugin __init__.py files to import ConfigValue without
    app_globals and its dependency on pyx modules.

commit b90e55a59fff5cedb70e62adfc2debc1de1bce49
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 11 11:23:06 2012 -0700

    Remove pyx-dependent imports from r2.config.

commit 6a861eb17da16c9bd1e9294864a58352ff405889
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 6 17:00:04 2012 -0700

    Add def catch-all to NullJsonTemplate.
    
    This fixes AttributeErrors when trying to render about pages as .json.

commit 7468c1bbb87305ea60cddb1c386dc307870ec8d9
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 6 01:24:31 2012 -0700

    Add "learn more" link to first visit text.

commit d5207abafce636bf43bb7585404387f8ffe5c371
Author: Max Goodman <max@reddit.com>
Date:   Fri May 18 10:09:50 2012 -0700

    Add about pages to the footer.

commit 37e0cecddcf75e85b1b60d11f7d82dbfa54ed2af
Author: Max Goodman <max@reddit.com>
Date:   Thu May 17 12:18:41 2012 -0700

    Whitespace.

commit 95171cc0e0c757a9e60eea1bda0af028ffaf826f
Author: Max Goodman <max@reddit.com>
Date:   Thu May 17 10:40:41 2012 -0700

    Revamp controller lookup to be case insensitive and thread-safe.

commit 1ebddc5185f819def2ba5c2ccfd994307ec6b264
Author: Max Goodman <max@reddit.com>
Date:   Sun Feb 5 00:14:11 2012 -0800

    Add _md template util for translation of complex text.
    
    Added whitespace disabling wrapping around md with wrap=False -- this
    should have been in the original commit that added the wrap argument.

commit e28541d4888ed8318ef57ca07d58aa21f191e68c
Author: Max Goodman <max@reddit.com>
Date:   Fri Feb 24 15:16:09 2012 -0800

    Use a css class to hide the selected dropdown choice.
    
    This makes JS dropdown implementations simpler since they have all of
    the choices in the DOM.

commit 222ff247e3a1e482af7acdc4c6db8f28a3e3f29a
Author: Max Goodman <max@reddit.com>
Date:   Wed Feb 8 11:57:01 2012 -0800

    Move comment link label generation to a def for reuse.

commit 7d219b64ef6adec01049b469fe5d6027ba308160
Author: Max Goodman <max@reddit.com>
Date:   Thu Feb 23 11:18:02 2012 -0800

    Allow a top level id to be specified for the page content div.

commit 77b98d63ba1fafbd505fb1aa31609f58b148aa40
Author: Max Goodman <max@reddit.com>
Date:   Thu Feb 2 11:56:51 2012 -0800

    Move <link> and etc. tags out of stylesheet() template def.

commit 4994c93652926ef00ee1b04c7509a39508fdbe0b
Author: Max Goodman <max@reddit.com>
Date:   Tue May 15 17:45:05 2012 -0700

    Add static domain middleware for testing compiled CSS.
    
    In production, static files are located in the root of the static file
    host. On a local reddit install, they're only available in /static/.
    This middleware allows you to test the production static files layout in
    a development environment.
    
    If debug=true and uncompressedJS=false are set in the ini, this middleware
    simulates a static files host by prepending /static/ to the URL before
    handing the request off to the static files app.
    
    To use this for testing purposes, add an additional domain alias like
    redditstatic.local to your hosts file and set static_domain in the ini.
    Compiled static files will then load from the app using this middleware.

commit dcb85c6d22a88c9011799aa0675c5d59a7e65bf4
Author: Max Goodman <max@reddit.com>
Date:   Tue May 15 16:58:29 2012 -0700

    Add prefix helper to js Module() class.

commit f48eb3bf314805433d381ba3f034dcd10b83d69e
Author: Max Goodman <max@reddit.com>
Date:   Tue May 15 16:57:50 2012 -0700

    Locate, build, and merge plugin statics in the Makefile.

commit 4730deeca816578c33be4bfaa16cb99e3f546726
Author: Max Goodman <max@reddit.com>
Date:   Tue May 15 16:57:22 2012 -0700

    Build plugin JS in js.py.

commit fbece1d1830f932df26ec6e01ccd533c1039d533
Author: Max Goodman <max@reddit.com>
Date:   Tue May 15 16:51:51 2012 -0700

    Tweak js module buildstamp names so they sort together.

commit 619bcdc4a200602947ad878922d5435db76ba242
Author: Max Goodman <max@reddit.com>
Date:   Thu May 10 17:42:41 2012 -0700

    Compile static files in build/public/static.

commit 3c8160a00d827d0c50730a63a2360dd2008fcad0
Author: Max Goodman <max@reddit.com>
Date:   Thu May 10 17:41:51 2012 -0700

    Reorder ConfigValue parser arguments for standalone use.

commit 47e559495bd16d70262dc82799f3354a346611a7
Author: Max Goodman <max@reddit.com>
Date:   Thu May 10 18:49:27 2012 -0700

    Cleanup mangled files completely.
    
    Static file mangling now renames files to their mangled form and
    symlinks the original name. This cleanup rule deleted only the mangled
    names, leaving broken symlinks. The quick'n'dirty solution is to clear
    out all of the mangled and unmangled filenames so we don't leave things
    in an inconsistent state.

commit 83d616416d2d664838fe9b80f1e595114695a22b
Author: Max Goodman <max@reddit.com>
Date:   Sun Apr 8 13:49:06 2012 -0700

    Add plugin config spec handling.

commit ac325131107b8c4051e242fe2f8a32ddde82839d
Author: Max Goodman <max@reddit.com>
Date:   Thu Feb 2 11:58:14 2012 -0800

    Add support for already-minified modules to js.py.

commit 74e3bccae479483d0adeae96926bc9c915d7a848
Author: Max Goodman <max@reddit.com>
Date:   Wed Feb 8 16:54:03 2012 -0800

    Add on_load method to plugins.

commit f0f7989299b67e12cbc80eea3d887b311dc293a7
Author: Max Goodman <max@reddit.com>
Date:   Thu Feb 9 14:22:07 2012 -0800

    Allow plugins to add and extend js modules.

commit aaf751ab48ac94e72bb92d11a13cc43aa0cc9c46
Author: Max Goodman <max@reddit.com>
Date:   Thu Feb 9 14:09:10 2012 -0800

    Fix STATIC_ROOT determination for standalone js.py usage.
    
    Also, remove import-time dependency on pylons.g.

commit 93967771ec97a329a4ef572aa69a86254052e6e1
Author: Max Goodman <max@reddit.com>
Date:   Wed May 30 14:28:02 2012 -0700

    Add convenience g.plugins reference for PluginLoader.

commit 0332d0ca5566102b4eba6f04a660ed3f0b7e62bb
Author: Max Goodman <max@reddit.com>
Date:   Tue Feb 7 12:26:30 2012 -0800

    Fix import loop and move plugins collection into its own class.
    
    Loading plugin controller modules at the bottom of
    controllers/__init__.py led to a circular dependency. Registering
    controllers via decorator allows controllers/__init__.py to load
    completely before plugin controllers are loaded.

commit 0412e87cb896cf20cbe02243dd2c43d72f83b75d
Author: Max Goodman <max@reddit.com>
Date:   Wed Jan 25 11:57:15 2012 -0800

    Add plugin static file apps to the middleware.

commit 300564b43edae9ecd33764b4117f28a68e1ce000
Author: Max Goodman <max@reddit.com>
Date:   Mon Jan 23 22:04:21 2012 -0800

    Add basic plugin support.

commit c5259c882e2069faad32bdf7cc0c47e5b2c9f9b3
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Fri Jun 8 12:36:10 2012 -0700

    Error handling in promotion summary
    
    Logs error instead of failing if campaign from PromotionWeights table doesn't
    exist on link.

commit 1a423aa5ad21885eaa1c73ded118ded67a01c492
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Mon Jun 11 15:35:35 2012 -0700

    Better date validation, do not redirect if form has errors
    
    Now, in addition to checking that the date has the correct format (YYYY-MM)
    we also check to make sure the date is in the future and the month is in
    the range 01 to 12.
    
    This fixes the problem where users were seeing a 500 server error after
    entering invalid values for the month when entering their credit card info.
    
    This change also fixes a problem where the form was redirecting even if there
    were validation errors, leading the user to believe their authorization was
    successful when it wasn't.

commit cf8b55274c45bdbf54b7eb8078e844c8b77b8d95
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jun 10 19:21:46 2012 -0700

    Use new LastModified system for Cassandra-based relations.
    
    By necessity, this changes the API of tdb_cassandra.Relation._fast_query
    to take and return thing objects rather than ID36s.

commit 8cc3972b00f918213fff7eb6d524fedc0caab835
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jun 7 16:21:59 2012 -0700

    Add utility to extract linked URLs in Markdown.

commit ff7f332993d543e66c76c2f1fca9333caf697b57
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 24 19:45:42 2012 -0700

    Touch LastModified on tdb_cassandra.Relation._commit.

commit 14cb34c49d0103c17880a06dc09e8fd2df0aa84f
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jun 6 21:20:09 2012 -0700

    LastModified: cut reads for Last Visit over to new schema.

commit 267d81c6dfc860a58533aa9dd310850eb87e4c6d
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jun 6 21:19:57 2012 -0700

    LastModified: add get_multi.

commit 44ebdeb378f4bf09d6bd1f395764868b57d9fd82
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 4 19:24:06 2012 -0700

    Implement domain bans that inform user of block at submit time.

commit dbaa48e32428285b42a14c1d45712c4dc7bd5002
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 4 12:14:44 2012 -0700

    SearchBuilder: don't keep items with deleted authors.

commit 555c02ad62d0fb3a7e36739b3d9ce50a3124481e
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 24 19:48:09 2012 -0700

    Dual-write last visit timestamp.

commit 7f3f84494ed15feeff6069c8394556b6c3e7c16e
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 24 19:46:35 2012 -0700

    Add model for new Last Modified system.
    
    This will replace the current stuff in thing_utils.py. The idea is that
    by storing the various last modified timestamps for a thing in a single
    row together, we can save Cassandra round trips and seeks per request.

commit ba54ed713a8055651c4b63f2b9479155b3bc7db1
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 24 19:44:39 2012 -0700

    tdb_cassandra: Use Cassandra-native serialization for Date columns.
    
    This has a couple of advantages:
     * interoperability with Cassandra tools (cassandra-cli / cqlsh)
     * smaller by 5-6 bytes on every column
    
    From here on out, date columns will be written in the Cassandra
    standard 8-byte integer (number of milliseconds since epoch) format.
    Old-style stringified epoch seconds will be read properly.
    
    This relies on Pycassa's new UTC-based behaviour in 1.7.

commit 4e04740d62f4404b36f6591de3f58749ace016a9
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 24 19:41:34 2012 -0700

    Remove unused CassandraClick model.

commit b27b634b12c566d038c74c362f3968dcb2a5163a
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Jun 3 14:36:33 2012 -0400

    Delete things from spam_filtered queries.

commit a1bb5eda39e0990a2f854899d257ba4bbcae252e
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jun 3 17:18:43 2012 -0700

    query_cache: Gracefully handle zero-query merge.

commit 55d20383544be19506632427420812692e8527bd
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Mon Jun 4 11:20:51 2012 -0700

    Update config with new promocampaign thing table

commit 5545459aabf8495d659d92badf99c74db579a126
Author: Neil Williams <neil@reddit.com>
Date:   Sat Jun 2 13:35:08 2012 -0700

    Add install script.

commit 74a4a884fa335cec1fba26d955d3ced9cd849603
Author: Neil Williams <neil@reddit.com>
Date:   Sat Jun 2 13:32:53 2012 -0700

    Add upstart job for auto-reloading paster.

commit 20c126fec19bc14089eb3367a848297d094aa9e5
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 1 20:32:59 2012 -0700

    Add vote queue consumer upstart scripts.

commit 37da8b585c3c6cc579459dba7718024d45766b5c
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed May 30 18:53:26 2012 -0400

    Reorganize queries.
    
    del_or_ban, unban, clear_reports handle QueryCache queries more clearly.

commit fb198d5bd7f38c407ac70737243521bcb7db76d7
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 2 20:23:30 2012 -0700

    Stop writing to old CachedResults for spam and reports.

commit 634e9b1038ff431c66ac6048df4f555c9e24a369
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 2 19:15:42 2012 -0700

    Read reports and spam from new QueryCache.

commit f5b6839a78b27511aba1fbef74c5372e2af4a9db
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 1 12:11:13 2012 -0700

    Losslessly optimize JPEGs.
    
    Disabled by default in example.ini. Install jpegoptim
    or an equivalent and set the configuration properly.

commit 78ee90c49952a6b7f089ca0caa717cbce7fe7479
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu May 31 17:06:23 2012 -0700

    Some link flair updates weren't triggering search uploads

commit c517c41501a364aec0fde9be12f36023497eaebe
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 31 23:56:25 2012 -0700

    Don't show "Saved" tab on front page to unlogged users.
    
    It 404s right now and is only there for legacy reasons anyway.

commit f72e1fbccf1d2c2e0c3152ca694e8cdd0c0d14ec
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue May 29 12:25:25 2012 -0700

    more detailed promotion logging
    
    Log creation/deletion of campaigns and include campaign id in promotion logs.
    This change will make it easier to troubleshoot self-serve bugs.

commit 28cf919800ed6d293bfb117c4205bea14386f454
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 31 15:26:21 2012 -0700

    Add queue consumer upstart jobs.

commit da3bd2ee69152d636d36b5e23f9a35c8c5f79204
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 31 14:55:56 2012 -0700

    Get rid of problematic buffering in job wrapper.

commit 533e695d55fc98732a12ddbcf371fadc02dc8ca1
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 31 13:47:16 2012 -0700

    Tweak wrap-job to support queue consumer naming conventions.

commit 5c80560e51db7d0f0d45df0b26ff30372d675182
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 31 13:47:06 2012 -0700

    Add script for starting/restarting queue consumer jobs.

commit 2028bc44186eb7367657fce11dae51033bb0ff3d
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 30 16:15:25 2012 -0700

    Add upstart tasks for cron jobs.

commit 1c1863e464b719fe5f60253c7b326995470687a6
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 4 13:17:25 2012 -0700

    Add script to wrap cron jobs.

commit e59b61d2cf167d82b131b6986c6b067a3df33961
Author: Neil Williams <neil@reddit.com>
Date:   Sun May 27 08:29:03 2012 -0700

    Cut get_sent query over to new query cache.

commit ab039b4722607ce4048d21a3ef9ca5cdd40a6fc4
Author: Neil Williams <neil@reddit.com>
Date:   Mon May 21 15:18:17 2012 -0700

    Use a different set of memcaches for locking.

commit 76142d50cd022cfb72a4ee5110b73bea9a8ca0bb
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue May 29 10:06:36 2012 -0700

    Remove user id from authorize.net invoice number
    
    Previously, invoice number was [user_id]T[link_id]C[campaign_id].
    Since campaigns are represented as Things now, their ids are longer, putting
    us over the 20 char limit for invoice numbers defined in the authorize.net
    xml api.
    (see https://api.authorize.net/xml/v1/schema/AnetApiSchema.xsd )
    
    Now invoice number will be T[link_id]C[campaign_id], which is still unique
    across campaigns since a link is always associated with only one user

commit 09dbd49445497a2a200024301393e2c5eb84a903
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu May 24 20:16:19 2012 -0700

    Update config with new promocampaign thing table
    
    Adds promocampaign table (needed for the PromoCampaign model introduced in the
    previous commit) to example.ini

commit aa2225349e6588b563ced4e912c23a5406b24edc
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Tue May 22 16:07:06 2012 -0700

    Creates campaign model and dual-write campaigns to Thing table
    
    First step of breaking campaigns out into their own data object.
    
    Campaigns are still stored as an attribute on their promoted Link as before,
    and all reads are still done from the link attribute, but writes (creation of
    a campaign and edits to a campaign) are also written into a Thing table.
    
    NOTE: This change has a configuration dependency in another repository.
    The following lines must be added to the .ini file:
    db_table_promocampaign = thing
    db_servers_promocampaign = [YOUR SERVER NAMES HERE]

commit 1e5b886fabf06e3fd29c0aafd49a728851a23e17
Author: Brandon Carl <bcarl@me.com>
Date:   Thu May 10 19:01:27 2012 -0700

    Removes two extraneous quotes in template HTML around IE-specific stylesheet includes.

commit c96fb01d42896d0db23dc1f6443332376d3553c8
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Tue May 22 14:14:15 2012 -0700

    Added public_description to SubredditSettingsTemplate.

commit bac15c68e4730b1e16db22139b474ef326460784
Author: Neil Williams <neil@reddit.com>
Date:   Mon May 21 18:32:43 2012 -0700

    Destale c.site on subreddit settings page.
    
    This should fix funkiness with changed settings getting "lost" after
    the redirect/refresh catches a stale-cached version of the settings.

commit 5db25a86b5fdee9a43dfa2fc2cb2a86fb0eab680
Author: Neil Williams <neil@reddit.com>
Date:   Mon May 21 18:28:50 2012 -0700

    Add width to subreddit midcol.
    
    Since "+/-frontpage" became "subscribe" and "unsubscribe", the text is
    no longer the same width. This causes the subreddits to be jagged on
    /reddits listings. This fixes it by giving space (hopefully enough for
    all languages) for the buttons.

commit ccd6d1f8e0edf54fc67d10783c8159b8ef563856
Author: Neil Williams <neil@reddit.com>
Date:   Mon May 21 18:19:19 2012 -0700

    On /reddits, prefix subreddit titles with /r/srname.

commit dbdf637d9fe66f99c290f041e3794e23a00bc06d
Author: Neil Williams <neil@reddit.com>
Date:   Mon May 21 17:03:36 2012 -0700

    Seperate "description" and "sidebar" for subreddits.

commit ac78f0b1539eb127688eb66529904a46e79878a4
Author: Neil Williams <neil@reddit.com>
Date:   Mon May 21 15:43:48 2012 -0700

    Start dual-writing get_sent.

commit 295595a39776e74a6abf844584369156ce76ffdb
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue May 22 00:05:09 2012 -0400

    Only look up account by subscr_id when hardcache is empty.

commit 7136fcbf4a5f74fd06bcf0d1b3656b112b64351a
Author: Max Goodman <max@reddit.com>
Date:   Tue May 22 12:01:04 2012 -0700

    Fix self serve email in the ad inquiry page.

commit 9b8e8390cfa438225e35036cde91631b946493d8
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 9 19:59:13 2012 -0700

    Cut inbox queries over to new query cache.

commit 9f14001f8a122b62b9fdcfaf804880b75af04cfb
Author: shlurbee <valerie.hajdik@gmail.com>
Date:   Thu May 10 13:26:49 2012 -0700

    Make payment invoice number unique per campaign
    
    Makes campaign id a part of the invoice number so self-serve users can create
    multiple campaigns at the same bid amount without getting a duplicate
    transaction error

commit a97c2af1ad1cfee7b2447c57655c96d047e981e2
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 16 20:06:28 2012 -0700

    locale.format -> babel.numbers.format_number

commit c9c1bc6fec6bddeefad12c26960faa91b78670d5
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 17 13:33:57 2012 -0700

    Only show CNAME form items for subreddits with the option set.

commit ac53a4bca2096eba3921a72e30c27a6f77875b35
Author: Neil Williams <neil@reddit.com>
Date:   Mon May 7 20:28:12 2012 -0700

    Preserve extension and query string when doing /saved redirect.

commit a0f37adb131e0379b4d1faa8236156765cf58dae
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 10 21:34:12 2012 -0700

    De-stale c.site for stylesheet requests.
    
    Since we're using nginx in front of subreddit stylesheets
    to protect ourselves from ponies, we need to make sure we
    don't give a stale copy of the CSS when requested with the
    new query param thereby poisoning nginx's cache.

commit e6555cf6802ff21bc542cd60b985bc49dd0e0e07
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 10 19:01:19 2012 -0700

    Bump comment limit to 50K.

commit d6cc4403ce854bc7a0e72b5a053f7f6a5f653f57
Author: Neil Williams <neil@reddit.com>
Date:   Sun May 13 00:42:58 2012 -0700

    Make update_score take a vote object, not valid_thing.

commit db4071fcf57e4656ab9c0d9599482edd832ca19c
Author: Neil Williams <neil@reddit.com>
Date:   Mon May 7 20:50:21 2012 -0700

    Revert "Log when a thing is thrown out in UserController."
    
    This reverts commit ca39ec469f9832c7baedf4c651757587d5055210.

commit 3a936b3519f48f84f746f2dcc6d230d4374e67d5
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Apr 9 20:50:46 2012 -0700

    Add pointer to /help/search if search query was mangled

commit 4ec2406f70cbafcee9156e2a969825ebd8860c6a
Author: Max Goodman <max@reddit.com>
Date:   Thu May 10 09:58:26 2012 -0700

    Add missing api_doc for POST_del.

commit e0aaa3e0fb2038a859de17ed2a403053878ffbf3
Author: DEADB33F <James.C.Bradwell@gmail.com>
Date:   Wed Apr 25 22:32:46 2012 +0100

    Mark text of edited self-posts with an asterisk
    
    Self-text submissions which have been edited now get an edited asterisk.
    Edited asterisks get title text with 'last edited time'.

commit c209cc2f32a97b18a51bae3c58f45997a5df2ab9
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Mar 7 16:33:20 2012 -0800

    Switch to cloudsearch as primary search provider
    
    Also, remove unused indextank files

commit 7d01b9a8f45beba4b1c65cb3ea71d1490c6c0030
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Apr 24 15:11:22 2012 -0700

    Skip indexing things that have only been voted on

commit 4111c7338a7c9cb1fd21a0fe3a94a7c608f73a9b
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 3 15:15:48 2012 -0700

    Log when a thing is thrown out in UserController.
    
    Hopefully this helps track down the cause of disappearing
    items on the /liked and /disliked pages as well as providing
    verification of new query cache stuff.

commit 6ab11b367c0d1628ed4e1cb83aefea7608fea202
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 2 21:20:35 2012 -0700

    Move the saved links listing to the profile page hierarchy.

commit c9c959d0e8e295ce42b79bddecc7822bd5513e9d
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 2 21:52:26 2012 -0700

    Use 403 instead of 404 on /liked etc. when votes are private.

commit 8fb93b622a224530a656b283b64db3fdcb7f767c
Author: Max Goodman <max@reddit.com>
Date:   Tue May 1 12:33:13 2012 -0700

    Suggest a fallback method when the fancy login fails.
    
    If the CORS/hoisted front page login fails for any reason, suggest
    logging in via the https endpoint's login page.

commit a5d4faf25795960a325d993dd2921ee85ad8a55c
Author: Max Goodman <max@reddit.com>
Date:   Mon Apr 30 16:15:14 2012 -0700

    Autofocus login and password interstitial input boxes.

commit 896dcd054931627bb9b89fef43e82556ed99b71d
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 2 10:51:51 2012 -0700

    Add blurb explaining public's IP showing up in /account-activity.

commit 78d85a35a9691c49f2bdaefb08ab2e43d7a0ac2d
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 2 12:11:55 2012 -0700

    Cut liked/disliked pages over to new query cache.

commit 53549393d721f6d204bed381b42a1a5735b9c6fc
Author: Neil Williams <neil@reddit.com>
Date:   Tue May 1 13:11:05 2012 -0700

    Boost max comment counts.

commit 28683de774802960046bde1f07fcd0defbd34d3e
Author: Max Goodman <max@reddit.com>
Date:   Mon Apr 30 21:25:48 2012 -0700

    Skip messages without view privileges in builders.

commit f8d7879e365985fe49dcca9e7858c10395a286ca
Author: Max Goodman <max@reddit.com>
Date:   Fri Apr 27 13:24:10 2012 -0700

    Add collapse button to the moderation tools sidebar box.
    
    Also, add an id attribute to the moderation tools box.

commit 0ab582b2ead076edc9409ab05ca82b606f3b744f
Author: Max Goodman <max@reddit.com>
Date:   Fri Apr 27 13:22:07 2012 -0700

    Add store.js.

commit 8cd3cc3c42daec1b7e080d9961f3e50321e8ad17
Author: shlurbee <valerie@reddit.com>
Date:   Mon Apr 30 15:31:43 2012 -0700

    Increase length of max subreddit name in validator
    
    "internationalpolitics" is longer than 20 chars

commit 70a7f311ee2c3c02bbd237e8b69e03d84c74f15c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Apr 25 09:12:41 2012 -0700

    Revert "Validate subreddit name when submitting a link"
    
    This reverts commit 0a31396f8a7aea504518ee326feef3f31d297f30.

commit 3a5d967553a5525c7d41dc486c53c0306c18786b
Author: Max Goodman <max@reddit.com>
Date:   Thu Apr 5 15:00:47 2012 -0700

    Rename c.allow_styles and repurpose it for convenient overriding.
    
    This enables fine-grained control to un-block CSS without affecting
    whether it would be displayed based on user settings or context.

commit 7689d9c01de3b48738be22a2140d4cb54a06627f
Author: Neil Williams <neil@reddit.com>
Date:   Fri Apr 27 12:03:33 2012 -0700

    Consolidate mod permissions checks in is_moderator.
    
    Also moves the modbox down one chunk.

commit c15ff9fa865d77db5e22172b118f23bf13b0eba2
Author: Max Goodman <max@reddit.com>
Date:   Wed Aug 24 20:18:36 2011 -0700

    Add details page for comments.

commit 097ccb66a9e392e0b5068613d42b532d9cfd6f41
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 30 10:33:41 2012 -0700

    Don't get rising if sr_ids is None.

commit 611892ab19aeee72b8b5e18e8250a492e6727974
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Thu Apr 26 23:52:11 2012 -0700

    Add title attribute to user flair and linkflair selector span.
    
    This allows the full text to be discovered when the item is too long for the
    entire span to be shown. This most often occurs in the flair selector.

commit 55f1149580d4d7ee9b50f0f5e9c4ed3854839cb5
Author: shlurbee <valerie@reddit.com>
Date:   Tue Apr 24 11:02:14 2012 -0700

    Better error handling in VSubmitParent validation
    
    Fixes log error - AttributeError: 'NoneType' object has no attribute 'subreddit_slow'

commit bb30f0a6e8e954b2f14f89acffa50236ee5958ea
Author: shlurbee <valerie@reddit.com>
Date:   Fri Apr 27 15:29:04 2012 -0700

    Show error message on large image upload
    
    Previously if you attempted to upload a header with file size > 500kB,
    the operation failed silently and the "uploading" message never went away.
    Now an error message is displayed saying the image was too large.

commit a9c82776a5519ddb52bf0ed1db05c000a4e1a881
Author: shlurbee <valerie@reddit.com>
Date:   Fri Apr 27 10:20:32 2012 -0700

    Make Subreddit._by_name() ignore long names
    
    Prevents a problem where sgm() raises a ValueError when the query string
    is longer than the max allowed length of a memcached key.
    
    Also added documentation.

commit 6ec9f8cd59f82ab293fca568a011284d9ecd1139
Author: Neil Williams <neil@reddit.com>
Date:   Fri Apr 27 08:28:38 2012 -0700

    Show sidebar on /r/mod and multireddit modmail pages.

commit 8d8390384e4188d44c6f389226ada2dd95d3abd3
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 26 23:51:48 2012 -0700

    Use the correct PageNameNav for /reddits/create.

commit 87610ed309337c2cc8586881c9c9b1ebd6d96608
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 26 20:53:27 2012 -0700

    Proper titles on mod pages.

commit e62e34f3832adf34d4e41c1562288db829324ca5
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 26 20:37:46 2012 -0700

    (reddits|communities) -> subreddits: Mod edition.

commit 25466f7cf0f1d99a23cb73e48c63b44224c3089b
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 26 20:10:06 2012 -0700

    Add mod tools box to /r/mod and multireddits.
    
    Additionally:
    * Change the name "admin box" to "moderation tools".
    * Move it to the top of the sidebar.

commit da6e4a2cca41b263fba6143f65f63ddd6c63fd12
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 26 22:34:09 2012 -0700

    Make modmail work in /r/mod.

commit 66124ef6c92913d542e009304588240829714bc8
Author: DEADB33F <James.C.Bradwell@gmail.com>
Date:   Thu Apr 26 22:40:34 2012 -0700

    Implement mod pages on multireddits.
    
    * modqueue
    * spam
    * reports
    * trials
    * modmail

commit d30b558931da474c5f06b7bbaae60cec34e43742
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Apr 25 11:36:38 2012 -0700

    Count how frequently items are added to amqp.

commit 27cbadd778e6cdf1c3e7ae188788e4521a0f92dd
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 26 11:14:24 2012 -0700

    Start reading save and hide listings from new query cache.

commit ae3d4897a49e971ec2c2f1496efe4da4d7c5f90a
Author: Max Goodman <max@reddit.com>
Date:   Tue Apr 24 16:52:15 2012 -0700

    Remove unnecessary VUrl checks from OAuth2 redirect_uri.
    
    This was clashing with some submit-specific code in VUrl. It's safe to
    remove this validator since we use strict equality checks on
    redirect_uri wherever it's used.

commit 2b8373ea7e213839390cc65a09a20d78418faa3e
Author: Max Goodman <max@reddit.com>
Date:   Mon Apr 23 12:01:04 2012 -0700

    Tweak blog button 3 to appear better on dark backgrounds.

commit c12801cd60856f3426852e933e715d07e5f86c85
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Apr 24 14:45:58 2012 -0700

    Use og:image meta data for thumbnails
    
    See also:
    * https://developers.facebook.com/docs/share/
    * https://developers.facebook.com/tools/debug

commit 6fe0af5ce6da9c80066f6ac42cb87d8b01844bd0
Author: Max Goodman <max@reddit.com>
Date:   Mon Apr 23 20:28:43 2012 -0700

    Add new art for subreddit banned/private pages.

commit a8580cef63aa3ea00dd25f48410ae7abc5f7b4f5
Author: Neil Williams <neil@reddit.com>
Date:   Mon Apr 23 18:10:18 2012 -0700

    Add useful error page when forbidden from private subreddit.

commit 212d07138f209a099209a78aab7c5e504dd88d90
Author: Neil Williams <neil@reddit.com>
Date:   Mon Apr 23 16:52:09 2012 -0700

    Reorganize and prettify error pages.

commit 38ed72dae0ea4a09b1c8f559393567808a6bbe9c
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Fri Apr 20 14:01:47 2012 -0700

    Add header_hover_text to json output.

commit 2248c4a2f3dc7e2db1f1268f6368a71f4766a760
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Tue Apr 17 00:18:21 2012 -0700

    Don't display captcha and ratelimit fields when they aren't needed.

commit 766dd00ca74a09c2d10aeb4f8801a0f6b2634aa0
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Apr 20 18:50:14 2012 -0700

    Frame bust inner toolbar

commit 872bc19b8eeb44a708bb3b23d6d963e5b7537038
Author: shlurbee <valerie@reddit.com>
Date:   Mon Apr 23 17:26:32 2012 -0700

    Fix multiple parent bug in comment messages
    
    Previously, if you replied to a comment in your inbox, saved it, then clicked
    "show parent," the parent would appear multiple times because the dom element
    inserted by your reply also matched the jquery selector.
    
    Now .first() is used to make sure only the original parent matches.
    
    (Fixes issue #414 in reddit/reddit)

commit dc972f76f3953b4411cc193a68d118217248d384
Author: shlurbee <valerie@reddit.com>
Date:   Sat Apr 21 21:24:08 2012 -0700

    Count creation of things and relations.
    
    Records thing and relation creations so they can be tracked in graphite.

commit 00010251ab220d9e2c82507e0322a51e220e5c18
Author: shlurbee <valerie@reddit.com>
Date:   Mon Apr 23 11:59:48 2012 -0700

    Validate subreddit name when submitting a link
    
    This fixes the bug where manually entering a long subreddit name
    when submitting a link caused a 500 server error

commit 3c841fd4369d375a8b5d2cfb4437bf6157e7e1f3
Author: Neil Williams <neil@reddit.com>
Date:   Fri Apr 20 16:52:28 2012 -0700

    Make TPM more thread-safe.

commit e8e751ada48d23603c94fdf7d3e59147b24c84f7
Author: Neil Williams <neil@reddit.com>
Date:   Fri Apr 20 12:09:47 2012 -0700

    Don't spam ban messages for users who don't care.
    
    If you've never interacted with the subreddit (posting
    links or comments and subscribing), you probably don't
    want someone to spam you with messages banning you from
    their subreddit that you didn't even know existed.

commit 63a917d5d570652fe529fb537eb375772d6236aa
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Apr 20 17:13:01 2012 -0700

    Move linkflair CSS classes up to cover the entire link.

commit c515f17bdc722885bf47e0fa83a6d68b39ddcbc9
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Thu Apr 19 17:40:05 2012 -0700

    Add link_flair properties to the submission json output.

commit d9e21d092cd4c4798ed009306770093f58f013d3
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Apr 20 11:37:49 2012 -0700

    Don't let non-mods self-assign link flair via /api/flair.

commit b6c89a349b9bb4602547c86ca9d530994e65d020
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Apr 19 17:11:16 2012 -0700

    Fix permissions when calling /api/flair on links across subreddits.

commit a058ae02f45a3d64639abf82a3ca68aa767ce60d
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Apr 19 17:08:55 2012 -0700

    Fix error when a link has flair_text but not flair_css_class.

commit bccb2ff1a48125defbb97eb7da68f19c603f53df
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 19 15:07:06 2012 -0700

    Fix bug in deletion of subreddit header image.
    
    Due to spriting etc. it doesn't make sense to replace
    this image anyway, so just delete this line that was
    causing issues because DefaultSR.header is a property
    object, not an actual value!

commit 6737bb1bbf53b3ecb272f2a7fe184a10a41c032f
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 19 14:15:12 2012 -0700

    Fix wrong constructor in pages.Frame.

commit 9088dbe9baafb691a691ae7bdc9c7744f83f7557
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 19 12:23:52 2012 -0700

    Fix SubredditSettingsTemplate case where site is None.
    
    This is the case for /reddits/create.

commit 0941f6c822b326bcc34f87bed81a862360cc2e35
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 19 10:39:00 2012 -0700

    Add type property to DefaultSR for stylesheet X-Private-Subreddit check.

commit 2df78c4496e4885e36159b24a85e5cfb92aab90b
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Apr 18 11:22:53 2012 -0700

    Don't show flair button on promoted links.

commit 13e191b65f2d61a34b169be1d47ddc780352e2e7
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Apr 17 15:17:39 2012 -0700

    Add a user preference for showing link flair.

commit ffbbc35ca83057c8b3dd1e780cbd4c4ff80bb69b
Author: Neil Williams <neil@reddit.com>
Date:   Wed Apr 18 10:54:56 2012 -0700

    Add TimeoutExpired to OPERATIONAL_EXCEPTIONS.

commit 35c337885237cca8100b29f7424ba95086c7422d
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Apr 18 10:36:01 2012 -0700

    Disable word-wrapping in link flair.

commit f2384d02576bd6e665204934f6e721f70ad9f938
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 16 18:10:17 2012 -0700

    Don't update cached queries on POST_approve confirm_ham.

commit 56d2eb2f8f8d23e5d1b62c5117ffede9d488734b
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sun Apr 15 12:56:40 2012 -0700

    Use 'unbanned_at' time when inserting links into 'new' cached query.

commit 48129dd1f6e59b8a372cd53965e754b3665d255c
Author: Neil Williams <neil@reddit.com>
Date:   Tue Apr 17 16:43:23 2012 -0700

    Re-add mis-merged line to StylesheetTemplate.

commit ab6be6c95f26fb22ae10d563e2c1012ace080295
Author: Neil Williams <neil@reddit.com>
Date:   Tue Apr 10 13:17:36 2012 -0700

    Make static file uploader use custom ini file for S3 credentials.

commit fbc4859634325e0a7fb970249fdff0eca12f69cd
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Apr 17 10:33:03 2012 -0700

    Provide option to let users self-assign link flair.

commit c570ec4948558a6b4166d23c2f4301941a7c15f6
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Apr 13 16:29:10 2012 -0700

    Support the text-editable option for link flair templates.

commit 5a8bc8129e80337e1b7e5c18ec4b63487feba5b0
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Apr 13 16:28:40 2012 -0700

    Use ynbutton for clearing flair templates.

commit 64e952c4eb46c244a5a4f1c8d68ba695946ab4ed
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Apr 16 16:35:55 2012 -0700

    Apply max-width to .linkflair.

commit d479c28933cdad66a5c39462a7ca68ee148f4e0e
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Apr 16 16:21:52 2012 -0700

    Move FakeSubreddit.link_flair_position to the right.

commit 5df49b5a38410f13e24ee7b20458407a063ebb3e
Author: Neil Williams <neil@reddit.com>
Date:   Sat Apr 7 18:56:51 2012 -0700

    Don't put ops-related exceptions in log_q.
    
    They're transient situations outside the app's domain
    and not bugs. (though they probably do indicate a place
    where we should be more robust, so don't ignore them
    entirely.)

commit f1c6f487ad10238832db15b5d157bca08e363db2
Author: DEADB33F <James.C.Bradwell@gmail.com>
Date:   Fri Apr 13 00:26:42 2012 +0100

    Added support for pre-filled selftext to mobile submit pages

commit a9aa4ac5788075ba1b07cb86bc8343fa414ed3c5
Author: DEADB33F <James.C.Bradwell@gmail.com>
Date:   Thu Apr 12 21:44:04 2012 +0100

    Added boolean paramater 'selftext' to /submit urls, if true submit page will default to displaying the 'text' tab.

commit 9605865b5dafc58f1be71be31268df7db58f66e1
Author: DEADB33F <James.C.Bradwell@gmail.com>
Date:   Thu Apr 12 16:55:45 2012 +0100

    Added ability to specify self text via the submit url paramaters. eg /submit?text=Example%20sefltext

commit 3380be62cc94600d944807cadea49fd41a0a8142
Author: xPaw <thexpaw@gmail.com>
Date:   Tue Apr 17 10:57:57 2012 -0700

    Add title attribute to link karma in header bar.

commit c408f832b8c8186782b8cfeb34153d7ab2871321
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Wed Apr 4 18:42:02 2012 -0700

    JSON view for subreddit about/edit.

commit c946cf011eca1977efd715f18281cc45b8c1c316
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Tue Apr 3 18:47:12 2012 -0700

    Added json view for about/stylesheet.

commit cae49daf4c6236081bcd638ec22c645ab0574fd0
Author: DEADB33F <James.C.Bradwell@gmail.com>
Date:   Fri Apr 13 09:49:03 2012 +0200

    Added body.contributor class for approved submitters.

commit a5f3cd1c9830dc5963b9b08e3f9fa70f3c541558
Author: DEADB33F <James.C.Bradwell@gmail.com>
Date:   Tue Apr 17 10:17:57 2012 -0700

    Dynamically toggle class when subscribing/unsubscribing from sr.

commit 47e7527aba7d276df39265deb98adbb6f1ff3413
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Apr 17 10:56:01 2012 -0700

    Add TRANSLATORS note to 'front'

commit 71fbe5c953354f67f6c433618606a628ebb94d88
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Apr 12 11:15:28 2012 -0700

    Add link flair to the compact and mobile views.

commit 336ce57480b89c5ff9453503d6f93dc167e078c0
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 16 09:49:02 2012 -0700

    Implement rising_srs on ModContribSR.

commit 466a2a44216611f3b6df47cedf21d6a8700ff43d
Author: Neil Williams <neil@reddit.com>
Date:   Sat Apr 14 12:30:15 2012 -0700

    Make modhashes always invalid for UnloggedUser.
    
    Fixes an error where an unlogged user who somehow has a modhash posts
    to POST_over18 and modhash computation dies because the user doesn't
    have any of the necessary attributes.

commit 4653a3f965daa768051f3e388d3de1b971fea57d
Author: shlurbee <valerie@reddit.com>
Date:   Mon Apr 16 13:45:23 2012 -0700

    Show gold days left with finer granularity
    
    "X months, Y days" when user has less than two months left

commit 99162d012bcb240c5fbb4e823858d143fc6d1e58
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Apr 13 11:30:45 2012 -0700

    Fix linkflair- prefix on link flair samples.

commit 876e8514419faa0c24511933608f0951928c4206
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Apr 13 11:03:22 2012 -0700

    Add link flair styling to .embed pages.

commit ef951d4be5f66cf6e88ae540f8aaa53a0428d2e2
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Apr 12 19:41:24 2012 -0700

    Multireddit hot sort not limited to 24 hours.

commit 46dbdba1ac3dca9d3e455b6a4286686e4154bd00
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Apr 13 10:19:04 2012 -0700

    Add min_size parameter to amqp.handle_items

commit e7e153577a22e060afb1e24f64d2fcc47bbf8cf2
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 12 22:15:17 2012 -0700

    Add 'Front' to top bar.

commit 1b7384591f9362ed0969b5fe37ceb00e2d071bba
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 12 22:40:56 2012 -0700

    Make sure stats attribute is present on StaleCacheChain.

commit 983f7f887483526472932a93add1866542095bf3
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Apr 12 11:37:15 2012 -0700

    Add link flair support to POST_flair.

commit 358728932da346382f2766066000cc5b9a0e044d
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Apr 10 05:56:14 2012 -0700

    Use normalized_hot for MultiReddits.

commit 178da70e434f4f4008bcae647592cb17a0ba99a0
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Apr 10 11:12:07 2012 -0700

    Fix the "clear all flair templates" button for link flair.

commit f544a14bd721e91056030b153771d035b69a51e7
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Apr 10 09:57:52 2012 -0700

    Change flair buttons to use javascript://void(0).

commit ffbbd3c3015a0f72f952f393c70d2014afd4381d
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Apr 3 11:45:41 2012 -0700

    Add flair removal to the flair selector.

commit 80d32449ebb1f687ff742063712627c7029d2362
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Mar 23 12:49:39 2012 -0700

    Make tab panes URL-addressable.

commit 30fb5fcc2bd77cf4515facab22dc1579d171299b
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Mar 13 16:07:46 2012 -0700

    Don't show the 'flair' button on links if a subreddit isn't using link flair.

commit f87e7c733403c93e1ad35cf7c6e8236de8ec88ee
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Mar 13 15:29:24 2012 -0700

    Prefix all link flair CSS classes with "linkflair" instead of "flair".

commit 9e3bfd4adfb1cd2fc89986f67bebc47b60ae9a02
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Mar 8 13:39:19 2012 -0800

    Fix UI updates when flair templates are edited.

commit 6a9b8cc635d9c7e9583c00edd587ba84164ca5a0
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Mar 6 10:40:36 2012 -0800

    Make link flair in /about/flair subject to link styling.

commit 1f095fb828b8d95f167502c3c625676af88870bb
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jan 3 10:23:49 2012 -0800

    Make the link flair selector functional.

commit 26db7f7ced46c2512ff2264dc9515b37e2cd9058
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Dec 30 12:57:24 2011 -0800

    Add link flair to moderation logging.

commit 1861d7933eaaa66738ac018a52fa25eac9e6fcdf
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Nov 7 21:37:31 2011 -0800

    Add link flair support to the flair selector.

commit 6d4faa87786d9e8f23a05fcc229a5731c93dcc99
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Nov 4 14:24:07 2011 -0700

    Add a rough implementation of link flair.

commit 105402fff07552ad4dbb0fd6851824449bed0b16
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Nov 2 13:43:09 2011 -0700

    Add new tab for link flair templates.

commit a96a6afae6f0ff19816ece43ed1d851875180c51
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Nov 2 10:45:04 2011 -0700

    Modify FlairTemplateBySubredditIndex to also store a separate index of link flair templates.

commit e33f6f606a0b6f4bfb9f95619cf7902ecba47e12
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Nov 2 10:20:18 2011 -0700

    Use a new validator specific to flair for accounts.
    
    This change reverts VExistingUname to its simpler pre-flair
    implementation.

commit f48bd6613eb5e6dc456c454c50e4a4c250eca353
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Apr 11 11:37:27 2012 -0700

    Update the search box dropdown with new syntax

commit b0ad6eadf0986bfa89c1ab71461dc446ba5d9ae4
Author: Neil Williams <neil@reddit.com>
Date:   Tue Apr 10 10:49:20 2012 -0700

    Import _strptime early to avoid errors on import in threads.

commit 3d87a7956a5d4d9abebba3a076586b2cb65f944b
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Apr 9 20:50:46 2012 -0700

    Add pointer to /help/search if search query was mangled

commit 24854c9c31ac7d742d51e30fd26d9450a9b4e9d2
Author: Neil Williams <neil@reddit.com>
Date:   Sun Apr 8 11:57:31 2012 -0700

    Bail out if CSS validation has errors.
    
    This fixes the "unicode has no attribute cssText" error
    that is caused by stylesheets larger than 100K.
    
    Note: one functionality change here is that the site won't
    show the preview table when validation fails now. (but that
    should be fine since the bad stylesheet won't be applied)

commit 7a3c17578bcf0f62bb9c5ca49a8cf1e4de87a88c
Author: Neil Williams <neil@reddit.com>
Date:   Sat Apr 7 18:30:33 2012 -0700

    Print a warning if someone tries to edit strange usertext.

commit 40391e00d19897c39d2fccfac37ba08499bed3aa
Author: Neil Williams <neil@reddit.com>
Date:   Sat Apr 7 17:56:53 2012 -0700

    Print a warning if someone votes on a weird Thing.

commit 77f9c2526a513557559ed9200743f6292e965fb8
Author: Neil Williams <neil@reddit.com>
Date:   Wed Apr 4 11:10:24 2012 -0700

    Add missing import to promotecontroller.py

commit ca1e5752a3dbe1256ae83cf04e8c022bbf2a8584
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Apr 2 18:49:41 2012 -0700

    Be nice and try to get the SRMember relation for myreddits.

commit bb5cfa0ccfb6dd5fa6b169beed1e35a50a36f81c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Apr 4 10:34:19 2012 -0700

    Fix string formatting issue in ipn.py

commit 1fd9a080b6fda313740cebfc44dda018af10a8b2
Author: Chad Birch <chad.birch@gmail.com>
Date:   Fri Mar 30 11:58:04 2012 -0600

    Make /r/mod/about/spam also include filtered comments.

commit d260236520d576fa7e57fbdc17bc6a382fcb0388
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Apr 3 06:17:50 2012 -0700

    Add hover with exact timestamp for messages

commit e2fd083cb4ac74c4521e8bd426ccb2836cc24321
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Fri Dec 23 19:13:43 2011 -0800

    Modify "friend" and "unfriend" API methods to only require "container" parameter when the action is upon a user, and to utilize the c.site (or 'r' parameter) when the action is upon a subreddit.

commit 07d8675a3c66f4b0eda41104d1fc955175aacb9b
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Mon Apr 2 13:14:12 2012 -0700

    Don't filter NSFW listings when using the API.

commit 9843a595168619b61cc085c91b87d83117ade775
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Thu Mar 15 11:29:48 2012 -0700

    JSON output returns ratelimit in seconds and ratelimit doesn't occur when fewer than 3 seconds.

commit 05062bfd87419f1b9fd3056a5ebbacc5f91c4bc6
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Fri Jan 6 16:49:08 2012 -0800

    Fix 500 error when attempting to subscribe to a non-existent subreddit.

commit 4740772d2317011e21ee04d91eb362f7b90534e3
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Apr 2 11:38:20 2012 -0700

    Redirect /t/timereddit/* to /r/t:timereddit/*.

commit 72ae91d2204ff76e3e0ece6d45c9686008a79c95
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sat Mar 31 01:16:44 2012 -0700

    Start dual-writing reported_links and reported_comments.

commit 62ec39460c700a49dbfbf408aacccdf95ac00599
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Sat Mar 31 01:13:20 2012 -0700

    Start dual-writing spam_links and spam_comments.

commit 5f9acdc75b12a2da72a048173ae3c4ca314f44b9
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Mar 30 15:00:44 2012 -0700

    Handle comments from spam users.

commit 242b71310fc964f3cf64db28134e81f93d8e7d2e
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 28 11:01:33 2012 -0700

    Start dual-writing the rel queries.

commit ca099a4a962dc39d57ae9d8393c9e6bbb0966e7f
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 28 11:00:59 2012 -0700

    Add magic decorator for dual-writing cached queries.

commit 17ae72cf09698372f9a2d32a5e5340197774d8bf
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 28 10:59:33 2012 -0700

    Renaming: user_rel_query isn't just for users.

commit 44e001b778ae280b6ae75ca14b4376018b1e3e9b
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 28 10:41:20 2012 -0700

    CachedQuery.update() should only grab MAX_CACHED_ITEMS things.

commit 3bf0d69e30ba4015ecc7d9f5a2d778c8c7d0b80f
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Mar 22 03:55:41 2012 -0700

    Hack to allow CachedQuery into MergedCachedResults.

commit 27f6d9305197a790728b21920609c4ccdfdf4b8f
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Mar 22 03:45:37 2012 -0700

    Remove trials from modqueue.

commit bcd39e132e7d5b1e6864e716fed8c26298e699b5
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Mar 22 03:01:43 2012 -0700

    Use SubredditQueryCache for spam filtered things.

commit b352a8ce2265edbe1a5c7ce7a79481d03da2a6ed
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 28 15:52:08 2012 -0700

    Use abspath when determining api_doc file paths.

commit 06db06f8e3f5810107c370625862ed7fabff088b
Author: Ricky Ramirez <rram@reddit.com>
Date:   Thu Mar 29 16:57:09 2012 -0700

    Validate gold users correctly
    
    Return a 403 Forbidden instead of raising an exception that never gets caught

commit b68a879b04e4aa85b9c1694058789b8e42d393f2
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 28 15:05:30 2012 -0700

    Record i18n version as well.

commit 955471333ae967e5c88498263d7a55ceafc1072c
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 28 14:50:24 2012 -0700

    Pull git version check into reusable function.

commit 1f59a11b626e3be942624e1bf1d28bda30afe773
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 25 20:36:33 2012 -0800

    Add hook for private code to add stuff to g.

commit 057dfc99cdb559081df80dd74ee61501c91c4d36
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 28 14:03:41 2012 -0700

    Include git revision IDs in /health response.

commit cae85cf54889bd82b50ddf04eedf4bcf57eea604
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Mar 29 10:21:12 2012 -0700

    Reddit -> reddit in promo email

commit abe385cc74ad4b66380a10ac9728720fdd09c0a0
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Mar 16 15:48:38 2012 -0700

    Add note to top of generated ini files

commit 14f84678ea37a345561c6fb70510b8a25888bd5e
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 27 16:00:48 2012 -0700

    Link to the correct file source in "view code" api docs links.

commit 9d69c78b36288ebd253db4a3d2b66edec8a73688
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 28 08:01:16 2012 -0700

    Add data attributes for ups and downs on links and comments.

commit 83edb3bb0d7c6e464e5b53cbbb3a986911a74df1
Author: DEADB33F <James.C.Bradwell@gmail.com>
Date:   Wed Mar 28 09:37:23 2012 +0200

    Add data-fullname attribute to moderation log.

commit e78bd5e32ac27d9c300144bdbdbf7ea05b42a873
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Feb 8 14:19:29 2012 -0800

    Fix sampling of Thing._byID cache hit/miss rate.

commit 259559f2246369e624dbbca39b44d93d3d82bc8e
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Feb 8 12:00:24 2012 -0800

    Access CacheStats from Thing._byID more safely.

commit 66fa3d32126cea9fbd6c11b6b8c2e28320b223b8
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Feb 6 13:16:30 2012 -0800

    Keep count of Thing._byID cache hits/misses.

commit bffc43e0c480833d5ed546c8d2be00d213d736c6
Author: Neil Williams <neil@reddit.com>
Date:   Thu Mar 22 01:38:08 2012 -0700

    Revert "Convert /comments to new query cache."
    
    This reverts commit c91f8a0d09c892c8d46d15bb0e788cc7a8f3889e.
    
    We will have to do this query a different way. The speed
    at which new items cycle through this causes tombstones
    to pile up and queries become awfully slow.

commit 1857e8415c1fc048afcfae5438c7154cc2bb7411
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 7 21:55:15 2012 -0800

    Add link to press contact page to /feedback.

commit cfd93ee618b5d075955a07d0fac13f2d62f5504c
Author: Neil Williams <neil@reddit.com>
Date:   Fri Mar 9 18:17:19 2012 -0800

    Add a custom header to private subreddit CSS.
    
    We'll use this header to disable infrastructure-level
    caching to protect subreddit privacy.

commit 603e14abeb031dd3b3075811dd0840148bde34a2
Author: Neil Williams <neil@reddit.com>
Date:   Tue Mar 27 14:42:19 2012 -0700

    Make ip_and_slash16 resilient to bizarre extra spaces.

commit 6bf60643056071428cbfd2a329b7d938af1e5784
Author: ughblah <brian.kiewel@gmail.com>
Date:   Wed Mar 21 16:11:52 2012 -0500

    Moved "sponsored link" text left to space it out from "what's this" link

commit e745eec6fde4d859aabfb98900d2983bd74c16dc
Author: Max Goodman <max@reddit.com>
Date:   Mon Mar 26 20:41:24 2012 -0700

    Add tabindex to the password interstitial.

commit da91580dc6b19333d3dbe735fe53951c6ac99bd1
Author: Max Goodman <max@reddit.com>
Date:   Mon Mar 26 16:04:54 2012 -0700

    Fix api docs line number computation.

commit 8b17ea8c20cfea92796b1d9e71837e00a2077745
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Feb 24 17:26:57 2012 -0800

    Admin menu item for modqueue.

commit dc2bd127b7b9093fb3399573b0646c529601d19c
Author: Neil Williams <neil@reddit.com>
Date:   Tue Mar 27 13:32:17 2012 -0700

    Show moderated subreddits in /r/mod sidebar.

commit e6b88800f13dcabd68293f4d6cc042c07d3f4c05
Author: Neil Williams <neil@reddit.com>
Date:   Tue Mar 27 13:12:11 2012 -0700

    Unify ModContribSR and MultiReddit interfaces and simplify downstream.

commit 3e40a58d423fa015fa4278e029ecbf0c24610cf8
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Mar 27 13:17:48 2012 -0700

    Get rid of check_essentials hack

commit b391fd5dd59354da4f705c3d708cdc72162b1a9d
Author: Max Goodman <max@reddit.com>
Date:   Mon Mar 26 12:17:27 2012 -0700

    Add API rules link and revamp the docs introduction.

commit 1462cd3ae2f5446ec2ad0067a15f761a0ffd785b
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 21 10:29:59 2012 -0700

    Add documentation examples to flesh out api_docs.

commit e62dcd38af255e6707500f133050eece24984b5f
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 21 10:45:08 2012 -0700

    Refactor subreddit about.json to enable separate api_docs.

commit ffca452407e6db063843d3584751d5dc8481fa16
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 21 10:32:20 2012 -0700

    Refactor ListingController so api_doc can get param info.
    
    By moving @base_listing to the same function as @api_doc, the validators
    @base_listing adds become accessible to the parameter documentation. As
    far as I can tell, this is the only place build_listing is called, so I
    believe this transformation is safe.

commit 1890d24ba0d362b69bd55e1e9c617af922647705
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 21 11:49:00 2012 -0700

    Add api_docs decorator and parameter info. Revamp templates.
    
    Remove OAuth2 api documentation until it lands.

commit 100991117ca5f8e4592eef2bdc9b369a29b9105a
Author: Max Goodman <max@reddit.com>
Date:   Mon Mar 26 14:40:26 2012 -0700

    Routing changes to move apidocs to /dev/api.

commit 11605b4873d392980c5ce5fdb0f85c85268d7007
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 21 11:45:50 2012 -0700

    Move API docs controller to its own module.

commit b56ff2a5ebf72afd506434c34e83e5d375b6ec4a
Author: Max Goodman <max@reddit.com>
Date:   Fri Jan 27 08:43:06 2012 -0800

    Allow a top level css_class to be specified for page content divs.

commit 3a0a0348985823f25a18c326e7116e2c3bcbe6a5
Author: Dave Pifke <dave@pifke.org>
Date:   Thu Mar 15 23:00:17 2012 +0000

    Do API documentation formatting in template instead.
    
    Changes the value of the api_methods nested dictionary to be a
    dictionary instead of a string.  At a minimum, it will contain
    an item named __doc__ with the docstring.  Any OAuth scopes,
    instead of being prepended to the docstring, will be present as
    an item named oauth2_scopes.  Additional introspected data (such
    as required request arguments) can be added later.

commit 7f45f3dbf3a434e59541a402b1598a6e486445c2
Author: Dave Pifke <dave@pifke.org>
Date:   Thu Mar 15 22:18:09 2012 +0000

    Add docstrings for OAuth API endpoints.

commit 8a36d0ed77e3dfc4b7fbbbc6ae65ee2978c1d370
Author: Dave Pifke <dave@pifke.org>
Date:   Thu Mar 15 22:04:28 2012 +0000

    Fix multi-paragraph docstrings.

commit fb0b6504902c33b71a6ddf22b42aa78e1cca2a34
Author: Dave Pifke <dave@pifke.org>
Date:   Thu Mar 15 20:58:33 2012 +0000

    Automatically generate API documentation.
    
    Needs CSS love and some rewriting of the docstrings that are now
    exposed, but otherwise complete.

commit f1dc6548f8787406a5d07f22e31808f5367eda95
Author: klocatelli <me@klocatelli.name>
Date:   Mon Jan 23 18:55:46 2012 -0800

    Look further into a document to find its title.
    
    Allows "fetch title" to work on youtube again.

commit 92cf3610f748cbed82e76dcf95e909eedd629d30
Author: Neil Williams <neil@reddit.com>
Date:   Sun Mar 25 16:47:10 2012 -0700

    Rearrange CSS preview page -- put preview at top.

commit a3fae4650f63636bb6219e55a4d00f9003dc80e1
Author: Neil Williams <neil@reddit.com>
Date:   Sun Mar 25 16:39:06 2012 -0700

    Don't use g.default_sr for preview links.
    
    On reddit.com it's /r/reddit.com which is pretty
    barren these days :)

commit b279d29ee28b529d78b3daf68269588edbfad315
Author: Neil Williams <neil@reddit.com>
Date:   Sun Mar 25 15:42:57 2012 -0700

    Use query cache to get preview comments for subreddit CSS.

commit 0f7e3a69f2412998b299f33049b3a90dcd56bd59
Author: Neil Williams <neil@reddit.com>
Date:   Sun Mar 25 15:25:52 2012 -0700

    Allow private code to have a say in ratelimiting.

commit ca01b8c6223257231fb8c337ec5bfe755f3084f2
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Mar 20 17:24:57 2012 -0700

    Allow users to remove their email address.

commit 9886db8de9eec704e95746943debc554cf13a5de
Author: ughblah <brian.kiewel@gmail.com>
Date:   Mon Mar 19 20:13:48 2012 -0500

    Restrict show_friends to only display [F] in div.content

commit ee28a0f321e26db49c3aeb312eca8db7addfaffa
Author: Neil Williams <neil@reddit.com>
Date:   Tue Mar 13 13:36:10 2012 -0700

    Convert /comments to new query cache.

commit 8a7d2a8990fbf983be1af19a6c42e891d65fbe99
Author: Neil Williams <neil@reddit.com>
Date:   Mon Mar 19 17:09:41 2012 -0700

    Add debug logging to the new query cache.

commit afb4de999e0d02da64ebd218570442a9bde04c6a
Author: Neil Williams <neil@reddit.com>
Date:   Mon Mar 19 16:31:05 2012 -0700

    Allow CachedQueryMutator to be used not as a context manager.

commit b284dc80ae0a0a1a02fed1fa7be5b19b27ac8b17
Author: Neil Williams <neil@reddit.com>
Date:   Thu Mar 15 15:39:41 2012 -0700

    Convert to JSON for query cache storage.

commit 8fd2169e4f4f255058c155c6d0013b768852a7a6
Author: Neil Williams <neil@reddit.com>
Date:   Mon Mar 19 18:32:15 2012 -0700

    ColumnFamily.get's column_count defaults to 100. Set it higher.

commit 1d84f7e5f5f2327760a2a31f289e027ca486e676
Author: ughblah <brian.kiewel@gmail.com>
Date:   Mon Mar 19 16:19:59 2012 -0500

    Removed midcol and rank sizing from replace_things function

commit a516ca9ed1cd469c2ab46e48def16c3e7a456857
Author: ughblah <brian.kiewel@gmail.com>
Date:   Thu Mar 15 17:18:36 2012 -0500

    Removed midcol and rank sizing from insert_things function

commit 8b1911d09b51bfae468cbf131b8f601194ce57ea
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Mar 15 14:50:35 2012 -0700

    Make _defaults dicts more diffable

commit 38eef5483ef8bd8c8e7fad86c71633fb6ddc9da2
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Mar 15 13:37:27 2012 -0700

    Add 'from_sr' to Message defaults

commit e4ef53b8884a566463264e58d865b496c36e9d63
Author: Neil Williams <neil@reddit.com>
Date:   Wed Dec 28 16:43:04 2011 -0800

    Google Analytics: trackPageLoadTime is deprecated.
    
    Site speed is sampled on 1% of requests automatically
    as part of _trackPageview. This is the maximum allowed
    by Google for properties with >1M hits / day.

commit 9c9d2e45e8c3d5487952ff88264c2f54bab8f7e0
Author: Neil Williams <neil@reddit.com>
Date:   Wed Dec 28 13:48:51 2011 -0800

    Google Analytics: use short form of _gaq.push.

commit c20cedffa5a5f1e49ce98c61a5e93250af385a81
Author: ughblah <brian.kiewel@gmail.com>
Date:   Wed Mar 14 21:03:18 2012 -0500

    Child comments were showing vote of deleted parent
    
    Fix issue where child comment would get vote of parent if parent deleted

commit 73ed5e3f61581d73c7db7122debcb7bfeec36a13
Author: Stuart Powers <stuart.powers@gmail.com>
Date:   Thu Mar 15 00:04:53 2012 +0000

    Don't use dropdown on mobile for top/controversial
    
    changed navmenu.compact to use a ${flatlist()} for rendering time options

commit c642d437dc950b646e4624cf6572a4e249ee62db
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Mar 14 17:24:15 2012 -0700

    NameError in cache.py error handling

commit 70e4d87e7ac42dcbc923415ea4c5c6e942e17c11
Author: Kay Zhu <k.zhu@me.com>
Date:   Tue Mar 13 15:14:10 2012 -0700

    Fix #205: message compose generates errors in IE
    
    Now uses JQuery.inArray() instead of Array.indexOf()

commit ffef0ef9d798731d084bb93d1581377d76f54abd
Author: Max Goodman <max@reddit.com>
Date:   Wed Mar 14 15:40:00 2012 -0700

    Only show moderators in the "banned_by" api attribute.

commit 8b08c8ef55c9d30e91b5b4f93c6adee723f58ae3
Author: ughblah <brian.kiewel@gmail.com>
Date:   Tue Mar 13 14:03:27 2012 -0500

    Fix issue with up/down votes from recently viewed links causing score to disappear

commit a42505c50a5e9010c54b31d101ec5ed3f83ad0f9
Author: Neil Williams <neil@reddit.com>
Date:   Wed Mar 14 10:26:31 2012 -0700

    Keep admin cookie around if actively used.

commit 8814f6ad092c3bfe48e4698043f9ab86fbdb8aff
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Mar 8 13:36:54 2012 -0800

    More functional spam and remove buttons on all items.

commit d2c3d2369249e3e6ce7a6f800681037237dbbaed
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Thu Mar 8 10:40:59 2012 -0800

    Dismiss action on items that are spam.

commit 33b15bc265fa6991324a3b23df341223ee8d46ae
Author: Neil Williams <neil@reddit.com>
Date:   Mon Mar 12 15:32:56 2012 -0700

    Split the admin cookie out from the session cookie.

commit e186b4cd98f1613a2badab9138861fa1dc55c793
Author: Neil Williams <neil@reddit.com>
Date:   Tue Mar 13 00:41:50 2012 -0700

    Require a password to turn admin mode on.

commit 975c06bb5d0b2edf44ceb237b65ed4dd45ca76c9
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Mar 13 13:41:30 2012 -0700

    ConfigParser should be case sensitive

commit aa3bb982dca35102962390de53846781e4075da6
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Tue Jan 3 18:31:10 2012 -0800

    JSON response for submission API now returns url, id, and name.

commit 92287f219d85621e3e66a38bfebdaff742ebc781
Author: Dmitry Kuznetsov <dkuznetsov@gmail.com>
Date:   Mon Mar 12 19:09:07 2012 -0400

    Return more correct HTTP status for Content-Length
    
    * 413 Request Entity Too Large for "too big" case
    * 411 Length Required for missing header case
    * 400 Bad Request for invalid header case

commit b1a53e57d3c02a116717a57f5fcfea3821c7de95
Author: Dmitry Jemerov <yole@jetbrains.com>
Date:   Mon Mar 12 23:00:50 2012 +0100

    admins see count of reports in link/comment JSON

commit 2fa39c58dd3e30118850b65a83aee51ddca74993
Author: ughblah <kiewelb@spanky.abbazabba.local>
Date:   Thu Mar 8 00:54:36 2012 -0600

    Fix form hiding on cancel button click

commit 8d7e6a4a811b6d207aff5caf4a99701464a165c4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Mar 12 13:01:12 2012 -0700

    Make updateini.py sexy

commit 4070cf7390b824a184fd2bca06ad79ade02b5155
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Mar 8 11:52:30 2012 -0800

    Synchronize r2.pot

commit 2c2ed24b05af62630597780bb93cab2d4db17de3
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 6 16:08:42 2012 -0800

    Add neutral pretty-button state for "remove-link" button.

commit c8cdc91b2eef2b37cc09f6d3bd298164daf19e2d
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 6 16:06:48 2012 -0800

    Clean up pretty-button styles.

commit d88e29e89cc298322abc5067a83c7c08e4f96028
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 6 16:03:17 2012 -0800

    Reorder button indexes.

commit 7c6fff648c4a181cf3f3c9860e7ba5a9433f437d
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 6 16:00:41 2012 -0800

    Clean up some big-mod-buttons frontend code.

commit f5b829bcb8f610e89954aacee9539614ae8b3c05
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Mar 6 15:01:45 2012 -0800

    Spam and remove options for big_modbuttons.

commit 2a8876bfb6dd2700ab497411720360a2f215c08e
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Feb 24 10:52:40 2012 -0800

    Remove things as spam or not spam.

commit 1088fe73dbdac6fcd714cb0ecd830908bbc7de45
Author: Sanil Mohandas <sanil.mohandas@gmail.com>
Date:   Sun Feb 5 03:01:49 2012 +0200

    Make links in comments and submitter/subreddit button links open in new tab based on preference

commit 714f4481b7fdc45e8f49a5fec06fccf6e2c5ad74
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 6 13:07:34 2012 -0800

    Add body class for messages pages.

commit ae404e88ac6b9f1702c118fd782199ae8b98ae9e
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 6 12:03:54 2012 -0800

    Whitespace.

commit 6a19b666e7ffd68e356d02bfdea46e9c5b00db49
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 6 12:03:40 2012 -0800

    Add multi-page body class for MultiReddits.

commit 85b1eb8cb50d1e3bbd88a45457393456e9bbe396
Author: Max Goodman <max@reddit.com>
Date:   Tue Mar 6 10:19:06 2012 -0800

    Allow CSS on the community settings page for sidebar editing.

commit 7b762d2c787ae639c89b02902048295ca47c6383
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 26 13:29:35 2012 -0800

    Take advantage of pycassa doing zero retries on counter ops now.
    
    This means fewer connections to Cassandra as we don't
    need an extra connection pool.

commit 6dbe531ff24cacfd75ec007a057d22bb07d22709
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Mar 5 12:36:16 2012 -0800

    Don't reveal banner's identity when replying

commit 7e1db722af130e213318683b66e762a110ee77b7
Author: Colin Dean <cad@cad.cx>
Date:   Fri Mar 2 21:24:26 2012 -0500

    Let box-shadow's spread parameter pass CSS validation.
    
    Fixes #360.

commit 36f48e51f368a4c54c013f18f45b9b127b20b092
Author: Max Goodman <max@reddit.com>
Date:   Sun Mar 4 02:13:00 2012 -0800

    Add semantic top-level page classes for use in theming.

commit a70236f6fd9c04ec955f65ab93cdc7abb5829b8e
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 3 21:43:49 2012 -0800

    Move moderator self-removal into the non-stylable edit moderators page.

commit 9c5936a7d9f9a8bbf5c06745125277983798c043
Author: Max Goodman <max@reddit.com>
Date:   Sat Mar 3 21:40:00 2012 -0800

    Template import cleanup.

commit 30d2a51f63fdf4fd78e3dde20aab19be72c1b6ad
Author: Max Goodman <max@reddit.com>
Date:   Fri Mar 2 09:50:34 2012 -0800

    Prevent framing and CSS on privileged subreddit pages.

commit 5c0cafb391c2b9d2c8ba357a121bade45aa51837
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Fri Mar 2 18:26:59 2012 -0800

    Provide proper thing_id for message parents.

commit dcf100fb61046ffa94e6e1d925c02888e4751cc8
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Fri Mar 2 15:49:06 2012 -0800

    Indicate comment tree was not built for non-submission comment listings.

commit a91e5bf96fd8246185c0585920460b75944c09e2
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Mar 5 10:19:55 2012 -0800

    Increase the limit on flair templates per subreddit from 256 to 350.

commit 775f0185ea4c28d2a58380af06ef3b1ab6c8c617
Author: Neil Williams <neil@reddit.com>
Date:   Sat Mar 3 10:43:39 2012 -0800

    Allow TypeIDs to be specified in INI file to simplify app startup.

commit 9f0ec95138276e03a7b14834c6422ed57150ef80
Author: Neil Williams <neil@reddit.com>
Date:   Fri Mar 2 16:33:51 2012 -0800

    Split table definitions from db configuration.

commit bd18256ee669935a4dc96a1d21736d102d65f35d
Author: Max Goodman <max@reddit.com>
Date:   Thu Mar 1 12:27:52 2012 -0800

    Add header info fields to subreddit about.json.

commit 184ecd55939681a1b56c7a657c032f91144628f1
Author: Max Goodman <max@reddit.com>
Date:   Tue Feb 7 23:43:05 2012 -0800

    Overhaul config parser: custom converters and mutable spec.
    
    This refactor introduces add_spec(), which enables other components to
    add config values to be parsed by the global config object.

commit 1e74945a410001bb747e6e90760fac01ec76b68e
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Mon Feb 13 17:24:29 2012 -0800

    Add ability to distinguish between when comments have zero replies, and when their reply tree wasn't built.

commit ec4739b452bc6e9e9686f2fa3bc39453bd9bc51f
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Sat Jan 7 17:12:46 2012 -0800

    Feature: Log out of other sessions
    
    Currently the only way to log out of all sessions is to change your
    password. Of course you can change your password to itself, however, this pull
    request makes it a bit more explicit.
    
    Underneath the covers it forces a change in the password salt by simply
    changing the password to itself.

commit 33898efe348cd1452ef3f7709c2f92dcf854e9ab
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Feb 23 09:53:39 2012 -0800

    Batch Subreddit lookups on mark_read/unread

commit 0dc3bbb26b8b9224b6612ac2fc2d5d42d50a92f7
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 14 16:14:32 2012 -0800

    Don't clutter modmail with ban messages

commit 012d055b7512bbd58eafc6b8016c4e684ac5c5ff
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Feb 22 14:28:00 2012 -0800

    Fix bug where modmail stays unread for non-mods
    
    Modmail sent to a non-mod was getting stuck as being
    unread.

commit e0e181ea6fb8cdb0df5cdf2431b4c44d186898a5
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Feb 15 11:51:22 2012 -0800

    Fix some lingering references to #<reddit>

commit a216f5e9016fa1083a45c7113c5314b9ed64af02
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 14 16:45:12 2012 -0800

    Hide modmail icon if no longer a mod

commit 033c36c93b8f0957a98a2146bb0339d88178d751
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 14 15:47:12 2012 -0800

    Fix /r/<subreddit> in mailbox

commit 56753983a78b1ac8e5e7927b7077ca8ded672aa9
Author: Josh Kaplan <jbklego@gmail.com>
Date:   Tue Feb 28 16:26:45 2012 -0500

    Fixed Issue #340: Comment RSS feed shows TZ twice
    Static TZ info was listed in the <dc:date> entry after the dynamic date info.

commit eef447871acce62d491cf7d431676372e6343522
Author: Andre D <andre@andred.ca>
Date:   Fri Feb 3 12:15:07 2012 -0600

    Prevent duplicate DOM IDs for promoted link panel on subreddit link listing

commit a61fbb2e4dd0a8c487460d7dea9af9f81c45f396
Author: Andre D <andre@andred.ca>
Date:   Tue Feb 7 17:31:39 2012 -0600

    Multireddits should not exclude over18 subreddits for users with the over18 cookie

commit 3699db9c9261db237cab91f65231f59f486e13d4
Author: Neil Williams <neil@reddit.com>
Date:   Mon Feb 13 11:53:57 2012 -0800

    Remove pycassa version requirement for flexibility.

commit f6aaf4a13d1f30288790d15328a651ccc03b80e0
Author: Jeffrey Rosen <jeff@wolfire.com>
Date:   Thu Feb 23 19:36:02 2012 -0800

    Load button resources over SSL when embedded in https pages.

commit 50f512564bfdc10760b6d2d4ed954cde730f255f
Author: aperson <nosrepa@gmail.com>
Date:   Fri Feb 24 16:09:53 2012 -0600

    Wrap the 'this post was submitted on' text in its own span.

commit 15bbb8217e1324c65e582fe2f38972d0695b943b
Author: Max Goodman <max@reddit.com>
Date:   Wed Feb 22 13:08:45 2012 -0800

    Move compact NSFW badge to the title line & add boxy style.

commit f02fba990b645082d9b2f17454e3a3fbf2d00635
Author: wal-f <wallfur+gh@gmail.com>
Date:   Mon Jan 9 19:09:26 2012 +1030

    Add NSFW indicator to links in compact listings.

commit e1d0e229a01f351113f89ba1225616ba8e0bd30e
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Nov 18 13:46:27 2011 -0800

    Add MultiReddit link to user's subscription listing.

commit 932447729ee8397954142ddaf7ea62aabf603cfc
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 14 15:45:45 2012 -0800

    Make the can_submit functions consistent

commit 44f761b31eb3b1e235438e070549ed911c2deb56
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 14 17:14:59 2012 -0800

    Subreddit.can_view should check ban status

commit bd7f4f30d57ae3ed0de09385e1f360a36dc704eb
Author: Andre D <andre@andred.ca>
Date:   Mon Feb 20 23:43:52 2012 -0600

    Prevent evaluating as a bool

commit ad02b799127942ea8a3bdf9ec202178d8a26a26c
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Feb 13 11:49:45 2012 -0800

    Check that gold_subscr_id is not blank.

commit e72e3c74be4a0cee8ef323e4548e6163f8dae353
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Feb 13 18:35:55 2012 -0800

    No log messages for editing sponsorship images.

commit e504f91d12d1ccb850e1a950c3fa0727a04a3ec4
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Tue Jan 24 13:02:24 2012 -0800

    Add is to or is moderator restriction.

commit a18e5e0e22962c5eb4919498f946c63e6b5fce83
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Tue Jan 3 15:07:05 2012 -0800

    Allow multiple messages in a single request to be marked as (un)read.

commit 619e1585845f46c136567d90a287bee41a21d8ac
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Jan 13 15:50:25 2012 -0800

    Responses from subreddit mail now show as read.

commit fbfa8ba955a4d06aa0a96a498337b39d25b722fb
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 14 12:14:29 2012 -0800

    Convert to use '/r/<reddit>' syntax for messages

commit 0cb9d4f10606d637b6ec94467d7ca5cb88eddb49
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 14 09:40:29 2012 -0800

    Add modmail messages to sent
    
    In the process, move taglinetext logic for messages
    into the wrapping/add_props area to reduce code
    duplication

commit 2537176f53aae162d2801747628aa0e23d603407
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 14 08:56:02 2012 -0800

    No need to translate "+" and "-"

commit 75bb464a005c54500b7203f0b10d18d576e2efc8
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 14 08:54:00 2012 -0800

    Allow moderator to reply to modmail thread they originated

commit 50ecb6cf52b7f1f86532c962dd18c50185ed3a32
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Feb 14 08:52:38 2012 -0800

    Explicitly state the SR name to reduce potential for deceptive titling

commit d3f8fdbda2ef4df9be69b4177921bda7c6c4d3f6
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Oct 13 10:32:15 2011 -0700

    Send ban message from SR, not mod

commit 3dce43b09a75b9de3eb02514f436c73151866e8f
Author: Neil Williams <neil@reddit.com>
Date:   Mon Feb 13 11:54:26 2012 -0800

    Fix snudown package url.

commit 06694983fa63441b46e1297f543380eae84d774c
Author: Neil Williams <neil@reddit.com>
Date:   Mon Feb 13 10:54:09 2012 -0800

    Up max_column_count to 25K.

commit 3ff6d3a66cfec5d57ba388907d6f0a3b02c36a69
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Feb 6 15:00:03 2012 -0800

    Avoid iri_to_uri in flask redirect

commit 1db21dcf96777a917a7c7c82955f826f77c90321
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 9 09:27:12 2012 -0800

    Use new query cache for deleted thing query caching.

commit fbe867ef729e38712a6249c1ce7f12a7326bad4c
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 30 20:08:02 2012 -0800

    Implement new lockless query cache.

commit 50a0088d159550620831960e161290e43c5e87fc
Author: Neil Williams <neil@reddit.com>
Date:   Tue Feb 7 13:50:58 2012 -0800

    Gracefully fail if recent clicks cookie contains NotFound thing.

commit 474c36955ec4c8b9ffc1ea8f5a8748095c3b7789
Author: Max Goodman <max@reddit.com>
Date:   Fri Feb 3 10:29:32 2012 -0800

    Restructure sr bar clipping to avoid Android browser auto scaling.
    
    The default Android browser of various flavors automatically scales the
    page beyond the defined viewport width because of our abnormally wide
    top bar. I juggled some of the CSS to be able to absolutely position the
    bar within the page, which seems to avoid triggering this auto scaling
    behavior.
    
    The my subreddits dropdown needed some restyling to avoid clipping the
    dropdown, when shown.

commit 72963c28d07de873d37741198b19538e44fc5fcf
Author: Max Goodman <max@reddit.com>
Date:   Thu Feb 2 15:16:56 2012 -0800

    Increase the default viewport width to avoid sidebar wrapping.

commit be476a0cef8d3418581cee789f892a2449c8a4e8
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Jan 30 20:43:33 2012 -0800

    Set errors, don't send_failure on QUOTA_FILLED.

commit 3de67b654f0e2bc880d31032ea93ae2fd4cbf14c
Author: Neil Williams <neil@reddit.com>
Date:   Mon Feb 6 14:20:50 2012 -0800

    Don't write to slaves when unable to contact the master.

commit 5886a65807c63738d0d8086c18f6159097317ec8
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jan 30 14:01:38 2012 -0800

    Move to CL ONE for LinkVote/CommentVote.

commit fcd3f3bba3284f7f92d6ac5440496e62062785df
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 2 11:20:42 2012 -0800

    Make cassandra connection pool size configurable.

commit 8b386b9c5904a0a8c161ef9dbbbf5105e17ddaa1
Author: Neil Williams <neil@reddit.com>
Date:   Thu Feb 2 09:17:34 2012 -0800

    Share a request rate limit reminder on both 429 pages.

commit 4ef748d0f530c5c34be3fb16883e8805511ab820
Author: Neil Williams <neil@reddit.com>
Date:   Wed Feb 1 14:50:04 2012 -0800

    Make distinct error pages for throttled IPs and ratelimited UAs.
    
    Also check for throttling before checking UAs so that
    throttled IPs get a consistent message.

commit 19dd459e945110b51831b5643172e9806334cdd4
Author: Neil Williams <neil@reddit.com>
Date:   Wed Feb 1 13:28:27 2012 -0800

    Limit requests from AppEngine apps by AppID not globally.

commit 8d9700cd33900cea6f1e3dbc641e2af46ecd9d6b
Author: Neil Williams <neil@reddit.com>
Date:   Wed Feb 1 10:47:19 2012 -0800

    Improvements to copy on 429 page.

commit 6460c6522e4a449ae1da1b40c892c320610f0849
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Dec 30 13:49:20 2011 -0800

    Modify builder to return the original version of last_item.

commit 6d874f48c5e8fb897779c3908bc8c7b5490a6a4d
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Dec 27 13:45:14 2011 -0800

    Add ModAction for marking post as NSFW.

commit 8eef6e1cd326df6d977f885ca9bd561c353c7fd3
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Dec 27 12:30:17 2011 -0800

    Add ModAction for distinguishing links and comments.

commit b14b73e109c623b518c0c4cfce6900d1ee74b38f
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Dec 23 10:37:13 2011 -0800

    ModAction details field for confirm spam and unspam.

commit 42979d34f6a14a5e8f27d670f2c453a7a806e77a
Author: Max Goodman <max@reddit.com>
Date:   Fri Dec 23 14:24:42 2011 -0800

    Margin and padding tweaks to add more color around log rows.

commit 6f3c20a96dc8dcf91d61028b43a036e93a6d4f9b
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Dec 21 14:54:23 2011 -0800

    Moderation log on ModSR and MultiReddit.

commit 4157f4e10bb0ada17a00b1c7a4d9f35eb89cddd8
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Tue Jan 31 02:41:51 2012 -0800

    Modify ColumnQuery to use multi_get.

commit 41582d4c3c04f307b507e1b4237efccb89f4c804
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Dec 21 14:53:59 2011 -0800

    MultiColumnQuery in tdb_cassandra to combine ColumnQuery objects.

commit e3b5bd99d5a160e6e5f9f84bf0e5550a24055f57
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jan 17 14:49:37 2012 -0800

    Fix TypeError trying to evaluate table columns as bools.

commit 0a4a13fe572c38c3eaedee972fb4ec2bc5f37f53
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jan 17 14:34:16 2012 -0800

    Replace SQLError (which no longer exists) with DBAPIError.

commit a26d6a953ed6b64c0841414a50669b9d652d3c2b
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Dec 19 13:52:15 2011 -0800

    Record postgres cursor execution times.

commit 59421ba17fbea63513fbc98c8b4bfcfa3d283bd7
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Dec 15 11:52:13 2011 -0800

    Upgrade to the 0.7 series of SQLAlchemy.

commit 626bf7d2e47560bac5c81ee897832d558cf72608
Author: Matt Lilek <mattlilek@gmail.com>
Date:   Wed Sep 14 12:29:09 2011 -0700

    Remove viewport initial-scale, fixing need to zoom out on load.

commit f86296532791bde0398686fa2ec55e72f18781fe
Author: Max Goodman <max@reddit.com>
Date:   Thu Jan 19 13:39:36 2012 -0800

    Replace old apple touch icon.

commit e22e1b873d71989cd25f49abd8a899777256c75c
Author: Max Goodman <max@reddit.com>
Date:   Sun Jan 29 21:07:24 2012 -0800

    Remove dead remnants of comment levenshtein code.

commit 8b5cad8687c2249ac3d2ef019a2ced80347aa107
Author: Max Goodman <max@reddit.com>
Date:   Wed Jan 25 18:09:49 2012 -0800

    Move toggle for template caching into its own .ini flag.

commit 5a405f6b24d0e6b8cbc258250f01c8ec40c8f5b9
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 25 17:25:49 2012 -0800

    Fix unterminated entity in footer.

commit 31be5be38837cb9f80b7bb7561a01fc03cc3b35c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jan 27 15:18:15 2012 -0800

    Need to pass award.api_ok to awardedit()

commit b75ee5da5e566ac596c7cabf383c5ce32b9862b5
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 25 13:01:11 2012 -0800

    Upgrade to pycassa 1.4

commit 06c933df563aa505b7e39d655a5feb43d15a644c
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 27 12:01:08 2012 -0800

    Upgrade to snudown 1.0.4 and add /u/ support.

commit 788981a312a1bfd542ed24b300619a75554e6edb
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Jan 13 16:40:24 2012 -0800

    Spruce up quota messages (wording courtesy of redtaboo).

commit 05c92951056fa6c7f64c05a54e9bf479861e9a87
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 23 10:33:17 2012 -0800

    Ignore mod bans when creating promoted links

commit e7b672d6b0d9fdaedd5fa204a8cc99a2c4911e62
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jan 20 09:23:58 2012 -0800

    Replace proxy_addr with option to trust proxies in 10.0.0.0/8.

commit f52759f0daff459a58ddb6bf9591325ad0f79b7b
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 19 12:31:26 2012 -0800

    Upgrade to Snudown 1.0.3.

commit a24175939772e55a074e10a857a95f53063a08e7
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 19 12:20:32 2012 -0800

    Change type prefix for Cassandra votes.

commit e3f00daae0f8ccb2689cc630297a314b5648636f
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jan 13 09:24:18 2012 -0800

    Add translator notes to the random strings

commit 6c01738569fa82a7687afe61db2cc415d6a3dedc
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jan 12 11:17:51 2012 -0800

    Fallback to the non-dialect version of a language
    
    If a language dialect is used (such as pt-pt), and that
    dialect is lacking a given translation, fallback
    the the non-dialect (e.g., pt) translation, if there is one

commit 9faf55e479a4cad7945987264c616a92f6495032
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jan 12 10:37:58 2012 -0800

    Typo in promotelinkform.html (large -> larger)

commit acae7b43a2f6e9fae2d1e800643c5ffcbe4f9101
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Jan 11 15:44:11 2012 -0800

    Use 'translated' English as a fallback translation
    
    This avoids showing ugly strings such as "comment {verb}"
    to end users

commit b9f948325d58735a750e76ed50b03574d8f6a4f3
Author: David Hu <davidjhu@gmail.com>
Date:   Fri Dec 23 15:49:28 2011 -0800

    sharelink.html's share_from error field: "COMMENT_TOO_LONG" -> "TOO_LONG"

commit 79bc0a734c4cb5221d5437f726f886874abaf510
Author: David Hu <davidjhu@gmail.com>
Date:   Wed Jan 4 13:08:14 2012 -0800

    When api_type=json, return new captcha iden to caller when VCaptcha fails.

commit 1d961335c8f0f5412bbc593e37d59219b3c035bc
Author: David Hu <davidjhu@gmail.com>
Date:   Sat Dec 24 00:21:49 2011 -0800

    Modify /api/new_captcha to return "iden" when api_type=json.

commit 07de01a8d812a10bebe310c2e7d0d6367b1f0e3d
Author: David Hu <davidjhu@gmail.com>
Date:   Wed Jan 4 06:08:25 2012 -0800

    Modify /api/submit to return QUOTA_FILLED error when api_type=json.

commit 827a43027a563fc75871d9cb07db77bbe90ef3b4
Author: David Hu <davidjhu@gmail.com>
Date:   Fri Jan 13 16:14:27 2012 -0800

    Add run.ini and srv/*/log/main/* to .gitignore

commit 618d8f2da017cb899258c0e7443b28390d622363
Author: David Hu <davidjhu@gmail.com>
Date:   Wed Jan 4 08:39:19 2012 -0800

    Modify /api/subscribe to accept "sr_name" param to support subscribing subreddits by name.

commit 578dc7a2c55ff07b0827a0485594bdf06fc95bbb
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 11 21:06:45 2012 -0800

    Revert "Clean up usage_q infrastructure."

commit 283161cbd64c287fb80be6e6bd42b968a6481840
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 11 21:03:20 2012 -0800

    tdb_cassandra: Let subclasses specify their own schema args.
    
    Subclasses now inherit their parents' _extra_schema_creation_args
    and can override them if desired.

commit 5f9267380ef16ae42c9a168b92d3e644f7f60811
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 11 21:01:26 2012 -0800

    tdb_cassandra.Counter: Add _incr_multi.

commit c18bbe55c738c69ea4c73bfb6f27035b23c902df
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 11 21:02:53 2012 -0800

    tdb_cassandra: Add support for SuperColumnFamily counters.

commit 98d3253d03bc2e76067218a2262971cab2202951
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 11 20:59:21 2012 -0800

    Increase timeout for noretries pool.
    
    .1 seconds was too optimistic.

commit 5348e6dce4bca05ce0a267e464c21699c5942e6d
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Tue Dec 6 00:55:09 2011 -0800

    Fix error when attempting to clear flair templates that have never been set.

commit 7e0140972f53f327fed64de9356c81dfb4b7e2d0
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Tue Dec 6 20:49:38 2011 -0800

    Make disable_captcha work properly with unlogged users.

commit d0a338cb72e0a64f3541c9966701bc2898fc4d39
Author: Andre D <andre@andred.ca>
Date:   Wed Jan 4 14:21:52 2012 -0600

    Fix subreddit image upload form not updating when an error occurs.

commit 37364c40e37125772f5cdf5b1d52769a90ce0114
Author: Neil Williams <neil@reddit.com>
Date:   Sat Dec 17 10:49:14 2011 -0800

    Increase MAX_ITERATIONS so 20K comment thread stops breaking.

commit 49c9831087d065219fb2609311248c689c5c8389
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 22 21:57:03 2011 -0800

    Pare down send503().
    
    Only search_fail is using it now, so might as well
    simplify.

commit 34b4e479b62978d79c9183aff8b8c1686c38e2cd
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 22 22:22:23 2011 -0800

    Use HTTP code 429 "Too Many Requests" when throttling.

commit ef45362d591029cfdb2e74cf77017d810f69318a
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 22 20:34:27 2011 -0800

    Remove other unused commands in HealthController.
    
    dump relies on the old paster setup, so it doesn't even work
    anymore.

commit 9a6c4369c4749c2be5c43caff3aad18a9d2636cc
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 22 20:23:34 2011 -0800

    Remove unused /health/shutdown command.

commit 706b27b24c8a73ea36ab159530f277f00abe02b1
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jan 5 09:29:56 2012 -0800

    Remove all remaining traces of the unused service cache.

commit 5f0c23a75e654479567aaa32fd2e58c1fbd8a639
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jan 5 16:46:12 2012 -0800

    Makefile was looking for I18N_PATH in removed module

commit 5c10fda71c873785b8176ffaf135736e88ac6c4c
Author: Jason Harvey <jason@alioth.us>
Date:   Thu Jan 5 17:18:21 2012 -0700

    tweak the heavy_load message

commit 800bfcf1f55357ea4debb702804ce260a0a24164
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jan 4 11:28:40 2012 -0800

    tdb_sql: Use IN instead of ORs for fetching things.
    
    Postgres likes this a lot.

commit bbd27331ea807836272c13d5238ac6563a37e377
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jan 3 11:58:04 2012 -0800

    Don't report timing for bogus web requests to statsd.

commit 080d7bd895c52d35942ad5dcc533a64951ed6950
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jan 3 10:58:10 2012 -0800

    long_datetime should account for timezone

commit 7c90a6ea512038eb715fa82a5253f005b04801f9
Author: Max Goodman <max@reddit.com>
Date:   Mon Jan 2 12:19:31 2012 -0800

    Expose 'archived' subreddit type to admins in the settings UI.

commit fb79a8cbe53cd65a09f3f7e7600287a3cea4f75c
Author: Max Goodman <max@reddit.com>
Date:   Mon Jan 2 12:18:47 2012 -0800

    Fix error check for subreddit VOneOf parameters.

commit 8b586bc8b0b3be1d725c7f62a379a1fc95597719
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Dec 30 11:23:15 2011 -0800

    Whitespace changes in api.py

commit 71627420cceac7820c5e470003b47a9f651c9160
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Dec 14 10:15:06 2011 -0800

    Allow removing trophies via API
    
    (for redditgifts rematching trophy tally)
    
    Also, restrict trophies that can be add/removed
    in such a fashion to trophies that specifically
    allow it.

commit fcf33fb00e228e4150259a24adbbd55beed2f087
Author: Neil Williams <neil@reddit.com>
Date:   Sat Dec 24 23:35:43 2011 -0800

    Fix password reset email grammar.

commit b1388f0c12715cbff17406aec465142af6065a7f
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Dec 29 11:01:35 2011 -0800

    Report mean cassandra response times per request, not total.

commit 6daeb24c38f3bf462dcf9afde8a6a670194d9001
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Dec 19 16:12:29 2011 -0800

    Clean up how per-request cumulative timing stats are recorded.

commit 0c4716042cea8c62169dae8912d31b378db824d4
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jan 2 11:05:08 2012 -0800

    Remove lingering reference to I18nController
    
    /admin/ was going to the I18nController. It now
    points to the awards page.

commit 88d191eebfdb26b9b7c79eb6a3abc986d226e631
Author: Neil Williams <neil@reddit.com>
Date:   Sat Dec 24 23:32:17 2011 -0800

    Gold feature: personal karma breakdown by subreddit.

commit b70cb0a18aeb677573a93edb2e8c38a7c4961a4a
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 23 12:32:18 2011 -0800

    Pretty up the gold expiration box a little.

commit d9307f50bf44d742d3b075255c3eddc89be81c2a
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Dec 23 05:38:46 2011 -0800

    Safely look up Subreddit when creating ModActions in API.

commit a2ee4578b46aa81924593b35e114898408667c37
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 22 00:44:55 2011 -0800

    LinksByUrl: make column values empty string.
    
    This halves the storage cost of LinksByUrl and
    has no downside as the data was redundant.

commit 45cdcc31c399fb95c7c173f3a3ed4f6d4a0b16e8
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 22 00:43:46 2011 -0800

    Make LinksByUrl read with CL ONE.

commit 1ca2304f79aad0f283f7ed00d00210a29236ca67
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 22 17:31:36 2011 -0800

    Add _connection_pool option to LinksByUrl.

commit 1b423381a29f67890c4feb66da9e5cafa39af39b
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 22 00:42:18 2011 -0800

    Remove unused function from link.py.

commit b1353208ecb9972d7eaacf08f4492d019620e0cd
Author: Max Goodman <max@reddit.com>
Date:   Thu Dec 22 15:07:02 2011 -0800

    Ignore HTTPFound redirect exceptions in the error controller.

commit 1c7d495deb2095e40ec6d8d0a2e72eec8bf708d0
Author: Max Goodman <max@reddit.com>
Date:   Thu Dec 22 01:41:58 2011 -0800

    Allow the render style of api responses to be set by extension.
    
    This enables more straightforward pure-json access to apis that return
    things, such as morechildren.json.

commit 60f704ef89fe513dff2608380545786c74e95428
Author: Bryce Boe <bbzbryce@gmail.com>
Date:   Wed Nov 16 00:45:20 2011 -0800

    List child comments in MoreCommentsJsonTemplate.

commit 3c575d94767d4322032d5263c4093f222e292936
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 21 16:45:10 2011 -0800

    Abort requests after intermediate_redirect.
    
    Fixes last-modified caching issues with over18 redirects. Thanks to @k21
    for sleuthing out this bug.

commit 5cb19c96d3aaed9a8914dfa26569664513e68d73
Author: Max Goodman <max@reddit.com>
Date:   Tue Dec 6 17:17:26 2011 -0800

    Detect and conserve identical images in nymph.

commit 733d5825c0ee7b32ecaad17e588e36af5b67b501
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 21 11:59:49 2011 -0800

    Make "approve comment" icon background transparent.

commit 61227124d4e71b4aecffc6360a8101c06296fae2
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Dec 5 18:56:28 2011 -0800

    Modaction display.

commit 5a03a41c3c04b5c05aa22ff83e5d5ed5de585a0c
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Mon Dec 5 18:50:23 2011 -0800

    ModAction model and logging through API.

commit eb74ad47141bc85ca27e8cdb079f523cad2eacc0
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Fri Oct 21 16:11:48 2011 -0700

    Allow UUIDs for cassandra rowkeys and column names.
    
    Also add a query that iterates over columns.

commit 8de8c133f131dd5b0f4388bb508b10c146383255
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Dec 14 10:20:15 2011 -0800

    Allow VByName from cassandra.

commit acf43bf9047a417de1ec908c8d989904cc68e45a
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Nov 30 15:54:43 2011 -0800

    Provide optional 'first' link for navigating listings.

commit e2d268bedf57f462e964cad291173d366b9f6751
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Nov 30 14:46:52 2011 -0800

    Allow NavButton to remove a parameter rather that just set blank.

commit b6b454826482d51a793ef419bb7851de155b40b8
Author: Alastair Coote <alastair.coote@gmail.com>
Date:   Thu Oct 20 15:49:33 2011 -0300

    Added recordsetter.com to embed.ly list

commit b454c4a77463ee02911279224bc8f89f7fea62c0
Author: Ian Weller <ian@ianweller.org>
Date:   Sun Sep 25 14:34:54 2011 -0500

    Add youtu.be to embed.ly scraper

commit 4eab27d8016ab6c9c937385cef4bba4ffbea19a0
Author: James Daily <jamesdaily@gmail.com>
Date:   Wed Dec 14 20:33:30 2011 -0500

    Reworded password reset email.

commit b9851e9d0f991f71652ec9050b3908f86b5be64b
Author: David Hu <davidjhu@gmail.com>
Date:   Sat Dec 17 11:37:18 2011 -0800

    Fix reddit name autocompletion on new link submission page.
    
    The search_reddit_names API call requires the ".json" suffix.

commit 85a1ca9425683932c4acfcb4312621f32cacfc24
Author: Max Goodman <max@reddit.com>
Date:   Fri Dec 16 11:02:47 2011 -0800

    Disambiguate shadowed 'target' variable in buttons code.
    
    Thanks to a suggestion by Octatone.

commit 66eab95f88bfed13d17381b83121843698c94650
Author: Max Goodman <max@reddit.com>
Date:   Fri Dec 16 13:52:36 2011 -0800

    Tweak z layering of comment areas by removing positioning.

commit 0bc8cce9322d554ffd1bb86c1bdfe09fe2a4a5e6
Author: David Hu <davidjhu@gmail.com>
Date:   Thu Dec 15 16:08:49 2011 -0800

    Quote property name in error.py's JSON api response.

commit d48284c4cf04bc9a00bf68f089f3859bb45804d1
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 15 23:10:53 2011 -0700

    Make mr_top jobs more portable.

commit a39f0bcc8fadf8b2724c54a05fe1ef6b4ba6ed2d
Author: David King <ketralnis@reddit.com>
Date:   Wed Dec 14 17:07:40 2011 -0800

    Update cron scripts to reflect reality.
    
    Still out of date, but less so.

commit c48714b44452654bde76dae8ca67f1efff65e01e
Author: Max Goodman <max@reddit.com>
Date:   Thu Dec 15 11:52:50 2011 -0800

    Fix handling of unicode referrers in r.config.

commit 4ce00f2b68a91e6f2a2935e770f3fe17c5ea29a7
Author: walropodes <ian@ju.gg>
Date:   Tue Nov 15 18:02:40 2011 -0700

    Fixing extra "even" class in lists of elements.

commit 64806bcd2a312a33702d9b66f3b68cc4a7ece743
Author: Max Goodman <max@reddit.com>
Date:   Tue Dec 13 10:39:37 2011 -0800

    Make the username check case sensitive when deleting accounts.

commit 591d4fbdbab04aa551bb5971d1c8712a810279c6
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 7 16:24:47 2011 -0800

    Strip usernames of surrounding whitespace in the login api.

commit b022b7884011ab7ef597cbe0864c59e9179e6bf3
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Dec 15 12:00:40 2011 -0800

    Fix I18N_PATH for opensource (correctly this time)

commit eafe67b0ea33a9a5a8486fe747580500b8f124a1
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Dec 2 16:45:00 2011 -0800

    revert: Fix i18n issue with 'ago' translations
    
    Since 'ago' is commonly used, the translations should
    be migrated first/in-conjunction

commit 9e1b32db148e47d02a595f0aa8de5b9ed2030fe1
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Dec 9 16:40:25 2011 -0800

    Combine i18n.py with translation.py

commit 00f97a47ff8dbed249ecd7d0dc22839b59e2353c
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Dec 5 17:17:34 2011 -0800

    Replace sample r2.data file with updated version
    
    Based on sister changes to reddit-i18n, r2.data
    should be JSON formatted. This is only used when
    reddit-i18n translations are not in use (for opensource
    clones/staging). In addition, the fallback
    I18N_PATH (used when reddit-i18n repo not found)
    was incorrect.
    
    Also, remove unused imports in translation.py

commit e6f5a8b138b793e8936c2af59d436f5a0b05b027
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Dec 5 17:11:44 2011 -0800

    Remove unused live translation code
    
    The "live" translate interface is unused, and
    not currently maintained. Removing until it is
    needed in the future.

commit 4b06f53f6c030e303dfdf25b18e598dead3b3298
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Dec 5 14:22:26 2011 -0800

    Actually add the (*) if the language is <50% translated

commit 9f136da5d7e0ba84be5fed53136e095efe4400fa
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Dec 2 16:45:00 2011 -0800

    Fix i18n issue with 'ago' translations

commit a3aabff799124de78245547bdcca8a4a40d8c2c2
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Dec 2 14:59:12 2011 -0800

    Remove unused 'shirts' string

commit e0b148f4a5d660b87eaf42f5ef8eb77675f3aa8d
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Dec 14 17:07:33 2011 -0800

    Add stats collection for cassandra ops.

commit 978e28f56539574f66136d118c60d494f165f71e
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 29 18:09:36 2011 -0400

    Fix URL validator to restore resubmission functionality.

commit d56089ee6eed14846b1de5edfc240ac639ff6570
Author: Max Goodman <max@reddit.com>
Date:   Wed Dec 7 15:08:06 2011 -0800

    Prevent tiling of CSS sprites.

commit facf7f7930a727c661bb2f3efc1f40329fbdb469
Author: Max Goodman <max@reddit.com>
Date:   Thu Dec 8 23:25:24 2011 -0800

    Simplify and fix extension mapping lookups.
    
    This fixes an issue introduced by
    825e644f526a5570590c4648e28c1beda4d79e17 in which the extension mapping
    changes from a tuple to a dict. Since dicts don't have a guaranteed
    ordering, that change affected the behavior of the .json-compact extension.

commit 1950fd64998aad47528c0f89c9df88d122d8e022
Author: Max Goodman <max@reddit.com>
Date:   Mon Dec 5 16:06:08 2011 -0800

    Wrap the "submitted on" sidebar date in a div to ease theming.

commit 98d8268d082fc22dc145d23c5417d24fe928119c
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 9 10:20:18 2011 -0800

    Make sure to remove static file symlinks before overwriting.
    
    Fixes issue with RTL stylesheet not being rebuilt properly.

commit 54e7eee58b71e68531e083fd2aaf5ff49d992e37
Author: Neil Williams <neil@reddit.com>
Date:   Fri Dec 9 12:01:58 2011 -0800

    Snudown v1.0.2 supports git:// schemes.

commit 0f7aff8ff096209af17b18ed71a076ed62d88760
Author: Max Goodman <max@reddit.com>
Date:   Thu Dec 1 14:39:16 2011 -0800

    Hide the "submit a link" button from banned users.

commit 06f8d1c4f0a3a1123df262cd60ac6b5590f3ea7d
Author: Max Goodman <max@reddit.com>
Date:   Thu Dec 1 14:22:32 2011 -0800

    Add support for archived subreddits, with a special submit message.

commit 7c328537d30aa477eb13aa0dddc82e02442cddf6
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 30 14:44:35 2011 -0800

    Dim and disable the "submit a link" button when unable to submit.

commit dc5e74ea055bde669562ad1e15d92e31ca2d8dc2
Author: Max Goodman <max@reddit.com>
Date:   Thu Dec 1 14:23:53 2011 -0800

    Make SideBox.show_cover take effect properly.
    
    It appears this functionality broke when the cover functionality was
    switched over to the "login-reqired" class.

commit 6e27323e8a50ec34505d98641fcd5570d03b1801
Author: Max Goodman <max@reddit.com>
Date:   Thu Dec 1 12:29:19 2011 -0800

    Remove unused sidebar box advertising gold credits.

commit d8c6870912a18bff6bb6709a3681cadf56d81e9d
Author: Max Goodman <max@reddit.com>
Date:   Mon Dec 5 11:53:57 2011 -0800

    Convert sidebar linkinfo date to a <time> element.

commit c84cd65ccc7b7e1a63ee90c0d27bf1fef3823b6a
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Nov 30 22:52:15 2011 -0800

    Fix normalized hot bug causing hotnesses > 1.

commit 741a1cde700009c187f9d8df4a7e6db3eb5a6fb6
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Dec 2 10:26:04 2011 -0800

    Make marketing email address consistent
    
    Also, some header and grammar tweaks

commit 33574bc7019f9c50d2ff8f2948494efee7a9ddb1
Author: Max Goodman <max@reddit.com>
Date:   Thu Dec 1 15:53:19 2011 -0800

    Remove robots tag from banned post pages.

commit 3df6a0678d9166220e619c0f52a05ee0350a4a63
Author: Max Goodman <max@reddit.com>
Date:   Sun Nov 27 20:14:55 2011 -0800

    Fix subreddit name vertical positioning between Chrome/Opera.

commit 67628c617c15c5ef023f9bee2e5ab4a6a1488481
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 23 19:38:23 2011 -0800

    Link to the subreddit in the submit form title.

commit 2aba12f6e671c2beb0b3432658fd5051ca03f497
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 23 19:23:26 2011 -0800

    Include the subreddit name in the header of BoringPages.

commit 50c51c223dea0512d87ffcf9069d97b034a32854
Author: Max Goodman <max@reddit.com>
Date:   Mon Nov 28 09:29:29 2011 -0800

    Add robots "noindex, nofollow" to deleted and banned post pages.

commit 7ac293d3d65b85eef2198e0adad32f764f2352fe
Author: Neil Williams <neil@reddit.com>
Date:   Thu Dec 1 14:29:59 2011 -0800

    Makefile: Fix .update -> .ini rule.

commit ea00e4996b4f9ad34f32b510786235b0781c642e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Dec 1 11:03:24 2011 -0800

    Don't try and translate c.site.title
    
    We won't have translations for user-entered data

commit 502ebd2c478c5d7c6d5fcba246fb045ce80448aa
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 25 11:23:04 2011 -0800

    Clean up usage_q infrastructure.

commit 794baba01af78ef6e2084fa893d770583d113edd
Author: Neil Williams <neil@reddit.com>
Date:   Sat Nov 26 23:52:19 2011 -0800

    Add support for Cassandra counters.

commit 532be3fe2a80a4ed47bc99ee250d159c10b8d029
Author: Neil Williams <neil@reddit.com>
Date:   Wed Nov 30 15:54:37 2011 -0800

    Allow Cassandra models to choose a connection pool.
    
    Note: some CFs are explicitly marked for the "main" connection
    pool and others are not. This is an artifact of the current
    state of reddit.com's cassandra setup and is intentional. While
    cassandra_default_pool remains "main", this will not cause an issue
    for you.

commit 59fb2a9b895d7e5e9b3102f62611f6b7ff6b72f4
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 18 16:29:24 2011 -0800

    safemarkdown: Skip c.cname lookup when possible.

commit 3825d31a2f10e898ee1124be37fe2a473a217542
Author: Neil Williams <neil@reddit.com>
Date:   Sat Nov 19 01:33:14 2011 -0800

    _force_unicode: Bail out early if text is already unicode.

commit 2863a7f4bb505f589a9f89a5916fcaabaf01c12b
Author: Neil Williams <neil@reddit.com>
Date:   Mon Nov 7 12:25:55 2011 -0800

    Stale-memoize pop_reddits.

commit 2ac898f95e4e82e5326429b675c56d346a6d78ea
Author: Neil Williams <neil@reddit.com>
Date:   Mon Nov 7 12:10:24 2011 -0800

    Add stale cache support to @memoize.

commit 3737592c13b9514ca3ec4bfc6298648078d60763
Author: Neil Williams <neil@reddit.com>
Date:   Mon Oct 31 14:09:20 2011 -0700

    Don't recalculate parents dict for zero-comment links.

commit bf880559add876fed78eb2d298817bf0ec169c3a
Author: Neil Williams <neil@reddit.com>
Date:   Wed Nov 30 15:53:33 2011 -0800

    Make CommentSortsCache use CL ONE for reads.

commit 2677fd34b82561d5d979d16d5bc4382d32e8846e
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Oct 20 15:12:05 2011 -0700

    Don't show flair prefs in subreddits that haven't turned on flair.

commit 3c4fc1c8971dcfbcfa7a08530cc55c00f9b72ce6
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 30 09:44:45 2011 -0800

    Add kwargs to JSONResponse nop catch-all.

commit 9682cb5aadde3c491d276edcc2618e0b9191c370
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Nov 15 08:33:11 2011 -0800

    Change /i18n redirect to /r/i18n

commit 3adb5591a8b7d89eafe6b6c1b7fd771d1ebe15ed
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 29 17:37:24 2011 -0800

    Make git revision lookup fail gracefully.

commit 4f70066a08f5cc5c0ef767950e5b4ff7f696eddb
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 29 16:50:27 2011 -0800

    Make paster run use execfile so stack traces are useful.

commit a7bcdaa25ff34eff8b6e96ddc48ae777c733c4d7
Author: Neil Williams <neil@reddit.com>
Date:   Wed Nov 30 09:44:28 2011 -0800

    Increase self text limit to 40 kilocharacters.

commit 10d19f3140a57b02c539ea5a3c83899e3bd70cf4
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 29 16:12:15 2011 -0800

    Make S3 uploader aware of bizarre .gzip extension.

commit 60f293e8a852981c80250f7a1671509c9edd26c3
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 25 21:27:52 2011 -0800

    Use paste's parser for Accept-Encoding check.

commit 1ca4d56b985ac5fdf05d8f3572873477c204a0a0
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 25 21:23:41 2011 -0800

    Use .gzip as extension for pre-gzipped files.
    
    Some versions of Safari are stupid about files with
    .gz suffix.

commit ffb62ff07662af368e93de619898daecc53054c4
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 22 12:14:48 2011 -0800

    Rewrite makefile to better track dependencies.

commit 7aa603d788e23c7bb6a4cc8441cb5b37ea63ab14
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 25 18:50:25 2011 -0800

    Wrap make_app to allow r2 imports before pyx build.

commit 07a23a1e5534d0b70926a9d96ec1a47c55e3ea00
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 25 18:52:42 2011 -0800

    Move language enumeration to r2.lib.i18n to avoid import madness.

commit 164fe494479ff3b4803ef253498c5ba70c3e2ed5
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 23 09:56:46 2011 -0800

    Count CAPTCHA success/fail rates in stats.

commit 6945598117787fcdfa2b8d3467b4a09c9227811c
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Nov 17 14:21:19 2011 -0800

    Pass queue names to @g.stats.amqp_processor.

commit 709dd352613ea6c998bbbaf45bb616681cb77ace
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Nov 16 12:19:34 2011 -0800

    Fix bug counting misses in chains with no permanent caches.

commit 97c36b1f157be83368cbdfecce75d2d7ecd31f37
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Nov 22 13:59:20 2011 -0800

    Mark certain caches as "permanent", and count hits and misses accordingly.

commit bc6ecb5b612ff2e12e99294699a0f11a86c5c23c
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Nov 10 11:55:58 2011 -0800

    Add a separate sample rate for relatively spammy cache stats.

commit c1347f6d27d0e92d828684abda43da61ad383b97
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Nov 10 10:59:55 2011 -0800

    Record cache hit/miss stats.

commit 7fed17d0144504ed1430a45bea1c01d845c5786f
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Nov 9 12:21:57 2011 -0700

    Fix syntax error from trying to add stats collection to the solrsearch queue.

commit 43dbcfc4eeec0e46c8dbefc363b875117df5cf25
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Nov 8 16:56:02 2011 -0700

    Apply timing stats recording to remaining amqp processors.

commit 47502c3384f5dbb18aa2899172352b6275221b74
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Nov 8 16:16:04 2011 -0700

    File controller service-time stats under the "web" key.

commit e6274eea7f80f6772d81063ab56faed070b18950
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Nov 8 15:12:14 2011 -0700

    Add recording of timing stats for amqp processors.

commit a1c371a5728a57bbfef0f60cab88986d454e945f
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Nov 22 13:57:05 2011 -0800

    Add python-statsd dependency.

commit ea2ac2120e28b821dd0bcbd7ee00d2f228fd8eda
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Nov 1 13:42:18 2011 -0700

    Add statsd client and sampling of HTTP service times.

commit ee9ee8b4840aa499618bb41001b6b998c4e33086
Author: Neil Williams <neil@reddit.com>
Date:   Fri Nov 18 09:47:41 2011 -0800

    Get rid of unused profanity filter.

commit 935d0c0b469c9124aa11bde5bf6f6fd7769ce9f4
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 17 20:00:41 2011 -0800

    Remove obsolete markdown interpreter selection infrastructure.

commit 8b7b3a307b03d8ac8323c84d1adcf759fb9fb4d5
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 17 19:56:05 2011 -0800

    Remove discount (markdown interpreter).

commit 560ca092709448ed89a047a14b91fb694f809667
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 17 19:49:02 2011 -0800

    Remove markdown.py and replace scattered uses of it.
    
    It was used directly in two places in pages.py, I've
    replaced those uses with safemarkdown calls. In the case
    of the search fail page, I just removed the javascript
    try-again link since it wouldn't be doable through safemarkdown
    and that page isn't hit very frequently any more anyway.

commit 8eb63214ae0185014b9eabb5413f10eabb9d38bb
Author: Andre D <andre@andred.ca>
Date:   Fri Nov 11 14:02:23 2011 -0500

    Suggest Title decodes html entities

commit fea1cf81a22d170b19b7b57d22e2d31bde5b8b28
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 17 16:12:32 2011 -0800

    Add # and ircs:// to valid URL scheme list.

commit 8865943a4a5115b209895d1e6345ab4cb848e4c0
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 17 12:11:51 2011 -0800

    Add snudown as a markdown backend.

commit 385fb242828391755f668bb90aea8f71e657e4d5
Author: Neil Williams <neil@reddit.com>
Date:   Wed Nov 16 13:31:23 2011 -0800

    Fix default stylesheet lookup in editor.

commit f5c9fca234b8713d64019f6e4e25057c9eaa6a9b
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 15 15:49:11 2011 -0800

    Fix bad selector causing crazy sprite on submitbox.
    
    Didn't show up before because sprite images were arranged differently
    before padding.

commit 17921e1be617531dfac317bb2e3c90f1b00e6c16
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 15 15:28:27 2011 -0800

    Fix pagename span floating crazily in opera.

commit ba3ceadd8a7af8084603af79ab91991d6bc713ca
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 15 15:01:09 2011 -0800

    Add slight padding to sprites for zoomy users.
    
    Zoomed in users sometimes get weird junk at the edges
    of sprites 'cus everything's so close together.

commit 4a02f99c618ff27cc7feffc5da944008306ae876
Author: Max Goodman <max@reddit.com>
Date:   Tue Nov 15 23:59:59 2011 +0000

    Fix concatenation of JS modules.
    
    Without a semicolon separator, it's possible that concatenated modules
    can be interpreted as valid JS expressions.

commit df270a022a8511f55e201526aab2a374554639d8
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 15 14:22:33 2011 -0800

    optimize_png: Accept second parameter specifying path to optipng.

commit ab243a7bcdc2b3ffb2a0d1cd56ae0c51f6c39911
Author: Neil Williams <neil@reddit.com>
Date:   Tue Nov 15 10:36:33 2011 -0800

    upload_static: Put the unmangled files on S3 as well.

commit 5acbd952ee1e88a2bc2bbd01625f55bcbc933854
Author: Neil Williams <neil@reddit.com>
Date:   Mon Nov 14 21:51:27 2011 -0800

    Remove strange space character from link template.

commit 61fb725bf97e948bd878c62cfcc20da59a5b0c55
Author: Max Goodman <max@reddit.com>
Date:   Mon Nov 14 21:40:13 2011 -0800

    Fix tabmenu in opera.

commit cfb4f7579588e12aeb0dd07659e03df023f21698
Author: Neil Williams <neil@reddit.com>
Date:   Thu Nov 10 16:56:49 2011 -0800

    Update header image to transparent version.

commit 2b61f9f236ca19435a79d5c8638a59b542989989
Author: Neil Williams <neil@reddit.com>
Date:   Mon Oct 31 13:27:04 2011 -0700

    Add static() equivalent on client-side.
    
    and make sure the code uses it.

commit 4200c378746814d1572e26b693d3d29a39e7a45f
Author: Neil Williams <neil@reddit.com>
Date:   Sun Oct 30 23:07:20 2011 -0700

    Make sure static URLs go through static().

commit 67172823ec22a327c52024773b2db92eae54e42b
Author: Max Goodman <max@reddit.com>
Date:   Sun Oct 30 21:34:26 2011 -0700

    Fix sprited header image in IE7.

commit 8350d3f457a543e0564eb806dd49a5f1de05d830
Author: Neil Williams <neil@reddit.com>
Date:   Wed Oct 26 19:35:34 2011 -0700

    Sprite some more of all the things!
    
    Had to convert the three special thumbnail images
    to 32-bit PNGs rather than PNG8 with indexed alpha
    since PIL does not support the latter. ImageMagick was
    awesome for this.

commit 22ad1f432d70e83195fbb1af6d8c88ebf0779909
Author: Max Goodman <max@reddit.com>
Date:   Sun Nov 13 21:11:47 2011 -0800

    Transparent orangered is much cooler.

commit 0a5e08b0054b92563e2cfb6d515eef3cbe370a2c
Author: Neil Williams <neil@reddit.com>
Date:   Sun Oct 30 15:24:12 2011 -0700

    Rewrite spriter to lay out sprites more intelligently.
    
    Currently results in a ~10% decrease in sprite file size.
    
    This required some tweaks to the way some sprites were clipped
    since there's no longer a huge amount of padding around them,
    these changes incidentally fix the issues with other sprites
    showing up where they shouldn't when text ran too long etc.

commit af61995c483b2eed81287b75142a0c295060eb8f
Author: Neil Williams <neil@reddit.com>
Date:   Sun Oct 23 15:56:19 2011 -0700

    Add script for uploading static files to S3.

commit 50a5daa60c1888daff22cdcc587d68abe82cc727
Author: Neil Williams <neil@reddit.com>
Date:   Wed Oct 19 08:57:23 2011 -0700

    Allow static files to be served from other domains.

commit 97c14e0f2219dff6a50794deddbade40b7a1b4aa
Author: Neil Williams <neil@reddit.com>
Date:   Sun Oct 23 00:46:40 2011 -0700

    Use relative URLs for CSS images.

commit ba8e1da19f9c948d798c650e10087fdfa2a63b00
Author: Neil Williams <neil@reddit.com>
Date:   Sun Oct 30 19:15:52 2011 -0700

    Remove a bunch of unused stuff.
    
    * spreadshirt support which was discontinued in 1684da9 (Jun 2010)
    * old socialite page css
    * image preload markup
    * lipstick.com, frame.css, and wired comments css
    * "reddit is down" page

commit 034e1f151b77bcd2b58968d07d1af2b89d73cca6
Author: Neil Williams <neil@reddit.com>
Date:   Sun Oct 23 00:30:44 2011 -0700

    generate_static_names: Fix case where no base specified.

commit 4d2c3c2835df38874b2737358f927c2bd9803220
Author: Neil Williams <neil@reddit.com>
Date:   Sun Oct 30 15:22:58 2011 -0700

    Generate gzipped versions of JS/CSS static files.
    
    Also, flip the symlinking so that unmangled points to the latest
    mangled file.

commit 07072d0a61e12621b29dcd28e6be3403cfb09c10
Author: Neil Williams <neil@reddit.com>
Date:   Sun Oct 23 00:43:22 2011 -0700

    Fix path to non-CDN jQuery.

commit 8e0e90d76fc738f0407021349d19d1ea023704a0
Author: Neil Williams <neil@reddit.com>
Date:   Tue Oct 18 11:04:28 2011 -0700

    Use default python in Makefile.

commit 7bceffaed116290ddc352ec74a22fadf6da3b1bb
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Nov 14 11:46:11 2011 -0800

    Redirect /i18n to /r/r18n

commit cd25825d0766518517d635a7cd9405164c5d824e
Author: Max Goodman <max@reddit.com>
Date:   Fri Nov 11 03:51:00 2011 -0800

    Force proper scaling of logos in compact.

commit 1945c6b838359e6c2f754cebbd0a34db696a7063
Author: Max Goodman <max@reddit.com>
Date:   Fri Nov 11 03:05:52 2011 -0800

    Use the default subreddit's header size for the main logo.

commit 9c5d73f3dfac1f7c99ba737973f61f7df7aad69a
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 10 18:12:54 2011 -0800

    Return JSON including the user fullname in user lists.

commit e0b8043d04c423b5dd67f0499562701dc9d79fd0
Author: bl0ckeduser <bl0ckedusersoft@gmail.com>
Date:   Sun Oct 23 01:34:25 2011 -0300

    Internationalize username / password input placeholders.

commit 09a3fda9accc3e53a1f18066844ee25b1199ff3f
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 10 11:57:51 2011 -0800

    Remove unused text_with_js util.

commit 087552494e6bd8c1b417c64d4bdbb8a8b67d6763
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 10 11:57:23 2011 -0800

    Link to https page in the header login/register link.

commit cfa05828581aff8a58b0f5e37dd470cb0dc07bf1
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 10 12:14:45 2011 -0800

    Generalize link arguments in text_with_links util.

commit 8d802164a7d685052dabe0567714c845bf5914d8
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 10 12:10:23 2011 -0800

    Remove unused text_with_links imports.

commit 94ac558ca445d4b7121f79fc74c5ce637174b903
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 9 17:37:59 2011 -0800

    Add JSON api access to various user lists.

commit 2a63d862f4588cbf49cf3260daf1406570ab7a64
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Nov 4 14:53:39 2011 -0700

    Make r2.pot generation work again
    Also, blame a random admin on failure

commit 39a556a60218fdd1e2b64d1079f8c245a719dad2
Author: Max Goodman <max@reddit.com>
Date:   Wed Nov 9 10:36:06 2011 -0800

    Move r.setup config data into a python dict.

commit 777efab2dfe60e3a1204fd36bfd83130c3d56bdb
Author: Max Goodman <max@reddit.com>
Date:   Tue Nov 8 12:43:02 2011 -0800

    Move r.config into an r.setup() call after modules load.
    
    The inline script now has id="config" and is in JSONP format, which will
    make it easier for browser extensions and greasemonkey scripts to access
    reddit config variables in isolated environments.

commit 3ef79bf5ee8f09d7bd5efbb124f5571391fb8f0f
Author: Max Goodman <max@reddit.com>
Date:   Tue Nov 8 16:35:54 2011 -0800

    Remove an unused template file invoking js_preamble().

commit 172f869e33ceccc9fefad988e5d080e5140785eb
Author: Max Goodman <max@reddit.com>
Date:   Tue Nov 8 15:11:58 2011 -0800

    Add an example subdomain for payment_domain in example.ini.
    
    The value of payment_domain needs to be different from the standard
    g.domain so that c.secure is only set for the payment pages.

commit b1cbc05f494e2b52c2031e09252c32efa0714c2a
Author: Max Goodman <max@reddit.com>
Date:   Mon Nov 7 14:50:18 2011 -0800

    Move login throttling logic to a reusable validator.

commit ea1fb6f97dd3407af57d4b58308e80636b0397d6
Author: Max Goodman <max@reddit.com>
Date:   Fri Nov 4 11:01:15 2011 -0700

    Redesign the account deletion page.
    
    Provide better information about the effect of deleting an account, and
    possible alternatives. Require username/password authentication before
    deleting accounts. Add an optional message box so users can explain why
    they deleted their account.

commit 894733727e76562863398cece4ed8cf9cf152af8
Author: Max Goodman <max@reddit.com>
Date:   Tue Nov 8 12:36:58 2011 -0800

    Update trademark line in the footer.

commit 77fbe5ae583fb9a466a982cb68586e0522b86e6e
Author: Max Goodman <max@reddit.com>
Date:   Tue Nov 1 16:22:02 2011 -0700

    Add c.secure to the render and page cache keys.

commit 5df8723c19e4470dce27749bf65fe09112eb398c
Author: Max Goodman <max@reddit.com>
Date:   Sun Oct 23 19:56:07 2011 -0700

    Preliminary OAuth2 for new API call authentication.

commit 3d55cea8863c295370bcabebb910b71b5f4c58b7
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 3 10:51:09 2011 -0700

    Use VModhash fatal param for over18 modhash check.

commit a088dca1bbc60e113c2a81469bc38278bbd1f19d
Author: Max Goodman <max@reddit.com>
Date:   Thu Nov 3 00:35:06 2011 -0700

    Add stubbed "fatal" parameter to VModhash.

commit f30182607726d67a027033736bd5afa88ad44eb9
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 31 12:33:17 2011 -0700

    Add option to omit div wrapper from safemarkdown.

commit 0ebeda5e528f4e82ca19b3c5e9f3d3f5ff6626db
Author: Max Goodman <max@reddit.com>
Date:   Tue Oct 25 10:40:23 2011 -0700

    Add utilty function to get the handler method for a request.

commit b57dff70a1f7cfba4ebfe39cca8dfe85e6ac648e
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 24 12:34:04 2011 -0700

    Preserve secure host when generating URLs with add_sr.

commit b3297db343e051a6f53c15ff985f9695c9c01604
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 24 12:33:30 2011 -0700

    Add support for simple framebusting/prevention.

commit 35e3f83238cd86916ecc452a489628108e1ae8e5
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 24 11:15:16 2011 -0700

    Move extension mapping to a config module.

commit 0911df4160649aa685cd757fa5794a2d4de80ce9
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Nov 3 11:31:15 2011 -0700

    Fix FlairTemplateBySubredditIndex.insert logic.

commit 4eaaf5d4517e52472b846942a5c212df78524b92
Author: Andre D <andre@andred.ca>
Date:   Tue Nov 1 07:55:36 2011 -0400

    Fix regression that broke replacing SR-image of same CSS name.

commit acf5d348ed21582a7ba3e72e31f4a09470e544f2
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Oct 31 11:31:16 2011 -0700

    Allow multiple CSS classes to be assigned via flaircsv.

commit 1aa8b6fd2b6ba491f161d115e630af67d0085718
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Oct 31 10:34:44 2011 -0700

    Make it possible to unflair deleted accounts.

commit 6930d843d26c9fa3d67aa36a13a2e506b661737c
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Oct 31 10:02:26 2011 -0700

    Preserve the viewing user's flair preference when rendering comments.

commit 15e4a5cdae0c3c0cb9771abaa3fd6ea086a65d3f
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Oct 28 11:15:22 2011 -0700

    Apply flair prefs to cache keys, even for UnloggedUser.
    
    This is necessary because comment rendering makes a pass using
    UnloggedUser, but needs to preserve the actual signed-in user's
    preferences.

commit c911b3047911741ca68bcfcf027a9349a4d5ce24
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Oct 27 11:05:14 2011 -0700

    Ignore deleted accounts when editing flair.

commit 20afca608cb7d9aee2a25f07da526af564a963aa
Author: Andre D <andre@andred.ca>
Date:   Wed Oct 26 23:30:55 2011 -0400

    Corrected an issue where thumbnails had the wrong size.

commit bd0144d528992dea626d61ce1395c32baa2e7c43
Author: Andre D <andre@andred.ca>
Date:   Wed Oct 26 16:12:21 2011 -0400

    Fix issues in uploaded subreddit image processing.
    
    * Large jpg files (above 64k) will no longer fail.
    * PNG to PNG no longer processes through PIL.

commit 24afcee3f2ff9435727cec0ea893c424c8c84b2b
Author: Neil Williams <neil@reddit.com>
Date:   Wed Oct 26 11:59:53 2011 -0700

    Make a bunch of Subreddit._by_name lookups stale.

commit 4194ced61619206eb57213b4829d08a096efd3ff
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Oct 25 11:53:47 2011 -0700

    Add a user preference for whether to show flair.

commit 6a00abf7b9d939147f6e048c73237cea912fe412
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Oct 25 11:33:27 2011 -0700

    Hide flair when a comment is collapsed.

commit 32cbe6b38211bc5aba50b4df8058020c2e8a8416
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Oct 25 14:21:26 2011 -0700

    Fix 'manage existing ads' link on /ad_inq

commit f86d90165b5bf8bf40a2e98fad2cbde359477d95
Author: Andre D <andre@andred.ca>
Date:   Thu Sep 22 16:24:02 2011 -0400

    Thumbs, sponsorships, and headers have width/height in the DOM.

commit 4653c16a72d301c4c0ac1639e529aa3499968116
Author: Andre D <andre@andred.ca>
Date:   Tue Oct 25 15:48:00 2011 -0700

    Split thumbnails and sr images across multiple buckets.
    
    This allows for HTTP parallelization.
    Also, allow users to select JPEG or PNG for SR images.

commit a8e2d553486968ca95f95dd8fc7dee0b3af6d9a7
Author: Andre D <andre@andred.ca>
Date:   Mon Jul 25 19:59:33 2011 -0400

    Use JPEG and reduced redundancy for thumbnails.

commit ef03b0018c6c02b80f477e6d73ee5867350498f6
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Oct 24 09:45:03 2011 -0700

    Fix bug not allowing mods to assign flair when self-assign is disabled.

commit 2e364c1ac272d8b42f023af0d55260ae63a7e826
Author: Neil Williams <neil@reddit.com>
Date:   Fri Oct 21 08:56:55 2011 -0700

    Remove password length maximum.
    
    bcrypt only pays attention to the first 72 characters
    anyway, so there's no harm done to us. The new effective
    limit is the maximum POST size: 500Kb :)

commit c66c99580306a77a88286cc398768928c2eb3f7c
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Oct 20 18:58:34 2011 -0700

    Fix logic error allowing users to assign flair to others.

commit 769b0666c4fb4b246576245b38175c3f4d08976e
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Oct 19 15:48:24 2011 -0700

    Fix logic for showing flairselectors to admins/mods.

commit 59e3f6c9f2792c18ea57febde14742083d56f241
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 19 16:24:19 2011 -0700

    Update /reddits help text to the changed subscribe button text.

commit cf0da8ebe0b8865c85cc41310b6cac5284f13a80
Author: Neil Williams <neil@reddit.com>
Date:   Sat Sep 3 11:12:30 2011 -0700

    Increase maximum password length and enforce it.

commit a311805c8598232b14a40a561bb4dc9528e707ee
Author: Neil Williams <neil@reddit.com>
Date:   Thu Oct 20 11:31:01 2011 -0700

    Switch to bcrypt for password hashing.
    
    Transparently upgrades passwords on next login.

commit 235bcabf812502879b6d0c8cd9662c25ef7a36a4
Author: Max Goodman <max@reddit.com>
Date:   Tue Oct 18 18:39:14 2011 -0700

    Handle case where subdomain is None in is_subdomain.

commit c72a8925bbf0b0b47c9906f780525383a1beb348
Author: bsimpson63 <bsimpson63@gmail.com>
Date:   Wed Oct 19 12:14:03 2011 -0700

    Add empty WrappedUser.xml template.

commit 77c9fb6df4ff92d5b545d6aecee63af5248e8463
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Aug 10 15:43:46 2011 -0700

    Complete the unfinished TabbedPane widget.

commit 370c406cc588e022a9ae9826a28fd17900befc81
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Oct 4 14:10:41 2011 -0700

    Work around IE7's lack of display:inline-block support within the flair selector.

commit 88a3a3e37b5a767ca63c5001b0fbdde86d6f2411
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Oct 18 15:02:31 2011 -0700

    Fix some more flair-related cosmetic issues.

commit 3e0334162253854b94ece930bdcda0a64cb3f3d3
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Oct 18 11:11:48 2011 -0700

    Hide the flair selector text customizer when it's disabled.

commit c6be86596b005c0719ab900959793a8de759c843
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Oct 4 14:09:34 2011 -0700

    Make some cosmetic tweaks to the flair selector.

commit 3769837d2a5fbed72c3de5feb1a9331dcd080dd5
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Sep 23 14:17:51 2011 -0700

    Change "select" link for flair to "edit".

commit 54a7a252d48846e9650e43648901f79cbfd26b9a
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Sep 23 14:15:15 2011 -0700

    Use chaining instead of repeating selectors in flair.js, and other cleanup.

commit 866977142784ec7bdfabf34603b8385b11ad301d
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Sep 23 13:37:39 2011 -0700

    Add VFlairTemplateByID.

commit f881c48feab9db954386735ac3f89c9e69fa7ba6
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Sep 21 15:57:37 2011 -0700

    Add a simpler way to remove flair from a user.

commit 49770e34d3d2c825dd846ebdd6da729c50804ad8
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Sep 21 15:49:23 2011 -0700

    Add support for deleting flair templates.

commit 4891330a79921331d797c28e03f1746e0e607124
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Sep 21 13:26:26 2011 -0700

    Update flair selectors in-page consistently.

commit fb242d13a5ab0547603ee04784cff4a7f17cd5c1
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Sep 20 13:11:44 2011 -0700

    Fix post-submit updates of flair template entry form.

commit d992b18d229dd257c842f936f6332e2d7ebe16ef
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Sep 14 16:39:26 2011 -0700

    Add selectors for other users in grant flair page.

commit 53966d96e938c53d9f6e5ed27f58040e68920314
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Sep 8 15:01:58 2011 -0700

    Impose a maximum number of flair templates.

commit a5efe4906b036095e2d21a64a2f7e78065df9f0d
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Sep 8 14:52:49 2011 -0700

    Add scrolling and ordering to flair selector.

commit 584f4945de99319792aded5050fc66d973d5037f
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Sep 7 13:59:42 2011 -0700

    Don't show save button when no flair is available.

commit f18a473823fc96d2a6b5961fd08437673a4fcffc
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Sep 7 12:16:20 2011 -0700

    Add clearing of flair templates.

commit 5ef9df8c94820614d9961cb9ebafb87ae8ac5530
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Sep 1 11:09:21 2011 -0700

    Select currently matching template as flair selector opens.

commit 7fdf625d2c036356b4cf5ebb5a1784407250a171
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Aug 25 11:09:37 2011 -0700

    Support user-customizable flair text.

commit 4e9cd88fcdfaa93211aaf452495de27e05726cc3
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Aug 23 16:11:43 2011 -0700

    Add flair template column headers and bug fixes.

commit b2c23e2d3f1b269210bfceb56e4e3583dfdc9eaa
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Aug 23 15:32:26 2011 -0700

    Add sr setting for flair self-assignment.

commit a43cef3b2fd022ce491d7d1523d27363328feba3
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Aug 18 11:24:14 2011 -0700

    Implement a flair selection interface.

commit 87c52ce751aa0d0148ff7c8f382fb3bd3e2f3157
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Oct 3 17:19:31 2011 -0700

    Implement a flair template management interface.

commit 2750d7b1f7adb72d5b1bee24bafceb46c959fd1c
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Aug 9 10:10:24 2011 -0700

    Add FlairTemplate thing and relation.
    
    Also move flair model to its own module.

commit 4cda2d017700c88736c3f0be244500e89eaa89a7
Author: Max Goodman <max@reddit.com>
Date:   Tue Oct 18 15:17:14 2011 -0700

    Relax CORS origin restriction to all subdomains of trusted domains.

commit 60ac9925229aaa00e16df0b6563376210233b6c5
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 17 12:28:50 2011 -0700

    Add is_subdomain helper for proper subdomain checking.

commit 23b268b849612aeb8af6fb924cdf8a557f08a1cd
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 17 16:46:37 2011 -0700

    Change caption on +/- frontpage back to sub/unsubscribe.

commit 5e8a34393218a72fb1469eea2aaeda7d152bbf7a
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 17 16:40:52 2011 -0700

    Clarify subreddit language on the submit form.

commit ff42b190b565e3b30cf693d7bbd0e90e3fd7dcca
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 17 16:39:43 2011 -0700

    Remove default subreddit from submit form for special reddits.

commit bafd47e552092b81e179c9504b92d838b9d76c23
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 10 17:40:56 2011 -0700

    Add support for a custom subreddit banning message.

commit fe12c1ff30f7b430e3a6cf054a03806d74f836be
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 10 13:05:28 2011 -0700

    Add back load coloring styles.

commit 3003e32bc857c0e9198f50d4aaeca537a72bea84
Author: Max Goodman <max@reddit.com>
Date:   Sat Oct 8 00:24:25 2011 -0700

    Add missing responder argument to search_reddit_names.

commit 9300c4901afc34babea584876412ed2542a109e9
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 10 00:40:44 2011 -0700

    Properly check permissions upon mod/unmod.

commit 770bad372de47fe3e524f616a883b5da53e329c5
Author: bl0ckeduser <bl0ckedusersoft@gmail.com>
Date:   Thu Sep 29 19:04:03 2011 -0300

    Internationalize "full comments" button

commit b6493a13c7dfc357a628e2178a0705bd717e8051
Author: Max Goodman <max@reddit.com>
Date:   Sun Oct 9 12:41:34 2011 -0700

    Add "remember me" back to the login tab order.

commit e76d96d5b4adc145cf14d80500f08f9b7deb5f8c
Author: Neil Williams <neil@reddit.com>
Date:   Fri Sep 9 16:20:08 2011 -0700

    Add page for users to see their account's IP history.

commit 6650b02e009226e0c774ac6de367b70eb02d4b74
Author: Neil Williams <neil@reddit.com>
Date:   Wed Oct 12 10:33:22 2011 -0700

    Sexify remaining old-style code in analytics.

commit 0cf053f477af8ee3a7bdcbbdd95c33cc77f5967d
Author: Max Goodman <max@reddit.com>
Date:   Sat Oct 8 11:59:34 2011 -0700

    Add blank announcement_message to example.ini.

commit 0f4e3adb8bf593bfd5546ec982ca56ede9e144ac
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 7 18:00:25 2011 -0700

    Fix _login invocation for resetpassword.

commit 9954c55906795f20ddc42d975eb6310ea240dcc7
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 7 11:57:05 2011 -0700

    Specify tabindex on login inputs for mouse-free usage.

commit b128a46f62ded0713f6ff28bd750cd6e8dbe28d2
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 7 11:05:27 2011 -0700

    Focus the username box when a login/register popup is shown.

commit 575b3bd8dfbb7422969dde12a3ea988f1488e2b0
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 6 19:41:30 2011 -0700

    Do not 403 CORS requests with non-allowed origin.

commit 3752c677ca98e8ae10c3b3eb0fc9e43c3ee0411b
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 6 08:59:35 2011 -0700

    Omit tracking pixel on secure .compact pages.

commit d6d1887ac42ac17ed746c6fc93e52c71bc0ef698
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 6 08:52:24 2011 -0700

    Expect the domain prefix for authorized cname origins.

commit d3fb892a1191c68f99fbabe97d18b918494ea60f
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 6 07:12:04 2011 -0700

    Take the domain prefix into account for g.origin.

commit be975f395d9797bcc905aee3706d2af65d342b96
Author: Max Goodman <max@reddit.com>
Date:   Fri Oct 7 14:40:06 2011 -0700

    Fix validation of dest redirects to cnames.

commit 9ef872e7b36d7bc3e8d5d9b562e42995715864ed
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 5 23:45:42 2011 -0700

    Implement http login on subreddit cnames.

commit c2cf57007d67342f640d51eff04e39cef220129b
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 5 15:31:57 2011 -0700

    Add missing preamble to framebuster.

commit 5ec91a62f88c270f257f24ebe33768ef08786676
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 5 12:18:23 2011 -0700

    Specify the cookie path when deleting for Konqueror.

commit bb6beb74453f0cb95f9858841760be9bec1f53f6
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 5 09:30:27 2011 -0700

    Set the frame name as an iframe attribute for Konqueror.

commit 17dafa6a14dfb69939428aa5c96e2eed155e57ff
Author: Max Goodman <max@reddit.com>
Date:   Tue Oct 4 21:54:33 2011 -0700

    Handle JS-free POSTs in the login form.

commit 607cb4fa5a223d9101245fb9eda1ca8e24815ccd
Author: Max Goodman <max@reddit.com>
Date:   Tue Oct 4 21:52:55 2011 -0700

    Update error_field to check c.errors properly.

commit 6cba5434413da87794ba16ef97faabb0d1f7b3b8
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 3 16:29:50 2011 -0700

    Omit the powered_by logo on reddit subdomains.

commit b8477570692084da4f110d1405488bb12f70adb1
Author: Max Goodman <max@reddit.com>
Date:   Thu Oct 6 07:21:04 2011 -0700

    Use cross domain https for slightly safer login.
    
    Login UI code has been simplified and moved into the client side. CORS
    is used for the cross-domain POST if available, otherwise an iframe and
    cookie polling technique is used. Start fleshing out the new JS tree. :)

commit edbefbcf4fb6ca7bc0e724dea8c20dc87df3c127
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 28 22:42:13 2011 -0700

    Add CORS support and cross-domain response helpers.

commit bad98ec0300d3b20310b8a36c1ed612a670255e2
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 28 21:53:37 2011 -0700

    Move the preamble above library JS in mobile.

commit 70ff6b61784062c11e810360ebd9e5e87c592c99
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 14 16:07:41 2011 -0700

    Remove and simplify sendstring function.

commit a6ec4dbd6be0efdca66ba038a28102a16471d500
Author: Max Goodman <max@reddit.com>
Date:   Tue Sep 13 17:03:58 2011 -0700

    Remove old Firefox 3 access control implementation.

commit 31440333182f549f874a6f506e8a8583d7457526
Author: Max Goodman <max@reddit.com>
Date:   Wed Aug 24 12:33:15 2011 -0700

    Prettify the login popup.

commit 4b1d3de26d2f3269cb7cc1d404f7050c9b122cf4
Author: Max Goodman <max@reddit.com>
Date:   Mon Aug 22 00:42:57 2011 -0700

    Allow multple different cookies to pass through the cleanup middleware.

commit 71d7ecfb8c24559a4acb3a16cbff64d30d86e402
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 28 21:19:44 2011 -0700

    Remove non-functioning subreddit counting for now.

commit 205cfb5967e5681c440c8747cd7ade52930e97c2
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 28 21:47:45 2011 -0700

    Add general jQuery cookie library and replace jquery.json.

commit bf1ff113a7d36a8d49def8e6d60d7153d33a5453
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 28 21:33:39 2011 -0700

    Move external JS libs to their own directory.

commit 1ecb427fdd700287dd926205de515b6e1f4c211e
Author: Andre D <andre@andred.ca>
Date:   Wed Aug 10 16:19:41 2011 -0400

    Add an option to disable rate limiting. For testing.

commit e853b9285f8ef02e70f1ce23fd111f060dfcc76f
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 29 15:50:13 2011 -0700

    Add quick support for an announcement message in the .ini.

commit 5a7d823e1ad8ed6f99429998c5991e47e01ae018
Author: Max Goodman <max@reddit.com>
Date:   Mon Oct 3 12:01:27 2011 -0700

    Add lab.reddit.com to the middleware exception.

commit 16d74d3684926271bfd49688478792eb0cecf84c
Author: Max Goodman <max@reddit.com>
Date:   Sat Aug 27 15:46:11 2011 -0700

    Require JSON APIs are requested with a .json extension.

commit c280c6aca13187b3637b3e47c801ecd83c29dc26
Author: Max Goodman <max@reddit.com>
Date:   Tue Sep 20 00:35:30 2011 -0700

    Fix handling of an unset language override.
    
    Add setting to example.ini.

commit 93a65a6a3a6e5fd0f930bb8c0a47e2a7f8659cb0
Author: Neil Williams <neil@reddit.com>
Date:   Mon Oct 3 09:58:00 2011 -0700

    Move onload out of the app.
    
    We need onload to be able to get a client-IP based
    tracking validation hash, but it doesn't actually need
    to do any database work to make those hashes. It also
    fails a huge number of times per day. This moves the hash
    calculation out to an external app with no db dependencies.

commit 581cb4eac51aac31c7f7143b8959b341d8270b77
Author: Neil Williams <neil@reddit.com>
Date:   Sun Oct 2 17:40:03 2011 -0700

    Make clean_static remove reddit.js and mobile.js.

commit 5d8179265a435693e1eee9ca3c67e3588d343cff
Author: Neil Williams <neil@reddit.com>
Date:   Thu Oct 6 08:12:19 2011 -0700

    Remove temporarily disabled click-tracking JS.
    
    Until it's back in action, this is just wasting bytes on the wire.

commit ea07f046d0ea4bc55c6500a4cf44f7ea5e796068
Author: Neil Williams <neil@reddit.com>
Date:   Sat Oct 1 23:13:47 2011 -0700

    Remove "defunct" JS.

commit a0bd8cfee7b0d5837f576a3ed20b54c504479c8d
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 30 10:04:49 2011 -0700

    Exclude ssl.reddit.com from the subreddit redirection middleware.

commit c051491717d6eaedf9ee9377f73a63274ec430b3
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 29 18:13:11 2011 -0700

    Add an &nbsp; separating pi from the server info line.

commit 739288fdb08a4d4f01f1f802f6e1a56f5cf6e136
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 28 12:23:28 2011 -0700

    Footer spacing cleanup.

commit 3dfef4b0e4f51641793814288070960d3b31c316
Author: Max Goodman <max@reddit.com>
Date:   Wed Sep 28 20:17:36 2011 -0700

    Fix whitespace requirement for SPRITE comments in nymph.

commit e1dd8ea68aa5c79e421801cc59d79a38c94f87e0
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 23 18:07:41 2011 -0700

    Don't include the subreddit path in the inbox links.

commit a0eda96c9503cc389d72dbcdca168fc237e0e4b2
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 23 14:34:52 2011 -0700

    Move IE hacks to the leper colony.

commit deb0da397cee7afb455596e169e0114c1846fb7b
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 23 00:47:12 2011 -0700

    CSS hack IE6/7 to display header tabs as inline-block.

commit 310d276469b7ddd3b328d586532d550f5ef83bfc
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 23 00:35:46 2011 -0700

    Add width/height attributes to the default logo.

commit e20fdfb06ef385d4e789de944c98b7501bcf39ed
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 23 00:05:19 2011 -0700

    Sprite all the things.
    
    Lots of crazy CSS hacking in here. Sizing the header-bottom-right bits
    required a lot of twiddling to appear consistently between Firefox, IE,
    and Chrome. Edit at your own risk.

commit 9db33733c4b6d0d582796b7c1527605567241afb
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 22 23:10:38 2011 -0700

    Clean up the active modmail icon.

commit bc289092d93cee69356b8256c5bad26eaf041edb
Author: Neil Williams <neil@reddit.com>
Date:   Tue Sep 6 21:53:57 2011 -0700

    Remove unused app restart code obviated by uWSGI.

commit 24503f09ed5e1f462e63ca89f7c21ccea07b582f
Author: Neil Williams <neil@reddit.com>
Date:   Wed Sep 21 09:05:24 2011 -0700

    Limit maximum query length for searches.

commit a47201f2b48cdd8ae133ca7e50f2413194f3533c
Author: Max Goodman <max@reddit.com>
Date:   Tue Sep 20 12:47:56 2011 -0700

    Move the server info into a little expando.

commit e576b3c5001dcc6031983f119bb09f26a2c24d41
Author: Neil Williams <neil@reddit.com>
Date:   Tue Sep 20 08:59:25 2011 -0700

    Remove unused admin sidebar. Show everyone app id.

commit 3735033907f25ce02be6506b7aa0dd09944297b4
Author: Max Goodman <max@reddit.com>
Date:   Tue Sep 20 14:32:42 2011 -0700

    Add support for special user distingushes.
    
    Special distinguishes are granted by setting "special_distinguish_*"
    properties on an Account. A post can only be a single type of [admin,
    special, mod] distinguished.  Admins can be granted a special
    distinguish.

commit de2102e975be2b55a78c846bb239c98cfab90fee
Author: Neil Williams <neil@reddit.com>
Date:   Tue Sep 20 12:26:22 2011 -0700

    Restore old runscripts for backwards compatibility.
    
    These are still deprecated, but they are necessary
    to keep running if you installed before the Natty
    installer.

commit bf6c671551f4deae48ff6fc068a022baf5d47c17
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 19 16:37:21 2011 -0700

    Add new 404-failien submitted by delicious_sandwich.

commit e4dbeb5c2ecf02931f640066b294a0307081f512
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Sep 13 15:25:36 2011 -0700

    Fix error putting flair prefs in cache key.

commit 9145c2e2326426ec4cb40939d98ac7ad65312e76
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 19 11:12:08 2011 -0700

    There's a perfectly good character for copyright.

commit e3e74fecd6ec5f15bad0045561d4b1eb4751c863
Author: Max Goodman <max@reddit.com>
Date:   Mon Sep 19 11:05:05 2011 -0700

    Add support for language override for pirate day.

commit ce25df8c884c9a946c559f9926d4bde67fa9c9b5
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 16 16:01:48 2011 -0700

    Clean up and update the footer.

commit 133a43b08c562020ea9660e6d14bf0f87710fb6a
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 16 14:43:33 2011 -0700

    Clean up the ad inquiry page.

commit 26a32e1bc15325801ab562c15c5d346bd017c026
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 16 15:13:38 2011 -0700

    Make spacing after [deleted] authors consistent.

commit c6b2115d51f85ecb0f0f8ade3b3fc7ae2cc52210
Author: Max Goodman <max@reddit.com>
Date:   Thu Sep 15 14:39:34 2011 -0700

    Remove bold author names from the user page parent context line.

commit db825fe6186148f5a27fab1478b3d176288a043e
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 15 11:31:56 2011 -0700

    Use VAdminOrAdminSecret on givetrophy for redditgifts.

commit 5721e4683fe1d6c0c003db2e3b1f1db32b238a0e
Author: Neil Williams <neil@reddit.com>
Date:   Thu Sep 15 11:30:44 2011 -0700

    Add validator that checks a secret key or admin cookie.

commit 89a59d5581f960637a9794d73adfd36a21a38498
Author: Neil Williams <neil@reddit.com>
Date:   Mon Sep 12 15:19:40 2011 -0700

    Generalize timestamp helper.
    
    Allows for places where we have datetimes but not things.

commit f20499cd6ba0a66a11c3bcb3f0191e80adc8bc4a
Author: Paradox <paradox460@gmail.com>
Date:   Wed Aug 31 10:29:42 2011 -0600

    Fixed CSS margin issue on comments
    
    Margins were compressing text into a very narrow column, making it difficult to read.
    I removed old margin code (back when we used options bubbles, not expandos) that was causing conflicts with new margin css.

commit ab07c7fe35ed756ce0bc3e561454e9e32c28a7cc
Author: Max Goodman <max@reddit.com>
Date:   Mon Sep 12 13:47:59 2011 -0700

    Don't include subreddit path in demo button urls.

commit c59bca136ff715c68dd74668a5684ae81e665184
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 7 18:50:44 2011 -0700

    Add link to full comments in comment listing.

commit 03eaf83d9a4f40b233bdfba8b3d2024a3dc444b4
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Sep 7 14:13:05 2011 -0700

    Show link author and subreddit in user comment listings.

commit 8b83dd953763ba616b8cf90eed8f8a12ee2a15ec
Author: Max Goodman <max@reddit.com>
Date:   Fri Sep 2 12:15:52 2011 -0700

    Add viewport tag to the main site for mobile users.

commit 2a3b5d3d4da763a3b2c133ae7e2fc391ca1f98d6
Author: Paradox <paradox460@gmail.com>
Date:   Sun Aug 21 23:36:26 2011 -0600

    Added color fallback for CSS3 Gradients
    
    The few remaining CSS3 gradients on the site have been updated to output a background color as well. This background color is a calculated mixture of the two colors, designed to render a pleasurable alternative color for browsers that don't support mobile gradients (mainly mobile IE)

commit 57eac3f21fdb89f14ef1de0093fbf859046bc603
Author: Paradox <paradox460@gmail.com>
Date:   Sat Aug 20 17:11:02 2011 -0600

    Changed options expandos to use cross-browser CSS
    
    Moved from display:box; to a more traditional inline-block system, for cross browser compatibility

commit 1c99b60214a639dfe8e46f02b5bc98b42cdb5f3b
Author: Paradox <paradox460@gmail.com>
Date:   Sat Aug 20 16:02:43 2011 -0600

    Reduced font size on compact flair
    
    Default font size was a little large, and could look odd on mobile. Reduced it

commit 58dd0e5a8ce82c3eb6583da4783e707c4faaf3c0
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 29 17:57:37 2011 -0700

    Move vote-copying to CassandraVote.

commit f429132c0f9f2f70a03cdb571d38c234bce42ee8
Author: Jonas Häggqvist <rasher@gmail.com>
Date:   Sun Aug 28 00:05:06 2011 +0200

    Add flair text and css class to json output. Respects if the users has disabled flair.

commit 48e463f1476ac7ba14e27f208c6fc3df3ea89e39
Author: Jonas Häggqvist <rasher@gmail.com>
Date:   Tue Aug 30 02:45:02 2011 +0200

    We already have a wrappeduser, no need to double-wrap.

commit 3cc8114b172d812717bc09596f295660c85639c1
Author: Jonas Häggqvist <rasher@gmail.com>
Date:   Tue Aug 30 02:44:43 2011 +0200

    Add a small margin for author and flair

commit 6fe4db8eae4dac71c7b2cb9239bdb33a00c64d15
Author: Jonas Häggqvist <rasher@rasher.dk>
Date:   Sat Aug 27 21:37:04 2011 +0200

    Move [deleted] logic into wrappeduser.mobile, add author class.

commit b9f4f970f5dbfce56e98be0457dbe8e9e8ee4235
Author: Jonas Häggqvist <rasher@rasher.dk>
Date:   Sat Aug 27 19:35:04 2011 +0200

    Move the user link printing into new template wrappeduser.mobile

commit 447ef411c4eda21cfc8008f72f3dea2bc3c5048f
Author: Jonas Häggqvist <rasher@rasher.dk>
Date:   Sat Aug 27 18:21:40 2011 +0200

    Show user flair on .mobile

commit e9c50e59b3070db7b321e000d4da263f44dc03b4
Author: Max Goodman <max@reddit.com>
Date:   Mon Aug 29 16:05:29 2011 -0700

    Load main stylesheet using AJAX in the CSS editor.

commit 18c5e4211c7f637e03007a96a4ab3210cb467e52
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 29 14:59:10 2011 -0700

    Properly validate all-langs in language selection.

commit d7c2161c66dfd5dcfcfe2ff8994db6e69f85155a
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 30 11:29:46 2011 -0700

    Verify url scheme and domain properly in CSS properties.
    
    utils.domain will find a domain at any position within a URL, so it was
    unsuitable for validating CSS URLs.

commit 0828095f7345d873583132bdb92512b07766ccd1
Author: Neil Williams <neil@reddit.com>
Date:   Sun Aug 28 11:26:21 2011 -0700

    Don't include X-SUP-ID if it contains \r\n.
    
    Prevents an HTTP response splitting attack.
    
    Thanks to @nealpoole (npoole) for the report!

commit 06dea8a4db6603f7a20f995b30b6aaf3c0dc554d
Author: Neal Poole <neal@nealpoole.com>
Date:   Sat Aug 27 11:54:20 2011 -0400

    get_title now will make requests to HTTPS sites.

commit e88adc7e5b32fae6208bbf2dae95f6542d7ca10d
Author: Neil Williams <neil@reddit.com>
Date:   Wed Aug 24 19:36:07 2011 -0700

    Don't die if a url fails to parse.

commit 791a89043ef9d5ce99acae6f171942766a837cbb
Author: Neil Williams <neil@reddit.com>
Date:   Thu Aug 25 17:45:59 2011 -0700

    Clean out old runscripts.

commit 8185ac25c268c336e848c0d9d8345605eea3899c
Author: Neil Williams <neil@reddit.com>
Date:   Sun Aug 21 21:05:40 2011 -0700

    Add generated sprites to .gitignore.

commit bd1252900ec3440f73851b0dcb376775dc65c077
Author: Neil Williams <neil@reddit.com>
Date:   Sun Aug 21 20:14:02 2011 -0700

    Update ez_setup.

commit e754d7f93a01e166bcc1a770773393b283a6a61c
Author: Neil Williams <neil@reddit.com>
Date:   Sun Aug 21 18:21:06 2011 -0700

    Clean up the Cython build process.

commit f8f8932ad6949683899e50b450982c7a79ddf843
Author: Neil Williams <neil@reddit.com>
Date:   Wed Aug 17 20:09:40 2011 -0700

    Formatting cleanup for setup.py

commit 1ffde0e4e546efc9422cb30296269dc97b175745
Author: Neil Williams <neil@reddit.com>
Date:   Sun Aug 7 12:16:45 2011 -0700

    Remove gzip middleware in favor of nginx's gzip.

commit ebd50c979bcb847b57344671948599a8d40fa786
Author: Neil Williams <neil@reddit.com>
Date:   Sun Aug 7 12:09:48 2011 -0700

    Upgrade to pylibmc 1.2.1!
    
    cache_lookups is deprecated and verify_key changed names
    to verify_keys.

commit b1acfb302ce7eb2a497b5cc8cf2650d0f171aa98
Author: Neil Williams <neil@reddit.com>
Date:   Sat Aug 6 01:22:53 2011 -0700

    Clean up setup.py.

commit 93d78a46fa43bedecba8097a8aa180b094019fb5
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jul 26 10:06:02 2011 -0700

    Don't try to fix subscriber id for non-renewals.

commit 3ad7405e47f5b3cc86b4475b465eb628fcb9a684
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jul 8 16:18:22 2011 -0700

    Terrible hack for PG-9 support.
    
    Remove as soon as /r/all is precomputed.

commit 7f7dc9476a37fe27f35c854d33f1305800f55c5d
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jun 16 15:55:38 2011 -0700

    Remove the RequestLogMiddleware.
    
    It doesn't play nicely with the new uWSGI setup and we don't use it.

commit 90237bf99849e5aa8d78b887982e106df596d489
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 6 10:48:19 2011 -0700

    Remove paste-specific shutdown code for uWSGI.

commit 87a45f8bce043b87e7c12cfb7e3da3c2b48f7446
Author: Neil Williams <neil@reddit.com>
Date:   Wed Aug 24 11:08:44 2011 -0700

    Clean up VLang by using "value" on language select

commit 29fd956673920c2b94229ffc7e9a23c8cb770e59
Author: Neil Williams <neil@reddit.com>
Date:   Tue Aug 23 20:07:53 2011 -0700

    Sort SR list case-insensitively on submit page.

commit 9122dd055aabb2a1f1db15a16aee86f4646d30d0
Author: Neil Williams <neil@reddit.com>
Date:   Mon Aug 22 20:19:39 2011 -0700

    Add ability to set custom DART keywords for links.

commit 2c8572a4549342d17aa8112c6b9d340ce776874a
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Aug 18 19:46:20 2011 -0700

    MultiReddit will skip invalid SRs.

commit 4ba1877e9867ccc41e6f4443efa5c1adf3cf24b2
Author: Neil Williams <neil@reddit.com>
Date:   Fri Aug 19 10:09:53 2011 -0700

    Properly escape url parameter in click tracking.

commit 3dac0d0e7017a8cec75e382b6209ed27aaad6648
Author: Jason Harvey <alienth@reddit.com>
Date:   Thu Aug 18 11:51:26 2011 -0700

    smaller pixel

commit 4408453fa16b9d774de6308d751f505c6ccee9af
Author: jamesdaily <jamesdaily@gmail.com>
Date:   Thu Aug 18 01:44:18 2011 -0300

    Added condition to cause promoted items to be votable regardless of age

commit a71abf3c22aacf98d7d5d3352ca6a6e93ee30db4
Author: xxpor <skooz@skooz.net>
Date:   Wed Aug 17 23:44:23 2011 -0400

    moderators of rather than to makes more sense.

commit d67a65dc666fdbaaf838bceded55d22375f6c19f
Author: Neil Williams <neil@reddit.com>
Date:   Wed Aug 17 20:19:05 2011 -0700

    Pretty up banned subreddits in multireddit.

commit aae7a5a64d23d9beaa66023b57fc81fa54f05f6c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 17 11:45:03 2011 -0700

    Don't choke on banned sr in multireddit.

commit 86eef859ec4748f9ec7818f5d16cbf9b2248efab
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Aug 15 16:29:16 2011 -0700

    Add analytics to expandos
    
    Categorize as selftext or external
    Also, modify/improve domain tracking

commit e175e5e1321e30edf69bddec1a898e62ad899fb2
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Aug 16 11:42:15 2011 -0700

    oh god how did this get here I am not good with computer

commit ac47dcb1203965ff2ba69fb6297816ff4bc074f1
Author: Max Goodman <max@reddit.com>
Date:   Mon Aug 15 11:43:46 2011 -0700

    Remove extra forward slash from button submit URL.

commit 0709a0a0af14ef2fdf5aebc468ca8ba9775cdb02
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Aug 9 10:50:00 2011 -0700

    Outbound click tracking
    
    Clicks on listing links to be tracked via google-analytics
    End users may disable google analytics to opt-out of tracking

commit 79b95b085e0878099af1fa0822413cd85679cc3a
Author: Neil Williams <neil@reddit.com>
Date:   Sun Aug 14 11:00:04 2011 -0700

    Add simple app for redirect validity checking.

commit b9215e317df22445bbfb061df537fccda491e027
Author: Max Goodman <max@reddit.com>
Date:   Sun Aug 14 00:12:08 2011 -0700

    Fix vendor prefix stripping in the CSS validator.

commit 1698ac831759676ab3736b267744176337c1611c
Author: Max Goodman <max@reddit.com>
Date:   Fri Aug 12 14:42:58 2011 -0700

    Add back support for old-style border radius properties.

commit 39ed8a2be7593c682857c9beba4838891b014853
Author: Max Goodman <max@reddit.com>
Date:   Fri Aug 12 13:39:41 2011 -0700

    Add support for multiple gradient backgrounds. Cleanup.

commit b27faefd0c16d207180901080d5a7ff63831dc9f
Author: Max Goodman <max@reddit.com>
Date:   Fri Aug 12 13:38:15 2011 -0700

    Consolidate CSS properties.
    
    ... they all became standardized! :)

commit 7e76d223b9fde9f29c6fb123f98ce351a7408240
Author: Max Goodman <max@reddit.com>
Date:   Fri Aug 12 13:28:10 2011 -0700

    Fix names of positioned border radius properties.

commit 70125a8a7397d24bc2fb34edc045862eaf3f7ef0
Author: Max Goodman <max@reddit.com>
Date:   Thu Aug 11 12:16:12 2011 -0700

    Reduce the width of comment edit box to fix wrapping.

commit 86b790a231aca977e6c650a48423e0f02ce3b194
Author: Paradox <paradox460@gmail.com>
Date:   Wed Aug 10 12:12:56 2011 -0700

    Added complete flair style to compact
    
    Mostly borrowed from the main site.

commit 40ff9aa3d463e8bd7a12cfcbba8ff4fad6c28eb5
Author: Paradox <paradox460@gmail.com>
Date:   Wed Aug 10 12:11:46 2011 -0700

    Fixed last permalink bug, and added new javascript for collapse.
    
    Also added JS to collapse when reply or edit are opened.

commit 416676c431bd252a31f2e7b0afa21711acc9f2cc
Author: Paradox <paradox460@gmail.com>
Date:   Wed Aug 10 12:09:54 2011 -0700

    Removed old "fat-fingers" javascript code
    
    Old code caused the triggering of menus on click of .entry for comments or messages, but interfered with the new menu system, causing links such as context and permalink to not function.
    
    Also, removed toggle_collapse(), as it seemed vestigial.

commit f87ec2c89c62594e59af7f019efb55e330336fe5
Author: Paradox <paradox460@gmail.com>
Date:   Wed Aug 10 12:09:01 2011 -0700

    Changed compact top bar to be cross-browser friendly
    
    Replaced fancy display-box system with a more robust, but less flexible, absolute layout.
    
    Also, added the default flair styles to compact.scss, as they appear to have been missed earlier, and compass was clobbering them out of compact.css

commit 9e098475b151c1b98789680b87db182ae12abf92
Author: Paradox <paradox460@gmail.com>
Date:   Wed Aug 10 12:06:10 2011 -0700

    Compass update changes a few CSS mixins
    
    Added support to MSIE prefixes for gradients
    Changed the way transitions are written, no longer requires commas

commit 4e6a2b05ba6897f00356ef806aef0990004a813d
Author: Andre D <andre@andred.ca>
Date:   Thu Aug 11 10:58:52 2011 -0700

    Add option for showing subreddit sidebars on cnames.

commit af9f5d0ecdd3591b3c7cb7c6624ce7dfdb7dfb71
Author: Andre D <andre@andred.ca>
Date:   Wed Aug 10 15:26:05 2011 -0700

    Add basic validation of CSS gradients.

commit 3cfc4ac3ee6d653d86bed83b6538e2d67d59c2a1
Author: Andre D <andre@andred.ca>
Date:   Wed Aug 10 15:25:38 2011 -0700

    Improve opacity value parser.

commit 42194379ba073994d7da284392a0b789b10e7391
Author: Andre D <andre@andred.ca>
Date:   Wed Aug 10 15:25:20 2011 -0700

    Accept vendor prefixes for CSS names.

commit 335111b94158bacdc3b43c652499bccd4793aa5f
Author: Andre D <andre@andred.ca>
Date:   Thu Aug 4 13:02:08 2011 -0400

    Do not subject login requests to validation of subreddit access.

commit a15714c7987cc0ecb9df81a9fd5053bdec2ff08c
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Mon Aug 8 13:52:32 2011 -0700

    Show gold recurring subscriptions on user page.

commit 9ddd13846c1d8f461160bf8eb27517c7d577acd8
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 9 15:27:04 2011 -0700

    Tweak alien head in button1 to make button height consistent on Firefox.

commit 445e1b61956d357c6b907d507ee1eb8373d3f339
Author: Max Goodman <max@reddit.com>
Date:   Tue Aug 9 15:25:52 2011 -0700

    Remove static sizing upon load of buttons.
    
    This was happening before info loaded, causing buttons to clip/wrap
    improperly.

commit d1bbc928f06983d5929939da64a882653022bb66
Author: Bryce Culhane <bryce@wepay.com>
Date:   Tue Aug 9 13:55:27 2011 -0700

    Make sure post_link() passes **kw to _a_buffered() so we don't lose classes.

commit f397ffc192a21cbbed0816113b9f4581b72dad17
Author: Max Goodman <max@reddit.com>
Date:   Mon Aug 8 16:21:00 2011 -0700

    Add pref to load jQuery locally instead of from the Google CDN.

commit a86261f352f265efe4481dfb5f04eb078ad29998
Author: Andre D <andre@andred.ca>
Date:   Mon Aug 8 13:12:36 2011 -0700

    Add a contextual description metatag for scrapers.

commit 3e5ed4d952b3d318544a33ea90274c2f287f4251
Author: Neil Williams <neil@reddit.com>
Date:   Sun Aug 7 17:23:32 2011 -0700

    Make sure to always strip bad characters for Solr.
    
    They weren't being removed from unicode strings.

commit b2c2cad60e477bef2255f0440dd0ce0b19cc4766
Author: ketralnis <dking@ketralnis.com>
Date:   Thu May 26 23:35:20 2011 -0700

    Add mr_tools.mr_map_parallel. A hacky addition to the hacky mr toolkit

commit 1ca47bfc2325236981c7faf072cb41e0cad19976
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jul 22 22:45:05 2011 -0700

    Remove blog-proxying code from middleware.

commit 13430c5b525f04b3a94c3831bb518f3c783ecba8
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Aug 5 10:57:18 2011 -0700

    Allow setting/clearing flair on deleted accounts.

commit 93c17b8b957f38efd822d22102ab9b1f65d8d7a0
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Aug 4 14:08:17 2011 -0700

    Fix TypeError on flaircsv unflairing.

commit 070db9c8b8129c781fe1e7b1416f2a819f6cee65
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Aug 4 11:47:43 2011 -0700

    Fix flair save button hide/show bugs.

commit 8e85687a992ff8debded903c4bc647405627d69b
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Aug 4 11:28:05 2011 -0700

    Fix in-page refresh of user flair when changed.

commit f44a517296b259149453ab17e9a108d5a53190d5
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Aug 4 11:23:10 2011 -0700

    Clean up field lengths and how they're validated.

commit a64f26025270b8bba603054a464d7550a57dffa2
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Aug 3 13:00:12 2011 -0700

    Hide expand button on links when selfpost without selftext.

commit 3526c381ed089e601555ae43f23497d61f745b40
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Aug 3 14:41:32 2011 -0700

    Allow multiple CSS classes with flair.

commit bdf0b427232fbd00ca77f5e9b35efdb4f09c2b7c
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Aug 3 11:05:56 2011 -0700

    Fix users seeing other users' flair in sidebar.
    
    Move some of the template logic into pages.py so the enflaired user becomes
    part of the cache key.

commit 6a954a6c25bc7e0ba54ce4af20f5662c6bdd4913
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Aug 2 14:11:46 2011 -0700

    HotController used wrong subreddit limit
    
    After changing how Subreddit.user_subreddit() figures
    out the default limit on number of subscriptions returned,
    HotController's invocation needed an update

commit a6a4da72a1a0f44e0174b2ad0a865b9f68d3c1cd
Author: Neil Williams <neil@reddit.com>
Date:   Tue Aug 2 13:14:14 2011 -0700

    Update embed.ly service list.

commit 4b9fee79269500a0ab7c026eb7bfb9356838e193
Author: Sean Creeley <sean.creeley@gmail.com>
Date:   Tue Aug 2 12:34:04 2011 -0700

    Use an API key for the embed.ly API.
    
    Open sorcerers: you will need an API key for media scraping to work
    now. Please visit http://embed.ly to sign up. It's free for <10K
    URLs a month.

commit 84b9fb1c48c660cbfbfb141faa808671c364e070
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Aug 1 16:56:10 2011 -0700

    Fix flaircsv import of unicode data.

commit fbda2ed167e387049f01eef874b78ffddf4bc1f6
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Fri Jul 29 16:21:12 2011 -0700

    Make the edit box appear when editing a blank self post.

commit b35e493557fcdbaf0da59f02bae2f636e6b866fc
Author: Andre D <andre@andred.ca>
Date:   Sat Jul 30 15:21:25 2011 -0400

    Fix double subreddit in permalinks.

commit b6361cd831464ab33eab352d05e6e8c2d4523353
Author: Andre D <andre@andred.ca>
Date:   Tue Jul 19 13:20:06 2011 +1200

    Make permalink and URL fields consistent in JSON.

commit f96913609099889d54e03fc088b85bc29b52d176
Author: Zach McCullough <nosrepa@gmail.com>
Date:   Mon Jul 18 17:46:14 2011 -0500

    Give some icons transparent backgrounds.

commit 35785f7c4168f0373584d89c3892b7ff34fca98d
Author: Paradox <paradox460@gmail.com>
Date:   Mon Jul 25 22:49:52 2011 -0700

    Fixed context/parent links on compact

commit 0e7784a1676ba8dfea22c119f15e453271cb9b8f
Author: Paradox <paradox460@gmail.com>
Date:   Mon Jul 25 22:33:46 2011 -0700

    Fix for mako template code showing up in share emails

commit f1ff146e5baf821615d6a5dd589183e780ce3783
Author: Chris Kankiewicz <Chris@ChrisKankiewicz.com>
Date:   Thu Jul 28 21:16:35 2011 -0700

    Make it easier to select shortlinks.

commit 7071629ee893b10608c512223dbd4214b6b6ae71
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Wed Jul 27 11:43:20 2011 -0700

    VotesByLink can return votes for multiple links.

commit b1ecaf2ee414a9c1a0fd306f70a3bdc132ff8b0e
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jul 27 17:26:18 2011 -0700

    Fix default page size for listings in compact mode.

commit 9bb167ed659196baa54b0a0465a15623325611ac
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jul 27 14:35:12 2011 -0700

    Add missing parameter to FlairList call.

commit 22d9fba90fe0f9eea2fe9d0a3a2e28262d0c8928
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jul 20 15:35:51 2011 -0700

    Remove flair relation when cleared.

commit 19d09b37d62f1482ef4e4f0fe10b1f47824cccb9
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jul 20 13:58:24 2011 -0700

    Add flair.js module.

commit 3e42bd54873f8a825465087272d53999025f0b18
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jul 19 11:34:57 2011 -0700

    Add /api/flaircsv.

commit d80dac7e7666395b7c35695f3a5abe9bc69b6067
Author: Logan Hanks <logan@reddit.com>
Date:   Fri Jul 15 11:23:29 2011 -0700

    Add /api/flairlist.json.

commit 59c95b6c1780d8d41c58004f8b5036e0fff2a433
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jul 13 15:55:39 2011 -0700

    Add UI for moderators to manage flair.

commit 463175142160af721b52af530020ab966005705a
Author: Logan Hanks <logan@reddit.com>
Date:   Wed Jul 6 15:48:17 2011 -0700

    User option to block flair, and layout fixes.

commit 6044c90b0fd1cfeffaecb0e70c43425a7b1f326b
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 5 11:09:41 2011 -0700

    Add a default style for flair.

commit 3f3b7ec0edcc0fde8963e2958768a3da4eaaf065
Author: Max Goodman <max@reddit.com>
Date:   Fri Jul 1 17:48:57 2011 -0700

    Add icon to the flair editor link in the sidebar.

commit 0dcddae22fd5dbe765625ee55f7e83188e96c91d
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jun 21 12:04:49 2011 -0700

    Add user "flair" for subreddits.
    
    Flair is a new relation between subreddits and accounts (stored in a manner
    similar to but distinct from subreddit membership). This relation can have
    a text field and a CSS class name associated with it (this data is actually
    stored under the account). The flair data is then incorporated into any
    mention of the account within the context of the subreddit (namely, on links
    and comments submitted by the user).

commit c422a6171b6cc9156fcb4325735b3927c16a43e8
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Mon Jul 25 09:23:12 2011 -0700

    Show all subscriptions in /reddits
    
    List all subs in /reddits/mine (if subbed to > 50)
    Also, include links and wording indicating that only
    50 subs are shown on the frontpage at a time

commit 29f4493ab6f4da38e407bab926491d88b451e98d
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Jul 20 13:37:44 2011 -0700

    Confirm removal in admin mode

commit 6c100914b1bfe7bf3c6f3b7590bbdc84edf04d1f
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jul 12 14:47:39 2011 -0700

    Reverse lookup of blocked user

commit 4b6b4d88a655a79864a4c621ddc945ac497b3deb
Author: Max Goodman <max@reddit.com>
Date:   Tue Jul 26 10:30:41 2011 -0700

    Move doctypes to the absolute top of template output.
    
    Leading whitespace can cause errors in some parsers (such as strict XML
    parsers).

commit c5d59cd6a61fb8c085f4bf6540290c14f1d6b564
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 9 13:59:19 2011 -0700

    Remove admin check from admin distinguished items.

commit 4758ac8d2ed27889717c911aa49bddafc1a2d788
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jul 22 22:04:55 2011 -0700

    Make read-only mode slightly less frustrating.
    
    Also includes some work on heavy-load mode which
    isn't being used right now.

commit 2397f627a0593628cf071e4fd9e8c931b41eaa5c
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jul 22 15:16:26 2011 -0700

    Look up subscriber by paying_id when missing attr.

commit b8023e73ec29828086dc98eebab6981dba484b8d
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jul 12 14:41:33 2011 -0700

    AttributeError in validator.py:VMessageRecipient
    
    AttributeError: 'NoneType' object has no attribute '_id'(b412c68f4d2e201e4f4c4a459776dafe)
    Introduced after blacklist push.

commit c1c5fbd9c406538313648ea88d4c96638f68972a
Author: Max Goodman <max@reddit.com>
Date:   Thu May 12 11:12:05 2011 -0700

    Remove dead code.

commit 55bee5223db31bce1a4aa6811a336d45840e0232
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 21 21:08:19 2011 -0700

    VotesByLink was incorrectly storing VotesByAccount.

commit eacdfc1d6aaa59ea933cfb5401001203a18fdff9
Author: Jason Harvey <jason@alioth.us>
Date:   Thu Jul 21 16:30:00 2011 -0700

    Allow gold users to see 100 subreddits at once

commit 53740ec4e8f09704d060a5d64420a9527ed1edcc
Author: Paradox <paradox460@gmail.com>
Date:   Thu Jul 21 13:12:12 2011 -0700

    Fixed bug where clicking on context link (messages) took you to the main site

commit e7ad7232add86a443516dd3b7ae9839a140c465f
Author: Max Goodman <max@reddit.com>
Date:   Thu Jul 21 16:46:23 2011 -0700

    Clean up css sprite building in the Makefile.

commit 58bde072e8956503c6dba2482f04339ddbdcc5e3
Author: Paradox <paradox460@gmail.com>
Date:   Thu Jul 21 10:53:27 2011 -0700

    Fixed top-bar positioning to work better with taller logos.

commit 09d5614b68665f52bb12d4ec70d9e3d7a0ba4fa3
Author: Paradox <paradox460@gmail.com>
Date:   Wed Jul 20 13:50:14 2011 -0700

    Created new toggle_button def, reduced code duplication for save/hide buttons

commit d2c2e90c284439c6df319093bcd5e945b8fcc684
Author: Max Goodman <max@reddit.com>
Date:   Wed Jul 20 12:09:58 2011 -0700

    Move GA into a utility. Add GA to mobile and track usage.

commit 88e5ad2763d290930bdb56c3ecce258fb79bb1ac
Author: Paradox <paradox460@gmail.com>
Date:   Tue Jul 19 17:10:31 2011 -0700

    Replaced old float-based header with new, flexbox based header

commit 3cd2905ff0e9f775ce95f52698e262f8b6582163
Author: Paradox <paradox460@gmail.com>
Date:   Mon Jul 18 12:11:08 2011 -0700

    Adjusted padding on message CSS, fixed table breaking out of its container.

commit 307d47851ab53cc081bc1d996aed2595fb716aa6
Author: Paradox <paradox460@gmail.com>
Date:   Fri Jul 15 17:55:06 2011 -0700

    Added unhide to links

commit ed340e8b719e989537bbb080536977f553160738
Author: Paradox <paradox460@gmail.com>
Date:   Fri Jul 15 16:16:41 2011 -0700

    Fix Logo left margin

commit 3216c4b6c21cc596be96267590ce937255039368
Author: Paradox <paradox460@gmail.com>
Date:   Fri Jul 15 14:30:01 2011 -0700

    Rendered compact.css as  :compact style.

commit b6a0a316fb2dbc1ed20c14d26fc1c594bc1bc3e6
Author: Paradox <paradox460@gmail.com>
Date:   Fri Jul 15 17:35:42 2011 -0700

    Moved icon_button to its own namespace, and replaced old options-icon code.

commit 7625c56ab47098e3193d350f491fdc05d2d4f1c7
Author: Paradox <paradox460@gmail.com>
Date:   Fri Jul 15 16:03:22 2011 -0700

    Made comment compose box collapse reply link

commit 3c5c9dc3c9e04272dbc9f862500c1249cf7644a3
Author: Paradox <paradox460@gmail.com>
Date:   Fri Jul 15 16:03:07 2011 -0700

    Changed buttons count to use newbutton class, using border-background. Added preloading. Changed way icons are called to use a sass @extend, providing easier-to-edit code.

commit 78dae6edea158c560d08a53136f4f05f136b654d
Author: Paradox <paradox460@gmail.com>
Date:   Fri Jul 15 15:54:23 2011 -0700

    New design for header/top of page toolbar. Updated icons, added mod-mail, and got reddit/subreddit logos working

commit f3af5faca6d043f8950a8a58b508dcb8304ba2c8
Author: Paradox <paradox460@gmail.com>
Date:   Fri Jul 15 15:53:08 2011 -0700

    Changed size of upvotes, now easier to hit

commit e9d52238a62b5222b0e089d4a31f66b4c91a24a5
Author: Paradox <paradox460@gmail.com>
Date:   Fri Jul 15 15:52:33 2011 -0700

    Fixed .tagline order to make admins, followed by moderators, submitters, then friends

commit 141a68151e9bcbe0215c2e3bd341ec27d874a5d6
Author: Paradox <paradox460@gmail.com>
Date:   Fri Jul 15 15:48:34 2011 -0700

    Created new SCSS mixin for working with mako sprites. Converted old sprites to new syntax

commit b29f6347dffaeebc86be2f84990294f0a6396ce3
Author: Paradox <paradox460@gmail.com>
Date:   Mon Jul 11 16:47:19 2011 -0700

    Changed options expandos spacing to look better

commit b47984ce075670b2301709899d79763738030d56
Author: Paradox <paradox460@gmail.com>
Date:   Mon Jul 11 16:20:17 2011 -0700

    Fixed arrows to use css, fixed options button in menu bar to use sprited images now

commit dd72dd1bca5f040cf15d55199218e6731c0e1d13
Author: Paradox <paradox460@gmail.com>
Date:   Mon Jul 11 11:43:27 2011 -0700

    Set up messages and inbox to use options-expandos

commit 0c683aea6544632a754b6a9647b5d1aa2377a4dc
Author: Max Goodman <max@reddit.com>
Date:   Mon Jul 11 12:17:01 2011 -0700

    Strip surrounding quotes on sprite paths.

commit d8ac604a0f92cbf27ee5cd03074a89b683625d07
Author: Max Goodman <max@reddit.com>
Date:   Mon Jul 11 12:16:39 2011 -0700

    Don't affect leading whitespace on sprite rules.

commit 2d845c4ed0a9a728e18bf46a94c2739415e9c06e
Author: Max Goodman <max@reddit.com>
Date:   Mon Jul 11 18:55:52 2011 +0000

    Hack nymph.py to handle sprite comments anywhere in a line.

commit ef5e77a28927cb68183049030a84b08a1a2e12d1
Author: Max Goodman <max@reddit.com>
Date:   Thu Jul 7 11:44:51 2011 -0700

    Add sprite for compact.css to the make process.

commit ecb4a3d456fc1722d06a4b706408b4a32437bba2
Author: Paradox <paradox460@gmail.com>
Date:   Fri Jul 15 13:27:08 2011 -0700

    Prepared SASS file for sprites.
    
    Added sprite declarations
    
    Changed output style to :compact, for single-line CSS output

commit 3142bee4463dad94761b1e8a04b3ad3d850cf7fa
Author: Paradox <paradox460@gmail.com>
Date:   Thu Jun 9 12:19:21 2011 -0700

    Added a touch/hover state to options expandos

commit 12c521c2741a18c38c17d9c141f23fd1cb0f346f
Author: Paradox <paradox460@gmail.com>
Date:   Thu Jul 14 13:33:59 2011 -0700

    Moved domain link from options expando to tagline

commit 9bbf7081af0602c537d8dd456ef4512dafb1b0cb
Author: Paradox <paradox460@gmail.com>
Date:   Thu Jul 14 13:33:05 2011 -0700

    Added options-expando to comments

commit b7e6aa008aa2b3d616c7a45ecabc1c66251f5daa
Author: Paradox <paradox460@gmail.com>
Date:   Thu Jul 14 13:31:51 2011 -0700

    Options expandos on links, cleaned up old parts of CSS, added icons

commit 40eedd012d9bfd1910cc5bb834bb790ac7dfba2a
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 10 19:48:25 2011 -0700

    Add --proctitle to paster run.
    
    When the setproctitle module is available and --proctitle is passed,
    paster run will set the process title (as seen by ps, top, etc.) to the
    specified value.

commit ddc3bafee06de71bf9643f4f253beab6e9dff9fe
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jul 21 16:05:10 2011 -0700

    Move SubredditPopularityByLanguage to models.

commit f8efeb60f33eac0d8e1de2b21eb1dafc60667807
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jul 19 13:16:45 2011 -0700

    Update to pycassa 1.1.0 for 0.8 compatibility.

commit f8c21e4f7d69b3b3c8edad012b0f66f75f3e9133
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sun Jul 17 09:48:04 2011 -0700

    Remove the ability for mods to approve a deleted link. This prevents the deleted
    then approved link from becoming visible.

commit 165c3d12d625424fcfffbb2684282b1bd266c6c3
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jul 13 21:58:58 2011 -0700

    Remove unnecessary conditions from some queries.
    
    PG9 doesn't like the query from _load_link_comments
    in comment_tree.py.
    
    thing.py will automatically filter deleted and spam items
    out of thing queries if no rules are specified for those
    columns. To get around this, some queries, including the
    _load_link_comments one, will specify a rule
    like _spam == (True, False). This rule was left in the ruleset,
    despite the fact that it's completely unnecessary from the
    SQL's standpoint. Its presence then triggered the need of a
    join against the thing table when only the data table was
    truly necessary. The query planner in PG9 doesn't like this
    particular query when it requires a join and will force a
    full table scan as a result.
    
    This patch notes the special case of _spam/_deleted ==
    (True,False) and turns off the default filtering but removes
    the rules from the query. This saves some WHERE clauses
    and more importantly removes the need for a JOIN in queries
    like this one.

commit da9736a8b23b7f176866367094f5888aa5e98bb1
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Sat Jul 16 17:38:27 2011 -0700

    Hide NSFW links from logged in under 18 users.

commit 8f5ed2a9c5b619bb5550b9aeb0b932c3e1364a8b
Author: Zeno <zenomcdohl@gmail.com>
Date:   Mon Jul 11 20:05:11 2011 -0700

    Make "Hide posts if liked" ignore your own posts.

commit 537a2bab671d814b4eed92139dd1e61b948e09ae
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jul 12 09:37:27 2011 -0700

    Fix the param names in top/controversial listings.

commit 83058d48ce7ea1d764468f2348aac679e24dd5cf
Author: Erik Karulf <erik@karulf.com>
Date:   Mon Jul 11 15:06:59 2011 -0700

    Use constant-time string comparison for auth.

commit 93448534018b2c1c323b98a2506b98b6fc4e3155
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Jul 11 08:59:53 2011 -0700

    ControversyTimeMenu needs to use POST, too.

commit f957e0053993d3344af3aa338fab8979e45de828
Author: Logan Hanks <intortus@staging.(none)>
Date:   Thu Jul 7 21:05:28 2011 -0700

    Fix search and user sort selector bug.

commit f4b7dc641f361b6dee53b5d63309df9cb3f58b3d
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Jul 7 16:30:38 2011 -0700

    Convert SimpleGetMenu to SimplePostMenu.
    
    Fixes issue 118.
    
    The original approach to menus/navbuttons would commit changes to user
    preferences as a side effect of validation during a GET request. The new
    approach now is to add a POST handler with the same exact validation that
    just trivially redirects to the GET url. NavButton links are now hidden
    form submits, and the VMenu validator will now only commit preference
    changes on POST requests.

commit 826f004ef8b4bbff422ac47779ccd99cff08eb49
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jul 7 11:55:53 2011 -0700

    Give FriendList its container_name function back

commit 14b38b70eb66571d30670ccbfe37dcb67dc8cb19
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Thu Jul 7 09:34:38 2011 -0700

    Block a little less when blocking user
    
    * User name shows up in PMs
    * Message indicates that one should unblock the user if they
        want to see the PM

commit b7df2c3d4cfcc0c86d506b2ca66ebd443520cc09
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Jul 6 14:14:51 2011 -0700

    Only allow 'block user' from PMs

commit 3fb84ad3ef5cc6f517f9a2383227f79a0207fddf
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Jul 6 11:51:49 2011 -0700

    Fix spelling of VMessageRecipient class

commit b2c0a12140e6666d67ec71ff7605074e4a4a6028
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Wed Jul 6 11:50:35 2011 -0700

    Add comment explaining use of orangered keyword

commit 4d7a2fa4e0f01f7010e0f7fd0317cb783cda54c1
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jun 24 13:34:10 2011 -0700

    Allow users to block users that harass them
    
    When you block a user:
    * If they reply to a comment/post, you do NOT receive an orangered, and
    * see NOTHING in your inbox.
    * If they PM you, you do NOT receive an orangered, but the PM WILL show
    * up in your inbox, with all fields replaced with the text "[blocked]".
    * It's not readily possible to keep it out of the inbox while leaving it
    * in the sender's sent box; and it needs to be in the sent box so that
    * they can't tell that you've blocked them.
    * You may not PM or make a comment reply to a user that you've blocked.
    * This is to prevent abuse of the system by pre-emptively blocking a
    * user and then sending them a series of harassment messages.
    
    At present, the only way to block a user is from your inbox; if they PM
    you or make a comment reply. There is a new "block user" button.
    Unblocking a user can be done via /prefs/friends. This is to keep
    'blocks' from being used commonly; in general, we prefer to encourage
    the use of the downvote arrow for bad comments, and leave user-blocking
    for true harassment scenarios.

commit 20886289657b5b6d4c239e91209e963edb9b0a00
Author: Zach McCullough <nosrepa@gmail.com>
Date:   Thu Jun 30 02:40:38 2011 -0500

    replaced the last instance of star.png with shield.png

commit f9067c07f544c5cef5f35eaad4b059e23eb94ac8
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 29 19:28:48 2011 -0700

    Fix an assumption in the ad check to handle AdBlock for Chrome.
    
    This fixes the bug where the submit page initializes unsuccessfully,
    causing link posts to be accidentally submitted as text posts.

commit 9fc8e5ec929f2efae4743c562d9ec9fe63ee8eda
Author: Jason Harvey <alienth@reddit.com>
Date:   Tue Jun 28 20:56:00 2011 -0700

    Remove PG load balancing.
    
    We're moving to a different solution internally and
    it's not helpful to smaller sites.

commit 8543989d3533ececaea6f0d1b2fd532245949e80
Author: Paradox <paradox460@gmail.com>
Date:   Tue Jun 28 12:11:54 2011 -0700

    Swapped star for shield.png

commit 2d0481fb1480c8143c21ff9e55f63a9987110691
Author: Max Goodman <max@reddit.com>
Date:   Tue Jun 21 09:39:29 2011 -0700

    Enable mako template change monitoring when g.debug == True.

commit 7d591a48f3f0ecc4bc4afe450196803a9e91ac13
Author: Max Goodman <max@reddit.com>
Date:   Tue Jun 21 09:18:13 2011 -0700

    Simplify JS usage in templates and move jQuery into js.py.
    
    When g.uncompressedJS is true, an unminified version of jQuery will now
    be loaded.

commit 9f7659dcf7aa7db6bc4d58286b5e309192bf83f2
Author: Max Goodman <max@reddit.com>
Date:   Tue Jun 28 12:26:28 2011 -0700

    Add reddit toolbar to the privileged request check.

commit 94c4ceec40c28332aa47fabbb06e9b6a7ce824cc
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jun 24 08:50:16 2011 -0700

    User receives orangered when replying to their own post/comment.

commit fa8135d8b09d0cacbf0b59b39f03c81d62a6f8a7
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 27 15:46:38 2011 -0700

    Move sr_pops to its own CF.
    
    Make sure to run scripts/update_reddits.sh after
    updating to this revision to fill the new column
    family with data.

commit 2cc640e708567e2d7b5532618038f0b194234aaa
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 27 15:40:46 2011 -0700

    Move subreddit name search to its own CF.
    
    Subreddit name search is used for recommending
    subreddits to users as they type a name on the
    submission page.
    
    Also adds a missing script that is needed
    to load up the subreddit names into cassandra.
    This script should be run occasionally (we do it
    once per day) to fill/update the search cache.

commit 352d29a32ee95ac1bdd68078687ec72bc5b863e3
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jun 26 13:55:52 2011 -0700

    Make CL configurable per CF.

commit 8758abec07a0da64593b5be1f5f74622cd5758ef
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 24 21:58:06 2011 -0700

    Add missing pickle import to tdb_cassandra.

commit e68b4456a48122c2e11933292d38b8691d23fe8e
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Fri Jun 17 15:18:50 2011 -0700

    Make password reset emails store information in hardcache
    
    Password reset links now stored in the hardcache (they will exist
    until the expiration, and never get evicted). Additionally,
    if the password reset link has expired, the user will be
    redirected to reddit.com/password?expired=true, with an error
    message prompting them to try again.

commit 7a0d21e2e0d4baf053f11b558db7030aa7608c38
Author: Keith Mitchell <kemitche@reddit.com>
Date:   Tue Jun 21 14:01:29 2011 -0700

    Delete password reset from hardcache after it's been used

commit 7f164035822e93eef0ee02a4b00c6d11c364219a
Author: Max Goodman <max@reddit.com>
Date:   Tue Jun 21 17:03:15 2011 -0700

    Make the NSFW warning tag subtler, pass 2.

commit 5b9de9cb48c9bd79af0ff0b9f71ca740b69c04cb
Author: Logan Hanks <logan@reddit.com>
Date:   Tue Jun 21 13:47:52 2011 -0700

    Update link.num_comments on comment post again.
    
    It turns out that this commit to psql takes too long, causing backlog in
    the comments_tree queue.

commit 959c3aa2072bcc332a0dec6398a1a11f11b77c66
Author: Max Goodman <max@reddit.com>
Date:   Tue Jun 21 14:43:05 2011 -0700

    Lighten up the NSFW warning badge.

commit 628f92af9d01c139f06040a9bfb400c9319082f3
Author: Max Goodman <max@reddit.com>
Date:   Tue Jun 21 12:36:07 2011 -0700

    Prevent static file name linking from operating on symlinks.

commit 83a3e0971675f79e0fd06f55b85bba60ef2814bf
Author: Zeno <zenomcdohl@gmail.com>
Date:   Tue Jun 14 13:38:50 2011 -0700

    Improve error response when attempting to register a deleted name.

commit ff11ed4ab849414d8280a252cfdd3b90575e4ef8
Author: Max Goodman <max@reddit.com>
Date:   Tue Jun 21 01:12:31 2011 +0000

    Improve the appearance of the NSFW warning badge.

commit 26931c2097f38d55c57c708adda84a6ff83a339a
Author: Max Goodman <max@reddit.com>
Date:   Tue Jun 21 01:11:16 2011 +0000

    Prevent flat light toggle buttons from word-wrapping.

commit db209928a3b108dd69178dd30dac658dd9223aed
Author: Zeno <zenomcdohl@gmail.com>
Date:   Wed Oct 27 12:52:15 2010 -0700

    Add moderator-controllable NSFW marking to posts.

commit 04be2159746aa3da205c3787763c04cedeeea6f2
Author: Max Goodman <max@reddit.com>
Date:   Wed Oct 20 12:08:24 2010 -0700

    Use <time> element with a title attribute for comments and submissions.
    
    Based on a commit by Zeno <zenomcdohl@gmail.com>.

commit 5fd545393aa141076a8f1fe696cb118a831e162d
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Jun 20 15:33:16 2011 -0700

    Don't count deletions of already-deleted comments.

commit 51bcbfbc97e8fe33c1b6ec34b70119e76c849f99
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 16 16:26:45 2011 -0700

    Method _key_from_url() now returns case sensitive results for special domains (e.g. imgur.com, youtube.com). They are defined as case_sensitive_domains in the .ini file

commit 1b030c310d20a25ee3ec9dcb57846c10afd35c07
Author: Chris Johnson <raugturi@gmail.com>
Date:   Wed Jun 15 02:16:10 2011 -0400

    Added option to hide user profile from robots.

commit 49637884b80bd8538f853291e41992b178bb3516
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Jun 20 14:39:16 2011 -0700

    Fix voting when template_debug=true.
    
    Remove leading/trailing whitespace from thing_css_class for printables.
    Fixes #85.

commit fd02caf0355176e0034a7a8044601a1a2416dee0
Author: Logan Hanks <logan@reddit.com>
Date:   Mon Jun 20 14:31:53 2011 -0700

    Make comment count maintenance more transactional.
    
    Move comment (re)counting for links to comment_tree.py. This should help
    make comment counts more consistent. Fixes #44, fixes #60.

commit 06f4b9eccf3cd97fde9b5a390e4f3b6100a00424
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jun 19 19:29:34 2011 -0700

    Use [removed] instead of [deleted] for expunged.

commit d99dece64b369e25baac39b55886fd5d7af3592e
Author: Neil Williams <neil@reddit.com>
Date:   Mon Jun 20 13:45:24 2011 -0700

    Honor selftext-expunging in JSON API.

commit 8d7f4f253d205ee220a6a7be135a2b013fd850a6
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jun 19 19:26:47 2011 -0700

    "reddit: the front page of the internet"

commit e0099cd68e3307250f37d6a89a7276f5d55bc63d
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 20 17:25:20 2011 +0000

    Add names.json to the gitignore.

commit 74291f9df17cc7152519ef1814da94f02f466ab6
Author: Max Goodman <max@reddit.com>
Date:   Fri Jun 17 06:27:00 2011 +0000

    Skip creating existing static file links.

commit 01bd1eac3a8b315979441fd81663323a227002b4
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 16 22:43:55 2011 -0700

    Add missing external function import to frame.compact.

commit 0d9877f56b5b09fd3a598c6957838dad74d5546b
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 16 16:33:48 2011 -0700

    Clean up any old .md5 files in make clean_names.

commit 21e447a52039c5ecad1f1e761bbc67a95fa38500
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 16 02:58:40 2011 -0700

    Break name file cleaning off into its own make target.

commit 5e03b19ce840f757f2fb41d103cea108bf4e6504
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 16 02:41:17 2011 -0700

    Don't remove inis in `make clean_static`

commit 55617ffc8f067a2ab6a64f60e41f4a974c4e0c41
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 16 15:00:04 2011 -0700

    Remove static url hash middleware since we now generate named symlinks.

commit beb970fd56f4e9db980bc71ae49806c667f9099f
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 16 09:28:58 2011 +0000

    Switch to symlinks for unique static filenames.
    
    Disable static hash middleware, since it is no longer necessary.

commit 02ea20d23f2a86814360d4e806164b6b369af181
Author: Max Goodman <max@reddit.com>
Date:   Tue Jun 7 09:55:11 2011 -0700

    Load the stylesheet before javascript to ensure parallel downloading.

commit 1733261a524aded08e6846c3f6b8431586d69c14
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 6 20:00:07 2011 -0700

    Add unique hashed filename json mapping file for serving static files.
    
    When make is run, unique filenames are generated for JavaScript and CSS
    files in /public/static/. Filenames are generated by appending a 64 bit
    truncated SHA1 hash in websafe base64 format before the extension. The
    filename mapping is stored in /public/static/names.json. Unique
    filenames are now inserted by the static() template helper. Hashed
    filenames can be served by Pylons, and hashed names are checked against
    the names.json mapping when requested.

commit e1f5b3b5ed433a6bba9ad0195c53fca94e0d3bcf
Author: Max Goodman <max@reddit.com>
Date:   Tue May 31 19:23:23 2011 +0000

    Add jQuery to static files since it's no longer handled by the Makefile.

commit 555b5c17e8b8cc4c820deb6af8dedaa1f81a000f
Author: Max Goodman <max@reddit.com>
Date:   Tue May 31 11:10:03 2011 -0700

    Use python2.6 in the Makefile.

commit 542e22ffa8626f9aba26214e726ba1ff9362b87f
Author: Max Goodman <max@reddit.com>
Date:   Fri May 20 17:50:04 2011 -0700

    New JS compilation, localization, and module system.
    
    Add Google Closure Compiler to contribs for JS compilation.

commit 9a88e97b225b1c9efe90ab7c425e51823dd4bee4
Author: Max Goodman <max@reddit.com>
Date:   Mon Jun 20 12:10:25 2011 -0700

    Add config-free "standalone" option to the 'paster run' command.

commit 6c7a5bc18b1cda9ddf920f0e1bbf54234094e50c
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Jun 16 13:26:40 2011 -0700

    add vim swap files to .gitignore

commit 2734d5800cfdc47784814bb117eff33f0b3c5aa1
Author: Logan Hanks <logan@reddit.com>
Date:   Thu Jun 16 15:18:11 2011 -0700

    Add xhtml entity definitions via minimal DTD before parsing markdown output. Fixes issue #38.

commit 8995bb1650ba43a71036e30419f2fc89f6319984
Author: Brian Simpson <bsimpson63@gmail.com>
Date:   Thu Jun 16 14:21:06 2011 -0700

    Deleting accounts now works in languages other than English

commit 2cf4b0b5d7e7cb4ce0b620b350cbbb0c894a32ab
Author: Neil Williams <neil@reddit.com>
Date:   Thu Jun 9 11:10:51 2011 -0700

    Really don't use comment page cache for moderators

commit c90729aa1558fb60bffed45296e81ea2c53b4eb9
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 8 18:19:05 2011 +0000

    Fix ordering of friend user attr flag.

commit 06913a25a7d5cb9aaa5e64dde26211b58b3d937b
Author: Neil Williams <neil@reddit.com>
Date:   Tue Jun 7 21:21:34 2011 -0700

    Don't die if votes are missing some information.

commit 12db75ee8519092c66591400a571314ff0216f06
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 2 15:02:29 2011 -0700

    Remove dead code.

commit 95865f8772c0c1ffed35f82e2bb2d8b975d293c8
Author: Max Goodman <max@reddit.com>
Date:   Sat Jun 4 20:33:30 2011 -0700

    Disable template reload checks upon template rendering.

commit b15470271c2230e429e8edc6ad81aec04f2d07c0
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jun 5 23:10:25 2011 -0700

    Update embed.ly domain list.

commit 46aad179b2d3d5f7d9b1704a53bc3cb3a414ec9e
Author: Neil Williams <neil@reddit.com>
Date:   Sun Jun 5 22:14:23 2011 -0700

    __eq__ must be paired with __ne__ for sanity.

commit b14ab0d4227cff638173e5e76a8bb43b804fe029
Author: Neil Williams <neil@reddit.com>
Date:   Fri Jun 3 10:10:33 2011 -0700

    Add Subreddit.__eq__ to fix == comparisons.
    
    This fixes several bugs that were using the default (identity
    comparison) to check if two subreddits were the same. Sometimes
    the two subreddit objects referred to the same subreddit but
    weren't the same instance.
    
    Fixes:
    https://github.com/reddit/reddit/issues/42
    https://github.com/reddit/reddit/issues/47

commit 9194116766097e13d74b42377cafc5381f8a4e47
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 2 19:31:27 2011 +0000

    Update the footer link to the reddit source code.

commit 279a0dbc74909c117b468df80c0b424c975b0d0d
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 2 19:00:20 2011 +0000

    Fix comments panel toggling logic.

commit bb7e1b6921fc5d9d96d1263da74ada278b1182a2
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 2 19:00:01 2011 +0000

    Add toolbar comments panel as an external frame so hide/show requests work.

commit 8b0e4c07af03131007fecfcdc83dbde02b4943e3
Author: Max Goodman <max@reddit.com>
Date:   Thu Jun 2 17:48:10 2011 +0000

    Remove dead code that was causing a JS exception.

commit f99959c7ebe1e04a6ea39485ef56756bf149eb0e
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 1 10:49:40 2011 -0700

    Skip firing a tracking pixel if we're on a secure domain.

commit c6f0b6ffa8a7684f007b896b6532ca590bbf0afd
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 1 10:21:52 2011 -0700

    Display powered_by_reddit logo in https if on a secure domain.

commit 20069e7c9343730cdbedddb366286180ee45fed3
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 1 16:14:44 2011 +0000

    Use https urls for s3 hosted header images when we're on a secure domain.

commit d89e79ad66651ffed5412658fd28d90773cdc619
Author: Max Goodman <max@reddit.com>
Date:   Wed Jun 1 16:14:19 2011 +0000

    Include the host ports in the secure_domains set.

commit 6a7ebd7e7bd69159f59fb91f22209180ae823a65
Author: Max Goodman <max@reddit.com>
Date:   Wed May 25 16:15:06 2011 -0700

    Load jQuery from a secure source on secure domains.

commit 2ed20d4b1a812a1cda4b3b1ba6463a86309b42ee
Author: Neil Williams <neil@reddit.com>
Date:   Wed Jun 1 13:39:30 2011 -0700

    Display removed selftext as "[deleted]".
    
    When a self-post is manually removed (via the "remove" button)
    by an admin or a moderator, the text of that self post will be
    displayed as "[deleted]" unless the viewer is an admin, mod of
    the subreddit the post is in, or the author of the content.

commit 8c56f8966358bd036c86abe5503ad0aa06e52e0c
Author: Max Goodman <max@reddit.com>
Date:   Thu May 5 13:32:49 2011 -0700

    Load unauthed button requests via JSONP from buttons.reddit.com.

commit d1ae1650bf09490015f31e602ad8e34c0612ed86
Author: Max Goodman <max@reddit.com>
Date:   Mon May 23 15:36:35 2011 -0700

    Pass buttons.reddit.com requests through the subreddit redirect logic.

commit 6087bddfe5e716aab9c3b12f6c47fbb934619d19
Author: Max Goodman <max@reddit.com>
Date:   Thu May 26 10:22:32 2011 -0700

    Move buttons to jQuery 1.6.1.

commit 2d6e16014f55c34a0f341a029d9aabae9e436588
Author: Max Goodman <max@reddit.com>
Date:   Wed May 25 18:37:28 2011 -0700

    Point buttons to compressed assets. Clean up headers.

commit 99b2839032560668644214888d4d50f38bdc714e
Author: Max Goodman <max@reddit.com>
Date:   Wed May 25 10:59:13 2011 -0700

    Add site speed tracking to Google Analytics.

commit 77b7cfac36ebf57f0b7cc032cdc6721197b85ea8
Author: Max Goodman <max@reddit.com>
Date:   Wed May 25 11:26:03 2011 -0700

    Add loggedin/logged out differentiation to Google Analytics.

commit a34347914bffe4dd30ecd9286489df94ef22dd26
Author: Neil Williams <neil@reddit.com>
Date:   Wed May 25 10:28:22 2011 -0700

    code.reddit.com -> github.com/reddit

commit 3e4df6cb10a1fe5467cc889bdcfcf46918f42590
Merge: d0b285e cbb217c
Author: Neil Williams <neil@quantumviolet.com>
Date:   Mon May 23 11:10:57 2011 -0700

    Merge pull request #77 from andre-d/bugfix2
    
    Fix #62

commit d0b285e9fdc38f6291cfc822133ddf00a63acefc
Author: Andre D <andre@andred.ca>
Date:   Fri May 20 14:29:42 2011 -0400

    Fixed https://github.com/reddit/reddit/issues/55

commit e992c16d9934dac9b9e82bd7c0d3812765fd8864
Author: Neil Williams <neil@reddit.com>
Date:   Thu May 19 19:39:26 2011 -0700

    Fix incorrect use of abort in submit perms check

commit cf00e28619a5e803648ca6885d74445ad30bec31
Author: Neil Williams <neil@reddit.com>
Date:   Fri May 20 15:04:27 2011 -0700

    Better handle invalid IndexTank queries.

commit cbb217cbc55dd47d01ad84af55461b67aae9f7b2
Author: Andre d <andre@andred.ca>
Date:   Fri May 20 15:30:40 2011 -0400

    Fixed https://github.com/reddit/reddit/issues/62

commit 5a33ecca9002d5bbf6ec505cbf2b426c0d26701d
Author: Andre D <andre@andred.ca>
Date:   Thu May 19 15:10:13 2011 -0700

    Fixed searching for a url without being logged in

commit 319dbc036a5293aac78961106ce007f20aaca918
Author: Max Goodman <max@reddit.com>
Date:   Wed May 18 12:41:55 2011 -0700

    Properly handle a nonexistent shortlink.

commit d7d608e240ce40d6163eb9a1e42a54489bda9f66
Author: Max Goodman <max@reddit.com>
Date:   Wed May 18 11:53:39 2011 -0700

    Fix the type of the fetch_links links parameter.
    
    Since updating jQuery, the library has new behavior for deep serializing
    objects and arrays. This old code accidentally passed in an array, which
    triggered the new serialization code. The old code was taking advantage
    of the older shallow jQuery parameter serialization, which calls
    toString(), combined with the fact that singleton Arrays in JS stringify
    into their first item stringified.

commit 0506b124c57ea83161c56a86ecefa2e8a99621b9
Author: Max Goodman <max@reddit.com>
Date:   Tue May 17 17:41:46 2011 -0700

    Fix /submit captcha 404 on reddit mobile.

commit f685046d13c305f0a566cc98feaeef63bb372db9
Author: Max Goodman <max@reddit.com>
Date:   Tue May 17 15:51:54 2011 -0700

    Update mobile to jQuery 1.6.1.

commit 81c770555609718d88aeba39da7ac4b0d5a08836
Merge: 18cdeee fb7fede
Author: Max Goodman <chromakode@gmail.com>
Date:   Tue May 17 15:54:09 2011 -0700

    Merge pull request #67 from jsocol/master
    
    Add protocol to <link rel="shorturl">

commit fb7fedee2e4359824d0be4b4560084c502c8545d
Author: James Socol <james@mozilla.com>
Date:   Tue May 17 18:36:49 2011 -0400

    Add protocol to shorturl header link.

commit 18cdeee38d9ccbc49ebcc0e049194b42fd5773cc
Author: Max Goodman <max@reddit.com>
Date:   Tue May 17 10:28:41 2011 -0700

    Add is_gold parameter to user JSON.

commit 2566c0c13ecf001b4d1ab9e8ea94ae40ea771bd5
Author: James Socol <james@mozilla.com>
Date:   Mon May 16 17:46:35 2011 -0700

    Add canonical shorturls to the header.

commit 2db04c90858dc54e256428c3d4a6b7cc552da344
Author: Max Goodman <max@reddit.com>
Date:   Mon May 16 11:04:58 2011 -0700

    Do not wait until jQuery ready before firing a pixel.

commit c5fd5ecd555b6982849511c72457e674c20b463f
Author: Max Goodman <max@reddit.com>
Date:   Fri May 13 05:47:02 2011 +0000

    Remove reddit.css and sprite.png upon make clean.

commit 13894a7a10c1ed27054778ef381f30f1addd7f68
Author: Max Goodman <max@reddit.com>
Date:   Fri May 13 05:46:28 2011 +0000

    Convert to RGBA to fix an alpha channel rendering issue with PIL/nymph.py.

commit 5e2f134b959e7fa1110b1f6d449101727b0a1a68
Author: Max Goodman <max@reddit.com>
Date:   Thu May 12 11:03:16 2011 -0700

    Make template_debug skip stripping whitespace.

commit e4fd6a267d4765c0ed4a352741c00ddfae8b4e8a
Author: Max Goodman <max@reddit.com>
Date:   Tue May 10 17:43:50 2011 -0700

    Fix styling of the sponsored link targeting subreddit completion dropdown.

commit 618b9e8d1d5431bfa3598f9ccfe62ba9126363f2
Author: Max Goodman <max@reddit.com>
Date:   Tue May 17 15:12:39 2011 -0700

    Upgrade to jQuery 1.6.1 loaded from the Google CDN.

commit 69fb28cc321ba15e28f6e47b3282e9748ecd457c
Author: Max Goodman <max@reddit.com>
Date:   Wed May 11 15:53:40 2011 -0700

    Update Socialite static files for 1.4.0 release.

commit 14fa058d32525d76f6111b5d926e7fedb83ef9ec
Author: Neil Williams <neil@reddit.com>
Date:   Mon May 16 14:17:58 2011 -0700

    Make disable_ads a boolean property.

commit 92fdd422fba370c57a4a4337cd6ccf277360aa8f
Author: gabe <gabe@reddit-gabe.rackspace.com>
Date:   Mon May 16 14:53:20 2011 -0700

    Added option to disable captcha verification

commit e6178bedb1efcfc1ca4e36daa395b201c7aaf8c6
Author: westmaas <westmaas@gmail.com>
Date:   Mon May 16 12:16:43 2011 -0700

    Make default header image URL configurable.

commit 63d518f4c91f1ac526bf17f0d463e6ad3ac1e8d8
Author: gabe <gabe@reddit-gabe.rackspace.com>
Date:   Sat Nov 6 15:50:08 2010 -0400

    Make min age for subreddit creation configurable.

commit d411cd55a61bcd8aeab52e81dcd69582665ba0d0
Author: westmaas <westmaas@gmail.com>
Date:   Sat Nov 6 17:14:23 2010 -0400

    Added support for disabling adds via config file

commit 2b3b0616c131077d0e899d2bb8ccceabf3d18fa3
Author: Max Goodman <max@reddit.com>
Date:   Fri May 6 18:46:49 2011 -0700

    Add /api/me resource to fetch user info + modhash.

commit d8348f6c87cf8c64144f52145da84cb88fcc57a9
Author: Max Goodman <max@reddit.com>
Date:   Fri May 6 18:45:43 2011 -0700

    Modify validate_json semantics to work properly for pure JSON api resources.

commit 676f71a211d762b25adc2ddfd4dcc84e90744f37
Author: Neil Williams <neil@reddit.com>
Date:   Mon May 9 14:13:05 2011 -0700

    Upgrade to pylibmc 1.1.1.
    
    * Fixes app segfaults when memcache not available.
    * Remove "time" parameter from r2.lib.cache.CMemcache.delete_multi
      since it never worked anyway and was removed from pylibmc.

commit 4007764965fcfa24cd7b4c02da5a0b89b4f5000f
Author: Neil Williams <neil@reddit.com>
Date:   Wed Apr 27 15:44:53 2011 -0700

    Don't crash when children not viewable.

commit 2c3379c5e38c39f78eff2129a42191e72ace88aa
Author: idonthack <idonthack@gmail.com>
Date:   Wed Oct 20 23:08:47 2010 -0500

    comment permalinks in xml feeds are now valid URIs
    
    previously, comment permalinks in xml feeds were missing the scheme and
    authority segments (protocol and hostname). this caused problems with
    feed readers and other programs that expected to encounter a valid URI.

commit 400910ec0a9359ed110eb5ffb59111e17021f2cd
Author: Neil Williams <neil@reddit.com>
Date:   Wed Apr 20 14:00:08 2011 -0700

    Optimized a whole 'nother bunch of PNGs.

commit 3462a4b23dd23303debc6013e96176b1dd12bc98
Author: Janne <janne.m.sinisalo@gmail.com>
Date:   Tue Nov 23 14:28:12 2010 +0200

    Recompressed PNG images for smaller size
    
    Ran the PNG files in static/ through OptiPNG and AdvPNG for smaller file
    size.

commit 68a06c568b0ef4adf8664a5626a81c4b1554a77c
Author: Neil Williams <neil@reddit.com>
Date:   Thu Apr 14 14:56:18 2011 -0700

    April 2011 Merge
    
    * Show "this post is archived" message for things we won't allow votes on.
    * Don't mark messages read when pulled via RSS
    * Make compact (smartphone) interface respect user's toolbar
    * preferences.
    * Make mobile interface more friendly for kindles.
    * Fix bug that caused comment tree corruption.
    * Use cachebuster on traffic pixel for more accurate tracking.
    * Make apps restart themselves after a configurable number of requests.
    * Move to pycassa 1.0.8.
    * Fix bug in calculations for "best" sort.
    * Fixes for Firefox Mobile
    * Add a global flag to disable editing of the wiki.
    * Move the child-comment collapse button to the left.
    * Updated list of disallows in robots.txt to save needless hits from
      crawlers.
    * Fix vote_q by splitting it into vote_link_q and vote_comment_q.
    * Fix bug where /reddits crashes due to 'promos' subreddit.

commit 7fff900bbeba362b607821159f6419d7762c9957
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Feb 23 10:46:14 2011 -0800

    February 2011 Merge
    
    * Upgrade discount to 1.6.8
    * Start reading Votes, Saves, and Hides from Cassandra (while still dual-writing all three)
    * Some XSS fixes
    * Significant Gold buying and gifting improvements
      - Move /api/ipn to /ipn
    * Allow non-US countries to buy sponsored links
    * Increase embed.ly scope
    * redd.it support
    * Allow postgres port number to be specified in ini file (this changes the format of the .ini file)
    * Upgrade Cassandra to 0.7
      - Change g.urlcache to LinksByURL
      - Translate storage-conf.xml to cassandra.yaml
      - TTL support (and enable on Hides)
      - Move permacache keyspace to inside reddit keyspace
    * The stalecache: a local memcached that contains slightly old information to speed up some lookups
    * Switch to patched Paste that is hopefully download.gz-proof
    * Don't store votes on things > 30 days old
    * Many many bugfixes/small features

commit c78f27b4aeacc0e5322229b29eb1b27f15553e60
Author: Ryan G <ryan.g@atwgpc.net>
Date:   Wed Oct 20 10:11:06 2010 -0700

    Add gold to the footer (thanks gelob)

commit ccedf29d80a954da5fbcb4c63967de19581ee5ec
Author: Markus Gaisbauer <markus.gaisbauer@gmail.com>
Date:   Mon Oct 18 17:33:54 2010 -0700

    Generate comments trees in populate_db

commit f81c9261be0cda8af1165553828671c9d71d60d8
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Oct 18 14:56:54 2010 -0700

    Add missing psql function domain (thanks sjuxax)

commit 7c8ea0b1fca76bad9c6b6599c2eb0525e020c1b1
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Oct 18 14:49:21 2010 -0700

    Apply reseph's patch to make the subredditinfobar have a link to the
    subreddit's front page

commit e9b57a5721c9f1ba11d3f1ffa5a5512e36fb8ce5
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Oct 18 14:42:17 2010 -0700

    Apply Gelob's patch to make the RSS feeds validate

commit 602f1f6904cff9ca61c66303c1b58593905ff2cf
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Oct 18 14:38:59 2010 -0700

    Apply patch from Preston4tw (Preston Bennes <preston.bennes@gmail.com>)
    to make /r/foo/comments work

commit 37e2ba9892d1742f78ab496d8fc1d17797731078
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Oct 18 11:50:35 2010 -0700

    * Combine cassandra clusters into a single one
    * Add a new Cassandra CF for comment-sort caching
    * Add JSONP support
    * Support non-auto-renewing PayPal IPNs
    * Gold accounting
    * Gold features: comments tracking, larger comment limit
    * Autorenewing gold
    * Google checkout support
    * Profile-page sorting for all
    * Title-text on the logo
    * Hardcache sharding and profiling
    * Self serve enhancements
    * Add /r/foo/faq
    * Make self-centred reddits allow for more verbose selftext
    * Much better down-handling of databases
    * Add the ability to take a thread-dump from a running process
    * Remove the comscore tracker
    * Add comments to modqueue (does not back-populate)

commit 0ae8f2fb96cd39a01e8bff2cb4b1829b7bdbd0a8
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Jul 21 17:48:12 2010 -0700

    21 Jul 2010 merge
    
    * Use Flaptor's Indextank product for search, including santip's patch
    * for their new API
    * Add Cassandra ConsistencyLevels to the ini file, and storage-conf.xml
    * to the public repo
    * Patch contributed by umbrae in ticket #929: Add jumpToContent support
    * for Keyboard Accessibility
    * reddit gold
        - paypal/postcard support
        - friends with benefits
        - profile-page sorting for gold members
        - move domain listings into the permacache

commit 52da322156e8c1d38c872886aaffff64eb961f68
Author: Christopher Slowe (KeyserSosa) <chris@reddit.com>
Date:   Fri Jun 25 17:36:51 2010 -0700

      Bugfixes:
         * no-repeat on some background images in the sprite (#797)
         * fix deleted comments on the mobile site -- preserve author anonymity (#624
         * faulty permalinks on pages with all unicode title (#776)
         * no more spreadshirt
         * reorganize comment_tree and _builder.pyx to clean up cache handling
         * fix styling for Bug #78
         * Improve handling of /r/all+all (bug #699), etc (not always a 400 now)
         * Fix the time listings: sometimes we get passed unicode for self.time
         * Don't allow private reddits to show in /r/random
         * Try to allow remote sites to show their own favicons in the reddit
            toolbar
    
      Speed improvements:
      * CommentBuilder refactor rount 1:
         * create new sort and parent permacache entries so that we don't need to loa
         * update sorts and parents when a new comment comes in
         * update non-date sorts when a new comment vote comes in
         * add more trace info to timeouts in CommentBuilder
      * Some misc. performance hacks (incl. adding _utils.pyx)
      * Increase SR description box limit from 1k to 5k
      * Fix a bug where we weren't properly allowing hidden items to be hidden
        on time-filtered listings
      * Make Subreddit._by_name take a list of names like byID
      * Upload thumbs to S3 with reduced_redundancy==True
      * make rss feeds without a 'feed' get parameter act as if the user is not logged in
      * Require a boto that knows about reduced_redundancy
      * remove fast_queries from Message.add_props and put the onus on fetching the unread messages from the permacache
      * Store the list of popular subreddits in the permacache
        * make SubredditTopBar cacheable per-user.
      * add (as safe as we can make it) annotation for sql selects to track down requests hitting the db when they shouldn't be.
    
     User submitted features:
      * Merge and clean up Phire's selfs-only/no-selfs patch.
    
      * Don't show expired items on time-filtered controversy listings
    
      * Also add the 'hide' button to the toolbar just for breakneckridge.
        Next time someone calls me prickly, breakneckridge had better step
        up to the plate for me or I'm rolling it back.

commit 9a4271f641039f03c62a24c267e886fd0d86b350
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jun 15 22:37:51 2010 -0700

    Upgrade Instructions
    ====
       * Uninstall the python Cassandra package that we previously depended on (it has a namespace conflict with the new package we depend on).  To find it:
    
         $ python -c "import cassandra; print cassandra.__file__"
    
        and rm -r the .egg directory after "site-packages/"
    
       * This version relies on cython, so if "make" fails, you may have to install cython via your distro's package manager.
    
         $ cd reddit/r2
         $ python setup.py develop # possibly with "sudo" depending on your install
         $ make
    
       * Cassandra is now required for the caching layer.  An example storage-conf.xml can be found in reddit/srv/cassandra.  Make sure that the additional <Keyspace> items are included in your conf file.
    
       * remove the query_queue_reader services if they are running.  add new gen_time_listings.sh instead.  Suggested cron:
    
        0    */2 *   *   *   $SCRIPTS/gen_time_listings.sh year '("month","year")'
        */5  *   *   *   *   $SCRIPTS/gen_time_listings.sh week '("day","week")'
        *    *   *   *   *   $SCRIPTS/gen_time_listings.sh hour '("hour",)'
    
       where $SCRIPTS is the location of this script directory
    
    Features and Bugfixes
    ====
     * Mobile reddit:
       * templates are in r2/templates of the form *.compact
       * css is r2/public/static/css/compact.css
         * beginning of a sass-based (http://sass-lang.com/) compact.scss
       * reachable via .compact extension or from the "i" subdomain.
     * Cassandra is now *required*, and votes are currently written out to both cassandra and postgres (part of an eventual migration).
     * attempt to make the db connection code a little smarter.
       * A dropped DB connection will mark the connection dead and randomly attempt to reconnect.
       * A dropped db connection on start will permanently mark the connection as dead.
     * Calculate the time-filtered top/controversy listings using mapreduce instead of prec_links (new cron job in reddit/scripts)
     * allow default user/pass for database to be specified with '*' to fallback on db_user and db_pass in the INI file
     * Search feedback buttons
     * make deleted comments not show up in your inbox.
     * move last_visited into cassandra
     * Swallow rare, race-conditiony POST_save/hide/subscribe problems
     * Apparently we haven't been breaking properly for the past few weeks.

commit 08c431bd850b5bf89aede6721d6eb9881f647a08
Author: KeyserSosa <chris@reddit.com>
Date:   Fri May 28 14:55:13 2010 -0700

     * Comply with the spec on 304 errors so Chrome won't barf download.gz all over the place
     * The error pages have been broken for the past week.
     * Fix /r/all+all
     * Provides about.json to the api for subreddits (it already works for users)
     * Make sure Accounts have data before checking their name and msgtime
     * new bigger arrows for mobile site and a the alien is fingerless now
     * Try to update the _fast_query_timestamps less often to alleviate some of the load it causes on the Accounts DB
     * Swallow rare, race-conditiony POST_save/hide/subscribe problems

commit 1d9b9fe72cfa0468d6ed4f6d4eee3955a53a9dba
Author: KeyserSosa <chris@reddit.com>
Date:   Fri May 21 16:30:54 2010 -0700

     * transparency updates to some of the pngs thanks to ytknows
     * bugfixes in unicode handling
     * Nag nonparticpating jurors 20% of the time
     * fix thumbnails for sponsored links
       * non admins can't change the thumb of a live link
       * the uploader updates the status properly to 'saved'

commit d251ba757d57fe8cd1aa165e137b2c1fe6ebc0a0
Author: KeyserSosa <chris@reddit.com>
Date:   Thu May 20 11:39:29 2010 -0700

    * Improvements to the email verification system
    * addition of the 'powered by reddit' footer

commit 253c4730f9387a9571a572e725c50cf82520eca1
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Mon May 17 12:40:41 2010 -0700

     * Add services and scripts to public repos for ease of reddit installation
     * bring discount up to date
     * fix consistency errors in the self-serve traffic page

commit e6838895e04fd683ea6477b2dba19e889681edb8
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Mon May 17 10:56:41 2010 -0700

        New Features
        * Two new 404 aliens
        * enable a comment page cache if the user isn't author of any of the comments and the page is a non-permalink.  votes and friends are updated by javascript
    
        Additions
        * descriptive example.ini
        * create "trusted_sponsor" who get auto-accepted
        * split off url cache from the permacache, with major clean-up to app_globals
        * Move is_banned_domain() call into POST_submit() so it can take the sanitized url
        * Redirect /r/asdfasdfasdf to the search page, not the create page.
        * updates to draw_load.py
        * orangered envelope goes to unread, not all.
        * Remove "enable whitelisting" checkbox, and switch to new failiens
        * Put verification link on email prefs page
    
        Bugfixes:
        * split off a minimal api controller for onload calls (which don't care about c.site or c.user, making them cheaper)
        * Assume admins want to keep their cookies forever just like everyone else
        * /randomrising bugfix
        * JSON error page was rendering in html.  it now returns "{ error: ${code} }"

commit e87f520d45e7106f5a365e25a59a5bdca0959fdf
Author: KeyserSosa <chris@reddit.com>
Date:   Tue May 4 12:12:48 2010 -0700

        New Features:
        * Make the new targeted self-serve promotion the default
          * add TheOatmeal's comic to our source.  (http://www.theoatmeal.com)
          * add targetting
          * add rerunning or suplementing existing campaigns
          * move all sponsored link listings to be precomputed
        * deputy moderation
          * /about/trials and /about/modqueue
          * Have trials train the spam filter
          * Allow admins to see all trials, site-wide, at /r/all/about/trials
          * Allow trials to be ended while votes are still coming in when the jury opinion is near-unanimous
        * offload scraping to embed.ly
        * Use boto for s3cp instead of forking curl
    
        Additions:
        * migrated all graphs to use Flot
        * Implement per-user suspiciousness quota and print over-quota trace
          * Keep track of how many questionable links a user has outstanding at any given time
        * add links to the FAQ and walkthru
        * add a differnt thumbnail for self posts (thanks to licensplate)
        * Add some visual tracking for comments trees
        * Relabel:  ban / unban => remove / approve
        * Use big remove / approve buttons when the listing relates to moderation,
          or when the item has reports or is on trial
        * Merge unban, ignore, and a new approve this non-banned link into one
        * Be a little smarter about the way we allow caching of subreddit stylesheets
        * make cassandra's cache chain cache negative results (and yes that commit message is bigger than the patch)
        * add All, friends, random, and mod to topbar
        * add a local render precache (optional)
        * better noimage.png from paradox460
        * Add a 'legacy' mode to CMemcache that will allow us to use it as a drop-in replacement for testing purposes. Modifies python-memcached to use the same 'crc' hashing algorithm that pylibmc does, and removes a feature in python-memcached that we aren't using. Contributed by Joe Terranova <joeterranova@gmail.com>
        * Everyone sees cake
        * Added g.system_user
    
        Bugfixes:
        * improve validation of media embed, and remove a todo from link.py by putting all of the child div stuff in pages
        * Feed/JSON updates
          * Add selftext to RSS feeds
          * Add subreddit names to Comments in JSON
          * add is_self param to indicate self posts
        * Don't shade the background of child comments of spam
        * shorted the cache lifetime for AllSR to 1 min
        * Tell everyone that we actually own the trademarks we claim to own (footer update)
        * You no longer get an orange alien when one of your reddits sends an automated message to a user

commit 67814d543b704080317764791a63d01eb2ea2c6b
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon May 3 17:44:44 2010 -0700

        Features:
        * Cassandra
          * Add new cassandra libraries that we'll need to setup.py
          * Select Cassandra seeds at random rather than in order
          * Bugfix in CassandraCache.delete and a faster permacache migration function
          * Like other caches, CassandraCaches need to be able to take (and ignore) a 'time' parameter
          * add Cassandra to the permacache chain
        * beginning of jury duty (later called deputy moderation)
    
        Additions:
        * Make /r/friends much cheaper at the expense of sorting
        * Add Jury.delete_old(), which removes Account-Trial relations > 3 days old
        * Make the pretty_button() template function's callback optional, so that
          actionless pretty-buttons can be used on the admin details page
        * make .embed listings work for permalink pages (think of this as a first pass to getting blog comments working).  Adds 'limit' and 'depth' parameter to permalink pages
        * Added final redditheader.html pretty-button class
        * new iframe ads; also make button.js static
        * Usage sampling
    
        Bugfixes:
        * Stop adding batched time query recalculations to the queue at all except through the catch_up_batch_queries function
        * Superflous comma might be causing IE7 to barf
        * Change the byurl keys again, to fit in memcaches 251 character limit
        * Indentation error causing non-sponsors to be able to get to the advert listing
        * Move to a custom build of pylibmc that doesn't hold the GIL during blocking operations
        * Convert some cache.gets to cache.get_multis, and implement our own thread-safety around pylibmc's client
        * Make search caching a little smarter for time searches
        * Make the ads not be cached for 30 seconds each, ie. more random
        * fix deleted things on profile pages

commit a402d48de37ea6e444bcefbac82c707a058fe440
Author: Mike <raldi@reddit.com>
Date:   Mon May 3 17:15:44 2010 -0700

        New features:
        * Discount 1.6.1
          * Lines beginning with spaces are considered code. I don't know why markdown.py didn't trigger this.
          * tables in mark down: why not?
          * validation of resulting HTML vial libxml to prevent hax.
        * private RSS and JSON feeds
        * optional whitelists for subreddits
        * Moderator messaging
    
        Additions:
        * destination sanitization to cut down on XSRF
        * cosmetic fix to spam and reported listing
        * make the rss feeds on messages useful
        * /admin/errors
        * Of the types of listings hitting the precomputers (top/controversy by hour/day/week/month/year), the ones over long periods of time don't change often. So we can try to run them at most once per day, and then merge in the day's listings.
        * google analytics
        * logging queue
        * Created empty commentspanel.xml, errorpage.xml, login.xml
        * add subreddit rules/info box to submit page
        * add 'via' link on messages in moderator inbox
        * add a show=all get parameter to link listings to optionally ignore hiding preferences.
        * Raise edited timelimit to three mins
        * Remove UI that makes it look like you can edit deleted selftexts
        * Make it clearer to admins when a link is deleted
        * Fix [S] leak on deleted comments
        * Fix /user/[deleted] misrendering
        * New house ads system
        * updated so that minimalcontrollers actually can use the page cache.
        * Added /admin/usage
    
        Bugfixes:
        * Reduce the number of results that we request from Solr and simplify that caching a bit
        * Require a secret key to shut down app-servers
        * Make get_title a little more resilient to malformed documents and slow remote servers
        * Cause the SearchBuilder to only byID the results that it's going to render instead of all 1000
        * Remove ability for an author to XSS himself
        * fix spam listings and an xsrf
        * More verbose VDestination
        * Fixing the famous ?limit=0.1 error, and one last password-validation one
        * distinguish deleted comments' and deleted links' error messages
        * Don't allow ridiculously long log lines to widen the page
        * Bug with HardCache.add() when existing key is expired
        * Add adminbox next to domain

commit 2869eaf8b9241fdb84edfab1fa0b3b264c92e2bc
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon May 3 16:53:52 2010 -0700

        New features:
        * Activate negative-result caching for HardCache chain
        * begin migration to pylibmc:
           * Add pylibmc to the list of required packages in preparation for the replacement of the memcached library
           * Start using pylibmc for the rendercaches
        * Tweak the computation of the normalized hot page to be a bit faster when the precomputer is available, by relying on the precomputer's internal permacached structure.
        * Default to a SelfEmptyingCache for scripts run from `paster run'.  Note that processes that run forever are still responsible for resetting their local-caches, but this can now be done with g.reset_caches()
        * threaded messaging patch part 1: backend changes only.  This will allow migrate.py to be run to move new onto inbox and will start tracking message trees for users.
        * Specify some queries to run at most once per day
        * Refactored safemarkdown() and added soup testing
    
        Additions:
        * Added _byID_rel()
        * Made error messages more verbose for:
           1. byID lookups of too-big thing_ids
           2. memcache failures
           3. Solr Nones
        * Award._all_awards() now sorts by date
        * Trophy.by_{account,award}() now cache properly
        * new feedback page with helpful links
        * Try to reduce the length of the query-queue by not adding known-long queries at all, rather than adding them and skipping them
        * whitespace clean up
        * simplify the 'why did my CC get denied' email checking.
        * added missing translation strings and users now get PMs when they are added as translators
    
        Bugfixes:
        * Fix a bug in unsaving
        * BeautifulSoup stopped hosting 3.0.7a, but 3.0.8 still uses the good parser
        * Better search error handling
        * Properly reset the cache-chains (incl. the hardcache; d'oh!) per-request
        * Fix an attribute error on listings where some items have author_ids and some don't
        * Bug when forcing recalculation of memoized functions
        * the subreddit creation and edit form aren't dealing with errors properly
        * buttons fix

commit 5ef76b96c7845366b8234e530282d9428336fb4a
Author: KeyserSosa <chris@reddit.com>
Date:   Mon May 3 16:17:21 2010 -0700

      New features:
        * self service sponsored links (initial version with no targeting)
           * credit card processing with authorize.net (and corresponding interaction code)
        * hardcache -- for persistent cache keys with expiration
        * Awards code
        * messaging overhaul round 1.  Added mark as unread as well as message sorting
    
      Additions:
        * add TedScraper and improve youtube scraper (ala tritelife); move traffic link on sponsored links and make them still visible when the promotion is over
        * compressify all of our pngs, and set it up so thumbs, sr images, and the sprite get compressed every time they are generated
        * rate limit logins (naive way)
        * add a limit to the length of the moderator sidebox.
        * add over18 thumbnail handling and NSFW label on nsfw content
        * make NSFW label optional, and make the operation of the pref checkboxes sensible
        * add the option (for moderators) to remove a subreddit from the default set
        * Combine the queue handling code to be easily plumbed, and use it to precompute /comments
    
      Bugfixes:
        * trap duplicate vote error
        * Fixed new mail mouseover on toolbar
        * spammers can't send empty bodied emails any more (they will get rejected as they should).

commit bf9f43ccacc4ee7933629c621f97d6ff0ddd11b8
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Dec 1 13:42:06 2009 -0800

    Messaging/commenting
    ===
     - add confidence sorting to comments
       * common values are precomputed for speedier response
       * best is made the default sort on comment pages
     - messages will now be delivered once one is moderator/contributor/banned
     - UI updates to messaging page, including added show parent functionality to messages
     - Remove the rate-limit on comments on your own self-posts
     - Give users some leeway in editing their comments: don't show an edit star if the edit is within the first few minutes of a comment's lifetime
     - Office Assistant will help users when they write to admins
    
    Backend
    ===
     - Replace the postgres-based query_queue with an AMQP based one
       * Set up amqp queues for async tasks such as search updates and the scrapers
       * service monitor updates, adding queue-tracking support
     - Allow find_recent_broken_things to specify both from_time and to_time
     - add a ini file parameter to disallow db writes (to create read-only reddit instances for crawlers)
    
    New features
    ===
     - self-serve advertisement:
       * complete overhaul of sponsored link code
       * functions for talking with authorize.net
       * added pay domain and https support
       * added ability to share traffic from sponsored links
       * auto-reject promotions that are too old and unpaid for
     - awards
     - allow widget to have its links to have a target (in case it is iframed)
     - automatic_reddits:
       * Don't show automatic_reddits in the horizontal topbar
     - Listing numbers are always in order with no gaps
     - add support for sprites for common (r2.lib.contrib.nymph)
    
    Admin
    ===
     - added a takedown page for dealing with DMCA requests properly
       * status code 404 on takedown pages
       * JSON returns same string as in the explanation text
       * nofollow on markdown in explanation
       * title and image optional
     - Added /c/(comment_id) for admins
     - updates to JS to rate-limit voting, commenting, and anything else that could be just as easily done by a script-kiddie to cheat.
     - make ad frame dynamic and add tracking pixel
     - add the ability to add a sponsored banner to the rightbox of a reddit
     - add the ability to show custom css on cnamed and/or non-cnamed versions of a reddit
     - allow us to ignore reports from report-spammers.
    
    Bugfixes
    ===
     - Fix sorting of duplicate links (patch by Chromakode)
     - fix traffic bug on main traffic page when it is the first of the month.
     - toolbar redirects to comments page on self posts rather than generating the frame
     - half-assed unicode handling in menus giving us bugs again.  Switched to the whole-ass approach
     - added Thing._byID36
     - Support /help/foo/bar

commit 1f1f0606f5b6bf14a0db55a28cfd03e1e42e3550
Author: Christopher Slowe <cslowe@toph.local>
Date:   Mon Sep 28 01:56:46 2009 -0400

    remove markdown onmouseover exploit

commit c780f09bfb23783a0778b85c26071389aff20e20
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Aug 12 16:20:29 2009 -0700

    API updates:
     * make created_utc reference GMT
     * add subreddit_id to comments
     * generate useful media embed info
     * fix to url validator

commit 9bc275c140213d902dd0b1d74e82eda8046450dd
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Aug 12 11:28:05 2009 -0700

    bug fix to language preferences for unlogged in users.  Also JS fix to all language pref pages.

commit dd686f1f97d7095942e863e33b561ff0ed94a489
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Aug 11 14:27:32 2009 -0700

    Allow spammy users to submit again

commit 35f51ea5a94813d2b90c222862873ed36282544a
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Aug 11 12:16:50 2009 -0700

    Significantly simplify spam and reporting, and move all of that code into the public repository

commit b066246a5ce456b89f63bdb2fc9628b81126c4ec
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Aug 10 10:13:43 2009 -0700

    When _commit()ing inside of a lock, only sync data properties if they are available

commit 52a57125e46d1495fc5e6044327cd67bdc826b2e
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Thu Aug 6 15:15:22 2009 -0700

    Updating socialite page with a new look

commit 9a11ad8ead88ca98f8ae8f08409940c0ef841450
Author: ketralnis <ketralnis@reddit.com>
Date:   Fri Jul 31 15:45:17 2009 -0700

    Add <guid>s to the feeds for comments and messages

commit 58d101e75b419725e8cab6a76538d32b00f2c87a
Author: spez <steve@reddit.com>
Date:   Fri Jul 31 13:56:55 2009 -0700

    fix a bug where adding a comment to a comment tree that isn't cached creates a
    broken comment page.

commit a8331fd43a1ec1508fa6d99ecc51f8ea1070edbe
Author: spez <steve@reddit.com>
Date:   Fri Jul 31 13:38:30 2009 -0700

    removed some extraneous menus. fixed the 'Send message' link on the moderators page. removed the fancy styling in the subreddit info boxes.

commit 94c17d8ddbbd8c3feb648501ecfd0bfb20a45ba6
Author: spez <steve@reddit.com>
Date:   Fri Jul 31 11:05:01 2009 -0700

    fix the rising page for /r/all and for multi-reddits

commit b939173efbf57e597cf2e2eb8d0187ef9e6ba8c0
Author: spez <steve@reddit.com>
Date:   Thu Jul 30 16:09:04 2009 -0700

    lock around thing._incr(). remove a lot of cruft that was required when _incr wasn't locked.

commit d6c06371b18ee599b2b3d4d91246d00da94fd050
Author: spez <steve@reddit.com>
Date:   Thu Jul 30 15:14:22 2009 -0700

    added locking around thing._commit()

commit ec2d9f1863599c286929714a0626709bfbfabf80
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Jul 28 16:40:52 2009 -0700

    Two spam buttons is too much delicious spam for one moderator to handle

commit dac5fa322e6129158a779cecf5baf3da26ae4c65
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Jul 28 15:53:51 2009 -0700

    Allow utils.worker to be joined explicitly

commit f16741269cd6919c091e57f8456d8f2497a150f3
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Jul 28 15:20:12 2009 -0700

    I can do basic arithmetic, I promise

commit 45424f6bfa493ac35afcbae467d1c4fb69e4a090
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Jul 28 14:59:04 2009 -0700

    Make that work with more than one sort-column

commit 4088536192debc93b917d2a77d7da2e9c5952d00
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Jul 28 14:48:45 2009 -0700

    Properly sort spam page

commit 72cad18d25d9a86725c393ef48ff0d47e816fc49
Author: Christopher Slowe <cslowe@toph.local>
Date:   Tue Jul 28 17:14:06 2009 -0400

    fix to last patch when no user is logged in

commit 352e8d4775c37d3a90e59d4420e4241252d14e8c
Author: Christopher Slowe <cslowe@toph.local>
Date:   Tue Jul 28 16:50:16 2009 -0400

    fix to /r/all/top?t=day issies; fix to caching issues with toolbar

commit e65311e08c3eee25acd3a51b3b74b97fa7632ec3
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Jul 28 12:13:09 2009 -0700

    Typo when submitting spammy links

commit dadae89bb2114fd1431c23d474b78a5eb02a1914
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Jul 28 11:59:47 2009 -0700

    Expose spam and reported listings to moderators. Lock concurrent votes.

commit 1fdf8cdbb39f79da9bf6a901f6f34a8012e6920f
Author: spez <steve@reddit.com>
Date:   Mon Jul 27 16:15:16 2009 -0700

    dont precompute top_links page temporarily

commit ac263fba6f1424bddb4ed835dbdf0a6e84ef8257
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Jul 27 14:35:14 2009 -0700

    Don't check media embeds for validity. (Instead cleaned up the ones in production by hand)

commit 52319ba5abff8b79abf42bf6cd6784d5f80b3a8e
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Jul 27 14:18:34 2009 -0700

    Avoid bug #417 with Safari caching of iframes
    Fix thedailyshow scraper to work with their new site layout
    Add GenericScraper for manually adding media content to links

commit 9b649bf6ea7f43cd19b6847db5b2676a60835cd8
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Jul 22 14:37:23 2009 -0700

    fix browser language behavior by preserving order.  Also style fix to iphone page.

commit cb4615e34fdeece0aa66664b6ed55cb18fe13dc2
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Jul 22 13:47:39 2009 -0700

    Just a failsafe: never ever read cookies sent to the unsafe media domain

commit b9ec9f62cf596bdeb4a88fec5c2d6b96bbadfd37
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jul 21 16:47:15 2009 -0700

    updates to API: about.json on user pages to fetch link and comment karma without scraping html; added link_title attribute to comments in places where they render in html with their link's title (profile page).
    updates to iphone page.

commit 2cf34903294042806687811ced5cb5e35090e6e6
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Jul 21 14:31:11 2009 -0700

    * add some new scrapers
    * start showing embedded videos inside of an <iframe>. This allows us to
      embed videos from external sites without having to trust their DOM security
    
    Note that the media_object property on new links is now a dictionary,
    but old ones will still be strings

commit b02ae5a8e18d690637db6261cd9bb460dc8c7fe2
Author: Mike <raldi@staging.wireddit.com>
Date:   Mon Jul 20 17:02:03 2009 -0700

    Minor fix that definitely wasn't a major security problem

commit ecbf26ecea7382f2d3eaef5cd79f5a6ed5d5e7b8
Author: Christopher Slowe <cslowe@staging.wireddit.com>
Date:   Mon Jul 20 10:32:18 2009 -0700

    traffic patch for new reddits: removes zero division when there are not yet a week's worth of totals

commit 47835b33dbc84b74e0a89fa8896eb1d9ae6a9619
Author: Mike <raldi@staging.wireddit.com>
Date:   Sun Jul 19 11:23:04 2009 -0700

    Make [M] optional, add [A]

commit 045381ae32ca690b13339c9aa84c73633f2bb0ac
Author: ketralnis <ketralnis@reddit.com>
Date:   Fri Jul 17 10:51:44 2009 -0700

    * lock Thing queries run with write_cache to prevent concurrent runs of
      potentially expensive queries
    * don't look up default_subreddits in languages that we never store
    * start respecting Subreddit.allow_top again
    * fix assert syntax in cache.py

commit c612109da7fb8f62f3cd1d82f77e65b14ca2b9f8
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Jul 16 14:01:36 2009 -0700

    Temorarily roll back allow_top change while we migrate

commit 6113b72ea64e4602f45965be511a00faa8def852
Author: Mike <raldi@reddit.com>
Date:   Thu Jul 16 12:39:38 2009 -0700

    Sort srbar by popularity rather than alphabetically

commit 852b989f9e5a968c88c7e3b94792ca04ea53a468
Author: Mike <raldi@reddit.com>
Date:   Thu Jul 16 12:14:14 2009 -0700

    srbar updates

commit b9d93f01a9a762b22f2c8ece2211ecd873b9fda6
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Jul 16 11:48:22 2009 -0700

    Allow some reddits to be specifically excluded from appearing in
    the default set. Will require running of
    r2.lib.migrate.add_allow_top_to_srs()

commit 9c4ebbbdfd9179ad397928904f6108915de2d656
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Jul 15 11:03:15 2009 -0700

    Allow submissions with short enough titled to be made into T-shirts thru spreadshirt.

commit c0b98e0c3e9c03532b981673b85554d933939c75
Author: Mike <raldi@reddit.com>
Date:   Tue Jul 14 13:24:29 2009 -0700

    Fixed 2.6 incompatiblity with the toolbar easter egg

commit f37cdeaeedbec72ae2acd752d73b62b5c39000a8
Author: Mike <raldi@reddit.com>
Date:   Tue Jul 14 11:16:06 2009 -0700

    Added user attributes. I'll be optimistic and not call this "User Attributes Checkin #1"

commit 09865a2f2b97bd99470b3a1203b44d788dd4ce29
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jul 13 15:28:41 2009 -0700

    caching issue with previous version

commit 54faeb8aac32c63dc8bce78ec12e569536700b10
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jul 13 13:55:07 2009 -0700

    add custom firsttext for iphones, linking out to free reddit app

commit c70106fdc8def11f28c5216f6dcde0c934ca4273
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jul 13 12:10:46 2009 -0700

    updates to service monitor:
     * assume we have hit max_connections if connection failures
     * allow checking lifetime of caches other than the data cache

commit a196cf79032d8408b4bccdbb90594bd789413e79
Author: Mike <raldi@reddit.com>
Date:   Fri Jul 10 13:12:03 2009 -0700

    Add display_tz and fix deleted link rendering issue

commit be9fc66a91214b58913009ffc3b47b0870fe03fb
Author: Mike <raldi@reddit.com>
Date:   Fri Jul 10 09:47:23 2009 -0700

    Fixed promotion issue

commit a0c129b8a0874e7051b05467c3f9a1ee7c366758
Author: Christopher Slowe <cslowe@staging.wireddit.com>
Date:   Thu Jul 9 22:08:43 2009 -0700

    fix comment rate limiter.

commit c034fe485b2cfd7952fbe7080189e798e1f4a0fd
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Jul 9 16:51:30 2009 -0700

    repair caching bug related to widget with votable buttons; add over18 parameter to subreddit json

commit eac94f7705cdbc18ff0e1bfa61d93c4f29fdc068
Author: Mike <raldi@reddit.com>
Date:   Thu Jul 9 13:21:44 2009 -0700

    spam-related update

commit cb491d858eb35a228a859b55f41ae6e264855ebc
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Jul 8 15:47:08 2009 -0700

    Update listing JSON template to include explicit before/after; fix validator to make /reddits/mine pagination work correctly.

commit 5ea7b2e3efb300b93e6ac02b37e39063aeaa31c2
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Jul 8 11:24:49 2009 -0700

     * add nofollow to comment titles on low point (or banned) comments or links.
     * have submissions to banned reddits generate an error message on /submit.
     * make unicode user name pages 404 rather than 500

commit 97736332487a5c267668a249437fac4d48f77a12
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jul 7 16:14:23 2009 -0700

    make toolbar fail gracefully on links that are private; fix /reddits listing subscriber inconsistencies

commit 9fbce20016c8e399b4befd19abf3ba9b63d90fa1
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jul 7 15:05:15 2009 -0700

    fix to subreddit creation when user's language is not english

commit ae1f8bad877f9ba954f7e71e0609a19bb7e2969a
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jul 7 11:00:51 2009 -0700

    fix meta reddit menu bug by making the unique identifier for reddits be the path rather than the name

commit ac1f27bb2566ff7036730ad30f05d09b671804e2
Author: Christopher Slowe <cslowe@staging.wireddit.com>
Date:   Tue Jul 7 10:18:29 2009 -0700

    fix to over-agressive space compression

commit 427c1ca74c0239d8a9e9960fd060c46cff315313
Author: Christopher Slowe <cslowe@staging.wireddit.com>
Date:   Mon Jul 6 22:06:21 2009 -0700

    fix tabbing issue.  update space compression in api to stop extraneous space removal.

commit deeb9eb5bf0bb8c857d16d8bca0f7608b1d63842
Author: Christopher Slowe <cslowe@staging.wireddit.com>
Date:   Mon Jul 6 20:07:12 2009 -0700

    render fix to promoted link creation tool

commit 145bd31bfcfe64297acf3c6758a95a894e534cb5
Author: Christopher Slowe <cslowe@staging.wireddit.com>
Date:   Mon Jul 6 19:24:29 2009 -0700

    JSON fixes to restore the iPhone app to normal working order

commit 1851c84010e752767cc9a956dbae9419284c56cb
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jul 6 17:47:21 2009 -0700

    fix rss comment counter; make deleted/spam submissions render as such; no score minimum on comments

commit cd01700ac84c17ca3cf731f60751514ab7bbe59a
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jul 6 16:19:20 2009 -0700

    make uncachable error more specific; have menu buttons cache on GET parameters but not POST

commit 83e724a668d1e00eb220f3bf2780a5fceb5ba689
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jul 6 15:44:30 2009 -0700

    fix to broken moderator page

commit 2837bb3c4557f6e62f4a90527cfc602e72cea1db
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jul 6 15:37:48 2009 -0700

    bugfixes for caching patch

commit b2b20380dc8c023796fe5fc61e475c656d5910ba
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jul 6 14:47:58 2009 -0700

    mising new files on caching branch checkin

commit 84c1375339441900f4a3b5be9bd06cabe112d83c
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jul 6 14:36:33 2009 -0700

    Epic Caching Update. Major features (mostly in r2.lib.wrapped)
     * Wrapped -> Templated in cases when there is no thing to be wrapped
     * cachable templates out of cachable pieces which can be reused
     * auto-generation of cache keys for cachable content
     * c.render_style used to propagate current style to children
     * cut down on the number of c and g variables in thing templates.
     * buttons in printable.html now in printablebuttons.html with handler classes in r2.lib.pages.things (planned destination of add_props).

commit 9a4b45d31041150503e7805fbdf6e48f0ea9bc1a
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jun 29 15:59:10 2009 -0700

    make buttons work in IE6; make score in buttons behave properly in all browsers; footer link out to redditjobs

commit 3a0cf932fa7806d0980b7df2d24f3122aeb88b5a
Author: Mike <raldi@staging.wireddit.com>
Date:   Sat Jun 27 07:33:24 2009 -0700

    Switching compressed view to have two lines instead of three.

commit 71088b74237ed9ddcb3c4e626a3b1382a12a6127
Author: Mike <raldi@reddit.com>
Date:   Fri Jun 26 12:37:59 2009 -0700

    move compressed link XXX-comments button one pixel to the left

commit be9bab2dab6502ea2916df80bb3125225b65630d
Author: Mike <raldi@reddit.com>
Date:   Fri Jun 26 11:52:44 2009 -0700

    Add expandos to compressed links, remove the need for a separate template

commit 75e1127a5a66913aa3f6660f1d87f2b5d1432c41
Author: Mike <raldi@reddit.com>
Date:   Thu Jun 25 14:18:06 2009 -0700

    Fixed problems with comments panel and deleted comments

commit 98fdc7bd6e1d80d3db1f7ae45e77bc51f6177d60
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Jun 24 10:02:03 2009 -0700

    Fix 'next' button on duplicates listing

commit 56e3d167d7dd1a9d4f094f06e6e16fec333a46be
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Jun 23 13:55:06 2009 -0700

    Add new 'other discussions' tab to comments pages

commit 891602ab954b155c1a7b8a98fff0676f1dbacb56
Author: Mike <raldi@reddit.com>
Date:   Tue Jun 23 10:49:55 2009 -0700

    Changed 'deceptive' to 'descriptive' and made compressed links a little more like regular links

commit 2924836573c4c46da0a33783d1ed60a0a26971a7
Author: Mike <raldi@reddit.com>
Date:   Mon Jun 22 16:46:52 2009 -0700

    Added some trace for password resets, slightly changed the formatting help example for code blocks

commit d964c2fa7e2087100af9e8fe337abe6736a61ba1
Author: spez <steve@reddit.com>
Date:   Mon Jun 22 15:50:25 2009 -0700

    fix some tabbing issue in IE forms. align the sr dropdown properly in IE

commit 1ee32eeed3ec9b0e872ac6577c740a67e248a8a2
Author: spez <steve@reddit.com>
Date:   Mon Jun 22 14:43:18 2009 -0700

    add rendered selftext to json responses on comment pages

commit e54a4ba72dde48d4be41c28da610b42097ddd9d0
Author: spez <steve@reddit.com>
Date:   Mon Jun 22 11:17:29 2009 -0700

    log a previously loggedin user out when hitting hte password reset page

commit deff6ece431563c8137887bd4898a77a7c809a47
Author: spez <steve@reddit.com>
Date:   Fri Jun 19 12:15:20 2009 -0700

    put the sr cache into the permacache

commit b755abcbebbab6357c3318885082e8c4244f485c
Author: Mike <raldi@reddit.com>
Date:   Thu Jun 18 14:04:50 2009 -0700

    Send focus to content frame when using the Reddit toolbar. Also, cut back on title fetching.

commit 7412ceeccde1f1c5536de2ea1078ff4fdd299869
Author: spez <steve@reddit.com>
Date:   Thu Jun 18 11:36:47 2009 -0700

    another .mobile fix

commit 8c90fc0970579eedde3c527df215b03073a8ef82
Author: Christopher Slowe <cslowe@toph.local>
Date:   Thu Jun 18 11:29:10 2009 -0700

    fix to post login and registration

commit cfa2f840b1e95c81be8b3a5e817463818e1aa882
Author: spez <steve@reddit.com>
Date:   Thu Jun 18 11:19:01 2009 -0700

    add usertext.mobile. not sure why it's required

commit 77e51a304d1b4034614d75c5bf4c07b216400a42
Author: spez <steve@reddit.com>
Date:   Thu Jun 18 10:55:14 2009 -0700

    A new submit page.
    The ability to submit to any subreddit from the regular submit page.
    The ability to add text to a self-post.
    Improved comments pages.
    Support for HD Youtube videos.
    Numerous bug-fixes.

commit e713c0e5615fc28ec20f6f272c2349615f21456b
Author: ri <ri@tools.(none)>
Date:   Fri Jun 12 14:29:50 2009 -0700

    repairing bug in share.email related to last translation patch

commit 833c6e48c57d816ba3f5a410c3547d5b4b2bfb99
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Jun 12 13:36:33 2009 -0700

    translation updates: added missing translation string hooks and updated translation UI

commit 0524555140b10b31c300357cf8909677da8c234c
Author: spez <steve@reddit.com>
Date:   Sun Jun 7 12:31:55 2009 -0700

    new weighted-random db load balancing

commit 17171c809580b90666b2419bdf59075d7bafdfbf
Author: spez <steve@reddit.com>
Date:   Thu Jun 4 11:59:03 2009 -0700

    disable the recently clicked box for non-logged-in users

commit d2c83f55fba7505442602e653744e457991c9d40
Author: Mike <raldi@reddit.com>
Date:   Thu Jun 4 11:53:13 2009 -0700

    Added some more verbiage to the toolbar, made it prefetch images, and fixed a bug where self posts were getting the toolbar.

commit 8a5b6f18c65a824f1cbf871bd9c71ff1fa4eaa99
Author: Mike <raldi@reddit.com>
Date:   Thu Jun 4 11:10:39 2009 -0700

    Hovering over a link shows where it goes, even with the toolbar pref

commit 32639c8ef3593d6d20fdd150ee73a6a9c4e759bc
Author: spez <steve@reddit.com>
Date:   Wed Jun 3 14:12:36 2009 -0700

    rename the recentclick cookie for the millionth time

commit 56f3a4822e4537d1967a5404398e11be7960d240
Author: spez <steve@reddit.com>
Date:   Wed Jun 3 13:46:43 2009 -0700

    Replaced : with , in recentclicks cookie.
    Make reddit_base use the same fullname validating code as GET_widget.
    Don't update recentclicks cookie when clicking on subreddits.
    Prefix non-logged-in cookies with a _ in JS to match what we do on the server side.

commit 9c1b1596142a21d28f40b2d35eba93a1aa87fa35
Author: spez <steve@reddit.com>
Date:   Wed Jun 3 12:34:07 2009 -0700

    if the user is logged in, dont hit the server for recently clicked

commit 7ee5b70c7fdbb0c229c83bf5f248dac06bea7122
Author: Mike <raldi@reddit.com>
Date:   Wed Jun 3 11:32:21 2009 -0700

    toolbar 2.1

commit 7401a017aa06f377f00f6b5ad26cefa359482986
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Jun 3 11:05:42 2009 -0700

    IE6 fix for disappearing content on voting.  Also JS patch to remove unvoted class on vote.

commit ae9eaf55751a80049401c345dbbd10dfc71889d2
Author: spez <steve@reddit.com>
Date:   Wed Jun 3 10:32:07 2009 -0700

    add preference to remove recently clicked widget

commit be6b627fec327d81aed99d894ccdaeaac6556718
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jun 2 16:48:31 2009 -0700

    fix hidden score on links when voting

commit 09918f997ed3276a7170bca9f3f941e39d6dbf79
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jun 2 16:29:31 2009 -0700

    add liked/disliked style to midcol to fix score updates

commit 416ee912f7b82af0d7ed6a9b6ed449a6bfa12640
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jun 2 16:07:16 2009 -0700

    change the name of the clicks cookie to recentclicks

commit ee49b1894979cf58ca99adb73e6f91b6dfbe9414
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jun 2 15:51:27 2009 -0700

    fix rendering glitch resulting in new comments showing as having 2 points, and updating of points for all of a comment's children on voting

commit db6470718933a668a5b6a7f8caff11ea27df8916
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Jun 2 15:14:52 2009 -0700

    Add new 'recently visited' gadget

commit e7eb9e63d72cb9411d434a0f2743a0d38f852ae5
Author: spez <steve@reddit.com>
Date:   Sat May 30 10:03:35 2009 -0700

    comments panel off by default

commit 08aa5309fd66b39694556a374fa0f72efb1e3a50
Author: Mike <raldi@staging.wireddit.com>
Date:   Fri May 29 22:38:54 2009 -0700

    Updated toolbar arrow padding, a regex, and removed the logout button

commit 68826e8ee48d6041e2c2b518cf0132f4351cfc6b
Author: ketralnis <ketralnis@reddit.com>
Date:   Fri May 29 15:25:50 2009 -0700

    Some minor toolbar usability changes

commit b5d4124059703c4e853a869a7239c0a6495a2054
Author: ketralnis <ketralnis@reddit.com>
Date:   Fri May 29 12:31:42 2009 -0700

    Fix embeds, changed inline->tag in score()

commit a07c576d1a8a548d8b22516304c64152d5eb89a0
Author: ketralnis <ketralnis@reddit.com>
Date:   Fri May 29 12:04:00 2009 -0700

    Some toolbar upgrades

commit de17178bc1036793bb25d7cee4cdf8391589496a
Author: KeyserSosa <chris@reddit.com>
Date:   Tue May 26 12:12:23 2009 -0700

    make subreddit listings respect subreddit rankings over language preferences

commit fab25c5720952c9b5108ba553e33f174d00a1ec7
Author: KeyserSosa <chris@reddit.com>
Date:   Tue May 26 10:49:16 2009 -0700

    change service monitor to use the instantaneous load rather than the 5 minute average

commit c3b894f263b21d6378975974a4b6b0c98ec33ad6
Author: KeyserSosa <chris@reddit.com>
Date:   Fri May 22 11:57:50 2009 -0700

    bugfix for messages too long (now generates an error); fix of rss feed title and image; added thumbnail and media attributes on the API for links; added autohide get parameter to hide buttons when the user is not logged in.

commit 782238652bebd3a89c3d780a2f095f0ab0745359
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue May 19 13:55:58 2009 -0700

    Rate-limit login attempts

commit 87382213b150d62627c512d9bd9384f3f485819b
Author: KeyserSosa <chris@reddit.com>
Date:   Mon May 18 12:20:17 2009 -0700

    make service monitor able to determine number of cpus

commit c163622465a42e78a47bacb0c6c4a9457863226f
Author: spez <steve@reddit.com>
Date:   Mon May 18 11:21:37 2009 -0700

    simplify the reddit_first cookie to help with caching

commit ddcd8a3568a9e27a03a8d70c04f49bd48be57278
Author: spez <steve@reddit.com>
Date:   Sat May 16 07:46:20 2009 -0700

    fix some pg8.3/python2.6 issues

commit 498c3b01fce22e1761f1dd6a93038a9dfdeda13f
Author: ketralnis <ketralnis@reddit.com>
Date:   Sat May 16 06:48:38 2009 -0700

    Require older version of cssutils due to API breakage

commit 52bf2f077728fc49678bbf9000ed5021b1514289
Author: KeyserSosa <chris@reddit.com>
Date:   Sat May 16 05:03:40 2009 -0700

    put in a temporary hack in the voting code to limit voting to the last 30 days.  To be removed when data migration is finished

commit 0ec2cb39d703e8252421e000a30d87157181a8da
Author: spez <steve@reddit.com>
Date:   Fri May 15 16:36:55 2009 -0700

    update the choosing of the reddits to fix the empty-next-page bug

commit a01cd28a1d1e4fbb6797ee5938824762d368ab9b
Author: spez <steve@reddit.com>
Date:   Fri May 15 16:35:09 2009 -0700

    send cache-control headers to fix the login-but-still-cached bug

commit 8d6f59e4fef68fd30fac0aa9f1727a209e45ccaf
Merge: d156510 0d8a705
Author: Mike <raldi@reddit.com>
Date:   Fri May 15 12:46:25 2009 -0700

    Merge commit 'origin/master'

commit 0d8a7058f252425577cd0513bcd20d58611aa28a
Author: KeyserSosa <chris@reddit.com>
Date:   Wed May 13 15:45:50 2009 -0700

    make self post domain links point to that link's subreddit page rather than to the (empty) /domain/self.* listing.  Also fixes a bug whereby subreddit links on cnames point to the cname rather than to the subreddit

commit 36ed3fe2480df384770d4fbff15dbe4d33b69911
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed May 13 14:38:46 2009 -0700

    Don't show very young links on the new page, so that the thumbnail fetcher et al have had time to act on them

commit a39f0716fb6703cf3d7532c0ce5e65ce7e402e73
Author: KeyserSosa <chris@reddit.com>
Date:   Wed May 13 13:59:06 2009 -0700

    previous revision breaks /submit.  This patch unbreaks it

commit 4a6dffaf4c45ef5b6418d73106e8822625a9f470
Author: KeyserSosa <chris@reddit.com>
Date:   Wed May 13 13:15:51 2009 -0700

    break user_subreddits and default_subreddits apart and remove limit = None query in organic.py

commit 0745f5bf18f30d0a5c8b416bb056a43e7e2de4dc
Author: KeyserSosa <chris@reddit.com>
Date:   Wed May 13 11:13:00 2009 -0700

    make 1/2 of the default reddits English reddits if the user hasn't set their language preferences and is coming from a non-en-default browser.  Also clean up and remvove old subredditbox code.

commit d156510c9302053c98f9897f35b66b1c04bb6de3
Author: Mike <raldi@reddit.com>
Date:   Wed May 13 09:58:52 2009 -0700

    Changed 'banned reddit' message

commit 9c5dea3ae1f0cf9cd0c15a573daa6aa71cd07fa2
Author: Mike <raldi@reddit.com>
Date:   Mon May 11 14:29:08 2009 -0700

    Added more_karmas link, changed karmas sort order, plus some minor cleanup

commit 88b1dd4338cc1fc586f5263ccdd898f4cbddd278
Author: spez <steve@reddit.com>
Date:   Mon May 11 11:24:50 2009 -0700

    footer updates

commit 1e8275584e0558e8b4c58d619fea63d47079083e
Author: Mike <raldi@reddit.com>
Date:   Thu May 7 16:24:52 2009 -0700

    Fixed bug where users who couldn't edit the wiki were getting space-compressed

commit af1d78361b2d0795d698853a21dec6f403a55d26
Author: KeyserSosa <chris@reddit.com>
Date:   Thu May 7 11:46:11 2009 -0700

    fix blog link in footer; add padding to footer; add to subreddit subscriptions;

commit 6cbbd9da4e0b7cec526e2aceeb4c2986777bf118
Author: KeyserSosa <chris@reddit.com>
Date:   Wed May 6 17:03:40 2009 -0700

    fix offsite buttons to not include subreddit

commit e3aa53874e8c76f399ef8618af04dee69b6d4ccd
Author: KeyserSosa <chris@reddit.com>
Date:   Wed May 6 16:34:06 2009 -0700

    push footer to bottom of the page

commit 2de837f52a1b813ab460619a7d1010927a69d362
Author: Mike <raldi@reddit.com>
Date:   Wed May 6 15:39:16 2009 -0700

    New help system and footer

commit 09045d987d95e0229632f2cba0804afc96c3c863
Author: spez <steve@reddit.com>
Date:   Sun May 3 22:41:58 2009 -0700

    add a couple more ad reddits

commit 9813d94741cfff8c16d2326d9c7110ce61f820b7
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Wed Apr 29 16:38:28 2009 -0700

    Make reddit compatible with Postgres 8.3 and Python 2.6

commit 2a280ede39f8dfacd2645a9bafdf616f1d02dc78
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Apr 27 12:07:56 2009 -0700

    service monitor updates, fixing a bug when max_connections is erroneously returned as zero

commit 1d05efe34b951836717392d5f6900f3841fa2048
Author: ketralnis <ketralnis@reddit.com>
Date:   Sun Apr 26 00:34:34 2009 -0700

    Disallow backslashes in stylesheets. Work-around for bug in cssutils related to greedy parsing of them.

commit 4ba2eb7398dae94dec5594d8f5311c4e55a4a089
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Tue Apr 21 10:25:55 2009 -0700

    Service monitor restarts sooner

commit 2e5ad90213d8dc378200a0e02fb48fb47475fa89
Author: spez <steve@reddit.com>
Date:   Fri Apr 17 15:04:06 2009 -0700

    empty urls are not valid urls

commit 599699468e75f365f22aabbfc49663860a35a56f
Author: spez <steve@reddit.com>
Date:   Fri Apr 17 14:54:51 2009 -0700

    fix unicode in domain name issue. repaired clicks graph on promoted link traffic page

commit 969238b5748d24679e899d409143e9bb7660c89e
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Apr 17 13:52:39 2009 -0700

     * add JSON api for traffic graphs.
     * bugfix for when empty graphs are encountered
     * service monitor bugfix for processes that have more than 1 day of CPU time

commit c139744886a36450450fa38daefeb682a87832ea
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Apr 16 15:41:15 2009 -0700

    allow subreddit moderators to see their subreddit's traffic.  Allow sponsors to see traffic of promoted links.

commit 486ed581a1d87aa25bc83bf70fb27073cea0af39
Author: Mike <raldi@reddit.com>
Date:   Fri Apr 10 12:23:28 2009 -0700

    Scraper now dislikes sprite images

commit f45011496f8a8949a7157f8a5970a5a51d3770e8
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Thu Apr 2 13:25:52 2009 -0700

    Quick fix for parsing of proxy headers

commit becec7ad24f8023718fb44a203458aaff2650afe
Author: Mike <raldi@reddit.com>
Date:   Wed Apr 1 15:59:02 2009 -0700

    Changed requirement for Routes from >= 1.7.3 to >= 1.8

commit edde2622aaf0a09f9b6ce37cde27f903bc4ab792
Author: Mike <raldi@reddit.com>
Date:   Wed Apr 1 15:41:55 2009 -0700

        Moved to SQLAlchemy 0.5

commit 1be7d5e861239a59042e79a4f6aee20cf3ca1a75
Author: spez <steve@reddit.com>
Date:   Wed Mar 25 17:21:40 2009 -0700

    next time jedberg will test better

commit 3548a90e62ed6e8f24d896fa15c62c477c841e97
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Wed Mar 25 15:32:35 2009 -0700

    add canonical links and descriptions to the meta tags

commit dda3e0e3877637ed94678f4fefcd4fa013c18ec2
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Mon Mar 23 12:04:05 2009 -0700

    disallow time sorts on domain listings in robots.txt

commit 17282a1b84645b72c0d69b6dee9f591c02973b38
Author: spez <steve@reddit.com>
Date:   Mon Mar 23 10:48:35 2009 -0700

    nofollow links in comments if score is less than 3

commit 32a11ba42907c6b78a545fe9bba99394c9dd4a05
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Thu Mar 19 16:07:15 2009 -0700

    fix sr image uploading

commit 1b782c28e32bf7cdd436146cef244a7d9618166a
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Mar 19 13:40:05 2009 -0700

    Javascript bugfixes

commit b78ad24dc88f84dbdc2b7c9ef40d2f6cda4c99c4
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Mar 17 16:25:24 2009 -0700

    traffic updates to include subreddit subscription graphs and tables

commit 9a0df9a94218d91ef289c7de5d7e65d1d52b2df4
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Mar 16 15:52:31 2009 -0700

    add context param to message JSON templates

commit 47370d50b4d5c1103cc57964ecadea8f6e1c1351
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Mar 16 15:21:28 2009 -0700

    make locale INI file dependent

commit 780d9bb987e17434e542f3c9327be383bccc9898
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Mar 16 14:48:11 2009 -0700

    example.ini bugfixes and first trials of site traffic integration

commit 52d2060447250000e79a081819e8c4f38f871d00
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Mar 16 11:59:14 2009 -0700

    fix to /api/info when no url is passed in

commit c58779c6d068dd2abcfa00ac3bcfd9b03caff195
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Mar 16 11:42:36 2009 -0700

    updates to JSON api and responses to /api POST interface:
     * timestamps returned both as local time and as UTC (created_utc)
     * comment bodies are returned both in markdown and excaped sanitized html (using the same filter as reddit.com listings)
     * new POST parameter api_type=json returns simplified JSON responses for api interaction
     * /api/login returns a valid modhash and cookie when api_type=json

commit 49bcf1bdfe91ed17e37b6f792659008736fdfe85
Author: Christopher Slowe <cslowe@toph.local>
Date:   Sun Mar 15 19:37:20 2009 -0700

    fix for buttons when one of the possible url matches is on a private or restricted reddit

commit 66954e341cfa4a52cc59e26c98c547b528643f29
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Mar 13 15:41:49 2009 -0700

    fix bug in password reset emails

commit 76e21ae0ec180528ee0dfe6eaeb940f6ab37c9f4
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Mar 11 12:18:52 2009 -0700

    Allow users to look up links by /by_id/, even if they have hidden them in the listing

commit ac7ff9132455f5c69fa21f12e68ad279035e461d
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Mar 5 15:02:23 2009 -0800

    Ensure that when clicking the browser's 'back' button after clicking
    an organic link that the organic link is always available on the
    page

commit 67de80eb9cb5bb9d11e4ec532b80858ba56e2b32
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Mar 5 14:25:47 2009 -0800

    added IP rate limiting.

commit 62012e5c358c1f3d715e7ac659e68070947b49f4
Author: spez <steve@reddit.com>
Date:   Thu Mar 5 11:17:51 2009 -0800

    added the ability to disable unused (and slow) fns in UserRel

commit 6f9945c4144afb5e85c78459300c93f36435a2d3
Author: spez <steve@reddit.com>
Date:   Wed Mar 4 16:32:48 2009 -0800

    use clear-memo again in userrel.py until we have a better solution

commit e35b5196998033f274d0c03af1aa78d242c1c054
Author: spez <steve@reddit.com>
Date:   Wed Mar 4 15:24:47 2009 -0800

    * removed references to clear_memo
    * add _update parameter to memoize function to force them to skip the cache
    * make all reads after a write in the same request use the master db

commit 4d35ba17c2dbd4e57ba7d7561c0c1570aee2bb96
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Mar 4 12:21:52 2009 -0800

    inadvertantly broke traffic tracking of cnamed reddits.  safe_str now does as advertised

commit fa72dadad1d25bc4e30cf8d30324436143215d73
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Mar 4 10:17:51 2009 -0800

    add cname tracking to traffic logs

commit e98326f916e764fde0b16774e88c56dee970a37d
Author: spez <steve@reddit.com>
Date:   Tue Mar 3 11:54:47 2009 -0800

    add locking around reddit creation

commit 6ec183752a216d5c3ddd3b75177d344b2ac944d5
Author: spez <steve@reddit.com>
Date:   Tue Mar 3 10:34:07 2009 -0800

    remove liked/disliked/saved bookmarklets and update modhash error handling

commit 92380dc9bdf88b5c19a37d027b4d4cdce36526fa
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Mar 2 15:55:20 2009 -0800

    Fix the 'prev' button on the search page

commit 63ddf2b60836ff5649f7fa514a3754650bd15750
Author: spez <steve@reddit.com>
Date:   Mon Mar 2 15:50:57 2009 -0800

    update js to prevent duplicate form submissions

commit f6fbb05a796523fc9d92d6ef27ec426addd405c1
Author: ketralnis <ketralnis@reddit.com>
Date:   Fri Feb 27 11:59:57 2009 -0800

    Cache solr query results for a short time. Speeds up domain listings and the 'next' button on the search page

commit 992eeaae11bd57ef90bc2b11e3f7125a30116ce8
Author: spez <steve@reddit.com>
Date:   Tue Feb 24 16:31:45 2009 -0800

    refix grammar errors on banned subreddit page

commit c3cc83d041cf98d1ae025989f8c7e6658533bcfb
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Feb 24 15:26:53 2009 -0800

    It's feedback Tuesday
    
    * give some feedback to the user when they create a reddit
    * give some feedback to the user when creating their reddit fails
    * tell the user how to complain to feedback if their reddit is banned
    * give some feedback to the user when they send feedback (yo dawg)

commit 8af369539f94a25369ed82cb0078f4844f72babe
Author: Mike <raldi@reddit.com>
Date:   Tue Feb 24 14:03:00 2009 -0800

    Append username to URL when logging in or registering

commit 3526060ca6efad262e70011e2220696258343962
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Feb 23 15:04:39 2009 -0800

    Fix bug that I just wrote in clear_memo. This one will keep me out
    of programmer heaven :(

commit 721175a6eebee470c3663a336b2e8d86f6e589fc
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Feb 23 14:41:15 2009 -0800

    * fix memoization with unicode arguments
    * show relative age of a subreddit in the listing

commit 93deda5466d0507f73658defc5d6b2f25d705531
Author: ketralnis <ketralnis@reddit.com>
Date:   Fri Feb 20 14:55:55 2009 -0800

    Require Pylons == 0.9.6.2, as reddit doesn't work with later versions

commit 4541f868d2e2260ec64a33ecc1abefbaa280fbec
Author: ketralnis <ketralnis@reddit.com>
Date:   Fri Feb 20 10:40:08 2009 -0800

    Start tracking authors and IPs of whoever created a subreddit
    
    Also adds some UI to ban a spammy reddit from its front page instead
    of hunting for it in the listing

commit b604758984f7a240ef9a699240e95370d9e3f31d
Author: ketralnis <ketralnis@reddit.com>
Date:   Fri Feb 20 10:36:02 2009 -0800

    Query param for inboxes to not mark messages as read
    
    URL looks like http://www.reddit.com/message/inbox?mark=false
    
    Requested in bug http://code.reddit.com/ticket/250

commit e20208d2a01a4ecc6c5c2c7f2a6b955f2d876931
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Feb 19 13:43:06 2009 -0800

    redirect domain subreddit button request rather than 404.  Clean up and remove tracking from error pages.

commit eed2eb82ecf198fb2213ef2cd3ec45b877c53f94
Author: Alexis Ohanian <breadpig@alexis-ohanians-macbook-air.local>
Date:   Wed Feb 18 21:22:35 2009 -0800

    more updates to iphone.html

commit 00771f41fb7bc9977e4b9cbf6a4b9bbf881fd018
Author: Christopher Slowe <cslowe@toph.local>
Date:   Tue Feb 17 17:22:34 2009 -0800

    shrink service datalogger size from 300 to 30)

commit bdc310f8a64428d6fca22c215764ae9787238995
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Feb 17 12:21:21 2009 -0800

    timezones are annoying

commit c0a9b7b0e5fd8cf13d9827a9b99675e6bd439991
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Feb 17 11:56:53 2009 -0800

    improved shell handling in service monitor.  Includes ability to check disk usage on db machines.  Stale monitors are also flagged in the UI.

commit e59261e959e69f18fd289cb716fb2f30d27a8263
Author: Alexis Ohanian <breadpig@alexis-ohanians-macbook-air.local>
Date:   Sat Feb 14 17:02:50 2009 -0800

    changes to iphone.html by alexis

commit 9b31cdcae2d5e8e58022c6a3543d76eb4a5daa2c
Author: spez <steve@reddit.com>
Date:   Fri Feb 13 12:18:06 2009 -0800

    added db load balancing based on loads reported by the service monitor

commit e7da5adc6cd8056da3badb754339923743e60189
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Feb 13 11:58:05 2009 -0800

    fix parent links

commit 762f299f3f21f0e6d5a0c999c6f14275209d78d4
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Feb 12 16:34:15 2009 -0800

    added cache lifetime support to service monitor.  Also updated db to show max connections.

commit 2d86a76962c242b8752a6432fcacfc259b10f177
Author: spez <steve@reddit.com>
Date:   Thu Feb 12 14:34:43 2009 -0800

    Send sup-id headers on 304s, added nofollows to comment permalinks

commit 955e40d3d0b1aa62d4237ee2692361bab6435c90
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Feb 12 13:17:49 2009 -0800

    fix Alerter and re-implement name filtering in service monitor

commit 230c8a9cc2c85addd47d8a643779999ff6d95356
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Feb 12 11:31:06 2009 -0800

    moved service monitor innards into r2.lib, updated to use ps instead of top for getting cpu and mem percentages, and added db load requests to AppServiceMonitor

commit c837ef147c827b52d640ce2add6572208090a5e1
Author: spez <steve@reddit.com>
Date:   Wed Feb 11 13:54:09 2009 -0800

    update copyright strings. show star on admin comments after they've been editted

commit 00b2fa1f5dc3ebcf940143a5e75285ce480fddc4
Merge: 99b4470 840a6f0
Author: Mike <raldi@zork.(none)>
Date:   Tue Feb 10 13:25:23 2009 -0800

    Merge commit 'origin/master'

commit 99b4470b31fee94ed5bbccda89ba341f1561fd6d
Author: Mike <raldi@zork.(none)>
Date:   Tue Feb 10 11:53:40 2009 -0800

    Fixed markdown so that URLs in <code> blocks no longer have
    angle brackets wrapped around them

commit 840a6f010a536c2d35077f3c9e0be15ea9e8b3c8
Author: spez <steve@reddit.com>
Date:   Mon Feb 9 17:18:24 2009 -0800

    akamai test failed. retreat

commit 47dae688aab27dad6a8aa00a51146c7dec88eff0
Author: spez <steve@reddit.com>
Date:   Mon Feb 9 17:11:54 2009 -0800

    try and prevent akamai from caching sup.json

commit 7ae5a34c32e752d63c7bc3146920a3125fff0155
Author: spez <steve@reddit.com>
Date:   Mon Feb 9 16:04:46 2009 -0800

    added more SUP periods

commit 21c4e9a039f24dfb1e8c35236f3588b95db4472c
Author: spez <steve@reddit.com>
Date:   Sun Feb 8 16:30:47 2009 -0800

    added Simple Update Protocol (SUP) support for FriendFeed.

commit 5b0bb8b88cb813d5d93685070feaaece31252c76
Author: spez <steve@reddit.com>
Date:   Sat Feb 7 14:37:52 2009 -0800

    updated memcache.py to 1.43

commit 4e2cd5e3166c9818497f0eaea3d4d192b500c5ef
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Fri Feb 6 18:52:43 2009 -0800

    Fix for missing target in button 3

commit 07b5060aa8f4f3cc87a985c15725c74b7b699307
Author: Mike <raldi@zork.(none)>
Date:   Thu Feb 5 16:01:48 2009 -0800

    no img tags in comments

commit f87a4ec2bac3f1f83c2aa5707fc72a25bca8c4e9
Author: spez <steve@reddit.com>
Date:   Thu Feb 5 12:10:06 2009 -0800

    unicdoe!

commit 9a89f8b895b2d403f1353fd773dbb152e335c959
Author: spez <steve@reddit.com>
Date:   Thu Feb 5 11:04:42 2009 -0800

    move last_modified fields into memcache db

commit 9e31995570d29f0b00d9f7986d7390531733bdd5
Author: spez <steve@reddit.com>
Date:   Tue Feb 3 16:12:02 2009 -0800

    iphone demo page

commit d1ff5a77d34039ddaefe4e7f1f6fdee888e522ec
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Feb 3 15:53:13 2009 -0800

    fix meta-login on login page, remove y/n on ban/unban buttons, and add id randomization on child forms to allow for validation.

commit 45043d5419c63db3658546ff4e3496fd9fdc85bf
Author: spez <steve@reddit.com>
Date:   Tue Feb 3 15:50:37 2009 -0800

    fix the bookmarklet to show you links from reddits you arent subscribed to

commit 70c7cc165288488cc3160512cac32e25c450f720
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Feb 3 11:15:13 2009 -0800

    space compression in buttons to fix safari bug.  Improved console debugging in JS.

commit f0583ecb1713469544b63b0874f05e48a950308d
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Feb 2 14:43:27 2009 -0800

    updates to service monitor to allow for each app's tracking of database load.  Also 'redirecting...' message on most commonly used ajax'd forms when input is accepted.

commit 5494254cac93eea557cdc1ffd7a150cf8f76ce13
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Jan 29 13:21:54 2009 -0800

    fix for broken menu drop-down code on custom css subreddits.

commit d169f779af9b5db0f378491d00a1d8c571af3707
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Jan 28 15:01:56 2009 -0800

    fix to api validation, and updates to service monitor to account for new database code.

commit 1855d7034ec4f4802d906d1f4735c94fe0c40427
Author: spez <steve@reddit.com>
Date:   Wed Jan 28 16:33:37 2009 -0500

    fix example.ini

commit 2a5f891abe0b193787b55d3aa2e4007e86149da7
Author: spez <steve@reddit.com>
Date:   Wed Jan 28 16:29:12 2009 -0500

    Moved database configuration from databases.py to the ini.
    Added support for load-balancing database reads.

commit 8626d430301791ec473268e6cc4e67f1df8313a7
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jan 27 14:26:12 2009 -0800

    consolidate validators that do Thing._by_fullname lookups

commit 2ba7f118baa1d67f2938b28249510e9d1d5882de
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jan 27 12:29:36 2009 -0800

    akamai test object accidentally disappeared during beta.  reverting that file.

commit b554cb82fd6616521974dd8cf776a80981045360
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jan 27 11:20:33 2009 -0800

    small bugfixes; empty response no longer raises an exception; mangled thing_ids are ignored by vote; cnamed domains don't break when hitting /r/.

commit 14241d19a08e2dce08529a4a26df5895cdb87475
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jan 26 16:59:29 2009 -0800

    service monitor fix -- prevent displaying red background for db status and bug in is_db_machine lookup

commit 394f04c47c267536d74d765b54d746736be29541
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jan 26 15:54:43 2009 -0800

    fixes to api/register and api/resetpassword

commit 16fc8d5818d402708dfe7beed757b9aa0cd9d42f
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jan 26 15:33:13 2009 -0800

    updates to service monitor.  fix 500 on /api/info for empty listings

commit 4440ccfc6e7d2329ccd349053138d2b6bf15a519
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jan 26 15:11:23 2009 -0800

    overhaul of JS and form handling code, not based on jQuery

commit 7742fbfaab39bc84e16f24cb24c6deec6b49aa49
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Jan 23 16:03:02 2009 -0800

    temporarily disable spam

commit 1a01375574f0fa089db20e5fc9881b34a146bf4d
Author: spez <steve@reddit.com>
Date:   Thu Jan 8 10:55:31 2009 -0800

    fix showing thumbnails to compressed users

commit b14b4b023321b95e0174aa1364441fb00e690478
Author: spez <steve@reddit.com>
Date:   Sun Jan 4 10:17:55 2009 -0800

    Fixed check of duplicate urls in promoted edit page

commit 87daf2d13004ddd0592fc785b656c1b48bc347fa
Author: spez <steve@reddit.com>
Date:   Sun Jan 4 10:08:42 2009 -0800

    Fixed various promoted link bugs. Promoted links render as promoted everywhere. Added duplicate url detection to promotion creation.

commit 3e243c2887165bd2f0f670b31739a1050ac45309
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Dec 17 14:44:47 2008 -0800

    socialite is now hosted on https for simplified deployment

commit 908d7a25513d6e35ab21edb6e053d07b3d6554f6
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Dec 17 11:45:18 2008 -0800

    Add c.user_is_sponsor to cache key, avoid showing the 'unpromote' button to non-sponsors

commit 3248275029b8524658860af166db063e7e695164
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Dec 17 11:01:45 2008 -0800

    Simplify the form for promoting links a bit

commit ae6ba7a78ed169277b6699ee0acb21024fb86b21
Author: spez <steve@reddit.com>
Date:   Tue Dec 16 15:51:43 2008 -0800

    added a separate set of memcaches for the render cache

commit 8a27ada22e36f490785e1fc9b5a8fe50935fcd18
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Dec 10 11:18:09 2008 -0800

    Don't override __class__ on LinkCompressed or PromotedLink. Fixes a class of especially annoying bugs

commit 8bcdf103bad3e4c4a4927b85efe34f41afe765d5
Author: spez <steve@reddit.com>
Date:   Thu Dec 4 22:07:00 2008 -0500

    some sponsored link style changes

commit d4021a6dba49806e05c26e3f8ad343320ac18e61
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Dec 4 15:36:02 2008 -0800

    Fix race-condition with organic box that could cause multiple links to
    display at a time

commit 1751865839840d5148eba3a23d7a98f0231e0ba1
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Dec 4 14:38:37 2008 -0800

    For promoted links, skip first insertion only 50% of the time

commit 24f8c4f6171d86310b15b19ac8cbdae63d9b4e01
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Dec 4 10:34:20 2008 -0800

    Fix miscellaneous bugs with promoted links, and reduce app-server load
    by reducing calls to apy.py:POST_onload

commit 36002202088a05709c8360b546d488094e9fd13d
Author: spez <steve@reddit.com>
Date:   Wed Dec 3 13:58:32 2008 -0500

    converted find_parents() in comment_tree from a recursive algorithm to an iterative one to fix a bug when adding comments to really long threads

commit 54c1055c628308f92c99437ebf54143d2737095b
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Dec 2 14:57:05 2008 -0800

    Move storage of promoted links into memcachedb

commit c762ddfa0910a8c0f5a197350774fbf34a10f0a1
Author: spez <steve@reddit.com>
Date:   Tue Dec 2 12:24:19 2008 -0500

    cache comment listings in the permacache

commit e18163e83278b01424f6cd5d67475c2b85c8a840
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Dec 1 14:11:25 2008 -0800

    * now caching one organic list per user again
    * tracking for promoted links is now done via an authenticated hash to prevent replays
    * organic list now properly ignores spam (even for moderators) and deleted links
    * clicks and views on promoted links are now only tracked when they occur in the organic box or on the comments page
    * organic boxes for users with lots of Subreddit subscriptions no longer pollute the cache
    * properly validating URLs for promoted links (same rules as for regular submissions)

commit ff29f633262a5af22ce9dd7eef1c43d2be181480
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Nov 20 15:54:05 2008 -0800

    Separate the actions of registering an account and submitting a link in the rate-limiter

commit b306c3a5d1b3689e7836b2b952d849b68bedeb6d
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Nov 20 15:52:43 2008 -0800

    Fix issue with wording in compressed links template

commit b758979af37f975f9cbdc2759c605223e8bbf8b6
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Nov 20 15:52:08 2008 -0800

    Allow admins to see spam on the /comments page

commit 71d9d7718bce01b4637416cc043b6bc462c2d62a
Author: spez <steve@reddit.com>
Date:   Wed Nov 19 18:55:44 2008 -0800

    dont show custom headers if custom styles are not allowed

commit 21127345ec7b1503bfb863179a047fa844c7148f
Author: spez <steve@reddit.com>
Date:   Wed Nov 19 18:53:11 2008 -0800

    dont show use custom styles on reddits with cnames

commit 5b1fcbed78356bdbbf87d60fab0024ebd1b814f7
Author: spez <steve@reddit.com>
Date:   Sun Nov 9 13:22:45 2008 -0800

    some restyling in the header area

commit 4585d61d6a9f0ada53ee80e94bc804b851280a47
Author: spez <steve@reddit.com>
Date:   Sat Nov 8 14:59:54 2008 -0800

    attempt to fix some rendering issues in opera. because opera doesn't handle position: absolutel properly, there are still issues with the dropdown in the top bar

commit 519113db3e1a416dec390bb06a02f6323d25c692
Author: spez <steve@reddit.com>
Date:   Fri Nov 7 17:05:10 2008 -0800

    increase the space between the sr dropdown and the sr bar

commit 750e3327f26eeaf2dd4b8186766c6e4f4c83f5cc
Author: spez <steve@reddit.com>
Date:   Fri Nov 7 16:10:07 2008 -0800

    raise front page limit to 50 until we have a better solution to the listing changing between next/prev

commit b5a358f080678582342b8164d1f51f195cea7aec
Author: spez <steve@reddit.com>
Date:   Fri Nov 7 15:56:21 2008 -0800

    dont limit the number of reddits on the submit page

commit da64becc25892a5ba5112b8bd437b5715e336cde
Author: spez <steve@reddit.com>
Date:   Fri Nov 7 15:15:31 2008 -0800

    dont use translation string in NamedButton

commit dfe4c356486d610aa5cdbb493a503f5ac851f7db
Author: spez <steve@reddit.com>
Date:   Fri Nov 7 14:57:51 2008 -0800

    fix ie rendering issue with the dropdown

commit a4483a2f5671fd374147854c8f86a5da8dbbc665
Author: spez <steve@reddit.com>
Date:   Fri Nov 7 11:37:48 2008 -0800

    move comment dependency from link.js

commit 61fdbfcf97dead864494f0ac723052860ca8d232
Author: spez <steve@reddit.com>
Date:   Fri Nov 7 11:09:08 2008 -0800

    fixed ie rendering bug

commit 5448f36c3126b179e20ef4edd55a30a80a5ddf82
Author: spez <steve@reddit.com>
Date:   Fri Nov 7 10:31:25 2008 -0800

    Replaced the subreddit box on the side with a bar across the top that lists reddits.
    
    Removed all subreddit-subscribe checkboxes.
    
    Limited the number of reddits that can make up a frontpag (to 25 for now).
    
    Removed links to /reddit/mine and instead show a user's subscriptions in a sidebox on /reddits.

commit 4b2a9d9132badbc2399a39d32aba9a1623d99ce3
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Nov 6 12:03:14 2008 -0800

    Don't hide scores on the 'details' page when hide_score is set

commit c783b295eb6cfad9726b2336c3e71bdc0ff5e25c
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Nov 6 11:39:46 2008 -0800

    typo in hide_score

commit 3c19fd2febb205e0019036d200f9e10cf45ae34f
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Nov 6 10:50:50 2008 -0800

    * decorate promoted links
    * interface for creating promoted links
    * store one organic list per unique list of subreddits rather than per user

commit 3b273ff51782a7ecda16ab285e9146e5baa0be0c
Author: spez <steve@reddit.com>
Date:   Wed Oct 29 14:14:44 2008 -0700

    ignore malformed cookies

commit 2d1203feefd1235e3cc200b8d06ef0ef02ee1b15
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Oct 24 15:25:37 2008 -0700

    added links to domains and fixed comment JSON feed to include link_id and parent_id

commit d9e398a7fe571727660dcdf347fa35a056e8318c
Author: spez <steve@reddit.com>
Date:   Fri Oct 24 14:59:04 2008 -0700

    added a /comments and fixed an independent.co.uk button bug

commit ab2c5eaf8288f4d7646499c55b063fe2e6986497
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Oct 23 14:56:21 2008 -0700

    apparently there are people who still use the compressed view

commit 581bba3f5af01915a99a8327ce0e9787e35c0b4d
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Oct 23 14:26:33 2008 -0700

    removed unused admin hooks.  Also cleaned up server status pane to show current page's PID and machine name to aid in debugging

commit 37584f1e544551634d9094126ceb2d3d409dd42b
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Oct 22 16:40:43 2008 -0700

    banned subreddits should generate a 404, not a really bad 500

commit 5d32a279176c36387d9aa5a9d6bbc334b9e7acae
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Oct 22 16:23:11 2008 -0700

    error pages shouldn't trip the 503 rate limiter

commit f16c58bc42bf07ed8341046f74f442e8437c4aba
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Oct 22 15:31:30 2008 -0700

    added error handling to blanket try/except blocks in ErrorController._before__ and __after__

commit a9a9c3d74742b34fce4b13023cc717666d957d59
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Oct 22 15:00:51 2008 -0700

    cosmetic update for making the button CSS easier, and widget fix to make the domain sorts work as expected

commit 61b3894755bc877f209715b9ac22c52217e47dc3
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Oct 22 14:08:50 2008 -0700

    Better error handling when error handler fails.  Buttons allow url to be specified as a get parameter.  Also support a newwindow option for target=_new.  Currently undocumented button types 4 and 5 included as well.  Widget supports in place voting.  Socialite toolbar included help page and link to xpi file.

commit ad38d863154801eeb0c81796d292e488f2361745
Author: spez <steve@reddit.com>
Date:   Tue Oct 21 11:52:13 2008 -0700

    ad technology ad file

commit 4dc864d77859468364f2dc560680d2e86f8cb6f7
Author: steve <steve@reddit.com>
Date:   Thu Oct 16 18:38:51 2008 -0400

    dont record clicks for the time being

commit 825ec700d0b2a4c9764b391a47c081dfe43095cf
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Wed Oct 15 16:20:48 2008 -0700

    make the widgets look better per alexis

commit e02e1539dc8780f66c393a730e241ba3a4b4a6de
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Oct 14 11:55:42 2008 -0700

    widget page fix for zero length lists, and /toolbar sends 404 instead of 500 when no link found

commit f3730612054811d5a0caeaa51dcab359adc65d7f
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Tue Oct 14 10:52:43 2008 -0700

    make the button backwards compatible for deployment

commit 000feb8583686ca4d05c592fe6c157331add0edf
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Tue Oct 14 10:31:45 2008 -0700

    new buttons and widgets

commit 02f6f8e3a0a5d232157e3e58e83045ab3741c143
Author: spez <steve@reddit.com>
Date:   Mon Oct 13 10:20:21 2008 -0700

    minor updates for ie6 testing

commit 2a39057a18a42e9b4cf1cd650a35c720e9eefcaf
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Oct 9 14:07:48 2008 -0700

    propagate cname auth change to admin on/off buttons

commit aba126b1b2a77045a5a05ab5eaaeee4017d119df
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Oct 9 13:41:34 2008 -0700

    Allow for frameless cnamed domains from trusted domains.

commit 7d93d076d74fac260b16e0a547b535d61ef1a5ad
Author: spez <steve@reddit.com>
Date:   Mon Oct 6 14:30:39 2008 -0700

    allow dashes in domain names

commit d31abf431cb69bc0684a346fa92e75255f354337
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Oct 6 14:22:19 2008 -0700

    * sorting options for regular searches
    * searching from the front page now searches all reddits
    * 'related' now includes results from all reddits

commit b6757903123fad87690aae0fd1f1daabd579e127
Author: spez <steve@reddit.com>
Date:   Mon Oct 6 13:59:57 2008 -0700

    fix bug where language subreddits were 404ing because their names were 2 characters long

commit dff2516e3647fc6c9193942c552bbd56203485a9
Author: spez <steve@reddit.com>
Date:   Mon Oct 6 12:00:30 2008 -0700

    fix wired templates for search

commit 7c1c3506de10dc72636048ac36e412e072df2215
Author: spez <steve@reddit.com>
Date:   Fri Oct 3 16:33:07 2008 -0700

    fix bug when a permalink page url ends with an extension name

commit 3c199a49cb3b4cad8375a8489e8ab298c1f22329
Author: spez <steve@reddit.com>
Date:   Fri Oct 3 14:14:09 2008 -0700

    move url info into memcache, update by_url to use memcache

commit bbafaa27841cb286d302c05835e2033404d057e4
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Oct 2 16:41:04 2008 -0700

    Allow searching of multireddits

commit eb655e07817b0cad53b19177a5f5a4bc9c7ae590
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Oct 2 16:38:10 2008 -0700

    Allow easy lookup of Links by fullname for API users, like:
    
      http://www.reddit.com/by_id/t3_abd3d/.json

commit a63dce34bda13732b7037c6677b682a6e1f1eede
Author: spez <steve@reddit.com>
Date:   Thu Oct 2 14:56:28 2008 -0700

    byID returns {} when given []. It raises NotFound when one of the IDs is missing.
    
    by_fullname mimics the behavior of byID.

commit 5c9a2b49825feea7f22278493b14a21abc13ffa2
Author: spez <steve@reddit.com>
Date:   Thu Oct 2 13:22:17 2008 -0700

    fix gzip unicode issue

commit 2b8ecfbbfac3c25704632a4c172961cadc03142c
Author: spez <steve@reddit.com>
Date:   Thu Oct 2 12:24:01 2008 -0700

    fix m.reddit.com

commit b83e0733b03de61866b67cf31728121d595cecfd
Author: spez <steve@reddit.com>
Date:   Thu Oct 2 11:32:26 2008 -0700

    Added support for multiple reddit names in the url. For example,
    http://www.reddit.com/r/programming+politics
    
    Removed all the query_rules functions and references to them.

commit c6797b61d9723ef7fbaab6c86b7c963e9eecceec
Author: spez <steve@reddit.com>
Date:   Tue Sep 30 12:36:10 2008 -0700

    fix content type

commit 9bfdd5e5ee4a0c3b040a4214b0b89676b4089445
Author: spez <steve@reddit.com>
Date:   Tue Sep 30 10:59:23 2008 -0700

    precompute toplinks

commit 43ef0604176ff810d2272001c36e439cfff5c8b2
Author: spez <steve@reddit.com>
Date:   Tue Sep 30 10:34:29 2008 -0700

    fix stale html bug

commit 90278abea3f89edcd0a8cd672ba54e5d42ac2dac
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Sep 30 10:10:05 2008 -0700

    Tools for webmasters to monitor their content on reddit (uses Solr
    for pulling domain information).
    
    Also includes a re-factor of solrsearch.py and its usage, which
    should fix bug #179 as a side-effect

commit 870364b152cbd4f07312974dc822a8fe640fddf0
Author: ketralnis <ketralnis@reddit.com>
Date:   Fri Sep 26 13:29:36 2008 -0700

    Clear click cookie for non-logged in users to avoid cookies getting too long

commit e9589594d25d42fe73252b6e6b2984c7325c3e9f
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Sep 26 11:26:34 2008 -0700

    missing except block in share, cache cleanup, and example.ini updates

commit 9eff19fb439f9dfe47675baadba0cdd0af220b55
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Wed Sep 24 10:30:43 2008 -0700

    update our static file handling to be more efficient and reduce server load

commit 1456a12c3446c6d13fa3c38272af701bdc91060e
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Sep 22 15:32:35 2008 -0700

    Fix bug with duplicates appearing in search results

commit 6426586a449ed5fec9e75e3743582ca4647c6694
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Fri Sep 19 15:26:30 2008 -0700

    stats should only connect to the mail server if sending mail

commit 52e44855dca5a9bb5004387eb2a27c4cd42d8f71
Author: ketralnis <ketralnis@reddit.com>
Date:   Fri Sep 19 11:42:34 2008 -0700

    Fix for properly modifying click cookies, and accounting for malformed ones

commit 418e479cfc115d6254b2f0c1f79c13f2d81fd455
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Sep 19 10:50:48 2008 -0700

    quoting issue on the captcha

commit 03cb287bca620fde230597c0b39561bf8c1f0fd8
Author: spez <steve@reddit.com>
Date:   Thu Sep 18 17:36:11 2008 -0700

    subreddits default language is en

commit 302af955f65c99ae99f426e3a36ad4b5e71891bb
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Sep 18 16:39:44 2008 -0700

    Typo causing people at the end of their organic lists to get a 500

commit 6e09acb120547e512c52ec678e9baf67750fdd8f
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Sep 18 16:16:59 2008 -0700

    Changing our pickling protocol is faster than fixing bugs in Python

commit 90f894c1a59297cb796189b89a8baa5eb21aa98f
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Sep 18 13:58:36 2008 -0700

    Fix for click cookies set before change in encoding of cookies

commit 14dc1def44e9a1688d18f730e514fa2c518a6272
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Sep 18 13:43:26 2008 -0700

    Fix for over18 cookie usage

commit 163c962702762f35e2d14a590c40317b363cdd6e
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Sep 18 13:27:52 2008 -0700

    Temporary fix for cached organic lists

commit b9396594df80e609d57109b6747f50804f4bde12
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Sep 18 12:20:16 2008 -0700

    Allow a link to be forced into the organic link box for site-wide announcements

commit 3b1bcee47bfa821cce6eb04492f1d1ac9c1216b8
Author: spez <steve@reddit.com>
Date:   Wed Sep 17 17:56:05 2008 -0700

    fix way more sr creation bugs than should have existed

commit 1bcac35d062ff3cc40aef2ee843aa572014a7bc9
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Wed Sep 17 16:56:52 2008 -0700

    fixing button voting error

commit df971c394f0b65d23aa93dffd42600513ed30cde
Author: spez <steve@reddit.com>
Date:   Wed Sep 17 15:45:59 2008 -0700

    fix the licenses so they stop polluting all the other diffs

commit 9d974f02e9bb0c9750263c71ea13ebfdf2977b5a
Author: spez <steve@reddit.com>
Date:   Tue Sep 16 16:52:18 2008 -0700

    random bug fixes

commit 128d54b16484b606271313fb132578e9af6c38fd
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Tue Sep 16 15:30:29 2008 -0700

    changing the db pool size

commit 7a30629bf75954d8a23da04c7ebc90c4b42ec7e2
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Sep 16 15:11:21 2008 -0700

    added the ability for subreddit moderators to upload custom images for use in their custom stylesheets

commit 363a306cb24a21874ab15fa38ca5bff174bce03b
Author: spez <steve@reddit.com>
Date:   Fri Sep 12 13:44:48 2008 -0700

    update query_dict to not throw exceptions every 5 seconds

commit ee2af22df03f7faba00e125dbb767bff7d0f04e8
Author: spez <steve@reddit.com>
Date:   Fri Sep 12 11:59:08 2008 -0700

    refactored some query caching code. tried to remove any references to use_query_cache from listingcontroller.py

commit 8fe2e576dca7ceae4456af125af4a607a423e9bb
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Wed Sep 10 16:54:08 2008 -0700

    adding a reporting module

commit 886ceb2a882c8f55c45e5215049cc68b697431df
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Sep 10 12:28:48 2008 -0700

    handles permalinks on cnamed profile pages correctly

commit 1c6190fb2baf9422675e3a95681cf97e6b4f4cbf
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Sep 10 11:45:48 2008 -0700

    redirector shouldn't modify urls that are not from our domain

commit 2577a59606ba805cb26c508cfb19195a90f53330
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Sep 10 11:31:04 2008 -0700

    fixes to lite and wired templates to use new domain scheme.

commit 3b329edc6bc009d6008894291d49266a86646cca
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Sep 9 14:01:16 2008 -0700

    added chromakode css patch as per #143 to handle some of the more standard non-standard css attibutes.  Also fixes bug on png 404's and some more bookmarklet stuff

commit f7214b6fa78fb2b6a3bb67253ba9cedf61b9ca23
Author: spez <steve@reddit.com>
Date:   Tue Sep 9 12:03:55 2008 -0700

    added a update user precompute fn

commit 21b7f4b7a716459d9a99ad01b20d39a2ed322842
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Sep 9 12:03:03 2008 -0700

    fix to cname handling and graceful bookmarklet rejection.

commit f2a74725c46cab196ce32124d6d2f29c50a6b1ef
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Sep 9 10:36:42 2008 -0700

    Updates to cnaming code, with improved redirecting, styled buttons, and fixes to the bookmarklets and RSS feed.  The error page also now obeys the cname

commit b2ccbe4bc824e54cadd5b949ee75ba52ef0a12cc
Author: spez <steve@reddit.com>
Date:   Mon Sep 8 16:18:21 2008 -0700

    dont grow beyond max cache size after inserts

commit a29fe15d99035c07936a847665d1b51c8794062c
Author: spez <steve@reddit.com>
Date:   Mon Sep 8 13:36:58 2008 -0700

    insert items directly into the precompute cache if possible

commit b7b2b8aef44e1b01872a74f8d86eec09ccfde845
Author: steve <steve@reddit.com>
Date:   Sat Sep 6 17:17:43 2008 -0700

    enable the query cache for profile pages

commit 538d413e54c67fd9ffac5194736be7a4eb5df29f
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Sep 3 15:05:45 2008 -0700

    remove "reported" page temporarily

commit 7405b2976d0b51bb27921543b27dba98874f1b97
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Wed Sep 3 14:26:25 2008 -0700

    Fixes bug #93: users want bold-italic; http://code.reddit.com/ticket/93

commit 1e9a3aaa624db548f83bafa56c36a70edf17402c
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Wed Sep 3 14:25:42 2008 -0700

    Fixes bug #104: do not double escape & in markdown urls; http://code.reddit.com/ticket/104

commit 566469981da4c7844fd5d9ea41394151fad44ccc
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Wed Sep 3 14:25:23 2008 -0700

    fixes possible translation errors

commit 3ae7ebdd0c695174964aa63a51d58d051ce9f1b9
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Sep 3 12:12:35 2008 -0700

    Speed up query for reported users

commit 8aac82ec88b2136a961f2573c872b7c657a2ff0e
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Sep 3 12:03:17 2008 -0700

    Added forgotten example.ini parameter

commit 9bc6d96e522e68f1cf2838d5eb733f4526e62133
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Sep 3 11:59:17 2008 -0700

    Added a "reported" queue for subreddit moderators

commit 58fd1e858210fa0b2f1a36d103e7b6cd5a364c41
Author: spez <steve@reddit.com>
Date:   Wed Sep 3 11:54:59 2008 -0700

    changed the styling of the subreddit edit page. changed the styling of buttons sitewide

commit 0bb475bc2060da04f09e1c7af81b4de8d1534db8
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Sep 3 11:34:28 2008 -0700

    tool to find average cache object lifetime

commit 0c04094a0b7a5b860db7f263152d3d6d2d286f04
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Aug 28 11:21:49 2008 -0700

    updates to RSS feed to link to permalink page instead of goto.  Also adds thumbnails and media support.  Default user preference is now to show thumbnails on subreddits that show them by default

commit 2717d8e51517ca76c52d4a520310fc63c86fe5ed
Author: ketralnis <ketralnis@reddit.com>
Date:   Wed Aug 27 13:09:43 2008 -0700

    fix buttons (missing argument to _by_url)

commit 984c6bff51247b73934c686462464363453dad53
Author: Christopher Slowe <cslowe@toph.local>
Date:   Tue Aug 26 17:00:45 2008 -0700

    missing permalink update in share.email

commit 5e671d497b177c89b87c7f158b3df62416ee5901
Author: Christopher Slowe <cslowe@toph.local>
Date:   Tue Aug 26 15:16:54 2008 -0700

    Catch IntegrityError thrown by multiple-clicking race condition

commit 4b57b0c0daa550e7ea6181ed485729671e453766
Merge: 91989c7 442c971
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Aug 26 12:12:21 2008 -0700

    Merge commit 'origin/master'

commit 91989c77e231da59f0287bb1deedb85a2fa8bac0
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Aug 26 12:11:22 2008 -0700

    Forgot an argument in an exception handler

commit 442c9714f3c87b628ead18ec5703a170498663b7
Author: Christopher Slowe <cslowe@toph.local>
Date:   Tue Aug 26 10:17:00 2008 -0700

    fixed cname caching bug

commit 32a2677ebb1f0b8623b3c519622aa6d81c6373f2
Author: Christopher Slowe <cslowe@toph.local>
Date:   Tue Aug 26 09:09:18 2008 -0700

    c.cname issue: should be checking that we are not on a sub domain of g.domain

commit 544f611d54f7a706035df7158aca24f3562339d6
Author: Christopher Slowe <cslowe@toph.local>
Date:   Tue Aug 26 09:03:18 2008 -0700

    bookmarklet fix

commit b0ffe59d1cb67b7f922ddc2656202c6ac9803544
Merge: 4e2956c 0fe60eb
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Aug 26 07:59:54 2008 -0700

    Merge commit 'custom_css/master'

commit 0fe60eb439b9dd5be9f7d622c3bfde6f27f5f978
Author: Christopher Slowe <cslowe@toph.local>
Date:   Tue Aug 26 07:56:52 2008 -0700

    fix to morechildren permalink.  Removed sr as optional parameter in comment.make_permalink()

commit 4e2956c71cf780385cc3f2ed1a130db5de53c1ab
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Aug 26 07:55:28 2008 -0700

    typo

commit 8f5599e93dabd51b1c1970d9bc5c3c572d608c68
Author: Christopher Slowe <cslowe@toph.local>
Date:   Tue Aug 26 07:36:31 2008 -0700

    fix cache key issue in render cache

commit 6bcef0037bdb2d139a15065c3f31e872bae79df3
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Aug 26 07:15:02 2008 -0700

    1. Allow a reddit to have a cname, like www.proggit.com, that renders
       the listing for that reddit
    
    2. Allow a reddit to have a custom CSS stylesheet that appears to
       visitors
    
    3. Allow a reddit to upload a custom reddit alien logo

commit 1a107601fa490ca69215facceebe3d0dc5e7f1f8
Author: Steve Huffman <steveh@steveh.local>
Date:   Fri Aug 22 16:28:51 2008 -0700

    fix errors caused by loading reddit with no subscriptions

commit 57aaf893c5a16710dc788bf360ba888d0aa2bb1e
Author: Steve Huffman <steveh@steveh.local>
Date:   Fri Aug 22 15:22:58 2008 -0700

    fix MaskedSR bug

commit 1861a04e454c736e49fe1b012c5a5aa3d26971d0
Author: Steve Huffman <steveh@steveh.local>
Date:   Fri Aug 22 13:09:27 2008 -0700

    fixed sorting issue where the global sorts were being overwritten. added the query_queue parameters to example.ini.

commit 33fd4e9684ca7668b57aa32ab6a064cd2a86ef6d
Author: Steve Huffman <steveh@steveh.local>
Date:   Wed Aug 20 11:48:24 2008 -0700

    Added a new system for precomputing queries on reddit. This will allow every
    listing to be precomputed and stored in memcache for retrieval at request-time.
    Currently only reddit listings are precomputed. Profile-page precomputing is
    disabled (and relatively untested).

commit 648fe4ca9c1f4528de327d3725685c593fdc5276
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Aug 19 21:48:20 2008 -0700

    Prepare fix_broken_things to be run from cron

commit 526fff39af843d42bc365f014d9326ea3549243f
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Aug 19 13:43:05 2008 -0700

    remove from thing changes on solrsearch update

commit 35181f164ffe5ac6adf7ce061184d70563cd4fcb
Author: Christopher Slowe <cslowe@toph.local>
Date:   Sat Aug 16 21:36:56 2008 -0700

    added captcha to message composition

commit 2ffb666e874661abb46854074f4fef9e127bddb8
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Aug 15 17:06:38 2008 -0700

    increased normalized hot page time constant to 2 minutes.

commit f7f819c774de1ee009c644377c4c957b1f3e38c7
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Aug 4 16:06:31 2008 -0700

    added table for tracking rejected mail

commit 7737f63cfef515eba3f0b8c4a703d99e27fab1bc
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Jul 30 14:59:30 2008 -0700

    misc bugfixes: fixed HTML validation error in captcha; no more multi-creation of new subreddits; tab between login form sensical; no submit link on /reddits; ignore/report on subreddits

commit 0e14684f281ae5388e346a10218a4697269db814
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Jul 30 13:47:44 2008 -0700

    misc bugfixes: no more periodic comment blanking on edit; titles may not only contain whitespace; JS blocks multi-submit on comments when users repeatedly click the comment button; updates to admintools

commit 1227cfcbf05079a52a678961d83ec1d1504ff13e
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jul 28 16:02:24 2008 -0700

    extended sharing to allow reply-to address and message.  Also rolled feedback emails into mail_queue

commit 972ab07c35b8b871716a22b5ea84671eb3516636
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Jul 25 16:00:20 2008 -0700

    added handling of unicode destinations on redirects.  Also fixed a 500 when submit tries to redirect to a /comments apge

commit 557a248f2a6b74d141aa1b45d90672006fd04bcd
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Jul 25 14:58:15 2008 -0700

    hide tracking pixel and add 403 to comment pages on private reddits

commit 348bad9f461ec8441f36630f19ce5ade65981561
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Jul 24 13:45:37 2008 -0700

    fix for failure when JSON requesting a comment page with 'more comments' links.

commit b147076e5a898136a0248bae1bbf743c3fac93a6
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Jul 24 12:18:15 2008 -0700

    wrong error raised on Wrapped.__getattr__ failure

commit 29af2ffe14600e7936e2eff438cbe0725a6d3bf3
Author: steveh <steve@reddit.com>
Date:   Thu Jul 24 12:09:35 2008 -0700

    put rising links into the organic window and stop rearranging the normalized view

commit 3fbfa37914a0dbbf763f032a2aca361c486a9acf
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Jul 24 11:48:39 2008 -0700

    better error handling on missing templates in production environment.  Also added a mobile 404 template

commit d09b56e9c7ea6e389c24d8985cb067a430c7d4e2
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Thu Jul 24 11:15:10 2008 -0700

    lowercase titles in urls/remove redundant title tags in links

commit 7b937ef72f6e2eddcce7895f6f796b1b945b2f59
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Wed Jul 23 12:04:53 2008 -0700

    fixing login cover redirects

commit 440f778bdd0d9d59b98f4d090859c0faedb9fd45
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Tue Jul 22 16:28:52 2008 -0700

    share when not logged in/fix info redirect

commit 353ad2afd0dc3cf588b7750055af3f36e5941c35
Author: Jeremy Edberg <jedberg@reddit.com>
Date:   Tue Jul 22 13:37:37 2008 -0700

    improved url handling

commit cea93dbd309003303759b9df3c2d202c46402264
Author: shuffman <shuffman@shuffman.local>
Date:   Tue Jul 22 12:05:32 2008 -0700

    added music ad tag

commit 9179d19b878c52507a9c0461be3db0af1d3dfe8d
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jul 22 12:03:08 2008 -0700

    added sharelink.htmllite template to make the widget work again

commit 4c853acddba1156cf841757b68b2796288da0751
Author: KeyserSosa <chris@reddit.com>
Date:   Mon Jul 21 08:56:29 2008 -0700

    fix to broken mobile interface due to missing template

commit a23ad244d0fc55ac60ff01b3d91769329647e1dd
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Jul 18 16:19:26 2008 -0700

    patch for sharing glitch in IE

commit b77585ce6ec6ff305ebfc5c693bd1e2053f394e6
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Jul 18 14:42:41 2008 -0700

    Apparently, IE doesn't allow string indexing in javascript using [].

commit d85ef10fc9fbb3ed74762ec2df253df5f7cdc72a
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Jul 18 11:27:37 2008 -0700

    added sharelink.xml to make rss feeds not break

commit 2db31ed7eb6e9fbbfd0d16bc347af0023651f19c
Author: KeyserSosa <chris@reddit.com>
Date:   Fri Jul 18 10:38:47 2008 -0700

    adding forward compatibility for comment page repathing

commit 7ce107f2ac9e335543999c48c48a82b13948773c
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Jul 17 16:32:11 2008 -0700

    sharing

commit b448c7bb01300cbfb6fe1341265f281a31d5c4fd
Author: shuffman <shuffman@shuffman.local>
Date:   Tue Jul 8 14:53:33 2008 -0700

    crop images into squares before thumbnailing

commit 5e4c1599e8cf6447a26f5246ffc79f9c8e702037
Author: steve <steve@reddit.com>
Date:   Mon Jul 7 23:24:12 2008 -0700

    only cache the size requests

commit 4a19143179ce316b94e4fed34f84cf45abca9c53
Author: Jeremy Edberg <jedberg@jedberg-desk.local>
Date:   Mon Jul 7 15:57:19 2008 -0700

    adding support for robots.txt

commit 69d6ebf154cbc86a5ee7861cf2b522d709cb3a95
Author: steve <steve@reddit.com>
Date:   Fri Jul 4 11:19:08 2008 -0700

    fixed a handful of scraping bugs. added support for embeded metacafe videos

commit 15c869c236488290a717c6c5de64a75a45484e4b
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Jul 3 17:47:40 2008 -0700

    Bug 45: "asterisk on edited comments gone"
    
    Turned out to be the same type of issue as bug 27. Also like that
    bug, we've been storing the property correctly, we just haven't
    been rendering it correctly, so historical data is unaffected.

commit 202112bc9dafe29978937e5d7b06f70830a962b8
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Jul 3 17:15:26 2008 -0700

    Fix bug 27: "link @ no longer orangered when hitting #1"
    
    Note that we've been correctly calculating and storing them this
    whole time, we just haven't been properly rendering them

commit f974d0768485311a63212038fdbb8d0f5ca36c7a
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Jul 3 13:29:12 2008 -0700

    Allow searching within a reddit, with a link to continue the search on the main reddit.
    
    Fixes bug #2 <http://code.reddit.com/ticket/2> as a side-effect

commit 35984009bb4d190021bcca6b0dcaa4deda23f994
Author: KeyserSosa <chris@reddit.com>
Date:   Thu Jul 3 11:39:41 2008 -0700

    fix options post for non-loggedin users

commit a7a3669e4baa0260190b15dbfbb83b2ac4c07efa
Author: shuffman <shuffman@shuffman.local>
Date:   Wed Jul 2 20:33:59 2008 -0700

    cleared alt-text for thumbnails
    don't break when content-type isn't returned
    don't break on bad if-modified-since headers
    log failed image requests

commit bcca862eaaeeb4e5a739a9107f8ae073ef6a37b3
Author: shuffman <shuffman@shuffman.local>
Date:   Wed Jul 2 17:27:12 2008 -0700

    add media features

commit 7bf5fab1fa2fa07cc012c0570781aea23343ae05
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Jul 1 17:38:48 2008 -0700

    Bug #14, Duplicates in RSS
    
    Adds request.host to the cache key
    
    http://code.reddit.com/ticket/14

commit e31a313a47323eed7a6f468aabaa860d4298b3cd
Author: ketralnis <ketralnis@reddit.com>
Date:   Mon Jun 30 11:46:32 2008 -0700

    Bug 61, change password broken

commit 950971c65fb1a091263ea3b20ef1eb8196e99357
Author: shuffman <shuffman@shuffman.local>
Date:   Sat Jun 28 13:32:09 2008 -0700

        added last modified to profile/comment pages

commit 355277e672818f45393a7f10ac79b5ae6438ee90
Author: ketralnis <ketralnis@reddit.com>
Date:   Fri Jun 27 17:23:43 2008 -0700

    Don't show spam in search listings (also avoids adding spam to the search index at all, would could speed up solr)

commit 78ad7eb9a8be9d14dd4b232a5fd2b18a881ce7a7
Author: ketralnis <ketralnis@reddit.com>
Date:   Fri Jun 27 16:51:31 2008 -0700

    Patch from chromakode to add <a id=...> to links to authors and subreddits on listings for easier DOM parsing of these values
    
    http://code.reddit.com/ticket/53

commit 1c3cde4598a5cc216489c3e0d49a5fcbde86a500
Author: shuffman <shuffman@shuffman.local>
Date:   Thu Jun 26 13:58:05 2008 -0700

    fix issue with old comment pages that don't have sr_id's

commit c85295342a9164933c16429958f1134db5efcd01
Author: shuffman <shuffman@shuffman.local>
Date:   Thu Jun 26 13:28:56 2008 -0700

        fixed recover password

commit 622d11e1a8a07a1723b9812ad29886f5ed772ee7
Author: shuffman <shuffman@shuffman.local>
Date:   Thu Jun 26 13:28:39 2008 -0700

        update comment count after deleting a comment

commit 413fb20f0a0b79a0870863b2343d25d2d1ca35bc
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Jun 26 11:03:00 2008 -0700

    Fix padding on create-a-reddit page, and update language to reflect change in restricted permissions

commit df1ac1acb664fccdd14929942b423bc002856821
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Jun 26 10:49:03 2008 -0700

    Don't count karma for self-posts

commit 9b6c82efa820e8508c081195ab5cbd72bcb22461
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Jun 26 10:47:32 2008 -0700

    Allow commenting on restricted subreddits

commit db7efb21c424478eb5784f8eb5e6cf73e6616e58
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Jun 24 11:43:10 2008 -0700

    Add a listing of random articles, similar to serendipity, but because
    it's a listing, it can be pulled via RSS or JSON. Available at /randomrising

commit ef807ec94fd1136b7b9dcb171d0155edb6d48d46
Author: steve <steve@reddit.com>
Date:   Fri Jun 20 14:26:36 2008 -0400

        fix popular reddits, add new incremental query fn

commit 28504ac4f4cc5731ffefaa52feaac49257bbe177
Author: steve <steve@reddit.com>
Date:   Thu Jun 19 23:26:59 2008 -0400

    downgrade sqlalchemy requirement to 3.10

commit 7de8a6825606a54c580da358b6e8d4e8d2897559
Author: steve <steve@reddit.com>
Date:   Thu Jun 19 23:02:46 2008 -0400

    fix buffer issue in websafe filter

commit 0bf0e58956f2f0af66f5b45f4b2a3fa82d037a4f
Author: ketralnis <ketralnis@reddit.com>
Date:   Thu Jun 19 10:26:12 2008 -0700

    Chunk retrieval of Thing objects during search-database updates.
    
    Fixes an edge-case in running solrsearch.changed() after it's been
    down for a while, and may allow me to get more sleep in the future
    (at least until bug 1045, "This fragile human body requires sleep"
    is fixed)

commit ff19499eec73419bbeb3981ca8a0339fc4566537
Author: KeyserSosa <chris@reddit.com>
Date:   Wed Jun 18 06:42:47 2008 -0700

    Force sqlalchemy dependency to version 0.3.11, rather than the current base

commit 011a8996469d653df9449805d4eb57e276c3500c
Author: ketralnis <ketralnis@reddit.com>
Date:   Tue Jun 17 22:53:01 2008 -0700

    solrsearch.changed() should use SelfEmptyingCache to avoid thrashing swap after long pauses between runs

commit 8dc5955b87fe33de18304adc9c65b2b9d86b9831
Author: shuffman <shuffman@shuffman.local>
Date:   Tue Jun 17 21:43:15 2008 -0700

    probably should have learned how to use git sooner

commit 836f7b9cc89cc9fecf90f72b156abc7c44e35700
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jun 17 19:28:35 2008 -0700

    we don't use lighttpd anymore

commit 4778b17e939e119417cc5ec25b82c4e9a65621b2
Author: KeyserSosa <chris@reddit.com>
Date:   Tue Jun 17 19:00:27 2008 -0700

    initial checkin
